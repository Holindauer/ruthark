// Generated by Futhark 0.22.2
// git: 9550f97925171f7e89ea02048bd1e377114c87d0

// We need to define _GNU_SOURCE before
// _any_ headers files are imported to get
// the usage statistics of a thread (i.e. have RUSAGE_THREAD) on GNU/Linux
// https://manpages.courier-mta.org/htmlman2/getrusage.2.html
#ifndef _GNU_SOURCE // Avoid possible double-definition warning.
#define _GNU_SOURCE
#endif

#ifdef __clang__
#pragma clang diagnostic ignored "-Wunused-function"
#pragma clang diagnostic ignored "-Wunused-variable"
#pragma clang diagnostic ignored "-Wparentheses"
#pragma clang diagnostic ignored "-Wunused-label"
#elif __GNUC__
#pragma GCC diagnostic ignored "-Wunused-function"
#pragma GCC diagnostic ignored "-Wunused-variable"
#pragma GCC diagnostic ignored "-Wparentheses"
#pragma GCC diagnostic ignored "-Wunused-label"
#pragma GCC diagnostic ignored "-Wunused-but-set-variable"
#endif

// Headers
#include <stdint.h>
#include <stddef.h>
#include <stdbool.h>
#include <stdio.h>
#include <float.h>

#ifdef __cplusplus
extern "C" {
#endif

// Initialisation
struct futhark_context_config;
struct futhark_context_config *futhark_context_config_new(void);
void futhark_context_config_free(struct futhark_context_config *cfg);
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int flag);
void futhark_context_config_set_num_threads(struct futhark_context_config *cfg, int n);
struct futhark_context;
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg);
void futhark_context_free(struct futhark_context *ctx);
int futhark_context_sync(struct futhark_context *ctx);
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t param_value);
int futhark_get_tuning_param_count(void);
const char *futhark_get_tuning_param_name(int);
const char *futhark_get_tuning_param_class(int);

// Arrays
struct futhark_i32_2d;
struct futhark_i32_2d *futhark_new_i32_2d(struct futhark_context *ctx, const int32_t *data, int64_t dim0, int64_t dim1);
struct futhark_i32_2d *futhark_new_raw_i32_2d(struct futhark_context *ctx, const unsigned char *data, int64_t offset, int64_t dim0, int64_t dim1);
int futhark_free_i32_2d(struct futhark_context *ctx, struct futhark_i32_2d *arr);
int futhark_values_i32_2d(struct futhark_context *ctx, struct futhark_i32_2d *arr, int32_t *data);
unsigned char *futhark_values_raw_i32_2d(struct futhark_context *ctx, struct futhark_i32_2d *arr);
const int64_t *futhark_shape_i32_2d(struct futhark_context *ctx, struct futhark_i32_2d *arr);
struct futhark_u64_2d;
struct futhark_u64_2d *futhark_new_u64_2d(struct futhark_context *ctx, const uint64_t *data, int64_t dim0, int64_t dim1);
struct futhark_u64_2d *futhark_new_raw_u64_2d(struct futhark_context *ctx, const unsigned char *data, int64_t offset, int64_t dim0, int64_t dim1);
int futhark_free_u64_2d(struct futhark_context *ctx, struct futhark_u64_2d *arr);
int futhark_values_u64_2d(struct futhark_context *ctx, struct futhark_u64_2d *arr, uint64_t *data);
unsigned char *futhark_values_raw_u64_2d(struct futhark_context *ctx, struct futhark_u64_2d *arr);
const int64_t *futhark_shape_u64_2d(struct futhark_context *ctx, struct futhark_u64_2d *arr);
struct futhark_u64_3d;
struct futhark_u64_3d *futhark_new_u64_3d(struct futhark_context *ctx, const uint64_t *data, int64_t dim0, int64_t dim1, int64_t dim2);
struct futhark_u64_3d *futhark_new_raw_u64_3d(struct futhark_context *ctx, const unsigned char *data, int64_t offset, int64_t dim0, int64_t dim1, int64_t dim2);
int futhark_free_u64_3d(struct futhark_context *ctx, struct futhark_u64_3d *arr);
int futhark_values_u64_3d(struct futhark_context *ctx, struct futhark_u64_3d *arr, uint64_t *data);
unsigned char *futhark_values_raw_u64_3d(struct futhark_context *ctx, struct futhark_u64_3d *arr);
const int64_t *futhark_shape_u64_3d(struct futhark_context *ctx, struct futhark_u64_3d *arr);

// Opaque values



// Entry points
int futhark_entry_make_transposed_quotient_codewords_non_opaque(struct futhark_context *ctx, struct futhark_u64_3d **out0, const struct futhark_u64_2d *in0, const struct futhark_u64_3d *in1, const struct futhark_u64_3d *in2, const struct futhark_u64_3d *in3);
int futhark_entry_matmul(struct futhark_context *ctx, struct futhark_i32_2d **out0, const struct futhark_i32_2d *in0, const struct futhark_i32_2d *in1);

// Miscellaneous
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f);
char *futhark_context_report(struct futhark_context *ctx);
char *futhark_context_get_error(struct futhark_context *ctx);
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f);
void futhark_context_pause_profiling(struct futhark_context *ctx);
void futhark_context_unpause_profiling(struct futhark_context *ctx);
int futhark_context_clear_caches(struct futhark_context *ctx);
#define FUTHARK_BACKEND_ispc
#define FUTHARK_SUCCESS 0
#define FUTHARK_PROGRAM_ERROR 2
#define FUTHARK_OUT_OF_MEMORY 3

#ifdef __cplusplus
}
#endif

#include <stdio.h>
#include <stdlib.h>
#include <stdbool.h>
#include <math.h>
#include <stdint.h>
// If NDEBUG is set, the assert() macro will do nothing. Since Futhark
// (unfortunately) makes use of assert() for error detection (and even some
// side effects), we want to avoid that.
#undef NDEBUG
#include <assert.h>
#include <stdarg.h>
// Start of util.h.
//
// Various helper functions that are useful in all generated C code.

#include <errno.h>
#include <string.h>

static const char *fut_progname = "(embedded Futhark)";

static void futhark_panic(int eval, const char *fmt, ...) __attribute__((noreturn));
static char* msgprintf(const char *s, ...);
static void* slurp_file(const char *filename, size_t *size);
static int dump_file(const char *file, const void *buf, size_t n);
struct str_builder;
static void str_builder_init(struct str_builder *b);
static void str_builder(struct str_builder *b, const char *s, ...);

static void futhark_panic(int eval, const char *fmt, ...) {
  va_list ap;
  va_start(ap, fmt);
  fprintf(stderr, "%s: ", fut_progname);
  vfprintf(stderr, fmt, ap);
  va_end(ap);
  exit(eval);
}

// For generating arbitrary-sized error messages.  It is the callers
// responsibility to free the buffer at some point.
static char* msgprintf(const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = 1 + (size_t)vsnprintf(NULL, 0, s, vl);
  char *buffer = (char*) malloc(needed);
  va_start(vl, s); // Must re-init.
  vsnprintf(buffer, needed, s, vl);
  return buffer;
}

static inline void check_err(int errval, int sets_errno, const char *fun, int line,
                             const char *msg, ...) {
  if (errval) {
    char errnum[10];

    va_list vl;
    va_start(vl, msg);

    fprintf(stderr, "ERROR: ");
    vfprintf(stderr, msg, vl);
    fprintf(stderr, " in %s() at line %d with error code %s\n",
            fun, line,
            sets_errno ? strerror(errno) : errnum);
    exit(errval);
  }
}

#define CHECK_ERR(err, ...) check_err(err, 0, __func__, __LINE__, __VA_ARGS__)
#define CHECK_ERRNO(err, ...) check_err(err, 1, __func__, __LINE__, __VA_ARGS__)

// Read the rest of an open file into a NUL-terminated string; returns
// NULL on error.
static void* fslurp_file(FILE *f, size_t *size) {
  long start = ftell(f);
  fseek(f, 0, SEEK_END);
  long src_size = ftell(f)-start;
  fseek(f, start, SEEK_SET);
  unsigned char *s = (unsigned char*) malloc((size_t)src_size + 1);
  if (fread(s, 1, (size_t)src_size, f) != (size_t)src_size) {
    free(s);
    s = NULL;
  } else {
    s[src_size] = '\0';
  }

  if (size) {
    *size = (size_t)src_size;
  }

  return s;
}

// Read a file into a NUL-terminated string; returns NULL on error.
static void* slurp_file(const char *filename, size_t *size) {
  FILE *f = fopen(filename, "rb"); // To avoid Windows messing with linebreaks.
  if (f == NULL) return NULL;
  unsigned char *s = fslurp_file(f, size);
  fclose(f);
  return s;
}

// Dump 'n' bytes from 'buf' into the file at the designated location.
// Returns 0 on success.
static int dump_file(const char *file, const void *buf, size_t n) {
  FILE *f = fopen(file, "w");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(buf, sizeof(char), n, f) != n) {
    return 1;
  }

  if (fclose(f) != 0) {
    return 1;
  }

  return 0;
}

struct str_builder {
  char *str;
  size_t capacity; // Size of buffer.
  size_t used; // Bytes used, *not* including final zero.
};

static void str_builder_init(struct str_builder *b) {
  b->capacity = 10;
  b->used = 0;
  b->str = malloc(b->capacity);
  b->str[0] = 0;
}

static void str_builder(struct str_builder *b, const char *s, ...) {
  va_list vl;
  va_start(vl, s);
  size_t needed = (size_t)vsnprintf(NULL, 0, s, vl);

  while (b->capacity < b->used + needed + 1) {
    b->capacity *= 2;
    b->str = realloc(b->str, b->capacity);
  }

  va_start(vl, s); // Must re-init.
  vsnprintf(b->str+b->used, b->capacity-b->used, s, vl);
  b->used += needed;
}

// End of util.h.
// Start of cache.h

#define CACHE_HASH_SIZE 8 // In 32-bit words.

struct cache_hash {
  uint32_t hash[CACHE_HASH_SIZE];
};

// Initialise a blank cache.
static void cache_hash_init(struct cache_hash *c);

// Hash some bytes and add them to the accumulated hash.
static void cache_hash(struct cache_hash *out, const char *in, size_t n);

// Try to restore cache contents from a file with the given name.
// Assumes the cache is invalid if it contains the given hash.
// Allocates memory and reads the cache conents, which is returned in
// *buf with size *buflen.  If the cache is successfully loaded, this
// function returns 0.  Otherwise it returns nonzero.  Errno is set if
// the failure to load the cache is due to anything except invalid
// cache conents.  Note that failing to restore the cache is not
// necessarily a problem: it might just be invalid or not created yet.
static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen);

// Store cache contents in the given file, with the given hash.
static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen);

// Now for the implementation.

static void cache_hash_init(struct cache_hash *c) {
  memset(c->hash, 0, CACHE_HASH_SIZE * sizeof(uint32_t));
}

static void cache_hash(struct cache_hash *out, const char *in, size_t n) {
  // Adaptation of djb2 for larger output size by storing intermediate
  // states.
  uint32_t hash = 5381;
  for (size_t i = 0; i < n; i++) {
    hash = ((hash << 5) + hash) + in[i];
    out->hash[i % CACHE_HASH_SIZE] ^= hash;
  }
}

#define CACHE_HEADER_SIZE 8
static const char cache_header[CACHE_HEADER_SIZE] = "FUTHARK\0";

static int cache_restore(const char *fname, const struct cache_hash *hash,
                         unsigned char **buf, size_t *buflen) {
  FILE *f = fopen(fname, "rb");

  if (f == NULL) {
    return 1;
  }

  char f_header[CACHE_HEADER_SIZE];

  if (fread(f_header, sizeof(char), CACHE_HEADER_SIZE, f) != CACHE_HEADER_SIZE) {
    goto error;
  }

  if (memcmp(f_header, cache_header, CACHE_HEADER_SIZE) != 0) {
    goto error;
  }

  if (fseek(f, 0, SEEK_END) != 0) {
    goto error;
  }
  int64_t f_size = (int64_t)ftell(f);
  if (fseek(f, CACHE_HEADER_SIZE, SEEK_SET) != 0) {
    goto error;
  }

  int64_t expected_size;

  if (fread(&expected_size, sizeof(int64_t), 1, f) != 1) {
    goto error;
  }

  if (f_size != expected_size) {
    errno = 0;
    goto error;
  }

  int32_t f_hash[CACHE_HASH_SIZE];

  if (fread(f_hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (memcmp(f_hash, hash->hash, CACHE_HASH_SIZE) != 0) {
    errno = 0;
    goto error;
  }

  *buflen = f_size - CACHE_HEADER_SIZE - sizeof(int64_t) - CACHE_HASH_SIZE*sizeof(int32_t);
  *buf = malloc(*buflen);
  if (fread(*buf, sizeof(char), *buflen, f) != *buflen) {
    free(*buf);
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

static int cache_store(const char *fname, const struct cache_hash *hash,
                       const unsigned char *buf, size_t buflen) {
  FILE *f = fopen(fname, "wb");

  if (f == NULL) {
    return 1;
  }

  if (fwrite(cache_header, CACHE_HEADER_SIZE, 1, f) != 1) {
    goto error;
  }

  int64_t size = CACHE_HEADER_SIZE + sizeof(int64_t) + CACHE_HASH_SIZE*sizeof(int32_t) + buflen;

  if (fwrite(&size, sizeof(size), 1, f) != 1) {
    goto error;
  }

  if (fwrite(hash->hash, sizeof(int32_t), CACHE_HASH_SIZE, f) != CACHE_HASH_SIZE) {
    goto error;
  }

  if (fwrite(buf, sizeof(unsigned char), buflen, f) != buflen) {
    goto error;
  }

  fclose(f);

  return 0;

 error:
  fclose(f);
  return 1;
}

// End of cache.h
// Start of half.h.

// Conversion functions are from http://half.sourceforge.net/, but
// translated to C.
//
// Copyright (c) 2012-2021 Christian Rau
//
// Permission is hereby granted, free of charge, to any person obtaining a copy
// of this software and associated documentation files (the "Software"), to deal
// in the Software without restriction, including without limitation the rights
// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
// copies of the Software, and to permit persons to whom the Software is
// furnished to do so, subject to the following conditions:
//
// The above copyright notice and this permission notice shall be included in
// all copies or substantial portions of the Software.
//
// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
// THE SOFTWARE.

#ifndef __OPENCL_VERSION__
#define __constant
#endif

__constant static const uint16_t base_table[512] = {
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,
  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,
  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,
  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,
  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,
  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,
  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };

__constant static const unsigned char shift_table[512] = {
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,
  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };

__constant static const uint32_t mantissa_table[2048] = {
  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,
  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,
  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,
  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,
  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,
  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA0000, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,
  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,
  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,
  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,
  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,
  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,
  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,
  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,
  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,
  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,
  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A0000, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,
  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,
  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,
  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,
  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,
  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,
  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,
  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,
  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,
  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,
  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF8000,
  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,
  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,
  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,
  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,
  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,
  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,
  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,
  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,
  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,
  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,
  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x38110000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,
  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,
  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,
  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,
  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,
  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,
  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,
  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,
  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,
  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,
  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,
  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,
  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,
  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,
  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,
  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,
  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,
  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,
  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,
  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,
  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x38638000, 0x3863C000,
  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,
  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,
  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,
  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,
  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,
  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,
  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,
  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,
  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,
  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,
  0x38060000, 0x38062000, 0x38064000, 0x38066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,
  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,
  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,
  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,
  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,
  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,
  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,
  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,
  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,
  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,
  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x381B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,
  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,
  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,
  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,
  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,
  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,
  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,
  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,
  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,
  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,
  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x382FA000, 0x382FC000, 0x382FE000,
  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,
  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,
  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,
  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,
  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,
  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,
  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,
  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,
  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,
  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,
  0x38440000, 0x38442000, 0x38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,
  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,
  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,
  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,
  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,
  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,
  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,
  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,
  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,
  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,
  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,
  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,
  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,
  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,
  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,
  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,
  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,
  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,
  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,
  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,
  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x386D8000, 0x386DA000, 0x386DC000, 0x386DE000,
  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,
  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,
  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,
  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,
  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,
  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,
  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,
  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,
  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };
__constant static const uint32_t exponent_table[64] = {
  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06000000, 0x06800000, 0x07000000, 0x07800000,
  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,
  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,
  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };
__constant static const unsigned short offset_table[64] = {
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,
  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };

static uint16_t float2halfbits(float value) {
  union { float x; uint32_t y; } u;
  u.x = value;
  uint32_t bits = u.y;

  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;

  return hbits;
}

static float halfbits2float(uint16_t value) {
  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];

  union { uint32_t x; float y; } u;
  u.x = bits;
  return u.y;
}

static uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {
  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;
  if(fabs > 0x7C00 || tabs > 0x7C00) {
    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);
  }
  if(from == to || !(fabs|tabs)) {
    return to;
  }
  if(!fabs) {
    return (to&0x8000)+1;
  }
  unsigned int out =
    from +
    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)
    - 1;
  return out;
}

// End of half.h.
// Start of timing.h.

// The function get_wall_time() returns the wall time in microseconds
// (with an unspecified offset).

#ifdef _WIN32

#include <windows.h>

static int64_t get_wall_time(void) {
  LARGE_INTEGER time,freq;
  assert(QueryPerformanceFrequency(&freq));
  assert(QueryPerformanceCounter(&time));
  return ((double)time.QuadPart / freq.QuadPart) * 1000000;
}

#else
// Assuming POSIX

#include <time.h>
#include <sys/time.h>

static int64_t get_wall_time(void) {
  struct timeval time;
  assert(gettimeofday(&time,NULL) == 0);
  return time.tv_sec * 1000000 + time.tv_usec;
}

static int64_t get_wall_time_ns(void) {
  struct timespec time;
  assert(clock_gettime(CLOCK_REALTIME, &time) == 0);
  return time.tv_sec * 1000000000 + time.tv_nsec;
}

#endif

// End of timing.h.

#ifdef _MSC_VER
#define inline __inline
#endif
#include <string.h>
#include <string.h>
#include <errno.h>
#include <assert.h>
#include <ctype.h>



// Start of lock.h.

// A very simple cross-platform implementation of locks.  Uses
// pthreads on Unix and some Windows thing there.  Futhark's
// host-level code is not multithreaded, but user code may be, so we
// need some mechanism for ensuring atomic access to API functions.
// This is that mechanism.  It is not exposed to user code at all, so
// we do not have to worry about name collisions.

#ifdef _WIN32

typedef HANDLE lock_t;

static void create_lock(lock_t *lock) {
  *lock = CreateMutex(NULL,  // Default security attributes.
                      FALSE, // Initially unlocked.
                      NULL); // Unnamed.
}

static void lock_lock(lock_t *lock) {
  assert(WaitForSingleObject(*lock, INFINITE) == WAIT_OBJECT_0);
}

static void lock_unlock(lock_t *lock) {
  assert(ReleaseMutex(*lock));
}

static void free_lock(lock_t *lock) {
  CloseHandle(*lock);
}

#else
// Assuming POSIX

#include <pthread.h>

typedef pthread_mutex_t lock_t;

static void create_lock(lock_t *lock) {
  int r = pthread_mutex_init(lock, NULL);
  assert(r == 0);
}

static void lock_lock(lock_t *lock) {
  int r = pthread_mutex_lock(lock);
  assert(r == 0);
}

static void lock_unlock(lock_t *lock) {
  int r = pthread_mutex_unlock(lock);
  assert(r == 0);
}

static void free_lock(lock_t *lock) {
  // Nothing to do for pthreads.
  (void)lock;
}

#endif

// End of lock.h.

#define FUTHARK_F64_ENABLED

// Start of scalar.h.

// Implementation of the primitive scalar operations.  Very
// repetitive.  This code is inserted directly into both CUDA and
// OpenCL programs, as well as the CPU code, so it has some #ifdefs to
// work everywhere.  Some operations are defined as macros because
// this allows us to use them as constant expressions in things like
// array sizes and static initialisers.

// Some of the #ifdefs are because OpenCL uses type-generic functions
// for some operations (e.g. sqrt), while C and CUDA sensibly use
// distinct functions for different precisions (e.g. sqrtf() and
// sqrt()).  This is quite annoying.  Due to C's unfortunate casting
// rules, it is also really easy to accidentally implement
// floating-point functions in the wrong precision, so be careful.

// Double-precision definitions are only included if the preprocessor
// macro FUTHARK_F64_ENABLED is set.

static inline uint8_t add8(uint8_t x, uint8_t y) {
  return x + y;
}

static inline uint16_t add16(uint16_t x, uint16_t y) {
  return x + y;
}

static inline uint32_t add32(uint32_t x, uint32_t y) {
  return x + y;
}

static inline uint64_t add64(uint64_t x, uint64_t y) {
  return x + y;
}

static inline uint8_t sub8(uint8_t x, uint8_t y) {
  return x - y;
}

static inline uint16_t sub16(uint16_t x, uint16_t y) {
  return x - y;
}

static inline uint32_t sub32(uint32_t x, uint32_t y) {
  return x - y;
}

static inline uint64_t sub64(uint64_t x, uint64_t y) {
  return x - y;
}

static inline uint8_t mul8(uint8_t x, uint8_t y) {
  return x * y;
}

static inline uint16_t mul16(uint16_t x, uint16_t y) {
  return x * y;
}

static inline uint32_t mul32(uint32_t x, uint32_t y) {
  return x * y;
}

static inline uint64_t mul64(uint64_t x, uint64_t y) {
  return x * y;
}

#if ISPC

static inline uint8_t udiv8(uint8_t x, uint8_t y) {
  // This strange pattern is used to prevent the ISPC compiler from
  // causing SIGFPEs and bogus results on divisions where inactive lanes
  // have 0-valued divisors. It ensures that any inactive lane instead
  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }

  return x / ys;
}

static inline uint16_t udiv16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline uint32_t udiv32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  

  return x / ys;
}

static inline uint64_t udiv64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  

  return x / ys;
}

static inline uint8_t udiv_up8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  

  return (x + y - 1) / ys;
}

static inline uint16_t udiv_up16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return (x + y - 1) / ys;
}

static inline uint32_t udiv_up32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return (x + y - 1) / ys;
}

static inline uint64_t udiv_up64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return (x + y - 1) / ys;
}

static inline uint8_t umod8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline uint16_t umod16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  

  return x % ys;
}

static inline uint32_t umod32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline uint64_t umod64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : (x + y - 1) / ys;
}

static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : (x + y - 1) / ys;
}

static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : (x + y - 1) / ys;
}

static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : (x + y - 1) / ys;
}

static inline uint8_t umod_safe8(uint8_t x, uint8_t y) {
  uint8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline uint16_t umod_safe16(uint16_t x, uint16_t y) {
  uint16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline uint32_t umod_safe32(uint32_t x, uint32_t y) {
  uint32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline uint64_t umod_safe64(uint64_t x, uint64_t y) {
  uint64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline int8_t sdiv8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int8_t q = x / ys;
  int8_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int16_t sdiv16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int16_t q = x / ys;
  int16_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int32_t sdiv32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  int32_t q = x / ys;
  int32_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int64_t sdiv64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int64_t q = x / ys;
  int64_t r = x % ys;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

static inline int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

static inline int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

static inline int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

static inline int8_t smod8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int8_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int16_t smod16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int16_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int32_t smod32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int32_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int64_t smod64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  int64_t r = x % ys;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

static inline int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

static inline int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

static inline int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

static inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

static inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

static inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

static inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

static inline int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

static inline int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

static inline int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

static inline int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

static inline int8_t squot8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline int16_t squot16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline int32_t squot32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline int64_t squot64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x / ys;
}

static inline int8_t srem8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline int16_t srem16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline int32_t srem32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline int64_t srem64(int64_t x, int64_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return x % ys;
}

static inline int8_t squot_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline int16_t squot_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline int32_t squot_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline int64_t squot_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x / ys;
}

static inline int8_t srem_safe8(int8_t x, int8_t y) {
  int8_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline int16_t srem_safe16(int16_t x, int16_t y) {
  int16_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline int32_t srem_safe32(int32_t x, int32_t y) {
  int32_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

static inline int64_t srem_safe64(int64_t x, int64_t y) {
  int64_t ys = 1;
  foreach_active(i){
    ys = y;
  }
  
  return y == 0 ? 0 : x % ys;
}

#else

static inline uint8_t udiv8(uint8_t x, uint8_t y) {
  return x / y;
}

static inline uint16_t udiv16(uint16_t x, uint16_t y) {
  return x / y;
}

static inline uint32_t udiv32(uint32_t x, uint32_t y) {
  return x / y;
}

static inline uint64_t udiv64(uint64_t x, uint64_t y) {
  return x / y;
}

static inline uint8_t udiv_up8(uint8_t x, uint8_t y) {
  return (x + y - 1) / y;
}

static inline uint16_t udiv_up16(uint16_t x, uint16_t y) {
  return (x + y - 1) / y;
}

static inline uint32_t udiv_up32(uint32_t x, uint32_t y) {
  return (x + y - 1) / y;
}

static inline uint64_t udiv_up64(uint64_t x, uint64_t y) {
  return (x + y - 1) / y;
}

static inline uint8_t umod8(uint8_t x, uint8_t y) {
  return x % y;
}

static inline uint16_t umod16(uint16_t x, uint16_t y) {
  return x % y;
}

static inline uint32_t umod32(uint32_t x, uint32_t y) {
  return x % y;
}

static inline uint64_t umod64(uint64_t x, uint64_t y) {
  return x % y;
}

static inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : (x + y - 1) / y;
}

static inline uint8_t umod_safe8(uint8_t x, uint8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint16_t umod_safe16(uint16_t x, uint16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint32_t umod_safe32(uint32_t x, uint32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline uint64_t umod_safe64(uint64_t x, uint64_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int8_t sdiv8(int8_t x, int8_t y) {
  int8_t q = x / y;
  int8_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int16_t sdiv16(int16_t x, int16_t y) {
  int16_t q = x / y;
  int16_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int32_t sdiv32(int32_t x, int32_t y) {
  int32_t q = x / y;
  int32_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int64_t sdiv64(int64_t x, int64_t y) {
  int64_t q = x / y;
  int64_t r = x % y;

  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);
}

static inline int8_t sdiv_up8(int8_t x, int8_t y) {
  return sdiv8(x + y - 1, y);
}

static inline int16_t sdiv_up16(int16_t x, int16_t y) {
  return sdiv16(x + y - 1, y);
}

static inline int32_t sdiv_up32(int32_t x, int32_t y) {
  return sdiv32(x + y - 1, y);
}

static inline int64_t sdiv_up64(int64_t x, int64_t y) {
  return sdiv64(x + y - 1, y);
}

static inline int8_t smod8(int8_t x, int8_t y) {
  int8_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int16_t smod16(int16_t x, int16_t y) {
  int16_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int32_t smod32(int32_t x, int32_t y) {
  int32_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int64_t smod64(int64_t x, int64_t y) {
  int64_t r = x % y;

  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);
}

static inline int8_t sdiv_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : sdiv8(x, y);
}

static inline int16_t sdiv_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : sdiv16(x, y);
}

static inline int32_t sdiv_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : sdiv32(x, y);
}

static inline int64_t sdiv_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : sdiv64(x, y);
}

static inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {
  return sdiv_safe8(x + y - 1, y);
}

static inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {
  return sdiv_safe16(x + y - 1, y);
}

static inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {
  return sdiv_safe32(x + y - 1, y);
}

static inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {
  return sdiv_safe64(x + y - 1, y);
}

static inline int8_t smod_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : smod8(x, y);
}

static inline int16_t smod_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : smod16(x, y);
}

static inline int32_t smod_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : smod32(x, y);
}

static inline int64_t smod_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : smod64(x, y);
}

static inline int8_t squot8(int8_t x, int8_t y) {
  return x / y;
}

static inline int16_t squot16(int16_t x, int16_t y) {
  return x / y;
}

static inline int32_t squot32(int32_t x, int32_t y) {
  return x / y;
}

static inline int64_t squot64(int64_t x, int64_t y) {
  return x / y;
}

static inline int8_t srem8(int8_t x, int8_t y) {
  return x % y;
}

static inline int16_t srem16(int16_t x, int16_t y) {
  return x % y;
}

static inline int32_t srem32(int32_t x, int32_t y) {
  return x % y;
}

static inline int64_t srem64(int64_t x, int64_t y) {
  return x % y;
}

static inline int8_t squot_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int16_t squot_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int32_t squot_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int64_t squot_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x / y;
}

static inline int8_t srem_safe8(int8_t x, int8_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int16_t srem_safe16(int16_t x, int16_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int32_t srem_safe32(int32_t x, int32_t y) {
  return y == 0 ? 0 : x % y;
}

static inline int64_t srem_safe64(int64_t x, int64_t y) {
  return y == 0 ? 0 : x % y;
}

#endif

static inline int8_t smin8(int8_t x, int8_t y) {
  return x < y ? x : y;
}

static inline int16_t smin16(int16_t x, int16_t y) {
  return x < y ? x : y;
}

static inline int32_t smin32(int32_t x, int32_t y) {
  return x < y ? x : y;
}

static inline int64_t smin64(int64_t x, int64_t y) {
  return x < y ? x : y;
}

static inline uint8_t umin8(uint8_t x, uint8_t y) {
  return x < y ? x : y;
}

static inline uint16_t umin16(uint16_t x, uint16_t y) {
  return x < y ? x : y;
}

static inline uint32_t umin32(uint32_t x, uint32_t y) {
  return x < y ? x : y;
}

static inline uint64_t umin64(uint64_t x, uint64_t y) {
  return x < y ? x : y;
}

static inline int8_t smax8(int8_t x, int8_t y) {
  return x < y ? y : x;
}

static inline int16_t smax16(int16_t x, int16_t y) {
  return x < y ? y : x;
}

static inline int32_t smax32(int32_t x, int32_t y) {
  return x < y ? y : x;
}

static inline int64_t smax64(int64_t x, int64_t y) {
  return x < y ? y : x;
}

static inline uint8_t umax8(uint8_t x, uint8_t y) {
  return x < y ? y : x;
}

static inline uint16_t umax16(uint16_t x, uint16_t y) {
  return x < y ? y : x;
}

static inline uint32_t umax32(uint32_t x, uint32_t y) {
  return x < y ? y : x;
}

static inline uint64_t umax64(uint64_t x, uint64_t y) {
  return x < y ? y : x;
}

static inline uint8_t shl8(uint8_t x, uint8_t y) {
  return (uint8_t)(x << y);
}

static inline uint16_t shl16(uint16_t x, uint16_t y) {
  return (uint16_t)(x << y);
}

static inline uint32_t shl32(uint32_t x, uint32_t y) {
  return x << y;
}

static inline uint64_t shl64(uint64_t x, uint64_t y) {
  return x << y;
}

static inline uint8_t lshr8(uint8_t x, uint8_t y) {
  return x >> y;
}

static inline uint16_t lshr16(uint16_t x, uint16_t y) {
  return x >> y;
}

static inline uint32_t lshr32(uint32_t x, uint32_t y) {
  return x >> y;
}

static inline uint64_t lshr64(uint64_t x, uint64_t y) {
  return x >> y;
}

static inline int8_t ashr8(int8_t x, int8_t y) {
  return x >> y;
}

static inline int16_t ashr16(int16_t x, int16_t y) {
  return x >> y;
}

static inline int32_t ashr32(int32_t x, int32_t y) {
  return x >> y;
}

static inline int64_t ashr64(int64_t x, int64_t y) {
  return x >> y;
}

static inline uint8_t and8(uint8_t x, uint8_t y) {
  return x & y;
}

static inline uint16_t and16(uint16_t x, uint16_t y) {
  return x & y;
}

static inline uint32_t and32(uint32_t x, uint32_t y) {
  return x & y;
}

static inline uint64_t and64(uint64_t x, uint64_t y) {
  return x & y;
}

static inline uint8_t or8(uint8_t x, uint8_t y) {
  return x | y;
}

static inline uint16_t or16(uint16_t x, uint16_t y) {
  return x | y;
}

static inline uint32_t or32(uint32_t x, uint32_t y) {
  return x | y;
}

static inline uint64_t or64(uint64_t x, uint64_t y) {
  return x | y;
}

static inline uint8_t xor8(uint8_t x, uint8_t y) {
  return x ^ y;
}

static inline uint16_t xor16(uint16_t x, uint16_t y) {
  return x ^ y;
}

static inline uint32_t xor32(uint32_t x, uint32_t y) {
  return x ^ y;
}

static inline uint64_t xor64(uint64_t x, uint64_t y) {
  return x ^ y;
}

static inline bool ult8(uint8_t x, uint8_t y) {
  return x < y;
}

static inline bool ult16(uint16_t x, uint16_t y) {
  return x < y;
}

static inline bool ult32(uint32_t x, uint32_t y) {
  return x < y;
}

static inline bool ult64(uint64_t x, uint64_t y) {
  return x < y;
}

static inline bool ule8(uint8_t x, uint8_t y) {
  return x <= y;
}

static inline bool ule16(uint16_t x, uint16_t y) {
  return x <= y;
}

static inline bool ule32(uint32_t x, uint32_t y) {
  return x <= y;
}

static inline bool ule64(uint64_t x, uint64_t y) {
  return x <= y;
}

static inline bool slt8(int8_t x, int8_t y) {
  return x < y;
}

static inline bool slt16(int16_t x, int16_t y) {
  return x < y;
}

static inline bool slt32(int32_t x, int32_t y) {
  return x < y;
}

static inline bool slt64(int64_t x, int64_t y) {
  return x < y;
}

static inline bool sle8(int8_t x, int8_t y) {
  return x <= y;
}

static inline bool sle16(int16_t x, int16_t y) {
  return x <= y;
}

static inline bool sle32(int32_t x, int32_t y) {
  return x <= y;
}

static inline bool sle64(int64_t x, int64_t y) {
  return x <= y;
}

static inline uint8_t pow8(uint8_t x, uint8_t y) {
  uint8_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint16_t pow16(uint16_t x, uint16_t y) {
  uint16_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint32_t pow32(uint32_t x, uint32_t y) {
  uint32_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline uint64_t pow64(uint64_t x, uint64_t y) {
  uint64_t res = 1, rem = y;

  while (rem != 0) {
    if (rem & 1)
      res *= x;
    rem >>= 1;
    x *= x;
  }
  return res;
}

static inline bool itob_i8_bool(int8_t x) {
  return x != 0;
}

static inline bool itob_i16_bool(int16_t x) {
  return x != 0;
}

static inline bool itob_i32_bool(int32_t x) {
  return x != 0;
}

static inline bool itob_i64_bool(int64_t x) {
  return x != 0;
}

static inline int8_t btoi_bool_i8(bool x) {
  return x;
}

static inline int16_t btoi_bool_i16(bool x) {
  return x;
}

static inline int32_t btoi_bool_i32(bool x) {
  return x;
}

static inline int64_t btoi_bool_i64(bool x) {
  return x;
}

#define sext_i8_i8(x) ((int8_t) (int8_t) (x))
#define sext_i8_i16(x) ((int16_t) (int8_t) (x))
#define sext_i8_i32(x) ((int32_t) (int8_t) (x))
#define sext_i8_i64(x) ((int64_t) (int8_t) (x))
#define sext_i16_i8(x) ((int8_t) (int16_t) (x))
#define sext_i16_i16(x) ((int16_t) (int16_t) (x))
#define sext_i16_i32(x) ((int32_t) (int16_t) (x))
#define sext_i16_i64(x) ((int64_t) (int16_t) (x))
#define sext_i32_i8(x) ((int8_t) (int32_t) (x))
#define sext_i32_i16(x) ((int16_t) (int32_t) (x))
#define sext_i32_i32(x) ((int32_t) (int32_t) (x))
#define sext_i32_i64(x) ((int64_t) (int32_t) (x))
#define sext_i64_i8(x) ((int8_t) (int64_t) (x))
#define sext_i64_i16(x) ((int16_t) (int64_t) (x))
#define sext_i64_i32(x) ((int32_t) (int64_t) (x))
#define sext_i64_i64(x) ((int64_t) (int64_t) (x))
#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))
#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))
#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))
#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))
#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))
#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))
#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))
#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))
#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))
#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))
#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))
#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))
#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))
#define zext_i64_i16(x) ((int16_t) (uint64_t) (x))
#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))
#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))

static int8_t abs8(int8_t x) {
  return (int8_t)abs(x);
}

static int16_t abs16(int16_t x) {
  return (int16_t)abs(x);
}

static int32_t abs32(int32_t x) {
  return abs(x);
}

static int64_t abs64(int64_t x) {
#if defined(__OPENCL_VERSION__) || defined(ISPC)
  return abs(x);
#else
  return llabs(x);
#endif
}

#if defined(__OPENCL_VERSION__)
static int32_t futrts_popc8(int8_t x) {
  return popcount(x);
}

static int32_t futrts_popc16(int16_t x) {
  return popcount(x);
}

static int32_t futrts_popc32(int32_t x) {
  return popcount(x);
}

static int32_t futrts_popc64(int64_t x) {
  return popcount(x);
}
#elif defined(__CUDA_ARCH__)

static int32_t futrts_popc8(int8_t x) {
  return __popc(zext_i8_i32(x));
}

static int32_t futrts_popc16(int16_t x) {
  return __popc(zext_i16_i32(x));
}

static int32_t futrts_popc32(int32_t x) {
  return __popc(x);
}

static int32_t futrts_popc64(int64_t x) {
  return __popcll(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_popc8(uint8_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc16(uint16_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc32(uint32_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}

static int32_t futrts_popc64(uint64_t x) {
  int c = 0;
  for (; x; ++c) { x &= x - 1; }
  return c;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  return mul_hi(a, b);
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  return mul_hi(a, b);
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mul_hi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul_hi(a, b);
}

#elif defined(__CUDA_ARCH__)

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  return mulhi(a, b);
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  return mul64hi(a, b);
}

#elif ISPC

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  uint64_t aa = a;
  uint64_t bb = b;

  return aa * bb >> 32;
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  uint64_t ah = a >> 32;
  uint64_t al = a & 0xffffffff;
  uint64_t bh = b >> 32;
  uint64_t bl = b & 0xffffffff;

  uint64_t p1 = al * bl;
  uint64_t p2 = al * bh;
  uint64_t p3 = ah * bl;
  uint64_t p4 = ah * bh;

  uint64_t p1h = p1 >> 32;
  uint64_t p2h = p2 >> 32;
  uint64_t p3h = p3 >> 32;
  uint64_t p2l = p2 & 0xffffffff;
  uint64_t p3l = p3 & 0xffffffff;

  uint64_t l = p1h + p2l  + p3l;
  uint64_t m = (p2 >> 32) + (p3 >> 32);
  uint64_t h = (l >> 32) + m + p4;

  return h;
}

#else // Not OpenCL, ISPC, or CUDA, but plain C.

static uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {
  uint16_t aa = a;
  uint16_t bb = b;

  return aa * bb >> 8;
}

static uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {
  uint32_t aa = a;
  uint32_t bb = b;

  return aa * bb >> 16;
}

static uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {
  uint64_t aa = a;
  uint64_t bb = b;

  return aa * bb >> 32;
}

static uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {
  __uint128_t aa = a;
  __uint128_t bb = b;

  return aa * bb >> 64;
}
#endif

#if defined(__OPENCL_VERSION__)
static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return mad_hi(a, b, c);
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return mad_hi(a, b, c);
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return mad_hi(a, b, c);
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return mad_hi(a, b, c);
}

#else // Not OpenCL

static uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {
  return futrts_mul_hi8(a, b) + c;
}

static uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {
  return futrts_mul_hi16(a, b) + c;
}

static uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {
  return futrts_mul_hi32(a, b) + c;
}

static uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {
  return futrts_mul_hi64(a, b) + c;
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_clzz8(int8_t x) {
  return clz(x);
}

static int32_t futrts_clzz16(int16_t x) {
  return clz(x);
}

static int32_t futrts_clzz32(int32_t x) {
  return clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return clz(x);
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_clzz8(int8_t x) {
  return __clz(zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return __clz(zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return __clz(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return __clzll(x);
}

#elif ISPC

static int32_t futrts_clzz8(int8_t x) {
  return count_leading_zeros((int32_t)(uint8_t)x)-24;
}

static int32_t futrts_clzz16(int16_t x) {
  return count_leading_zeros((int32_t)(uint16_t)x)-16;
}

static int32_t futrts_clzz32(int32_t x) {
  return count_leading_zeros(x);
}

static int32_t futrts_clzz64(int64_t x) {
  return count_leading_zeros(x);
}

#else // Not OpenCL, ISPC or CUDA, but plain C.

static int32_t futrts_clzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;
}

static int32_t futrts_clzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;
}

static int32_t futrts_clzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_clz((uint32_t)x);
}

static int32_t futrts_clzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);
}
#endif

#if defined(__OPENCL_VERSION__)
static int32_t futrts_ctzz8(int8_t x) {
  int i = 0;
  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz16(int16_t x) {
  int i = 0;
  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz32(int32_t x) {
  int i = 0;
  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

static int32_t futrts_ctzz64(int64_t x) {
  int i = 0;
  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)
    ;
  return i;
}

#elif defined(__CUDA_ARCH__)

static int32_t futrts_ctzz8(int8_t x) {
  int y = __ffs(x);
  return y == 0 ? 8 : y - 1;
}

static int32_t futrts_ctzz16(int16_t x) {
  int y = __ffs(x);
  return y == 0 ? 16 : y - 1;
}

static int32_t futrts_ctzz32(int32_t x) {
  int y = __ffs(x);
  return y == 0 ? 32 : y - 1;
}

static int32_t futrts_ctzz64(int64_t x) {
  int y = __ffsll(x);
  return y == 0 ? 64 : y - 1;
}

#elif ISPC

static int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);
}

static int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);
}

static int32_t futrts_ctzz32(int32_t x) {
  return count_trailing_zeros(x);
}

static int32_t futrts_ctzz64(int64_t x) {
  return count_trailing_zeros(x);
}

#else // Not OpenCL or CUDA, but plain C.

static int32_t futrts_ctzz8(int8_t x) {
  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz16(int16_t x) {
  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz32(int32_t x) {
  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);
}

static int32_t futrts_ctzz64(int64_t x) {
  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);
}
#endif

static inline float fdiv32(float x, float y) {
  return x / y;
}

static inline float fadd32(float x, float y) {
  return x + y;
}

static inline float fsub32(float x, float y) {
  return x - y;
}

static inline float fmul32(float x, float y) {
  return x * y;
}

static inline bool cmplt32(float x, float y) {
  return x < y;
}

static inline bool cmple32(float x, float y) {
  return x <= y;
}

static inline float sitofp_i8_f32(int8_t x) {
  return (float) x;
}

static inline float sitofp_i16_f32(int16_t x) {
  return (float) x;
}

static inline float sitofp_i32_f32(int32_t x) {
  return (float) x;
}

static inline float sitofp_i64_f32(int64_t x) {
  return (float) x;
}

static inline float uitofp_i8_f32(uint8_t x) {
  return (float) x;
}

static inline float uitofp_i16_f32(uint16_t x) {
  return (float) x;
}

static inline float uitofp_i32_f32(uint32_t x) {
  return (float) x;
}

static inline float uitofp_i64_f32(uint64_t x) {
  return (float) x;
}

#ifdef __OPENCL_VERSION__
static inline float fabs32(float x) {
  return fabs(x);
}

static inline float fmax32(float x, float y) {
  return fmax(x, y);
}

static inline float fmin32(float x, float y) {
  return fmin(x, y);
}

static inline float fpow32(float x, float y) {
  return pow(x, y);
}

#elif ISPC

static inline float fabs32(float x) {
  return abs(x);
}

static inline float fmax32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

static inline float fmin32(float x, float y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

static inline float fpow32(float a, float b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

#else // Not OpenCL, but CUDA or plain C.

static inline float fabs32(float x) {
  return fabsf(x);
}

static inline float fmax32(float x, float y) {
  return fmaxf(x, y);
}

static inline float fmin32(float x, float y) {
  return fminf(x, y);
}

static inline float fpow32(float x, float y) {
  return powf(x, y);
}
#endif

static inline bool futrts_isnan32(float x) {
  return isnan(x);
}

#if ISPC

static inline bool futrts_isinf32(float x) {
  return !isnan(x) && isnan(x - x);
}

static inline bool futrts_isfinite32(float x) {
  return !isnan(x) && !futrts_isinf32(x);
}

#else

static inline bool futrts_isinf32(float x) {
  return isinf(x);
}

#endif

static inline int8_t fptosi_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

static inline int16_t fptosi_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

static inline int32_t fptosi_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

static inline int64_t fptosi_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (int64_t) x;
  };
}

static inline uint8_t fptoui_f32_i8(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

static inline uint16_t fptoui_f32_i16(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

static inline uint32_t fptoui_f32_i32(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

static inline uint64_t fptoui_f32_i64(float x) {
  if (futrts_isnan32(x) || futrts_isinf32(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

static inline bool ftob_f32_bool(float x) {
  return x != 0;
}

static inline float btof_bool_f32(bool x) {
  return x ? 1 : 0;
}

#ifdef __OPENCL_VERSION__
static inline float futrts_log32(float x) {
  return log(x);
}

static inline float futrts_log2_32(float x) {
  return log2(x);
}

static inline float futrts_log10_32(float x) {
  return log10(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrt(x);
}

static inline float futrts_cbrt32(float x) {
  return cbrt(x);
}

static inline float futrts_exp32(float x) {
  return exp(x);
}

static inline float futrts_cos32(float x) {
  return cos(x);
}

static inline float futrts_sin32(float x) {
  return sin(x);
}

static inline float futrts_tan32(float x) {
  return tan(x);
}

static inline float futrts_acos32(float x) {
  return acos(x);
}

static inline float futrts_asin32(float x) {
  return asin(x);
}

static inline float futrts_atan32(float x) {
  return atan(x);
}

static inline float futrts_cosh32(float x) {
  return cosh(x);
}

static inline float futrts_sinh32(float x) {
  return sinh(x);
}

static inline float futrts_tanh32(float x) {
  return tanh(x);
}

static inline float futrts_acosh32(float x) {
  return acosh(x);
}

static inline float futrts_asinh32(float x) {
  return asinh(x);
}

static inline float futrts_atanh32(float x) {
  return atanh(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypot(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgamma(x);
}

static inline float futrts_lgamma32(float x) {
  return lgamma(x);
}

static inline float futrts_erf32(float x) {
  return erf(x);
}

static inline float futrts_erfc32(float x) {
  return erfc(x);
}

static inline float fmod32(float x, float y) {
  return fmod(x, y);
}

static inline float futrts_round32(float x) {
  return rint(x);
}

static inline float futrts_floor32(float x) {
  return floor(x);
}

static inline float futrts_ceil32(float x) {
  return ceil(x);
}

static inline float futrts_nextafter32(float x, float y) {
  return nextafter(x, y);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return mix(v0, v1, t);
}

static inline float futrts_mad32(float a, float b, float c) {
  return mad(a, b, c);
}

static inline float futrts_fma32(float a, float b, float c) {
  return fma(a, b, c);
}

#elif ISPC

static inline float futrts_log32(float x) {
  return futrts_isfinite32(x) || (futrts_isinf32(x) && x < 0)? log(x) : x;
}

static inline float futrts_log2_32(float x) {
  return futrts_log32(x) / log(2.0f);
}

static inline float futrts_log10_32(float x) {
  return futrts_log32(x) / log(10.0f);
}

static inline float futrts_sqrt32(float x) {
  return sqrt(x);
}

extern "C" unmasked uniform float cbrtf(uniform float);
static inline float futrts_cbrt32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline float futrts_exp32(float x) {
  return exp(x);
}

static inline float futrts_cos32(float x) {
  return cos(x);
}

static inline float futrts_sin32(float x) {
  return sin(x);
}

static inline float futrts_tan32(float x) {
  return tan(x);
}

static inline float futrts_acos32(float x) {
  return acos(x);
}

static inline float futrts_asin32(float x) {
  return asin(x);
}

static inline float futrts_atan32(float x) {
  return atan(x);
}

static inline float futrts_cosh32(float x) {
  return (exp(x)+exp(-x)) / 2.0f;
}

static inline float futrts_sinh32(float x) {
  return (exp(x)-exp(-x)) / 2.0f;
}

static inline float futrts_tanh32(float x) {
  return futrts_sinh32(x)/futrts_cosh32(x);
}

static inline float futrts_acosh32(float x) {
  float f = x+sqrt(x*x-1);
  if(futrts_isfinite32(f)) return log(f);
  return f;
}

static inline float futrts_asinh32(float x) {
  float f = x+sqrt(x*x+1);
  if(futrts_isfinite32(f)) return log(f);
  return f;

}

static inline float futrts_atanh32(float x) {
  float f = (1+x)/(1-x);
  if(futrts_isfinite32(f)) return log(f)/2.0f;
  return f;

}

static inline float futrts_atan2_32(float x, float y) {
  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {
    x = abs(x);
    y = abs(y);
    float a;
    float b;
    if (x >= y){
        a = x;
        b = y;
    } else {
        a = y;
        b = x;
    }
    if(b == 0){
      return a;
    }

    int e;
    float an;
    float bn;
    an = frexp (a, &e);
    bn = ldexp (b, - e);
    float cn;
    cn = sqrt (an * an + bn * bn);
    return ldexp (cn, e);
  } else {
    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;
    else return x + y;
  }

}

extern "C" unmasked uniform float tgammaf(uniform float x);
static inline float futrts_gamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = tgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
static inline float futrts_lgamma32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = lgammaf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erff(uniform float x);
static inline float futrts_erf32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erff(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float erfcf(uniform float x);
static inline float futrts_erfc32(float x) {
  float res;
  foreach_active (i) {
    uniform float r = erfcf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline float fmod32(float x, float y) {
  return x - y * trunc(x/y);
}

static inline float futrts_round32(float x) {
  return round(x);
}

static inline float futrts_floor32(float x) {
  return floor(x);
}

static inline float futrts_ceil32(float x) {
  return ceil(x);
}

extern "C" unmasked uniform float nextafterf(uniform float x, uniform float y);
static inline float futrts_nextafter32(float x, float y) {
  float res;
  foreach_active (i) {
    uniform float r = nextafterf(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

static inline float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

static inline float futrts_fma32(float a, float b, float c) {
  return a * b + c;
}

#else // Not OpenCL or ISPC, but CUDA or plain C.

static inline float futrts_log32(float x) {
  return logf(x);
}

static inline float futrts_log2_32(float x) {
  return log2f(x);
}

static inline float futrts_log10_32(float x) {
  return log10f(x);
}

static inline float futrts_sqrt32(float x) {
  return sqrtf(x);
}

static inline float futrts_cbrt32(float x) {
  return cbrtf(x);
}

static inline float futrts_exp32(float x) {
  return expf(x);
}

static inline float futrts_cos32(float x) {
  return cosf(x);
}

static inline float futrts_sin32(float x) {
  return sinf(x);
}

static inline float futrts_tan32(float x) {
  return tanf(x);
}

static inline float futrts_acos32(float x) {
  return acosf(x);
}

static inline float futrts_asin32(float x) {
  return asinf(x);
}

static inline float futrts_atan32(float x) {
  return atanf(x);
}

static inline float futrts_cosh32(float x) {
  return coshf(x);
}

static inline float futrts_sinh32(float x) {
  return sinhf(x);
}

static inline float futrts_tanh32(float x) {
  return tanhf(x);
}

static inline float futrts_acosh32(float x) {
  return acoshf(x);
}

static inline float futrts_asinh32(float x) {
  return asinhf(x);
}

static inline float futrts_atanh32(float x) {
  return atanhf(x);
}

static inline float futrts_atan2_32(float x, float y) {
  return atan2f(x, y);
}

static inline float futrts_hypot32(float x, float y) {
  return hypotf(x, y);
}

static inline float futrts_gamma32(float x) {
  return tgammaf(x);
}

static inline float futrts_lgamma32(float x) {
  return lgammaf(x);
}

static inline float futrts_erf32(float x) {
  return erff(x);
}

static inline float futrts_erfc32(float x) {
  return erfcf(x);
}

static inline float fmod32(float x, float y) {
  return fmodf(x, y);
}

static inline float futrts_round32(float x) {
  return rintf(x);
}

static inline float futrts_floor32(float x) {
  return floorf(x);
}

static inline float futrts_ceil32(float x) {
  return ceilf(x);
}

static inline float futrts_nextafter32(float x, float y) {
  return nextafterf(x, y);
}

static inline float futrts_lerp32(float v0, float v1, float t) {
  return v0 + (v1 - v0) * t;
}

static inline float futrts_mad32(float a, float b, float c) {
  return a * b + c;
}

static inline float futrts_fma32(float a, float b, float c) {
  return fmaf(a, b, c);
}
#endif

#if ISPC
static inline int32_t futrts_to_bits32(float x) {
  return intbits(x);
}

static inline float futrts_from_bits32(int32_t x) {
  return floatbits(x);
}
#else
static inline int32_t futrts_to_bits32(float x) {
  union {
    float f;
    int32_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline float futrts_from_bits32(int32_t x) {
  union {
    int32_t f;
    float t;
  } p;

  p.f = x;
  return p.t;
}
#endif

static inline float fsignum32(float x) {
  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#ifdef FUTHARK_F64_ENABLED

#if ISPC
static inline bool futrts_isinf64(float x) {
  return !isnan(x) && isnan(x - x);
}

static inline bool futrts_isfinite64(float x) {
  return !isnan(x) && !futrts_isinf64(x);
}

static inline double fdiv64(double x, double y) {
  return x / y;
}

static inline double fadd64(double x, double y) {
  return x + y;
}

static inline double fsub64(double x, double y) {
  return x - y;
}

static inline double fmul64(double x, double y) {
  return x * y;
}

static inline bool cmplt64(double x, double y) {
  return x < y;
}

static inline bool cmple64(double x, double y) {
  return x <= y;
}

static inline double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

static inline double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

static inline double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

static inline double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

static inline double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

static inline double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

static inline double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

static inline double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

static inline double fabs64(double x) {
  return abs(x);
}

static inline double fmax64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : max(x, y);
}

static inline double fmin64(double x, double y) {
  return isnan(x) ? y : isnan(y) ? x : min(x, y);
}

static inline double fpow64(double a, double b) {
  float ret;
  foreach_active (i) {
      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));
      ret = insert(ret, i, r);
  }
  return ret;
}

static inline double futrts_log64(double x) {
  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;
}

static inline double futrts_log2_64(double x) {
  return futrts_log64(x)/log(2.0d);
}

static inline double futrts_log10_64(double x) {
  return futrts_log64(x)/log(10.0d);
}

static inline double futrts_sqrt64(double x) {
  return sqrt(x);
}

extern "C" unmasked uniform double cbrt(uniform double);
static inline double futrts_cbrt64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = cbrtf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline double futrts_exp64(double x) {
  return exp(x);
}

static inline double futrts_cos64(double x) {
  return cos(x);
}

static inline double futrts_sin64(double x) {
  return sin(x);
}

static inline double futrts_tan64(double x) {
  return tan(x);
}

static inline double futrts_acos64(double x) {
  return acos(x);
}

static inline double futrts_asin64(double x) {
  return asin(x);
}

static inline double futrts_atan64(double x) {
  return atan(x);
}

static inline double futrts_cosh64(double x) {
  return (exp(x)+exp(-x)) / 2.0d;
}

static inline double futrts_sinh64(double x) {
  return (exp(x)-exp(-x)) / 2.0d;
}

static inline double futrts_tanh64(double x) {
  return futrts_sinh64(x)/futrts_cosh64(x);
}

static inline double futrts_acosh64(double x) {
  double f = x+sqrt(x*x-1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

static inline double futrts_asinh64(double x) {
  double f = x+sqrt(x*x+1.0d);
  if(futrts_isfinite64(f)) return log(f);
  return f;
}

static inline double futrts_atanh64(double x) {
  double f = (1.0d+x)/(1.0d-x);
  if(futrts_isfinite64(f)) return log(f)/2.0d;
  return f;

}

static inline double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

extern "C" unmasked uniform double hypot(uniform double x, uniform double y);
static inline double futrts_hypot64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = hypot(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double tgamma(uniform double x);
static inline double futrts_gamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = tgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double lgamma(uniform double x);
static inline double futrts_lgamma64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = lgamma(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erf(uniform double x);
static inline double futrts_erf64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erf(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform double erfc(uniform double x);
static inline double futrts_erfc64(double x) {
  double res;
  foreach_active (i) {
    uniform double r = erfc(extract(x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline double futrts_fma64(double a, double b, double c) {
  return a * b + c;
}

static inline double futrts_round64(double x) {
  return round(x);
}

static inline double futrts_ceil64(double x) {
  return ceil(x);
}

extern "C" unmasked uniform double nextafter(uniform float x, uniform double y);
static inline float futrts_nextafter64(double x, double y) {
  double res;
  foreach_active (i) {
    uniform double r = nextafter(extract(x, i), extract(y, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline double futrts_floor64(double x) {
  return floor(x);
}

static inline bool futrts_isnan64(double x) {
  return isnan(x);
}

static inline int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

static inline int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

static inline int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

static inline int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

static inline uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

static inline uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

static inline uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

static inline uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

static inline bool ftob_f64_bool(double x) {
  return x != 0.0;
}

static inline double btof_bool_f64(bool x) {
  return x ? 1.0 : 0.0;
}

static inline int64_t futrts_to_bits64(double x) {
  int64_t res;
  foreach_active (i) {
    uniform double tmp = extract(x, i);
    uniform int64_t r = *((uniform int64_t* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

static inline double futrts_from_bits64(int64_t x) {
  double res;
  foreach_active (i) {
    uniform int64_t tmp = extract(x, i);
    uniform double r = *((uniform double* uniform)&tmp);
    res = insert(res, i, r);
  }
  return res;
}

static inline double fmod64(double x, double y) {
  return x - y * trunc(x/y);
}

static inline double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);
}

static inline double futrts_lerp64(double v0, double v1, double t) {
  return v0 + (v1 - v0) * t;
}

static inline double futrts_mad64(double a, double b, double c) {
  return a * b + c;
}

static inline float fpconv_f32_f32(float x) {
  return (float) x;
}

static inline double fpconv_f32_f64(float x) {
  return (double) x;
}

static inline float fpconv_f64_f32(double x) {
  return (float) x;
}

static inline double fpconv_f64_f64(double x) {
  return (double) x;
}

#else

static inline double fdiv64(double x, double y) {
  return x / y;
}

static inline double fadd64(double x, double y) {
  return x + y;
}

static inline double fsub64(double x, double y) {
  return x - y;
}

static inline double fmul64(double x, double y) {
  return x * y;
}

static inline bool cmplt64(double x, double y) {
  return x < y;
}

static inline bool cmple64(double x, double y) {
  return x <= y;
}

static inline double sitofp_i8_f64(int8_t x) {
  return (double) x;
}

static inline double sitofp_i16_f64(int16_t x) {
  return (double) x;
}

static inline double sitofp_i32_f64(int32_t x) {
  return (double) x;
}

static inline double sitofp_i64_f64(int64_t x) {
  return (double) x;
}

static inline double uitofp_i8_f64(uint8_t x) {
  return (double) x;
}

static inline double uitofp_i16_f64(uint16_t x) {
  return (double) x;
}

static inline double uitofp_i32_f64(uint32_t x) {
  return (double) x;
}

static inline double uitofp_i64_f64(uint64_t x) {
  return (double) x;
}

static inline double fabs64(double x) {
  return fabs(x);
}

static inline double fmax64(double x, double y) {
  return fmax(x, y);
}

static inline double fmin64(double x, double y) {
  return fmin(x, y);
}

static inline double fpow64(double x, double y) {
  return pow(x, y);
}

static inline double futrts_log64(double x) {
  return log(x);
}

static inline double futrts_log2_64(double x) {
  return log2(x);
}

static inline double futrts_log10_64(double x) {
  return log10(x);
}

static inline double futrts_sqrt64(double x) {
  return sqrt(x);
}

static inline double futrts_cbrt64(double x) {
  return cbrt(x);
}

static inline double futrts_exp64(double x) {
  return exp(x);
}

static inline double futrts_cos64(double x) {
  return cos(x);
}

static inline double futrts_sin64(double x) {
  return sin(x);
}

static inline double futrts_tan64(double x) {
  return tan(x);
}

static inline double futrts_acos64(double x) {
  return acos(x);
}

static inline double futrts_asin64(double x) {
  return asin(x);
}

static inline double futrts_atan64(double x) {
  return atan(x);
}

static inline double futrts_cosh64(double x) {
  return cosh(x);
}

static inline double futrts_sinh64(double x) {
  return sinh(x);
}

static inline double futrts_tanh64(double x) {
  return tanh(x);
}

static inline double futrts_acosh64(double x) {
  return acosh(x);
}

static inline double futrts_asinh64(double x) {
  return asinh(x);
}

static inline double futrts_atanh64(double x) {
  return atanh(x);
}

static inline double futrts_atan2_64(double x, double y) {
  return atan2(x, y);
}

static inline double futrts_hypot64(double x, double y) {
  return hypot(x, y);
}

static inline double futrts_gamma64(double x) {
  return tgamma(x);
}

static inline double futrts_lgamma64(double x) {
  return lgamma(x);
}

static inline double futrts_erf64(double x) {
  return erf(x);
}

static inline double futrts_erfc64(double x) {
  return erfc(x);
}

static inline double futrts_fma64(double a, double b, double c) {
  return fma(a, b, c);
}

static inline double futrts_round64(double x) {
  return rint(x);
}

static inline double futrts_ceil64(double x) {
  return ceil(x);
}

static inline float futrts_nextafter64(float x, float y) {
  return nextafter(x, y);
}

static inline double futrts_floor64(double x) {
  return floor(x);
}

static inline bool futrts_isnan64(double x) {
  return isnan(x);
}

static inline bool futrts_isinf64(double x) {
  return isinf(x);
}

static inline int8_t fptosi_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int8_t) x;
  }
}

static inline int16_t fptosi_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int16_t) x;
  }
}

static inline int32_t fptosi_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int32_t) x;
  }
}

static inline int64_t fptosi_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (int64_t) x;
  }
}

static inline uint8_t fptoui_f64_i8(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint8_t) (int8_t) x;
  }
}

static inline uint16_t fptoui_f64_i16(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint16_t) (int16_t) x;
  }
}

static inline uint32_t fptoui_f64_i32(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint32_t) (int32_t) x;
  }
}

static inline uint64_t fptoui_f64_i64(double x) {
  if (futrts_isnan64(x) || futrts_isinf64(x)) {
    return 0;
  } else {
    return (uint64_t) (int64_t) x;
  }
}

static inline bool ftob_f64_bool(double x) {
  return x != 0;
}

static inline double btof_bool_f64(bool x) {
  return x ? 1 : 0;
}

static inline int64_t futrts_to_bits64(double x) {
  union {
    double f;
    int64_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline double futrts_from_bits64(int64_t x) {
  union {
    int64_t f;
    double t;
  } p;

  p.f = x;
  return p.t;
}

static inline double fmod64(double x, double y) {
  return fmod(x, y);
}

static inline double fsignum64(double x) {
  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);
}

static inline double futrts_lerp64(double v0, double v1, double t) {
#ifdef __OPENCL_VERSION__
  return mix(v0, v1, t);
#else
  return v0 + (v1 - v0) * t;
#endif
}

static inline double futrts_mad64(double a, double b, double c) {
#ifdef __OPENCL_VERSION__
  return mad(a, b, c);
#else
  return a * b + c;
#endif
}

static inline float fpconv_f32_f32(float x) {
  return (float) x;
}

static inline double fpconv_f32_f64(float x) {
  return (double) x;
}

static inline float fpconv_f64_f32(double x) {
  return (float) x;
}

static inline double fpconv_f64_f64(double x) {
  return (double) x;
}

#endif

#endif

// End of scalar.h.
// Start of scalar_f16.h.

// Half-precision is emulated if needed (e.g. in straight C) with the
// native type used if possible.  The emulation works by typedef'ing
// 'float' to 'f16', and then implementing all operations on single
// precision.  To cut down on duplication, we use the same code for
// those Futhark functions that require just operators or casts.  The
// in-memory representation for arrays will still be 16 bits even
// under emulation, so the compiler will have to be careful when
// generating reads or writes.

#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))
#define EMULATE_F16
#endif

#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)
#pragma OPENCL EXTENSION cl_khr_fp16 : enable
#endif

#ifdef EMULATE_F16

// Note that the half-precision storage format is still 16 bits - the
// compiler will have to be real careful!
typedef float f16;

#elif ISPC
typedef float16 f16;

#else

#ifdef __CUDA_ARCH__
#include <cuda_fp16.h>
#endif

typedef half f16;

#endif

// Some of these functions convert to single precision because half
// precision versions are not available.

static inline f16 fadd16(f16 x, f16 y) {
  return x + y;
}

static inline f16 fsub16(f16 x, f16 y) {
  return x - y;
}

static inline f16 fmul16(f16 x, f16 y) {
  return x * y;
}

static inline bool cmplt16(f16 x, f16 y) {
  return x < y;
}

static inline bool cmple16(f16 x, f16 y) {
  return x <= y;
}

static inline f16 sitofp_i8_f16(int8_t x) {
  return (f16) x;
}

static inline f16 sitofp_i16_f16(int16_t x) {
  return (f16) x;
}

static inline f16 sitofp_i32_f16(int32_t x) {
  return (f16) x;
}

static inline f16 sitofp_i64_f16(int64_t x) {
  return (f16) x;
}

static inline f16 uitofp_i8_f16(uint8_t x) {
  return (f16) x;
}

static inline f16 uitofp_i16_f16(uint16_t x) {
  return (f16) x;
}

static inline f16 uitofp_i32_f16(uint32_t x) {
  return (f16) x;
}

static inline f16 uitofp_i64_f16(uint64_t x) {
  return (f16) x;
}

static inline int8_t fptosi_f16_i8(f16 x) {
  return (int8_t) (float) x;
}

static inline int16_t fptosi_f16_i16(f16 x) {
  return (int16_t) x;
}

static inline int32_t fptosi_f16_i32(f16 x) {
  return (int32_t) x;
}

static inline int64_t fptosi_f16_i64(f16 x) {
  return (int64_t) x;
}

static inline uint8_t fptoui_f16_i8(f16 x) {
  return (uint8_t) (float) x;
}

static inline uint16_t fptoui_f16_i16(f16 x) {
  return (uint16_t) x;
}

static inline uint32_t fptoui_f16_i32(f16 x) {
  return (uint32_t) x;
}

static inline uint64_t fptoui_f16_i64(f16 x) {
  return (uint64_t) x;
}

static inline bool ftob_f16_bool(f16 x) {
  return x != (f16)0;
}

static inline f16 btof_bool_f16(bool x) {
  return x ? 1 : 0;
}

#ifndef EMULATE_F16
static inline bool futrts_isnan16(f16 x) {
  return isnan((float)x);
}

#ifdef __OPENCL_VERSION__

static inline f16 fabs16(f16 x) {
  return fabs(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}

#elif ISPC
static inline f16 fabs16(f16 x) {
  return abs(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return pow(x, y);
}
#else // Assuming CUDA.

static inline f16 fabs16(f16 x) {
  return fabsf(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmaxf(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fminf(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return powf(x, y);
}
#endif

#if ISPC
static inline bool futrts_isinf16(float x) {
  return !futrts_isnan16(x) && futrts_isnan16(x - x);
}
static inline bool futrts_isfinite16(float x) {
  return !futrts_isnan16(x) && !futrts_isinf16(x);
}

#else

static inline bool futrts_isinf16(f16 x) {
  return isinf((float)x);
}
#endif

#ifdef __OPENCL_VERSION__
static inline f16 futrts_log16(f16 x) {
  return log(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return log2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return log10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return sqrt(x);
}

static inline f16 futrts_cbrt16(f16 x) {
  return cbrt(x);
}

static inline f16 futrts_exp16(f16 x) {
  return exp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return cos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return sin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tan(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acos(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asin(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atan(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return cosh(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinh(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanh(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acosh(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinh(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanh(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypot(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgamma(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgamma(x);
}

static inline f16 futrts_erf16(f16 x) {
  return erf(x);
}

static inline f16 futrts_erfc16(f16 x) {
  return erfc(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rint(x);
}

static inline f16 futrts_floor16(f16 x) {
  return floor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return ceil(x);
}

static inline f16 futrts_nextafter16(f16 x, f16 y) {
  return nextafter(x, y);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return mix(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return mad(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fma(a, b, c);
}
#elif ISPC

static inline f16 futrts_log16(f16 x) {
  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;
}

static inline f16 futrts_log2_16(f16 x) {
  return futrts_log16(x) / log(2.0f16);
}

static inline f16 futrts_log10_16(f16 x) {
  return futrts_log16(x) / log(10.0f16);
}

static inline f16 futrts_sqrt16(f16 x) {
  return (float16)sqrt((float)x);
}

static inline f16 futrts_exp16(f16 x) {
  return exp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return (float16)cos((float)x);
}

static inline f16 futrts_sin16(f16 x) {
  return (float16)sin((float)x);
}

static inline f16 futrts_tan16(f16 x) {
  return (float16)tan((float)x);
}

static inline f16 futrts_acos16(f16 x) {
  return (float16)acos((float)x);
}

static inline f16 futrts_asin16(f16 x) {
  return (float16)asin((float)x);
}

static inline f16 futrts_atan16(f16 x) {
  return (float16)atan((float)x);
}

static inline f16 futrts_cosh16(f16 x) {
  return (exp(x)+exp(-x)) / 2.0f16;
}

static inline f16 futrts_sinh16(f16 x) {
  return (exp(x)-exp(-x)) / 2.0f16;
}

static inline f16 futrts_tanh16(f16 x) {
  return futrts_sinh16(x)/futrts_cosh16(x);
}

static inline f16 futrts_acosh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x-1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

static inline f16 futrts_asinh16(f16 x) {
  float16 f = x+(float16)sqrt((float)(x*x+1));
  if(futrts_isfinite16(f)) return log(f);
  return f;
}

static inline f16 futrts_atanh16(f16 x) {
  float16 f = (1+x)/(1-x);
  if(futrts_isfinite16(f)) return log(f)/2.0f16;
  return f;
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return (float16)atan2((float)x, (float)y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return (float16)futrts_hypot32((float)x, (float)y);
}

extern "C" unmasked uniform float tgammaf(uniform float x);
static inline f16 futrts_gamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)tgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

extern "C" unmasked uniform float lgammaf(uniform float x);
static inline f16 futrts_lgamma16(f16 x) {
  f16 res;
  foreach_active (i) {
    uniform f16 r = (f16)lgammaf(extract((float)x, i));
    res = insert(res, i, r);
  }
  return res;
}

static inline f16 futrts_cbrt16(f16 x) {
  f16 res = (f16)futrts_cbrt32((float)x);
  return res;
}

static inline f16 futrts_erf16(f16 x) {
  f16 res = (f16)futrts_erf32((float)x);
  return res;
}

static inline f16 futrts_erfc16(f16 x) {
  f16 res = (f16)futrts_erfc32((float)x);
  return res;
}

static inline f16 fmod16(f16 x, f16 y) {
  return x - y * (float16)trunc((float) (x/y));
}

static inline f16 futrts_round16(f16 x) {
  return (float16)round((float)x);
}

static inline f16 futrts_floor16(f16 x) {
  return (float16)floor((float)x);
}

static inline f16 futrts_ceil16(f16 x) {
  return (float16)ceil((float)x);
}

static inline f16 futrts_nextafter16(f16 x, f16 y) {
  return (float16)futrts_nextafter32((float)x, (float) y);
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

#else // Assume CUDA.

static inline f16 futrts_log16(f16 x) {
  return hlog(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return hlog2(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return hlog10(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return hsqrt(x);
}

static inline f16 futrts_cbrt16(f16 x) {
  return cbrtf(x);
}

static inline f16 futrts_exp16(f16 x) {
  return hexp(x);
}

static inline f16 futrts_cos16(f16 x) {
  return hcos(x);
}

static inline f16 futrts_sin16(f16 x) {
  return hsin(x);
}

static inline f16 futrts_tan16(f16 x) {
  return tanf(x);
}

static inline f16 futrts_acos16(f16 x) {
  return acosf(x);
}

static inline f16 futrts_asin16(f16 x) {
  return asinf(x);
}

static inline f16 futrts_atan16(f16 x) {
  return atanf(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return coshf(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return sinhf(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return tanhf(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return acoshf(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return asinhf(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return atanhf(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return atan2f(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return hypotf(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return tgammaf(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return lgammaf(x);
}

static inline f16 futrts_erf16(f16 x) {
  return erff(x);
}

static inline f16 futrts_erfc16(f16 x) {
  return erfcf(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmodf(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return rintf(x);
}

static inline f16 futrts_floor16(f16 x) {
  return hfloor(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return hceil(x);
}

static inline f16 futrts_nextafter16(f16 x, f16 y) {
  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return v0 + (v1 - v0) * t;
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return a * b + c;
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return fmaf(a, b, c);
}

#endif

// The CUDA __half type cannot be put in unions for some reason, so we
// use bespoke conversion functions instead.
#ifdef __CUDA_ARCH__
static inline int16_t futrts_to_bits16(f16 x) {
  return __half_as_ushort(x);
}
static inline f16 futrts_from_bits16(int16_t x) {
  return __ushort_as_half(x);
}
#elif ISPC

static inline int16_t futrts_to_bits16(f16 x) {
  varying int16_t y = *((varying int16_t * uniform)&x);
  return y;
}

static inline f16 futrts_from_bits16(int16_t x) {
  varying f16 y = *((varying f16 * uniform)&x);
  return y;
}
#else
static inline int16_t futrts_to_bits16(f16 x) {
  union {
    f16 f;
    int16_t t;
  } p;

  p.f = x;
  return p.t;
}

static inline f16 futrts_from_bits16(int16_t x) {
  union {
    int16_t f;
    f16 t;
  } p;

  p.f = x;
  return p.t;
}
#endif

#else // No native f16 - emulate.

static inline f16 fabs16(f16 x) {
  return fabs32(x);
}

static inline f16 fmax16(f16 x, f16 y) {
  return fmax32(x, y);
}

static inline f16 fmin16(f16 x, f16 y) {
  return fmin32(x, y);
}

static inline f16 fpow16(f16 x, f16 y) {
  return fpow32(x, y);
}

static inline bool futrts_isnan16(f16 x) {
  return futrts_isnan32(x);
}

static inline bool futrts_isinf16(f16 x) {
  return futrts_isinf32(x);
}

static inline f16 futrts_log16(f16 x) {
  return futrts_log32(x);
}

static inline f16 futrts_log2_16(f16 x) {
  return futrts_log2_32(x);
}

static inline f16 futrts_log10_16(f16 x) {
  return futrts_log10_32(x);
}

static inline f16 futrts_sqrt16(f16 x) {
  return futrts_sqrt32(x);
}

static inline f16 futrts_cbrt16(f16 x) {
  return futrts_cbrt32(x);
}

static inline f16 futrts_exp16(f16 x) {
  return futrts_exp32(x);
}

static inline f16 futrts_cos16(f16 x) {
  return futrts_cos32(x);
}

static inline f16 futrts_sin16(f16 x) {
  return futrts_sin32(x);
}

static inline f16 futrts_tan16(f16 x) {
  return futrts_tan32(x);
}

static inline f16 futrts_acos16(f16 x) {
  return futrts_acos32(x);
}

static inline f16 futrts_asin16(f16 x) {
  return futrts_asin32(x);
}

static inline f16 futrts_atan16(f16 x) {
  return futrts_atan32(x);
}

static inline f16 futrts_cosh16(f16 x) {
  return futrts_cosh32(x);
}

static inline f16 futrts_sinh16(f16 x) {
  return futrts_sinh32(x);
}

static inline f16 futrts_tanh16(f16 x) {
  return futrts_tanh32(x);
}

static inline f16 futrts_acosh16(f16 x) {
  return futrts_acosh32(x);
}

static inline f16 futrts_asinh16(f16 x) {
  return futrts_asinh32(x);
}

static inline f16 futrts_atanh16(f16 x) {
  return futrts_atanh32(x);
}

static inline f16 futrts_atan2_16(f16 x, f16 y) {
  return futrts_atan2_32(x, y);
}

static inline f16 futrts_hypot16(f16 x, f16 y) {
  return futrts_hypot32(x, y);
}

static inline f16 futrts_gamma16(f16 x) {
  return futrts_gamma32(x);
}

static inline f16 futrts_lgamma16(f16 x) {
  return futrts_lgamma32(x);
}

static inline f16 futrts_erf16(f16 x) {
  return futrts_erf32(x);
}

static inline f16 futrts_erfc16(f16 x) {
  return futrts_erfc32(x);
}

static inline f16 fmod16(f16 x, f16 y) {
  return fmod32(x, y);
}

static inline f16 futrts_round16(f16 x) {
  return futrts_round32(x);
}

static inline f16 futrts_floor16(f16 x) {
  return futrts_floor32(x);
}

static inline f16 futrts_ceil16(f16 x) {
  return futrts_ceil32(x);
}

static inline f16 futrts_nextafter16(f16 x, f16 y) {
  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));
}

static inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {
  return futrts_lerp32(v0, v1, t);
}

static inline f16 futrts_mad16(f16 a, f16 b, f16 c) {
  return futrts_mad32(a, b, c);
}

static inline f16 futrts_fma16(f16 a, f16 b, f16 c) {
  return futrts_fma32(a, b, c);
}

// Even when we are using an OpenCL that does not support cl_khr_fp16,
// it must still support vload_half for actually creating a
// half-precision number, which can then be efficiently converted to a
// float.  Similarly for vstore_half.
#ifdef __OPENCL_VERSION__

static inline int16_t futrts_to_bits16(f16 x) {
  int16_t y;
  // Violating strict aliasing here.
  vstore_half((float)x, 0, (half*)&y);
  return y;
}

static inline f16 futrts_from_bits16(int16_t x) {
  return (f16)vload_half(0, (half*)&x);
}

#else

static inline int16_t futrts_to_bits16(f16 x) {
  return (int16_t)float2halfbits(x);
}

static inline f16 futrts_from_bits16(int16_t x) {
  return halfbits2float((uint16_t)x);
}

static inline f16 fsignum16(f16 x) {
  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);
}

#endif

#endif

static inline float fpconv_f16_f16(f16 x) {
  return x;
}

static inline float fpconv_f16_f32(f16 x) {
  return x;
}

static inline f16 fpconv_f32_f16(float x) {
  return (f16) x;
}

#ifdef FUTHARK_F64_ENABLED

static inline double fpconv_f16_f64(f16 x) {
  return (double) x;
}

#if ISPC
static inline f16 fpconv_f64_f16(double x) {
  return (f16) ((float)x);
}
#else
static inline f16 fpconv_f64_f16(double x) {
  return (f16) x;
}
#endif
#endif


// End of scalar_f16.h.

// Start of context_prototypes.h
//
// Prototypes for the functions in prototypes.h that need to be
// available very early.

struct futhark_context_config;
struct futhark_context;

static void set_error(struct futhark_context* ctx, char *error);

// End of of context_prototypes.h

static int init_constants(struct futhark_context *);
static int free_constants(struct futhark_context *);
<<<<<<< HEAD
static int32_t make_transposed_quotient_codewords_non_opaquezicounter_mem_realtype_21071[10240];
static int32_t make_transposed_quotient_codewords_non_opaquezicounter_mem_realtype_21087[10240];
static int32_t matmulzicounter_mem_realtype_21114[10240];
struct memblock_device {
    int *references;
    cl_mem mem;
    int64_t size;
    const char *desc;
||||||| parent of d23c9a2 (ispc)
static int32_t make_transposed_quotient_codewords_non_opaquezicounter_mem_realtype_21052[10240];
static int32_t make_transposed_quotient_codewords_non_opaquezicounter_mem_realtype_21068[10240];
static int32_t matmulzicounter_mem_realtype_21095[10240];
struct memblock_device {
    int *references;
    cl_mem mem;
    int64_t size;
    const char *desc;
=======
struct futhark_mc_task_18431 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    unsigned char *free_coefficientss_mem_17009;
    int64_t free_bytes_17011;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
>>>>>>> d23c9a2 (ispc)
};
struct futhark_mc_param_struct_18438 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    unsigned char *free_coefficientss_mem_17009;
    int64_t free_bytes_17011;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
};
int futhark_mc_loop_ispc_18439(int64_t start, int64_t end, struct futhark_mc_param_struct_18438 *futhark_mc_param_struct_18438_);
struct futhark_mc_param_struct_18459 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    unsigned char *free_coefficientss_mem_17009;
    int64_t free_bytes_17011;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
};
struct futhark_mc_task_18468 {
    struct futhark_context *ctx;
    int64_t free_p_12335;
    int64_t free_gtid_15966;
    unsigned char *free_coefficientss_mem_17009;
    unsigned char *free_mem_17012;
    unsigned char *free_mem_17015;
    unsigned char *free_mem_17018;
};
struct futhark_mc_param_struct_18472 {
    struct futhark_context *ctx;
    int64_t free_p_12335;
    int64_t free_gtid_15966;
    unsigned char *free_coefficientss_mem_17009;
    unsigned char *free_mem_17012;
    unsigned char *free_mem_17015;
    unsigned char *free_mem_17018;
};
int futhark_mc_loop_ispc_18473(int64_t start, int64_t end, struct futhark_mc_param_struct_18472 *futhark_mc_param_struct_18472_);
int futhark_mc_loop_ispc_18460(int64_t start, int64_t end, struct futhark_mc_param_struct_18459 *futhark_mc_param_struct_18459_);
struct futhark_mc_task_18491 {
    struct futhark_context *ctx;
    int64_t free_n_12333;
    int64_t free_m_12334;
    int64_t free_p_12335;
    unsigned char *free_zzinvs_mem_17006;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    int64_t free_bytes_17076;
    int64_t free_bytes_17079;
    unsigned char *free_mem_17143;
};
struct futhark_mc_param_struct_18500 {
    struct futhark_context *ctx;
    int64_t free_n_12333;
    int64_t free_m_12334;
    int64_t free_p_12335;
    unsigned char *free_zzinvs_mem_17006;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    int64_t free_bytes_17076;
    int64_t free_bytes_17079;
    unsigned char *free_mem_17143;
};
int futhark_mc_loop_ispc_18501(int64_t start, int64_t end, struct futhark_mc_param_struct_18500 *futhark_mc_param_struct_18500_);
struct futhark_mc_param_struct_18530 {
    struct futhark_context *ctx;
    int64_t free_n_12333;
    int64_t free_m_12334;
    int64_t free_p_12335;
    unsigned char *free_zzinvs_mem_17006;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    int64_t free_bytes_17076;
    unsigned char *free_mem_17143;
};
struct futhark_mc_task_18540 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    int64_t free_gtid_16458;
    int64_t free_defunc_0_f_res_16461;
    int64_t free_defunc_0_f_res_16462;
    int64_t free_defunc_0_f_res_16463;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    unsigned char *free_mem_17077;
};
struct futhark_mc_param_struct_18545 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    int64_t free_gtid_16458;
    int64_t free_defunc_0_f_res_16461;
    int64_t free_defunc_0_f_res_16462;
    int64_t free_defunc_0_f_res_16463;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    unsigned char *free_mem_17077;
};
int futhark_mc_loop_ispc_18546(int64_t start, int64_t end, struct futhark_mc_param_struct_18545 *futhark_mc_param_struct_18545_);
struct futhark_mc_param_struct_18569 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    int64_t free_gtid_16458;
    int64_t free_defunc_0_f_res_16461;
    int64_t free_defunc_0_f_res_16462;
    int64_t free_defunc_0_f_res_16463;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    unsigned char *free_mem_17077;
};
struct futhark_mc_task_18578 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    int64_t free_gtid_16458;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    int64_t free_gtid_17383;
    int64_t free_flat_tid_18020;
    int64_t free_flat_tid_18165;
    int64_t *retval_defunc_0_f_res_17384;
    int64_t *retval_defunc_0_f_res_17385;
    int64_t *retval_defunc_0_f_res_17386;
};
struct futhark_mc_param_struct_18585 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    int64_t free_gtid_16458;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    int64_t free_gtid_17383;
    int64_t free_flat_tid_18165;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18313;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18315;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18317;
};
int futhark_mc_loop_ispc_18586(int64_t start, int64_t end, struct futhark_mc_param_struct_18585 *futhark_mc_param_struct_18585_);
struct futhark_mc_param_struct_18601 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    int64_t free_gtid_16458;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    int64_t free_gtid_17383;
    int64_t free_flat_tid_18020;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18352;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18354;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18356;
};
struct futhark_mc_task_18611 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    int64_t free_gtid_16458;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    int64_t free_gtid_17383;
    int64_t free_gtid_18021;
    int64_t free_flat_tid_18040;
    int64_t *retval_defunc_0_f_res_18037;
    int64_t *retval_defunc_0_f_res_18038;
    int64_t *retval_defunc_0_f_res_18039;
};
struct futhark_mc_param_struct_18618 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    int64_t free_gtid_16458;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    int64_t free_gtid_17383;
    int64_t free_gtid_18021;
    int64_t free_flat_tid_18040;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18366;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18368;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18370;
};
int futhark_mc_loop_ispc_18619(int64_t start, int64_t end, struct futhark_mc_param_struct_18618 *futhark_mc_param_struct_18618_);
int futhark_mc_loop_ispc_18602(int64_t start, int64_t end, struct futhark_mc_param_struct_18601 *futhark_mc_param_struct_18601_);
int futhark_mc_loop_ispc_18570(int64_t start, int64_t end, struct futhark_mc_param_struct_18569 *futhark_mc_param_struct_18569_);
int futhark_mc_loop_ispc_18531(int64_t start, int64_t end, struct futhark_mc_param_struct_18530 *futhark_mc_param_struct_18530_);
struct futhark_mc_task_18665 {
    struct futhark_context *ctx;
    int64_t free_nz2080U_9823;
    int64_t free_pz2081U_9824;
    int64_t free_mz2082U_9825;
    unsigned char *free_xss_mem_17006;
    unsigned char *free_yss_mem_17007;
    int64_t free_bytes_17009;
    unsigned char *free_mem_17027;
};
struct futhark_mc_param_struct_18670 {
    struct futhark_context *ctx;
    int64_t free_nz2080U_9823;
    int64_t free_pz2081U_9824;
    int64_t free_mz2082U_9825;
    unsigned char *free_xss_mem_17006;
    unsigned char *free_yss_mem_17007;
    int64_t free_bytes_17009;
    unsigned char *free_mem_17027;
};
int futhark_mc_loop_ispc_18671(int64_t start, int64_t end, struct futhark_mc_param_struct_18670 *futhark_mc_param_struct_18670_);
struct futhark_mc_param_struct_18685 {
    struct futhark_context *ctx;
    int64_t free_nz2080U_9823;
    int64_t free_pz2081U_9824;
    int64_t free_mz2082U_9825;
    unsigned char *free_xss_mem_17006;
    unsigned char *free_yss_mem_17007;
    int64_t free_bytes_17009;
    unsigned char *free_mem_17027;
};
struct futhark_mc_task_18691 {
    struct futhark_context *ctx;
    int64_t free_pz2081U_9824;
    int64_t free_mz2082U_9825;
    int64_t free_gtid_15934;
    unsigned char *free_xss_mem_17006;
    unsigned char *free_yss_mem_17007;
    unsigned char *free_mem_17010;
};
struct futhark_mc_param_struct_18695 {
    struct futhark_context *ctx;
    int64_t free_pz2081U_9824;
    int64_t free_mz2082U_9825;
    int64_t free_gtid_15934;
    unsigned char *free_xss_mem_17006;
    unsigned char *free_yss_mem_17007;
    unsigned char *free_mem_17010;
};
int futhark_mc_loop_ispc_18696(int64_t start, int64_t end, struct futhark_mc_param_struct_18695 *futhark_mc_param_struct_18695_);
struct futhark_mc_param_struct_18703 {
    struct futhark_context *ctx;
    int64_t free_pz2081U_9824;
    int64_t free_mz2082U_9825;
    int64_t free_gtid_15934;
    unsigned char *free_xss_mem_17006;
    unsigned char *free_yss_mem_17007;
    unsigned char *free_mem_17010;
};
struct futhark_mc_task_18708 {
    struct futhark_context *ctx;
    int64_t free_pz2081U_9824;
    int64_t free_mz2082U_9825;
    int64_t free_gtid_15934;
    unsigned char *free_xss_mem_17006;
    unsigned char *free_yss_mem_17007;
    int64_t free_gtid_17166;
    int64_t free_flat_tid_17206;
    int32_t *retval_defunc_2_reduce_res_17167;
};
struct futhark_mc_param_struct_18713 {
    struct futhark_context *ctx;
    int64_t free_pz2081U_9824;
    int64_t free_mz2082U_9825;
    int64_t free_gtid_15934;
    unsigned char *free_xss_mem_17006;
    unsigned char *free_yss_mem_17007;
    int64_t free_gtid_17166;
    int64_t free_flat_tid_17206;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_17221;
};
int futhark_mc_loop_ispc_18714(int64_t start, int64_t end, struct futhark_mc_param_struct_18713 *futhark_mc_param_struct_18713_);
int futhark_mc_loop_ispc_18704(int64_t start, int64_t end, struct futhark_mc_param_struct_18703 *futhark_mc_param_struct_18703_);
int futhark_mc_loop_ispc_18686(int64_t start, int64_t end, struct futhark_mc_param_struct_18685 *futhark_mc_param_struct_18685_);
struct memblock {
    int *references;
    unsigned char *mem;
    int64_t size;
    const char *desc;
};
// start of scheduler.h

// First, the API that the generated code will access.  In principle,
// we could then compile the scheduler separately and link an object
// file with the generated code.  In practice, we will embed all of
// this in the generated code.

// Scheduler handle.
struct scheduler;

// Initialise a scheduler (and start worker threads).
static int scheduler_init(struct scheduler *scheduler,
                          int num_workers,
                          double kappa);

// Shut down a scheduler (and destroy worker threads).
static int scheduler_destroy(struct scheduler *scheduler);

// Figure out the smallest amount of work that amortises task
// creation.
static int determine_kappa(double *kappa);

// How a segop should be scheduled.
enum scheduling {
  DYNAMIC,
  STATIC
};

// How a given task should be executed.  Filled out by the scheduler
// and passed to the segop function
struct scheduler_info {
  int64_t iter_pr_subtask;
  int64_t remainder;
  int nsubtasks;
  enum scheduling sched;
  int wake_up_threads;

  int64_t *task_time;
  int64_t *task_iter;
};

// A segop function.  This is what you hand the scheduler for
// execution.
typedef int (*segop_fn)(void* args,
                        int64_t iterations,
                        int tid,
                        struct scheduler_info info);

// A task for the scheduler to execute.
struct scheduler_segop {
  void *args;
  segop_fn top_level_fn;
  segop_fn nested_fn;
  int64_t iterations;
  enum scheduling sched;

  // Pointers to timer and iter associated with the task
  int64_t *task_time;
  int64_t *task_iter;

  // For debugging
  const char* name;
};

static inline int scheduler_prepare_task(struct scheduler *scheduler,
                                         struct scheduler_segop *task);

typedef int (*parloop_fn)(void* args,
                          int64_t start,
                          int64_t end,
                          int subtask_id,
                          int tid);

// A parallel parloop task.
struct scheduler_parloop {
  void* args;
  parloop_fn fn;
  int64_t iterations;
  struct scheduler_info info;

  // For debugging
  const char* name;
};

static inline int scheduler_execute_task(struct scheduler *scheduler,
                                         struct scheduler_parloop *task);

// Then the API implementation.

#include <signal.h>

#if defined(_WIN32)
#include <windows.h>
#elif defined(__APPLE__)
#include <sys/sysctl.h>
// For getting cpu usage of threads
#include <mach/mach.h>
#include <sys/resource.h>
#elif defined(__linux__)
#include <sys/sysinfo.h>
#include <sys/resource.h>
#include <signal.h>
#elif defined(__EMSCRIPTEN__)
#include <emscripten/threading.h>
#include <sys/sysinfo.h>
#include <sys/resource.h>
#include <signal.h>
#endif

/* Multicore Utility functions */

/* A wrapper for getting rusage on Linux and MacOS */
/* TODO maybe figure out this for windows */
static inline int getrusage_thread(struct rusage *rusage)
{
  int err = -1;
#if  defined(__APPLE__)
    thread_basic_info_data_t info = { 0 };
    mach_msg_type_number_t info_count = THREAD_BASIC_INFO_COUNT;
    kern_return_t kern_err;

    kern_err = thread_info(mach_thread_self(),
                           THREAD_BASIC_INFO,
                           (thread_info_t)&info,
                           &info_count);
    if (kern_err == KERN_SUCCESS) {
        memset(rusage, 0, sizeof(struct rusage));
        rusage->ru_utime.tv_sec = info.user_time.seconds;
        rusage->ru_utime.tv_usec = info.user_time.microseconds;
        rusage->ru_stime.tv_sec = info.system_time.seconds;
        rusage->ru_stime.tv_usec = info.system_time.microseconds;
        err = 0;
    } else {
        errno = EINVAL;
    }
#elif defined(__linux__) || __EMSCRIPTEN__
    err = getrusage(RUSAGE_THREAD, rusage);
#endif
    return err;
}

/* returns the number of logical cores */
static int num_processors()
{
#if  defined(_WIN32)
/* https://docs.microsoft.com/en-us/windows/win32/api/sysinfoapi/ns-sysinfoapi-system_info */
    SYSTEM_INFO sysinfo;
    GetSystemInfo(&sysinfo);
    int ncores = sysinfo.dwNumberOfProcessors;
    fprintf(stderr, "Found %d cores on your Windows machine\n Is that correct?\n", ncores);
    return ncores;
#elif defined(__APPLE__)
    int ncores;
    size_t ncores_size = sizeof(ncores);
    CHECK_ERRNO(sysctlbyname("hw.logicalcpu", &ncores, &ncores_size, NULL, 0),
                "sysctlbyname (hw.logicalcpu)");
    return ncores;
#elif defined(__linux__)
  return get_nprocs();
#elif __EMSCRIPTEN__
  return emscripten_num_logical_cores();
#else
  fprintf(stderr, "operating system not recognised\n");
  return -1;
#endif
}

static unsigned int g_seed;

// Used to seed the generator.
static inline void fast_srand(unsigned int seed) {
    g_seed = seed;
}

// Compute a pseudorandom integer.
// Output value in range [0, 32767]
static inline unsigned int fast_rand(void) {
    g_seed = (214013*g_seed+2531011);
    return (g_seed>>16)&0x7FFF;
}

struct subtask_queue {
  int capacity;             // Size of the buffer.
  int first;                // Index of the start of the ring buffer.
  int num_used;             // Number of used elements in the buffer.
  struct subtask **buffer;

  pthread_mutex_t mutex;    // Mutex used for synchronisation.
  pthread_cond_t cond;      // Condition variable used for synchronisation.
  int dead;

#if defined(MCPROFILE)
  /* Profiling fields */
  uint64_t time_enqueue;
  uint64_t time_dequeue;
  uint64_t n_dequeues;
  uint64_t n_enqueues;
#endif
};

/* A subtask that can be executed by a worker */
struct subtask {
  /* The parloop function */
  parloop_fn fn;
  /* Execution parameters */
  void* args;
  int64_t start, end;
  int id;

  /* Dynamic scheduling parameters */
  int chunkable;
  int64_t chunk_size;

  /* Shared variables across subtasks */
  volatile int *counter; // Counter for ongoing subtasks
  // Shared task timers and iterators
  int64_t *task_time;
  int64_t *task_iter;

  /* For debugging */
  const char *name;
};


struct worker {
  pthread_t thread;
  struct scheduler *scheduler;  /* Reference to the scheduler struct the worker belongs to*/
  struct subtask_queue q;
  int dead;
  int tid;                      /* Just a thread id */

  /* "thread local" time fields used for online algorithm */
  uint64_t timer;
  uint64_t total;
  int nested; /* How nested the current computation is */

  // Profiling fields
  int output_usage;            /* Whether to dump thread usage */
  uint64_t time_spent_working; /* Time spent in parloop functions */
};

static inline void output_worker_usage(struct worker *worker)
{
  struct rusage usage;
  CHECK_ERRNO(getrusage_thread(&usage), "getrusage_thread");
  struct timeval user_cpu_time = usage.ru_utime;
  struct timeval sys_cpu_time = usage.ru_stime;
  fprintf(stderr, "tid: %2d - work time %10llu us - user time: %10llu us - sys: %10llu us\n",
          worker->tid,
          (long long unsigned)worker->time_spent_working / 1000,
          (long long unsigned)(user_cpu_time.tv_sec * 1000000 + user_cpu_time.tv_usec),
          (long long unsigned)(sys_cpu_time.tv_sec * 1000000 + sys_cpu_time.tv_usec));
}

/* Doubles the size of the queue */
static inline int subtask_queue_grow_queue(struct subtask_queue *subtask_queue) {

  int new_capacity = 2 * subtask_queue->capacity;
#ifdef MCDEBUG
  fprintf(stderr, "Growing queue to %d\n", subtask_queue->capacity * 2);
#endif

  struct subtask **new_buffer = calloc(new_capacity, sizeof(struct subtask*));
  for (int i = 0; i < subtask_queue->num_used; i++) {
    new_buffer[i] = subtask_queue->buffer[(subtask_queue->first + i) % subtask_queue->capacity];
  }

  free(subtask_queue->buffer);
  subtask_queue->buffer = new_buffer;
  subtask_queue->capacity = new_capacity;
  subtask_queue->first = 0;

  return 0;
}

// Initialise a job queue with the given capacity.  The queue starts out
// empty.  Returns non-zero on error.
static inline int subtask_queue_init(struct subtask_queue *subtask_queue, int capacity)
{
  assert(subtask_queue != NULL);
  memset(subtask_queue, 0, sizeof(struct subtask_queue));

  subtask_queue->capacity = capacity;
  subtask_queue->buffer = calloc(capacity, sizeof(struct subtask*));
  if (subtask_queue->buffer == NULL) {
    return -1;
  }

  CHECK_ERRNO(pthread_mutex_init(&subtask_queue->mutex, NULL), "pthread_mutex_init");
  CHECK_ERRNO(pthread_cond_init(&subtask_queue->cond, NULL), "pthread_cond_init");

  return 0;
}

// Destroy the job queue.  Blocks until the queue is empty before it
// is destroyed.
static inline int subtask_queue_destroy(struct subtask_queue *subtask_queue)
{
  assert(subtask_queue != NULL);

  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");

  while (subtask_queue->num_used != 0) {
    CHECK_ERR(pthread_cond_wait(&subtask_queue->cond, &subtask_queue->mutex), "pthread_cond_wait");
  }

  // Queue is now empty.  Let's kill it!
  subtask_queue->dead = 1;
  free(subtask_queue->buffer);
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");

  return 0;
}

static inline void dump_queue(struct worker *worker)
{
  struct subtask_queue *subtask_queue = &worker->q;
  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");
  for (int i = 0; i < subtask_queue->num_used; i++) {
    struct subtask * subtask = subtask_queue->buffer[(subtask_queue->first + i) % subtask_queue->capacity];
    printf("queue tid %d with %d task %s\n", worker->tid, i, subtask->name);
  }
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
}

// Push an element onto the end of the job queue.  Blocks if the
// subtask_queue is full (its size is equal to its capacity).  Returns
// non-zero on error.  It is an error to push a job onto a queue that
// has been destroyed.
static inline int subtask_queue_enqueue(struct worker *worker, struct subtask *subtask )
{
  assert(worker != NULL);
  struct subtask_queue *subtask_queue = &worker->q;

#ifdef MCPROFILE
  uint64_t start = get_wall_time();
#endif

  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");
  // Wait until there is room in the subtask_queue.
  while (subtask_queue->num_used == subtask_queue->capacity && !subtask_queue->dead) {
    if (subtask_queue->num_used == subtask_queue->capacity) {
      CHECK_ERR(subtask_queue_grow_queue(subtask_queue), "subtask_queue_grow_queue");
      continue;
    }
    CHECK_ERR(pthread_cond_wait(&subtask_queue->cond, &subtask_queue->mutex), "pthread_cond_wait");
  }

  if (subtask_queue->dead) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return -1;
  }

  // If we made it past the loop, there is room in the subtask_queue.
  subtask_queue->buffer[(subtask_queue->first + subtask_queue->num_used) % subtask_queue->capacity] = subtask;
  subtask_queue->num_used++;

#ifdef MCPROFILE
  uint64_t end = get_wall_time();
  subtask_queue->time_enqueue += (end - start);
  subtask_queue->n_enqueues++;
#endif
  // Broadcast a reader (if any) that there is now an element.
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");

  return 0;
}


/* Like subtask_queue_dequeue, but with two differences:
   1) the subtask is stolen from the __front__ of the queue
   2) returns immediately if there is no subtasks queued,
      as we dont' want to block on another workers queue and
*/
static inline int subtask_queue_steal(struct worker *worker,
                                      struct subtask **subtask)
{
  struct subtask_queue *subtask_queue = &worker->q;
  assert(subtask_queue != NULL);

#ifdef MCPROFILE
  uint64_t start = get_wall_time();
#endif
  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");

  if (subtask_queue->num_used == 0) {
    CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return 1;
  }

  if (subtask_queue->dead) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return -1;
  }

  // Tasks gets stolen from the "front"
  struct subtask *cur_back = subtask_queue->buffer[subtask_queue->first];
  struct subtask *new_subtask = NULL;
  int remaining_iter = cur_back->end - cur_back->start;
  // If subtask is chunkable, we steal half of the iterations
  if (cur_back->chunkable && remaining_iter > 1) {
      int64_t half = remaining_iter / 2;
      new_subtask = malloc(sizeof(struct subtask));
      *new_subtask = *cur_back;
      new_subtask->start = cur_back->end - half;
      cur_back->end = new_subtask->start;
      __atomic_fetch_add(cur_back->counter, 1, __ATOMIC_RELAXED);
  } else {
    new_subtask = cur_back;
    subtask_queue->num_used--;
    subtask_queue->first = (subtask_queue->first + 1) % subtask_queue->capacity;
  }
  *subtask = new_subtask;

  if (*subtask == NULL) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthred_mutex_unlock");
    return 1;
  }

#ifdef MCPROFILE
  uint64_t end = get_wall_time();
  subtask_queue->time_dequeue += (end - start);
  subtask_queue->n_dequeues++;
#endif

  // Broadcast a writer (if any) that there is now room for more.
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");

  return 0;
}


// Pop an element from the back of the job queue.
// Optional argument can be provided to block or not
static inline int subtask_queue_dequeue(struct worker *worker,
                                        struct subtask **subtask, int blocking)
{
  assert(worker != NULL);
  struct subtask_queue *subtask_queue = &worker->q;

#ifdef MCPROFILE
  uint64_t start = get_wall_time();
#endif

  CHECK_ERR(pthread_mutex_lock(&subtask_queue->mutex), "pthread_mutex_lock");
  if (subtask_queue->num_used == 0 && !blocking) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return 1;
  }
  // Try to steal some work while the subtask_queue is empty
  while (subtask_queue->num_used == 0 && !subtask_queue->dead) {
    pthread_cond_wait(&subtask_queue->cond, &subtask_queue->mutex);
  }

  if (subtask_queue->dead) {
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");
    return -1;
  }

  // dequeue pops from the back
  *subtask = subtask_queue->buffer[(subtask_queue->first + subtask_queue->num_used - 1) % subtask_queue->capacity];
  subtask_queue->num_used--;

  if (*subtask == NULL) {
    assert(!"got NULL ptr");
    CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthred_mutex_unlock");
    return -1;
  }

#ifdef MCPROFILE
  uint64_t end = get_wall_time();
  subtask_queue->time_dequeue += (end - start);
  subtask_queue->n_dequeues++;
#endif

  // Broadcast a writer (if any) that there is now room for more.
  CHECK_ERR(pthread_cond_broadcast(&subtask_queue->cond), "pthread_cond_broadcast");
  CHECK_ERR(pthread_mutex_unlock(&subtask_queue->mutex), "pthread_mutex_unlock");

  return 0;
}

static inline int subtask_queue_is_empty(struct subtask_queue *subtask_queue)
{
  return subtask_queue->num_used == 0;
}

/* Scheduler definitions */

struct scheduler {
  struct worker *workers;
  int num_threads;
  int minimum_chunk_size;


  // If there is work to steal => active_work > 0
  volatile int active_work;

  // Only one error can be returned at the time now.  Maybe we can
  // provide a stack like structure for pushing errors onto if we wish
  // to backpropagte multiple errors
  volatile int error;

  // kappa time unit in nanoseconds
  double kappa;
};


// Thread local variable worker struct
// Note that, accesses to tls variables are expensive
// Minimize direct references to this variable
__thread struct worker* worker_local = NULL;

static int64_t total_now(int64_t total, int64_t time) {
  return total + (get_wall_time_ns() - time);
}

static int random_other_worker(struct scheduler *scheduler, int my_id) {
  int my_num_workers = scheduler->num_threads;
  assert(my_num_workers != 1);
  int i = fast_rand() % (my_num_workers - 1);
  if (i >= my_id) {
    i++;
  }
#ifdef MCDEBUG
  assert(i >= 0);
  assert(i < my_num_workers);
  assert(i != my_id);
#endif

  return i;
}

static inline int64_t compute_chunk_size(int64_t minimum_chunk_size, double kappa, struct subtask* subtask)
{
  double C = (double)*subtask->task_time / (double)*subtask->task_iter;
  if (C == 0.0F) C += DBL_EPSILON;
  return smax64((int64_t)(kappa / C), minimum_chunk_size);
}

/* Takes a chunk from subtask and enqueues the remaining iterations onto the worker's queue */
/* A no-op if the subtask is not chunkable */
static inline struct subtask* chunk_subtask(struct worker* worker, struct subtask *subtask)
{
  if (subtask->chunkable) {
    // Do we have information from previous runs avaliable
    if (*subtask->task_iter > 0) {
      subtask->chunk_size = compute_chunk_size(worker->scheduler->minimum_chunk_size,
                                               worker->scheduler->kappa,
                                               subtask);
      assert(subtask->chunk_size > 0);
    }
    int64_t remaining_iter = subtask->end - subtask->start;
    assert(remaining_iter > 0);
    if (remaining_iter > subtask->chunk_size) {
      struct subtask *new_subtask = malloc(sizeof(struct subtask));
      *new_subtask = *subtask;
      // increment the subtask join counter to account for new subtask
      __atomic_fetch_add(subtask->counter, 1, __ATOMIC_RELAXED);
      // Update range parameters
      subtask->end = subtask->start + subtask->chunk_size;
      new_subtask->start = subtask->end;
      subtask_queue_enqueue(worker, new_subtask);
    }
  }
  return subtask;
}

static inline int run_subtask(struct worker* worker, struct subtask* subtask)
{
  assert(subtask != NULL);
  assert(worker != NULL);

  subtask = chunk_subtask(worker, subtask);
  worker->total = 0;
  worker->timer = get_wall_time_ns();
#if defined(MCPROFILE)
  int64_t start = worker->timer;
#endif
  worker->nested++;
  int err = subtask->fn(subtask->args, subtask->start, subtask->end,
                        subtask->id,
                        worker->tid);
  worker->nested--;
  // Some error occured during some other subtask
  // so we just clean-up and return
  if (worker->scheduler->error != 0) {
    // Even a failed task counts as finished.
    __atomic_fetch_sub(subtask->counter, 1, __ATOMIC_RELAXED);
    free(subtask);
    return 0;
  }
  if (err != 0) {
    __atomic_store_n(&worker->scheduler->error, err, __ATOMIC_RELAXED);
  }
  // Total sequential time spent
  int64_t time_elapsed = total_now(worker->total, worker->timer);
#if defined(MCPROFILE)
  worker->time_spent_working += get_wall_time_ns() - start;
#endif
  int64_t iter = subtask->end - subtask->start;
  // report measurements
  // These updates should really be done using a single atomic CAS operation
  __atomic_fetch_add(subtask->task_time, time_elapsed, __ATOMIC_RELAXED);
  __atomic_fetch_add(subtask->task_iter, iter, __ATOMIC_RELAXED);
  // We need a fence here, since if the counter is decremented before either
  // of the two above are updated bad things can happen, e.g. if they are stack-allocated
  __atomic_thread_fence(__ATOMIC_SEQ_CST);
  __atomic_fetch_sub(subtask->counter, 1, __ATOMIC_RELAXED);
  free(subtask);
  return 0;
}


static inline int is_small(struct scheduler_segop *task, struct scheduler *scheduler, int *nsubtasks)
{
  int64_t time = *task->task_time;
  int64_t iter = *task->task_iter;

  if (task->sched == DYNAMIC || iter == 0) {
    *nsubtasks = scheduler->num_threads;
    return 0;
  }

  // Estimate the constant C
  double C = (double)time / (double)iter;
  double cur_task_iter = (double) task->iterations;

  // Returns true if the task is small i.e.
  // if the number of iterations times C is smaller
  // than the overhead of subtask creation
  if (C == 0.0F || C * cur_task_iter < scheduler->kappa) {
    *nsubtasks = 1;
    return 1;
  }

  // Else compute how many subtasks this tasks should create
  int64_t min_iter_pr_subtask = smax64(scheduler->kappa / C, 1);
  *nsubtasks = smin64(smax64(task->iterations / min_iter_pr_subtask, 1), scheduler->num_threads);

  return 0;
}

// TODO make this prettier
static inline struct subtask* create_subtask(parloop_fn fn,
                                             void* args,
                                             const char* name,
                                             volatile int* counter,
                                             int64_t *timer,
                                             int64_t *iter,
                                             int64_t start, int64_t end,
                                             int chunkable,
                                             int64_t chunk_size,
                                             int id)
{
  struct subtask* subtask = malloc(sizeof(struct subtask));
  if (subtask == NULL) {
    assert(!"malloc failed in create_subtask");
    return NULL;
  }
  subtask->fn         = fn;
  subtask->args       = args;

  subtask->counter    = counter;
  subtask->task_time  = timer;
  subtask->task_iter  = iter;

  subtask->start      = start;
  subtask->end        = end;
  subtask->id         = id;
  subtask->chunkable  = chunkable;
  subtask->chunk_size = chunk_size;

  subtask->name       = name;
  return subtask;
}

static int dummy_counter = 0;
static int64_t dummy_timer = 0;
static int64_t dummy_iter = 0;

static int dummy_fn(void *args, int64_t start, int64_t end, int subtask_id, int tid) {
  (void)args;
  (void)start;
  (void)end;
  (void)subtask_id;
  (void)tid;
  return 0;
}

// Wake up threads, who are blocking by pushing a dummy task
// onto their queue
static inline void wake_up_threads(struct scheduler *scheduler, int start_tid, int end_tid) {

#if defined(MCDEBUG)
  assert(start_tid >= 1);
  assert(end_tid <= scheduler->num_threads);
#endif
  for (int i = start_tid; i < end_tid; i++) {
    struct subtask *subtask = create_subtask(dummy_fn, NULL, "dummy_fn",
                                            &dummy_counter,
                                            &dummy_timer, &dummy_iter,
                                            0, 0,
                                            0, 0,
                                            0);
    CHECK_ERR(subtask_queue_enqueue(&scheduler->workers[i], subtask), "subtask_queue_enqueue");
  }
}

static inline int is_finished(struct worker *worker) {
  return worker->dead && subtask_queue_is_empty(&worker->q);
}

// Try to steal from a random queue
static inline int steal_from_random_worker(struct worker* worker)
{
  int my_id = worker->tid;
  struct scheduler* scheduler = worker->scheduler;
  int k = random_other_worker(scheduler, my_id);
  struct worker *worker_k = &scheduler->workers[k];
  struct subtask* subtask =  NULL;
  int retval = subtask_queue_steal(worker_k, &subtask);
  if (retval == 0) {
    subtask_queue_enqueue(worker, subtask);
    return 1;
  }
  return 0;
}


static inline void *scheduler_worker(void* args)
{
  struct worker *worker = (struct worker*) args;
  struct scheduler *scheduler = worker->scheduler;
  worker_local = worker;
  struct subtask *subtask = NULL;

  while(!is_finished(worker)) {
    if (!subtask_queue_is_empty(&worker->q)) {
      int retval = subtask_queue_dequeue(worker, &subtask, 0);
      if (retval == 0) {
        assert(subtask != NULL);
        CHECK_ERR(run_subtask(worker, subtask), "run_subtask");
      } // else someone stole our work

    } else if (scheduler->active_work) { /* steal */
      while (!is_finished(worker) && scheduler->active_work) {
        if (steal_from_random_worker(worker)) {
          break;
        }
      }
    } else { /* go back to sleep and wait for work */
      int retval = subtask_queue_dequeue(worker, &subtask, 1);
      if (retval == 0) {
        assert(subtask != NULL);
        CHECK_ERR(run_subtask(worker, subtask), "run_subtask");
      }
    }
  }

  assert(subtask_queue_is_empty(&worker->q));
#if defined(MCPROFILE)
  if (worker->output_usage)
    output_worker_usage(worker);
#endif
  return NULL;
}


static inline int scheduler_execute_parloop(struct scheduler *scheduler,
                                            struct scheduler_parloop *task,
                                            int64_t *timer)
{

  struct worker *worker = worker_local;

  struct scheduler_info info = task->info;
  int64_t iter_pr_subtask = info.iter_pr_subtask;
  int64_t remainder = info.remainder;
  int nsubtasks = info.nsubtasks;
  volatile int join_counter = nsubtasks;

  // Shared timer used to sum up all
  // sequential work from each subtask
  int64_t task_timer = 0;
  int64_t task_iter = 0;

  enum scheduling sched = info.sched;
  /* If each subtasks should be processed in chunks */
  int chunkable = sched == STATIC ? 0 : 1;
  int64_t chunk_size = scheduler->minimum_chunk_size; // The initial chunk size when no info is avaliable


  if (info.wake_up_threads || sched == DYNAMIC)
    __atomic_add_fetch(&scheduler->active_work, nsubtasks, __ATOMIC_RELAXED);

  int64_t start = 0;
  int64_t end = iter_pr_subtask + (int64_t)(remainder != 0);
  for (int subtask_id = 0; subtask_id < nsubtasks; subtask_id++) {
    struct subtask *subtask = create_subtask(task->fn, task->args, task->name,
                                              &join_counter,
                                              &task_timer, &task_iter,
                                              start, end,
                                              chunkable, chunk_size,
                                              subtask_id);
    assert(subtask != NULL);
    // In most cases we will never have more subtasks than workers,
    // but there can be exceptions (e.g. the kappa tuning function).
    struct worker *subtask_worker =
      worker->nested
      ? &scheduler->workers[worker->tid]
      : &scheduler->workers[subtask_id % scheduler->num_threads];
    CHECK_ERR(subtask_queue_enqueue(subtask_worker, subtask),
              "subtask_queue_enqueue");
    // Update range params
    start = end;
    end += iter_pr_subtask + ((subtask_id + 1) < remainder);
  }

  if (info.wake_up_threads) {
    wake_up_threads(scheduler, nsubtasks, scheduler->num_threads);
  }

  // Join (wait for subtasks to finish)
  while(join_counter != 0) {
    if (!subtask_queue_is_empty(&worker->q)) {
      struct subtask *subtask = NULL;
      int err = subtask_queue_dequeue(worker, &subtask, 0);
      if (err == 0 ) {
        CHECK_ERR(run_subtask(worker, subtask), "run_subtask");
      }
    } else {
      if (steal_from_random_worker(worker)) {
        struct subtask *subtask = NULL;
        int err = subtask_queue_dequeue(worker, &subtask, 0);
        if (err == 0) {
          CHECK_ERR(run_subtask(worker, subtask), "run_subtask");
        }
      }
    }
  }


  if (info.wake_up_threads || sched == DYNAMIC) {
    __atomic_sub_fetch(&scheduler->active_work, nsubtasks, __ATOMIC_RELAXED);
  }

  // Write back timing results of all sequential work
  (*timer) += task_timer;
  return scheduler->error;
}


static inline int scheduler_execute_task(struct scheduler *scheduler,
                                         struct scheduler_parloop *task)
{

  struct worker *worker = worker_local;

  int err = 0;

  // How much sequential work was performed by the task
  int64_t task_timer = 0;

  /* Execute task sequential or parallel based on decision made earlier */
  if (task->info.nsubtasks == 1) {
    int64_t start = get_wall_time_ns();
    err = task->fn(task->args, 0, task->iterations, 0, worker->tid);
    int64_t end = get_wall_time_ns();
    task_timer = end - start;
    worker->time_spent_working += task_timer;
    // Report time measurements
    // TODO the update of both of these should really be a single atomic!!
    __atomic_fetch_add(task->info.task_time, task_timer, __ATOMIC_RELAXED);
    __atomic_fetch_add(task->info.task_iter, task->iterations, __ATOMIC_RELAXED);
  } else {
    // Add "before" time if we already are inside a task
    int64_t time_before = 0;
    if (worker->nested > 0) {
      time_before = total_now(worker->total, worker->timer);
    }

    err = scheduler_execute_parloop(scheduler, task, &task_timer);

    // Report time measurements
    // TODO the update of both of these should really be a single atomic!!
    __atomic_fetch_add(task->info.task_time, task_timer, __ATOMIC_RELAXED);
    __atomic_fetch_add(task->info.task_iter, task->iterations, __ATOMIC_RELAXED);

    // Update timers to account for new timings
    worker->total = time_before + task_timer;
    worker->timer = get_wall_time_ns();
  }


  return err;
}

/* Decide on how schedule the incoming task i.e. how many subtasks and
   to run sequential or (potentially nested) parallel code body */
static inline int scheduler_prepare_task(struct scheduler* scheduler,
                                         struct scheduler_segop *task)
{
  assert(task != NULL);

  struct worker *worker = worker_local;
  struct scheduler_info info;
  info.task_time = task->task_time;
  info.task_iter = task->task_iter;

  int nsubtasks;
  // Decide if task should be scheduled sequentially
  if (is_small(task, scheduler, &nsubtasks)) {
    info.iter_pr_subtask = task->iterations;
    info.remainder = 0;
    info.nsubtasks = nsubtasks;
    return task->top_level_fn(task->args, task->iterations, worker->tid, info);
  } else {
    info.iter_pr_subtask = task->iterations / nsubtasks;
    info.remainder = task->iterations % nsubtasks;
    info.sched = task->sched;
    switch (task->sched) {
    case STATIC:
      info.nsubtasks = info.iter_pr_subtask == 0 ? info.remainder : ((task->iterations - info.remainder) / info.iter_pr_subtask);
      break;
    case DYNAMIC:
      // As any thread can take any subtasks, we are being safe with using
      // an upper bound on the number of tasks such that the task allocate enough memory
      info.nsubtasks = info.iter_pr_subtask == 0 ? info.remainder : nsubtasks;
      break;
    default:
      assert(!"Got unknown scheduling");
    }
  }

  info.wake_up_threads = 0;
  // We only use the nested parallel segop function if we can't exchaust all cores
  // using the outer most level
  if (task->nested_fn != NULL && info.nsubtasks < scheduler->num_threads && info.nsubtasks == task->iterations) {
    if (worker->nested == 0)
      info.wake_up_threads = 1;
    return task->nested_fn(task->args, task->iterations, worker->tid, info);
  }

  return task->top_level_fn(task->args, task->iterations, worker->tid, info);
}

// Now some code for finding the proper value of kappa on a given
// machine (the smallest amount of work that amortises the cost of
// task creation).

struct tuning_struct {
  int32_t *free_tuning_res;
  int32_t *array;
};

// Reduction function over an integer array
static int tuning_loop(void *args, int64_t start, int64_t end,
                                     int flat_tid, int tid) {
  (void)flat_tid;
  (void)tid;

  int err = 0;
  struct tuning_struct *tuning_struct = (struct tuning_struct *) args;
  int32_t *array = tuning_struct->array;
  int32_t *tuning_res = tuning_struct->free_tuning_res;

  int32_t sum = 0;
  for (int i = start; i < end; i++) {
    int32_t y = array[i];
    sum = add32(sum, y);
  }
  *tuning_res = sum;
  return err;
}

// The main entry point for the tuning process.  Sets the provided
// variable ``kappa``.
static int determine_kappa(double *kappa) {
  int err = 0;

  int64_t iterations = 100000000;
  int64_t tuning_time = 0;
  int64_t tuning_iter = 0;

  int32_t *array = malloc(sizeof(int32_t) * iterations);
  for (int64_t i = 0; i < iterations; i++) {
    array[i] = fast_rand();
  }

  int64_t start_tuning = get_wall_time_ns();
  /* **************************** */
  /* Run sequential reduce first' */
  /* **************************** */
  int64_t tuning_sequentiual_start = get_wall_time_ns();
  struct tuning_struct tuning_struct;
  int32_t tuning_res;
  tuning_struct.free_tuning_res = &tuning_res;
  tuning_struct.array = array;

  err = tuning_loop(&tuning_struct, 0, iterations, 0, 0);
  int64_t tuning_sequentiual_end = get_wall_time_ns();
  int64_t sequential_elapsed = tuning_sequentiual_end - tuning_sequentiual_start;

  double C = (double)sequential_elapsed / (double)iterations;
  fprintf(stderr, " Time for sequential run is %lld - Found C %f\n", (long long)sequential_elapsed, C);

  /* ********************** */
  /* Now run tuning process */
  /* ********************** */
  // Setup a scheduler with a single worker
  struct scheduler scheduler;
  scheduler.num_threads = 1;
  scheduler.workers = malloc(sizeof(struct worker));
  worker_local = &scheduler.workers[0];
  worker_local->tid = 0;
  CHECK_ERR(subtask_queue_init(&scheduler.workers[0].q, 1024),
            "failed to init queue for worker %d\n", 0);

  // Start tuning for kappa
  double kappa_tune = 1000; // Initial kappa is 1 us
  double ratio;
  int64_t time_elapsed;
  while(1) {
    int64_t min_iter_pr_subtask = (int64_t) (kappa_tune / C) == 0 ? 1 : (kappa_tune / C);
    int nsubtasks = iterations / min_iter_pr_subtask;
    struct scheduler_info info;
    info.iter_pr_subtask = min_iter_pr_subtask;

    info.nsubtasks = iterations / min_iter_pr_subtask;
    info.remainder = iterations % min_iter_pr_subtask;
    info.task_time = &tuning_time;
    info.task_iter = &tuning_iter;
    info.sched = STATIC;

    struct scheduler_parloop parloop;
    parloop.name = "tuning_loop";
    parloop.fn = tuning_loop;
    parloop.args = &tuning_struct;
    parloop.iterations = iterations;
    parloop.info = info;

    int64_t tuning_chunked_start = get_wall_time_ns();
    int determine_kappa_err =
      scheduler_execute_task(&scheduler,
                             &parloop);
    assert(determine_kappa_err == 0);
    int64_t tuning_chunked_end = get_wall_time_ns();
    time_elapsed =  tuning_chunked_end - tuning_chunked_start;

    ratio = (double)time_elapsed / (double)sequential_elapsed;
    if (ratio < 1.055) {
      break;
    }
    kappa_tune += 100; // Increase by 100 ns at the time
    fprintf(stderr, "nsubtask %d - kappa %f - ratio %f\n", nsubtasks, kappa_tune, ratio);
  }

  int64_t end_tuning = get_wall_time_ns();
  fprintf(stderr, "tuning took %lld ns and found kappa %f - time %lld - ratio %f\n",
          (long long)end_tuning - start_tuning,
          kappa_tune,
          (long long)time_elapsed,
          ratio);
  *kappa = kappa_tune;

  // Clean-up
  CHECK_ERR(subtask_queue_destroy(&scheduler.workers[0].q), "failed to destroy queue");
  free(array);
  free(scheduler.workers);
  return err;
}

static int scheduler_init(struct scheduler *scheduler,
                          int num_workers,
                          double kappa) {
#ifdef FUTHARK_BACKEND_ispc
  int64_t get_gang_size();
  scheduler->minimum_chunk_size = get_gang_size();
#else
  scheduler->minimum_chunk_size = 1;
#endif

  assert(num_workers > 0);

  scheduler->kappa = kappa;
  scheduler->num_threads = num_workers;
  scheduler->active_work = 0;
  scheduler->error = 0;

  scheduler->workers = calloc(num_workers, sizeof(struct worker));

  const int queue_capacity = 1024;

  worker_local = &scheduler->workers[0];
  worker_local->tid = 0;
  worker_local->scheduler = scheduler;
  CHECK_ERR(subtask_queue_init(&worker_local->q, queue_capacity),
            "failed to init queue for worker %d\n", 0);

  for (int i = 1; i < num_workers; i++) {
    struct worker *cur_worker = &scheduler->workers[i];
    memset(cur_worker, 0, sizeof(struct worker));
    cur_worker->tid = i;
    cur_worker->output_usage = 0;
    cur_worker->scheduler = scheduler;
    CHECK_ERR(subtask_queue_init(&cur_worker->q, queue_capacity),
              "failed to init queue for worker %d\n", i);

    CHECK_ERR(pthread_create(&cur_worker->thread,
                             NULL,
                             &scheduler_worker,
                             cur_worker),
              "Failed to create worker %d\n", i);
  }

  return 0;
}

static int scheduler_destroy(struct scheduler *scheduler) {
  // We assume that this function is called by the thread controlling
  // the first worker, which is why we treat scheduler->workers[0]
  // specially here.

  // First mark them all as dead.
  for (int i = 1; i < scheduler->num_threads; i++) {
    struct worker *cur_worker = &scheduler->workers[i];
    cur_worker->dead = 1;
  }

  // Then destroy their task queues (this will wake up the threads and
  // make them do their shutdown).
  for (int i = 1; i < scheduler->num_threads; i++) {
    struct worker *cur_worker = &scheduler->workers[i];
    subtask_queue_destroy(&cur_worker->q);
  }

  // Then actually wait for them to stop.
  for (int i = 1; i < scheduler->num_threads; i++) {
    struct worker *cur_worker = &scheduler->workers[i];
    CHECK_ERR(pthread_join(scheduler->workers[i].thread, NULL), "pthread_join");
  }

  // And then destroy our own queue.
  subtask_queue_destroy(&scheduler->workers[0].q);

  free(scheduler->workers);

  return 0;
}

// End of scheduler.h

<<<<<<< HEAD
// End of opencl.h.

static const char *opencl_program[] = {"\n// Clang-based OpenCL implementations need this for 'static' to work.\n#ifdef cl_clang_storage_class_specifiers\n#pragma OPENCL EXTENSION cl_clang_storage_class_specifiers : enable\n#endif\n#pragma OPENCL EXTENSION cl_khr_byte_addressable_store : enable\n\n// Some OpenCL programs dislike empty progams, or programs with no kernels.\n// Declare a dummy kernel to ensure they remain our friends.\n__kernel void dummy_kernel(__global unsigned char *dummy, int n)\n{\n    const int thread_gid = get_global_id(0);\n    if (thread_gid >= n) return;\n}\n\n#pragma OPENCL EXTENSION cl_khr_int64_base_atomics : enable\n#pragma OPENCL EXTENSION cl_khr_int64_extended_atomics : enable\n\ntypedef char int8_t;\ntypedef short int16_t;\ntypedef int int32_t;\ntypedef long int64_t;\n\ntypedef uchar uint8_t;\ntypedef ushort uint16_t;\ntypedef uint uint32_t;\ntypedef ulong uint64_t;\n\n// NVIDIAs OpenCL does not create device-wide memory fences (see #734), so we\n// use inline assembly if we detect we are on an NVIDIA GPU.\n#ifdef cl_nv_pragma_unroll\nstatic inline void mem_fence_global() {\n  asm(\"membar.gl;\");\n}\n#else\nstatic inline void mem_fence_global() {\n  mem_fence(CLK_LOCAL_MEM_FENCE | CLK_GLOBAL_MEM_FENCE);\n}\n#endif\nstatic inline void mem_fence_local() {\n  mem_fence(CLK_LOCAL_MEM_FENCE);\n}\n// Start of half.h.\n\n// Conversion functions are from http://half.sourceforge.net/, but\n// translated to C.\n//\n// Copyright (c) 2012-2021 Christian Rau\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Softwa", "re.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n#ifndef __OPENCL_VERSION__\n#define __constant\n#endif\n\n__constant static const uint16_t base_table[512] = {\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,\n  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,\n  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C0", "0, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,\n  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,\n  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC0",
                                       "0, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };\n\n__constant static const unsigned char shift_table[512] = {\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 2", "4, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };\n\n__constant static const uint32_t mantissa_table[2048] = {\n  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,\n  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,\n  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,\n  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,\n  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,\n  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA00", "00, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,\n  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,\n  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,\n  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,\n  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,\n  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,\n  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,\n  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,\n  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,\n  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,\n  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A00",
                                       "00, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,\n  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,\n  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,\n  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,\n  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,\n  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,\n  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,\n  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,\n  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,\n  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,\n  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF80", "00,\n  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,\n  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,\n  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,\n  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,\n  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,\n  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,\n  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,\n  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,\n  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,\n  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,\n  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x3811", "0000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,\n  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,\n  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,\n  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,\n  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,\n  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,\n  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,\n  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,\n  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,\n  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,\n  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A",
                                       "4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,\n  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,\n  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,\n  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,\n  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,\n  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,\n  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,\n  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,\n  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,\n  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,\n  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x3863", "8000, 0x3863C000,\n  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,\n  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,\n  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,\n  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,\n  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,\n  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,\n  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,\n  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,\n  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,\n  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,\n  0x38060000, 0x38062000, 0x38064000, 0x38", "066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,\n  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,\n  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,\n  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,\n  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,\n  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,\n  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,\n  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,\n  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,\n  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,\n  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x38",
                                       "1B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,\n  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,\n  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,\n  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,\n  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,\n  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,\n  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,\n  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,\n  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,\n  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,\n  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x38", "2FA000, 0x382FC000, 0x382FE000,\n  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,\n  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,\n  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,\n  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,\n  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,\n  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,\n  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,\n  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,\n  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,\n  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,\n  0x38440000, 0x38442000, 0x", "38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,\n  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,\n  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,\n  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,\n  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,\n  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,\n  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,\n  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,\n  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,\n  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,\n  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x",
                                       "3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,\n  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,\n  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,\n  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,\n  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,\n  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,\n  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,\n  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,\n  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,\n  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,\n  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x", "386D8000, 0x386DA000, 0x386DC000, 0x386DE000,\n  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,\n  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,\n  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,\n  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,\n  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,\n  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,\n  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,\n  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,\n  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };\n__constant static const uint32_t exponent_table[64] = {\n  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06", "000000, 0x06800000, 0x07000000, 0x07800000,\n  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,\n  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,\n  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };\n__constant static const unsigned short offset_table[64] = {\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };\n\nstatic uint16_t float2halfbits(float value) {\n  union { float x; uint32_t y; } u;\n  u.x = value;\n  uint32_t bits = u.y;\n\n  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;\n\n  return hbits;\n}\n\nstatic float halfbits2float(uint16_t value) {\n  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];\n\n  union { uint32_t x; float y; } u;\n  u.x = bits;\n  return u.y;\n}\n\nstatic uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {\n  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;\n  if(fabs > 0x7C00 || tabs > 0x7C00) {\n    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);\n  }\n  if(from == to || !(fabs|tabs)) {\n    return to;\n  }\n  if(!fabs) {\n    return (to&0x8000)+1;\n  }\n  unsigned int out =\n    from +\n    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)\n    - 1;\n  return out;",
                                       "\n}\n\n// End of half.h.\n// Start of scalar.h.\n\n// Implementation of the primitive scalar operations.  Very\n// repetitive.  This code is inserted directly into both CUDA and\n// OpenCL programs, as well as the CPU code, so it has some #ifdefs to\n// work everywhere.  Some operations are defined as macros because\n// this allows us to use them as constant expressions in things like\n// array sizes and static initialisers.\n\n// Some of the #ifdefs are because OpenCL uses type-generic functions\n// for some operations (e.g. sqrt), while C and CUDA sensibly use\n// distinct functions for different precisions (e.g. sqrtf() and\n// sqrt()).  This is quite annoying.  Due to C's unfortunate casting\n// rules, it is also really easy to accidentally implement\n// floating-point functions in the wrong precision, so be careful.\n\n// Double-precision definitions are only included if the preprocessor\n// macro FUTHARK_F64_ENABLED is set.\n\nstatic inline uint8_t add8(uint8_t x, uint8_t y) {\n  return x + y;\n}\n\nstatic inline uint16_t add16(uint16_t x, uint16_t y) {\n  return x + y;\n}\n\nstatic inline uint32_t add32(uint32_t x, uint32_t y) {\n  return x + y;\n}\n\nstatic inline uint64_t add64(uint64_t x, uint64_t y) {\n  return x + y;\n}\n\nstatic inline uint8_t sub8(uint8_t x, uint8_t y) {\n  return x - y;\n}\n\nstatic inline uint16_t sub16(uint16_t x, uint16_t y) {\n  return x - y;\n}\n\nstatic inline uint32_t sub32(uint32_t x, uint32_t y) {\n  return x - y;\n}\n\nstatic inline uint64_t sub64(uint64_t x, uint64_t y) {\n  return x - y;\n}\n\nstatic inline uint8_t mul8(uint8_t x, uint8_t y) {\n  return x * y;\n}\n\nstatic inline uint16_t mul16(uint16_t x, uint16_t y) {\n  return x * y;\n}\n\nstatic inline uint32_t mul32(uint32_t x, uint32_t y) {\n  return x * y;\n}\n\nstatic inline uint64_t mul64(uint64_t x, uint64_t y) {\n  return x * y;\n}\n\n#if ISPC\n\nstatic inline uint8_t udiv8(uint8_t x, uint8_t y) {\n  // This strange pattern is used to prevent the ISPC compiler from\n  // causing SIGFPEs and bogus results on divisions where inactive lan", "es\n  // have 0-valued divisors. It ensures that any inactive lane instead\n  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nstatic inline uint16_t udiv16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline uint32_t udiv32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n\n  return x / ys;\n}\n\nstatic inline uint64_t udiv64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n\n  return x / ys;\n}\n\nstatic inline uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n\n  return (x + y - 1) / ys;\n}\n\nstatic inline uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return (x + y - 1) / ys;\n}\n\nstatic inline uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return (x + y - 1) / ys;\n}\n\nstatic inline uint64_t udiv_up64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return (x + y - 1) / ys;\n}\n\nstatic inline uint8_t umod8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline uint16_t umod16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n\n  return x % ys;\n}\n\nstatic inline uint32_t umod32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline uint64_t umod64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ", "ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nstatic inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nstatic inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nstatic inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nstatic inline uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int8_t q = x / ys;\n  int8_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int16_t q = x / ys;\n  int16_t r = x % ys;\n\n  return q - ((r != 0",
                                       " && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  int32_t q = x / ys;\n  int32_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int64_t q = x / ys;\n  int64_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up32(int32_t x, int32_t y) {\n  return sdiv32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nstatic inline int8_t smod8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int8_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int16_t smod16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int16_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int32_t smod32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int32_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int64_t smod64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int64_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nstatic inline int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nstatic inline int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nstatic inline int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdi", "v64(x, y);\n}\n\nstatic inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nstatic inline int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nstatic inline int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nstatic inline int32_t smod_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : smod32(x, y);\n}\n\nstatic inline int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nstatic inline int8_t squot8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline int16_t squot16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline int32_t squot32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline int64_t squot64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline int8_t srem8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline int16_t srem16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline int32_t srem32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline int64_t srem64(int64_t x, int64_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline int8_t squot_safe8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline int16_t ", "squot_safe16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline int32_t squot_safe32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline int64_t squot_safe64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline int8_t srem_safe8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline int16_t srem_safe16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline int32_t srem_safe32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline int64_t srem_safe64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\n#else\n\nstatic inline uint8_t udiv8(uint8_t x, uint8_t y) {\n  return x / y;\n}\n\nstatic inline uint16_t udiv16(uint16_t x, uint16_t y) {\n  return x / y;\n}\n\nstatic inline uint32_t udiv32(uint32_t x, uint32_t y) {\n  return x / y;\n}\n\nstatic inline uint64_t udiv64(uint64_t x, uint64_t y) {\n  return x / y;\n}\n\nstatic inline uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint64_t udiv_up64(uint64_t x, uint64_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint8_t umod8(uint8_t x, uint8_t y) {\n  return x % y;\n}\n\nstatic inline uint16_t umod16(uint16_t x, uint16_t y) {\n  return x % y;\n}\n\nstatic inline uint32_t umod32(uint32_t x, uint32_t y) {\n  return x % y;\n}\n\nstatic inline uint64_t umod64(uint64_t x, uint64_t y) {\n  return x % y;\n}\n\nstatic inline uint8_t udiv_safe8(u",
                                       "int8_t x, uint8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t q = x / y;\n  int8_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t q = x / y;\n  int16_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t q = x / y;\n  int32_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t q = x / y;\n  int64_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up32(int32_t x, int32_t y) {\n  return sdiv32(x + y - 1, y);\n}\n\nstatic inline int64", "_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nstatic inline int8_t smod8(int8_t x, int8_t y) {\n  int8_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int16_t smod16(int16_t x, int16_t y) {\n  int16_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int32_t smod32(int32_t x, int32_t y) {\n  int32_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int64_t smod64(int64_t x, int64_t y) {\n  int64_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nstatic inline int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nstatic inline int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nstatic inline int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdiv64(x, y);\n}\n\nstatic inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nstatic inline int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nstatic inline int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nstatic inline int32_t smod_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : smod32(x, y);\n}\n\nstatic inline int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nstatic inline int8_t squot8(int8_t x, int8_t y) {\n  return x / y;\n}\n\nstatic inline int16_t squot16(int16_t x, int16_t y) {\n  return x / y;\n}\n\nstatic inline int32_t squot32(int32", "_t x, int32_t y) {\n  return x / y;\n}\n\nstatic inline int64_t squot64(int64_t x, int64_t y) {\n  return x / y;\n}\n\nstatic inline int8_t srem8(int8_t x, int8_t y) {\n  return x % y;\n}\n\nstatic inline int16_t srem16(int16_t x, int16_t y) {\n  return x % y;\n}\n\nstatic inline int32_t srem32(int32_t x, int32_t y) {\n  return x % y;\n}\n\nstatic inline int64_t srem64(int64_t x, int64_t y) {\n  return x % y;\n}\n\nstatic inline int8_t squot_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int16_t squot_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int32_t squot_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int64_t squot_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int8_t srem_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int16_t srem_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int32_t srem_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int64_t srem_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\n#endif\n\nstatic inline int8_t smin8(int8_t x, int8_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int16_t smin16(int16_t x, int16_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int32_t smin32(int32_t x, int32_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int64_t smin64(int64_t x, int64_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint8_t umin8(uint8_t x, uint8_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint16_t umin16(uint16_t x, uint16_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint32_t umin32(uint32_t x, uint32_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint64_t umin64(uint64_t x, uint64_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int8_t smax8(int8_t x, int8_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline int16_t smax16(int16_t x, int16_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline int32_t smax32(int32_t x, int32_t y) {\n  return x < y ? y : x;\n}\n\ns",
                                       "tatic inline int64_t smax64(int64_t x, int64_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint8_t umax8(uint8_t x, uint8_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint16_t umax16(uint16_t x, uint16_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint32_t umax32(uint32_t x, uint32_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint64_t umax64(uint64_t x, uint64_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint8_t shl8(uint8_t x, uint8_t y) {\n  return (uint8_t)(x << y);\n}\n\nstatic inline uint16_t shl16(uint16_t x, uint16_t y) {\n  return (uint16_t)(x << y);\n}\n\nstatic inline uint32_t shl32(uint32_t x, uint32_t y) {\n  return x << y;\n}\n\nstatic inline uint64_t shl64(uint64_t x, uint64_t y) {\n  return x << y;\n}\n\nstatic inline uint8_t lshr8(uint8_t x, uint8_t y) {\n  return x >> y;\n}\n\nstatic inline uint16_t lshr16(uint16_t x, uint16_t y) {\n  return x >> y;\n}\n\nstatic inline uint32_t lshr32(uint32_t x, uint32_t y) {\n  return x >> y;\n}\n\nstatic inline uint64_t lshr64(uint64_t x, uint64_t y) {\n  return x >> y;\n}\n\nstatic inline int8_t ashr8(int8_t x, int8_t y) {\n  return x >> y;\n}\n\nstatic inline int16_t ashr16(int16_t x, int16_t y) {\n  return x >> y;\n}\n\nstatic inline int32_t ashr32(int32_t x, int32_t y) {\n  return x >> y;\n}\n\nstatic inline int64_t ashr64(int64_t x, int64_t y) {\n  return x >> y;\n}\n\nstatic inline uint8_t and8(uint8_t x, uint8_t y) {\n  return x & y;\n}\n\nstatic inline uint16_t and16(uint16_t x, uint16_t y) {\n  return x & y;\n}\n\nstatic inline uint32_t and32(uint32_t x, uint32_t y) {\n  return x & y;\n}\n\nstatic inline uint64_t and64(uint64_t x, uint64_t y) {\n  return x & y;\n}\n\nstatic inline uint8_t or8(uint8_t x, uint8_t y) {\n  return x | y;\n}\n\nstatic inline uint16_t or16(uint16_t x, uint16_t y) {\n  return x | y;\n}\n\nstatic inline uint32_t or32(uint32_t x, uint32_t y) {\n  return x | y;\n}\n\nstatic inline uint64_t or64(uint64_t x, uint64_t y) {\n  return x | y;\n}\n\nstatic inline uint8_t xor8(uint8_t x, uint8_t y) {\n  return x ^ y;\n}\n\nstatic inline uint16_t xor16(uint16_", "t x, uint16_t y) {\n  return x ^ y;\n}\n\nstatic inline uint32_t xor32(uint32_t x, uint32_t y) {\n  return x ^ y;\n}\n\nstatic inline uint64_t xor64(uint64_t x, uint64_t y) {\n  return x ^ y;\n}\n\nstatic inline bool ult8(uint8_t x, uint8_t y) {\n  return x < y;\n}\n\nstatic inline bool ult16(uint16_t x, uint16_t y) {\n  return x < y;\n}\n\nstatic inline bool ult32(uint32_t x, uint32_t y) {\n  return x < y;\n}\n\nstatic inline bool ult64(uint64_t x, uint64_t y) {\n  return x < y;\n}\n\nstatic inline bool ule8(uint8_t x, uint8_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule16(uint16_t x, uint16_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule32(uint32_t x, uint32_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule64(uint64_t x, uint64_t y) {\n  return x <= y;\n}\n\nstatic inline bool slt8(int8_t x, int8_t y) {\n  return x < y;\n}\n\nstatic inline bool slt16(int16_t x, int16_t y) {\n  return x < y;\n}\n\nstatic inline bool slt32(int32_t x, int32_t y) {\n  return x < y;\n}\n\nstatic inline bool slt64(int64_t x, int64_t y) {\n  return x < y;\n}\n\nstatic inline bool sle8(int8_t x, int8_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle16(int16_t x, int16_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle32(int32_t x, int32_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle64(int64_t x, int64_t y) {\n  return x <= y;\n}\n\nstatic inline uint8_t pow8(uint8_t x, uint8_t y) {\n  uint8_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint16_t pow16(uint16_t x, uint16_t y) {\n  uint16_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint32_t pow32(uint32_t x, uint32_t y) {\n  uint32_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint64_t pow64(uint64_t x, uint64_t y) {\n  uint64_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    ", "x *= x;\n  }\n  return res;\n}\n\nstatic inline bool itob_i8_bool(int8_t x) {\n  return x != 0;\n}\n\nstatic inline bool itob_i16_bool(int16_t x) {\n  return x != 0;\n}\n\nstatic inline bool itob_i32_bool(int32_t x) {\n  return x != 0;\n}\n\nstatic inline bool itob_i64_bool(int64_t x) {\n  return x != 0;\n}\n\nstatic inline int8_t btoi_bool_i8(bool x) {\n  return x;\n}\n\nstatic inline int16_t btoi_bool_i16(bool x) {\n  return x;\n}\n\nstatic inline int32_t btoi_bool_i32(bool x) {\n  return x;\n}\n\nstatic inline int64_t btoi_bool_i64(bool x) {\n  return x;\n}\n\n#define sext_i8_i8(x) ((int8_t) (int8_t) (x))\n#define sext_i8_i16(x) ((int16_t) (int8_t) (x))\n#define sext_i8_i32(x) ((int32_t) (int8_t) (x))\n#define sext_i8_i64(x) ((int64_t) (int8_t) (x))\n#define sext_i16_i8(x) ((int8_t) (int16_t) (x))\n#define sext_i16_i16(x) ((int16_t) (int16_t) (x))\n#define sext_i16_i32(x) ((int32_t) (int16_t) (x))\n#define sext_i16_i64(x) ((int64_t) (int16_t) (x))\n#define sext_i32_i8(x) ((int8_t) (int32_t) (x))\n#define sext_i32_i16(x) ((int16_t) (int32_t) (x))\n#define sext_i32_i32(x) ((int32_t) (int32_t) (x))\n#define sext_i32_i64(x) ((int64_t) (int32_t) (x))\n#define sext_i64_i8(x) ((int8_t) (int64_t) (x))\n#define sext_i64_i16(x) ((int16_t) (int64_t) (x))\n#define sext_i64_i32(x) ((int32_t) (int64_t) (x))\n#define sext_i64_i64(x) ((int64_t) (int64_t) (x))\n#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))\n#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))\n#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))\n#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))\n#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))\n#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))\n#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))\n#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))\n#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))\n#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))\n#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))\n#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))\n#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))\n#define zext_i64_i16(x) ((int16_t) (",
                                       "uint64_t) (x))\n#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))\n#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))\n\nstatic int8_t abs8(int8_t x) {\n  return (int8_t)abs(x);\n}\n\nstatic int16_t abs16(int16_t x) {\n  return (int16_t)abs(x);\n}\n\nstatic int32_t abs32(int32_t x) {\n  return abs(x);\n}\n\nstatic int64_t abs64(int64_t x) {\n#if defined(__OPENCL_VERSION__) || defined(ISPC)\n  return abs(x);\n#else\n  return llabs(x);\n#endif\n}\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_popc8(int8_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc16(int16_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc32(int32_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc64(int64_t x) {\n  return popcount(x);\n}\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_popc8(int8_t x) {\n  return __popc(zext_i8_i32(x));\n}\n\nstatic int32_t futrts_popc16(int16_t x) {\n  return __popc(zext_i16_i32(x));\n}\n\nstatic int32_t futrts_popc32(int32_t x) {\n  return __popc(x);\n}\n\nstatic int32_t futrts_popc64(int64_t x) {\n  return __popcll(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nstatic int32_t futrts_popc8(uint8_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc16(uint16_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc32(uint32_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc64(uint64_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  return mul_hi(a, b);\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {\n  return mul_hi(a, b);\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {\n  return mul_hi(a, b);\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  return mul_hi(a, b);\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  uint16_t aa = a;\n  uint16_t bb = b;\n\n  retu", "rn aa * bb >> 8;\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {\n  uint32_t aa = a;\n  uint32_t bb = b;\n\n  return aa * bb >> 16;\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {\n  return mulhi(a, b);\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  return mul64hi(a, b);\n}\n\n#elif ISPC\n\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  uint16_t aa = a;\n  uint16_t bb = b;\n\n  return aa * bb >> 8;\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {\n  uint32_t aa = a;\n  uint32_t bb = b;\n\n  return aa * bb >> 16;\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {\n  uint64_t aa = a;\n  uint64_t bb = b;\n\n  return aa * bb >> 32;\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  uint64_t ah = a >> 32;\n  uint64_t al = a & 0xffffffff;\n  uint64_t bh = b >> 32;\n  uint64_t bl = b & 0xffffffff;\n\n  uint64_t p1 = al * bl;\n  uint64_t p2 = al * bh;\n  uint64_t p3 = ah * bl;\n  uint64_t p4 = ah * bh;\n\n  uint64_t p1h = p1 >> 32;\n  uint64_t p2h = p2 >> 32;\n  uint64_t p3h = p3 >> 32;\n  uint64_t p2l = p2 & 0xffffffff;\n  uint64_t p3l = p3 & 0xffffffff;\n\n  uint64_t l = p1h + p2l  + p3l;\n  uint64_t m = (p2 >> 32) + (p3 >> 32);\n  uint64_t h = (l >> 32) + m + p4;\n\n  return h;\n}\n\n#else // Not OpenCL, ISPC, or CUDA, but plain C.\n\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  uint16_t aa = a;\n  uint16_t bb = b;\n\n  return aa * bb >> 8;\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {\n  uint32_t aa = a;\n  uint32_t bb = b;\n\n  return aa * bb >> 16;\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {\n  uint64_t aa = a;\n  uint64_t bb = b;\n\n  return aa * bb >> 32;\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  __uint128_t aa = a;\n  __uint128_t bb = b;\n\n  return aa * bb >> 64;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {\n  return mad_hi(a, b, c);\n}\n\nstatic uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {\n  return ma", "d_hi(a, b, c);\n}\n\nstatic uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {\n  return mad_hi(a, b, c);\n}\n\nstatic uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {\n  return mad_hi(a, b, c);\n}\n\n#else // Not OpenCL\n\nstatic uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {\n  return futrts_mul_hi8(a, b) + c;\n}\n\nstatic uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {\n  return futrts_mul_hi16(a, b) + c;\n}\n\nstatic uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {\n  return futrts_mul_hi32(a, b) + c;\n}\n\nstatic uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {\n  return futrts_mul_hi64(a, b) + c;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_clzz8(int8_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return clz(x);\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_clzz8(int8_t x) {\n  return __clz(zext_i8_i32(x)) - 24;\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return __clz(zext_i16_i32(x)) - 16;\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return __clz(x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return __clzll(x);\n}\n\n#elif ISPC\n\nstatic int32_t futrts_clzz8(int8_t x) {\n  return count_leading_zeros((int32_t)(uint8_t)x)-24;\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return count_leading_zeros((int32_t)(uint16_t)x)-16;\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return count_leading_zeros(x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return count_leading_zeros(x);\n}\n\n#else // Not OpenCL, ISPC or CUDA, but plain C.\n\nstatic int32_t futrts_clzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_clz((uint3",
                                       "2_t)x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_ctzz8(int8_t x) {\n  int i = 0;\n  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  int i = 0;\n  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  int i = 0;\n  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  int i = 0;\n  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_ctzz8(int8_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 8 : y - 1;\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 16 : y - 1;\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 32 : y - 1;\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  int y = __ffsll(x);\n  return y == 0 ? 64 : y - 1;\n}\n\n#elif ISPC\n\nstatic int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  return count_trailing_zeros(x);\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  return count_trailing_zeros(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nstatic int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);\n}\n#endif\n\nstatic inline float fdiv32(float x, float y) {\n  return x / y;\n}\n\nstatic inline float fadd32(float x, float y) {\n  return x + y;\n}\n\nstatic inline floa", "t fsub32(float x, float y) {\n  return x - y;\n}\n\nstatic inline float fmul32(float x, float y) {\n  return x * y;\n}\n\nstatic inline bool cmplt32(float x, float y) {\n  return x < y;\n}\n\nstatic inline bool cmple32(float x, float y) {\n  return x <= y;\n}\n\nstatic inline float sitofp_i8_f32(int8_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i16_f32(int16_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i32_f32(int32_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i64_f32(int64_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i8_f32(uint8_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i16_f32(uint16_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i32_f32(uint32_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i64_f32(uint64_t x) {\n  return (float) x;\n}\n\n#ifdef __OPENCL_VERSION__\nstatic inline float fabs32(float x) {\n  return fabs(x);\n}\n\nstatic inline float fmax32(float x, float y) {\n  return fmax(x, y);\n}\n\nstatic inline float fmin32(float x, float y) {\n  return fmin(x, y);\n}\n\nstatic inline float fpow32(float x, float y) {\n  return pow(x, y);\n}\n\n#elif ISPC\n\nstatic inline float fabs32(float x) {\n  return abs(x);\n}\n\nstatic inline float fmax32(float x, float y) {\n  return isnan(x) ? y : isnan(y) ? x : max(x, y);\n}\n\nstatic inline float fmin32(float x, float y) {\n  return isnan(x) ? y : isnan(y) ? x : min(x, y);\n}\n\nstatic inline float fpow32(float a, float b) {\n  float ret;\n  foreach_active (i) {\n      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));\n      ret = insert(ret, i, r);\n  }\n  return ret;\n}\n\n#else // Not OpenCL, but CUDA or plain C.\n\nstatic inline float fabs32(float x) {\n  return fabsf(x);\n}\n\nstatic inline float fmax32(float x, float y) {\n  return fmaxf(x, y);\n}\n\nstatic inline float fmin32(float x, float y) {\n  return fminf(x, y);\n}\n\nstatic inline float fpow32(float x, float y) {\n  return powf(x, y);\n}\n#endif\n\nstatic inline bool futrts_isnan32(float x) {\n  return isnan(x);\n}\n\n#if ISPC\n\nstatic inlin", "e bool futrts_isinf32(float x) {\n  return !isnan(x) && isnan(x - x);\n}\n\nstatic inline bool futrts_isfinite32(float x) {\n  return !isnan(x) && !futrts_isinf32(x);\n}\n\n#else\n\nstatic inline bool futrts_isinf32(float x) {\n  return isinf(x);\n}\n\n#endif\n\nstatic inline int8_t fptosi_f32_i8(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nstatic inline int16_t fptosi_f32_i16(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nstatic inline int32_t fptosi_f32_i32(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nstatic inline int64_t fptosi_f32_i64(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  };\n}\n\nstatic inline uint8_t fptoui_f32_i8(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nstatic inline uint16_t fptoui_f32_i16(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nstatic inline uint32_t fptoui_f32_i32(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nstatic inline uint64_t fptoui_f32_i64(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nstatic inline bool ftob_f32_bool(float x) {\n  return x != 0;\n}\n\nstatic inline float btof_bool_f32(bool x) {\n  return x ? 1 : 0;\n}\n\n#ifdef __OPENCL_VERSION__\nstatic inline float futrts_log32(float x) {\n  return log(x);\n}\n\nstatic inline float futrts_log2_32(float x) {\n  return log2(x);\n}\n\nstatic inline float futrts_log10_32(float x) {\n  return log10(x);\n}\n\nstatic inline float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nstatic inline float futrts_cbrt32(float x) {\n  return cbrt(x);\n}\n\nstatic",
                                       " inline float futrts_exp32(float x) {\n  return exp(x);\n}\n\nstatic inline float futrts_cos32(float x) {\n  return cos(x);\n}\n\nstatic inline float futrts_sin32(float x) {\n  return sin(x);\n}\n\nstatic inline float futrts_tan32(float x) {\n  return tan(x);\n}\n\nstatic inline float futrts_acos32(float x) {\n  return acos(x);\n}\n\nstatic inline float futrts_asin32(float x) {\n  return asin(x);\n}\n\nstatic inline float futrts_atan32(float x) {\n  return atan(x);\n}\n\nstatic inline float futrts_cosh32(float x) {\n  return cosh(x);\n}\n\nstatic inline float futrts_sinh32(float x) {\n  return sinh(x);\n}\n\nstatic inline float futrts_tanh32(float x) {\n  return tanh(x);\n}\n\nstatic inline float futrts_acosh32(float x) {\n  return acosh(x);\n}\n\nstatic inline float futrts_asinh32(float x) {\n  return asinh(x);\n}\n\nstatic inline float futrts_atanh32(float x) {\n  return atanh(x);\n}\n\nstatic inline float futrts_atan2_32(float x, float y) {\n  return atan2(x, y);\n}\n\nstatic inline float futrts_hypot32(float x, float y) {\n  return hypot(x, y);\n}\n\nstatic inline float futrts_gamma32(float x) {\n  return tgamma(x);\n}\n\nstatic inline float futrts_lgamma32(float x) {\n  return lgamma(x);\n}\n\nstatic inline float futrts_erf32(float x) {\n  return erf(x);\n}\n\nstatic inline float futrts_erfc32(float x) {\n  return erfc(x);\n}\n\nstatic inline float fmod32(float x, float y) {\n  return fmod(x, y);\n}\n\nstatic inline float futrts_round32(float x) {\n  return rint(x);\n}\n\nstatic inline float futrts_floor32(float x) {\n  return floor(x);\n}\n\nstatic inline float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nstatic inline float futrts_nextafter32(float x, float y) {\n  return nextafter(x, y);\n}\n\nstatic inline float futrts_lerp32(float v0, float v1, float t) {\n  return mix(v0, v1, t);\n}\n\nstatic inline float futrts_mad32(float a, float b, float c) {\n  return mad(a, b, c);\n}\n\nstatic inline float futrts_fma32(float a, float b, float c) {\n  return fma(a, b, c);\n}\n\n#elif ISPC\n\nstatic inline float futrts_log32(float x) {\n  return futrts_isfinite32(x) || (f", "utrts_isinf32(x) && x < 0)? log(x) : x;\n}\n\nstatic inline float futrts_log2_32(float x) {\n  return futrts_log32(x) / log(2.0f);\n}\n\nstatic inline float futrts_log10_32(float x) {\n  return futrts_log32(x) / log(10.0f);\n}\n\nstatic inline float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nextern \"C\" unmasked uniform float cbrtf(uniform float);\nstatic inline float futrts_cbrt32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = cbrtf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline float futrts_exp32(float x) {\n  return exp(x);\n}\n\nstatic inline float futrts_cos32(float x) {\n  return cos(x);\n}\n\nstatic inline float futrts_sin32(float x) {\n  return sin(x);\n}\n\nstatic inline float futrts_tan32(float x) {\n  return tan(x);\n}\n\nstatic inline float futrts_acos32(float x) {\n  return acos(x);\n}\n\nstatic inline float futrts_asin32(float x) {\n  return asin(x);\n}\n\nstatic inline float futrts_atan32(float x) {\n  return atan(x);\n}\n\nstatic inline float futrts_cosh32(float x) {\n  return (exp(x)+exp(-x)) / 2.0f;\n}\n\nstatic inline float futrts_sinh32(float x) {\n  return (exp(x)-exp(-x)) / 2.0f;\n}\n\nstatic inline float futrts_tanh32(float x) {\n  return futrts_sinh32(x)/futrts_cosh32(x);\n}\n\nstatic inline float futrts_acosh32(float x) {\n  float f = x+sqrt(x*x-1);\n  if(futrts_isfinite32(f)) return log(f);\n  return f;\n}\n\nstatic inline float futrts_asinh32(float x) {\n  float f = x+sqrt(x*x+1);\n  if(futrts_isfinite32(f)) return log(f);\n  return f;\n\n}\n\nstatic inline float futrts_atanh32(float x) {\n  float f = (1+x)/(1-x);\n  if(futrts_isfinite32(f)) return log(f)/2.0f;\n  return f;\n\n}\n\nstatic inline float futrts_atan2_32(float x, float y) {\n  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);\n}\n\nstatic inline float futrts_hypot32(float x, float y) {\n  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {\n    x = abs(x);\n    y = abs(y);\n    float a;\n    float b;\n    if (x >= y){\n        a = x;\n        b = y;\n    } else {\n        a = y;\n        b = x;\n    }\n ", "   if(b == 0){\n      return a;\n    }\n\n    int e;\n    float an;\n    float bn;\n    an = frexp (a, &e);\n    bn = ldexp (b, - e);\n    float cn;\n    cn = sqrt (an * an + bn * bn);\n    return ldexp (cn, e);\n  } else {\n    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;\n    else return x + y;\n  }\n\n}\n\nextern \"C\" unmasked uniform float tgammaf(uniform float x);\nstatic inline float futrts_gamma32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = tgammaf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float lgammaf(uniform float x);\nstatic inline float futrts_lgamma32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = lgammaf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float erff(uniform float x);\nstatic inline float futrts_erf32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = erff(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float erfcf(uniform float x);\nstatic inline float futrts_erfc32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = erfcf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline float fmod32(float x, float y) {\n  return x - y * trunc(x/y);\n}\n\nstatic inline float futrts_round32(float x) {\n  return round(x);\n}\n\nstatic inline float futrts_floor32(float x) {\n  return floor(x);\n}\n\nstatic inline float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nextern \"C\" unmasked uniform float nextafterf(uniform float x, uniform float y);\nstatic inline float futrts_nextafter32(float x, float y) {\n  float res;\n  foreach_active (i) {\n    uniform float r = nextafterf(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\n",
                                       "static inline float futrts_fma32(float a, float b, float c) {\n  return a * b + c;\n}\n\n#else // Not OpenCL or ISPC, but CUDA or plain C.\n\nstatic inline float futrts_log32(float x) {\n  return logf(x);\n}\n\nstatic inline float futrts_log2_32(float x) {\n  return log2f(x);\n}\n\nstatic inline float futrts_log10_32(float x) {\n  return log10f(x);\n}\n\nstatic inline float futrts_sqrt32(float x) {\n  return sqrtf(x);\n}\n\nstatic inline float futrts_cbrt32(float x) {\n  return cbrtf(x);\n}\n\nstatic inline float futrts_exp32(float x) {\n  return expf(x);\n}\n\nstatic inline float futrts_cos32(float x) {\n  return cosf(x);\n}\n\nstatic inline float futrts_sin32(float x) {\n  return sinf(x);\n}\n\nstatic inline float futrts_tan32(float x) {\n  return tanf(x);\n}\n\nstatic inline float futrts_acos32(float x) {\n  return acosf(x);\n}\n\nstatic inline float futrts_asin32(float x) {\n  return asinf(x);\n}\n\nstatic inline float futrts_atan32(float x) {\n  return atanf(x);\n}\n\nstatic inline float futrts_cosh32(float x) {\n  return coshf(x);\n}\n\nstatic inline float futrts_sinh32(float x) {\n  return sinhf(x);\n}\n\nstatic inline float futrts_tanh32(float x) {\n  return tanhf(x);\n}\n\nstatic inline float futrts_acosh32(float x) {\n  return acoshf(x);\n}\n\nstatic inline float futrts_asinh32(float x) {\n  return asinhf(x);\n}\n\nstatic inline float futrts_atanh32(float x) {\n  return atanhf(x);\n}\n\nstatic inline float futrts_atan2_32(float x, float y) {\n  return atan2f(x, y);\n}\n\nstatic inline float futrts_hypot32(float x, float y) {\n  return hypotf(x, y);\n}\n\nstatic inline float futrts_gamma32(float x) {\n  return tgammaf(x);\n}\n\nstatic inline float futrts_lgamma32(float x) {\n  return lgammaf(x);\n}\n\nstatic inline float futrts_erf32(float x) {\n  return erff(x);\n}\n\nstatic inline float futrts_erfc32(float x) {\n  return erfcf(x);\n}\n\nstatic inline float fmod32(float x, float y) {\n  return fmodf(x, y);\n}\n\nstatic inline float futrts_round32(float x) {\n  return rintf(x);\n}\n\nstatic inline float futrts_floor32(float x) {\n  return floorf(x);\n}\n\nstatic inline", " float futrts_ceil32(float x) {\n  return ceilf(x);\n}\n\nstatic inline float futrts_nextafter32(float x, float y) {\n  return nextafterf(x, y);\n}\n\nstatic inline float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\nstatic inline float futrts_fma32(float a, float b, float c) {\n  return fmaf(a, b, c);\n}\n#endif\n\n#if ISPC\nstatic inline int32_t futrts_to_bits32(float x) {\n  return intbits(x);\n}\n\nstatic inline float futrts_from_bits32(int32_t x) {\n  return floatbits(x);\n}\n#else\nstatic inline int32_t futrts_to_bits32(float x) {\n  union {\n    float f;\n    int32_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline float futrts_from_bits32(int32_t x) {\n  union {\n    int32_t f;\n    float t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\nstatic inline float fsignum32(float x) {\n  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\n#if ISPC\nstatic inline bool futrts_isinf64(float x) {\n  return !isnan(x) && isnan(x - x);\n}\n\nstatic inline bool futrts_isfinite64(float x) {\n  return !isnan(x) && !futrts_isinf64(x);\n}\n\nstatic inline double fdiv64(double x, double y) {\n  return x / y;\n}\n\nstatic inline double fadd64(double x, double y) {\n  return x + y;\n}\n\nstatic inline double fsub64(double x, double y) {\n  return x - y;\n}\n\nstatic inline double fmul64(double x, double y) {\n  return x * y;\n}\n\nstatic inline bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nstatic inline bool cmple64(double x, double y) {\n  return x <= y;\n}\n\nstatic inline double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i16_f64(uint16_t x) {\n  ret", "urn (double) x;\n}\n\nstatic inline double uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nstatic inline double fabs64(double x) {\n  return abs(x);\n}\n\nstatic inline double fmax64(double x, double y) {\n  return isnan(x) ? y : isnan(y) ? x : max(x, y);\n}\n\nstatic inline double fmin64(double x, double y) {\n  return isnan(x) ? y : isnan(y) ? x : min(x, y);\n}\n\nstatic inline double fpow64(double a, double b) {\n  float ret;\n  foreach_active (i) {\n      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));\n      ret = insert(ret, i, r);\n  }\n  return ret;\n}\n\nstatic inline double futrts_log64(double x) {\n  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;\n}\n\nstatic inline double futrts_log2_64(double x) {\n  return futrts_log64(x)/log(2.0d);\n}\n\nstatic inline double futrts_log10_64(double x) {\n  return futrts_log64(x)/log(10.0d);\n}\n\nstatic inline double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nextern \"C\" unmasked uniform double cbrt(uniform double);\nstatic inline double futrts_cbrt64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = cbrtf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline double futrts_exp64(double x) {\n  return exp(x);\n}\n\nstatic inline double futrts_cos64(double x) {\n  return cos(x);\n}\n\nstatic inline double futrts_sin64(double x) {\n  return sin(x);\n}\n\nstatic inline double futrts_tan64(double x) {\n  return tan(x);\n}\n\nstatic inline double futrts_acos64(double x) {\n  return acos(x);\n}\n\nstatic inline double futrts_asin64(double x) {\n  return asin(x);\n}\n\nstatic inline double futrts_atan64(double x) {\n  return atan(x);\n}\n\nstatic inline double futrts_cosh64(double x) {\n  return (exp(x)+exp(-x)) / 2.0d;\n}\n\nstatic inline double futrts_sinh64(double x) {\n  return (exp(x)-exp(-x)) / 2.0d;\n}\n\nstatic inline double futrts_tanh64(double x) {\n  return futrts_sinh64(x)/futrts_cosh64(x);\n}\n\nstatic inline double futrt",
                                       "s_acosh64(double x) {\n  double f = x+sqrt(x*x-1.0d);\n  if(futrts_isfinite64(f)) return log(f);\n  return f;\n}\n\nstatic inline double futrts_asinh64(double x) {\n  double f = x+sqrt(x*x+1.0d);\n  if(futrts_isfinite64(f)) return log(f);\n  return f;\n}\n\nstatic inline double futrts_atanh64(double x) {\n  double f = (1.0d+x)/(1.0d-x);\n  if(futrts_isfinite64(f)) return log(f)/2.0d;\n  return f;\n\n}\n\nstatic inline double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nextern \"C\" unmasked uniform double hypot(uniform double x, uniform double y);\nstatic inline double futrts_hypot64(double x, double y) {\n  double res;\n  foreach_active (i) {\n    uniform double r = hypot(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double tgamma(uniform double x);\nstatic inline double futrts_gamma64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = tgamma(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double lgamma(uniform double x);\nstatic inline double futrts_lgamma64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = lgamma(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double erf(uniform double x);\nstatic inline double futrts_erf64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = erf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double erfc(uniform double x);\nstatic inline double futrts_erfc64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = erfc(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline double futrts_fma64(double a, double b, double c) {\n  return a * b + c;\n}\n\nstatic inline double futrts_round64(double x) {\n  return round(x);\n}\n\nstatic inline double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nextern \"C\" unmasked uniform double nextafter(uniform float x,", " uniform double y);\nstatic inline float futrts_nextafter64(double x, double y) {\n  double res;\n  foreach_active (i) {\n    uniform double r = nextafter(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline double futrts_floor64(double x) {\n  return floor(x);\n}\n\nstatic inline bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nstatic inline int8_t fptosi_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nstatic inline int16_t fptosi_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nstatic inline int32_t fptosi_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nstatic inline int64_t fptosi_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  }\n}\n\nstatic inline uint8_t fptoui_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nstatic inline uint16_t fptoui_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nstatic inline uint32_t fptoui_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nstatic inline uint64_t fptoui_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nstatic inline bool ftob_f64_bool(double x) {\n  return x != 0.0;\n}\n\nstatic inline double btof_bool_f64(bool x) {\n  return x ? 1.0 : 0.0;\n}\n\nstatic inline int64_t futrts_to_bits64(double x) {\n  int64_t res;\n  foreach_active (i) {\n    uniform double tmp = extract(x, i);\n    uniform int64_t r = *((uniform int64_t* uniform)&tmp);\n    res = insert(res, i, r);\n  }\n  ret", "urn res;\n}\n\nstatic inline double futrts_from_bits64(int64_t x) {\n  double res;\n  foreach_active (i) {\n    uniform int64_t tmp = extract(x, i);\n    uniform double r = *((uniform double* uniform)&tmp);\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline double fmod64(double x, double y) {\n  return x - y * trunc(x/y);\n}\n\nstatic inline double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);\n}\n\nstatic inline double futrts_lerp64(double v0, double v1, double t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline double futrts_mad64(double a, double b, double c) {\n  return a * b + c;\n}\n\nstatic inline float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nstatic inline float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f64_f64(double x) {\n  return (double) x;\n}\n\n#else\n\nstatic inline double fdiv64(double x, double y) {\n  return x / y;\n}\n\nstatic inline double fadd64(double x, double y) {\n  return x + y;\n}\n\nstatic inline double fsub64(double x, double y) {\n  return x - y;\n}\n\nstatic inline double fmul64(double x, double y) {\n  return x * y;\n}\n\nstatic inline bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nstatic inline bool cmple64(double x, double y) {\n  return x <= y;\n}\n\nstatic inline double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i16_f64(uint16_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nstatic inline double fabs64(double x) {\n  return fabs(x);\n}\n\nstati",
                                       "c inline double fmax64(double x, double y) {\n  return fmax(x, y);\n}\n\nstatic inline double fmin64(double x, double y) {\n  return fmin(x, y);\n}\n\nstatic inline double fpow64(double x, double y) {\n  return pow(x, y);\n}\n\nstatic inline double futrts_log64(double x) {\n  return log(x);\n}\n\nstatic inline double futrts_log2_64(double x) {\n  return log2(x);\n}\n\nstatic inline double futrts_log10_64(double x) {\n  return log10(x);\n}\n\nstatic inline double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nstatic inline double futrts_cbrt64(double x) {\n  return cbrt(x);\n}\n\nstatic inline double futrts_exp64(double x) {\n  return exp(x);\n}\n\nstatic inline double futrts_cos64(double x) {\n  return cos(x);\n}\n\nstatic inline double futrts_sin64(double x) {\n  return sin(x);\n}\n\nstatic inline double futrts_tan64(double x) {\n  return tan(x);\n}\n\nstatic inline double futrts_acos64(double x) {\n  return acos(x);\n}\n\nstatic inline double futrts_asin64(double x) {\n  return asin(x);\n}\n\nstatic inline double futrts_atan64(double x) {\n  return atan(x);\n}\n\nstatic inline double futrts_cosh64(double x) {\n  return cosh(x);\n}\n\nstatic inline double futrts_sinh64(double x) {\n  return sinh(x);\n}\n\nstatic inline double futrts_tanh64(double x) {\n  return tanh(x);\n}\n\nstatic inline double futrts_acosh64(double x) {\n  return acosh(x);\n}\n\nstatic inline double futrts_asinh64(double x) {\n  return asinh(x);\n}\n\nstatic inline double futrts_atanh64(double x) {\n  return atanh(x);\n}\n\nstatic inline double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nstatic inline double futrts_hypot64(double x, double y) {\n  return hypot(x, y);\n}\n\nstatic inline double futrts_gamma64(double x) {\n  return tgamma(x);\n}\n\nstatic inline double futrts_lgamma64(double x) {\n  return lgamma(x);\n}\n\nstatic inline double futrts_erf64(double x) {\n  return erf(x);\n}\n\nstatic inline double futrts_erfc64(double x) {\n  return erfc(x);\n}\n\nstatic inline double futrts_fma64(double a, double b, double c) {\n  return fma(a, b, c);\n}\n\nstatic inline double fut", "rts_round64(double x) {\n  return rint(x);\n}\n\nstatic inline double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nstatic inline float futrts_nextafter64(float x, float y) {\n  return nextafter(x, y);\n}\n\nstatic inline double futrts_floor64(double x) {\n  return floor(x);\n}\n\nstatic inline bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nstatic inline bool futrts_isinf64(double x) {\n  return isinf(x);\n}\n\nstatic inline int8_t fptosi_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nstatic inline int16_t fptosi_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nstatic inline int32_t fptosi_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nstatic inline int64_t fptosi_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  }\n}\n\nstatic inline uint8_t fptoui_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nstatic inline uint16_t fptoui_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nstatic inline uint32_t fptoui_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nstatic inline uint64_t fptoui_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nstatic inline bool ftob_f64_bool(double x) {\n  return x != 0;\n}\n\nstatic inline double btof_bool_f64(bool x) {\n  return x ? 1 : 0;\n}\n\nstatic inline int64_t futrts_to_bits64(double x) {\n  union {\n    double f;\n    int64_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline double futrts_from_bits64(int64_t x) {\n  union {\n    in", "t64_t f;\n    double t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline double fmod64(double x, double y) {\n  return fmod(x, y);\n}\n\nstatic inline double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);\n}\n\nstatic inline double futrts_lerp64(double v0, double v1, double t) {\n#ifdef __OPENCL_VERSION__\n  return mix(v0, v1, t);\n#else\n  return v0 + (v1 - v0) * t;\n#endif\n}\n\nstatic inline double futrts_mad64(double a, double b, double c) {\n#ifdef __OPENCL_VERSION__\n  return mad(a, b, c);\n#else\n  return a * b + c;\n#endif\n}\n\nstatic inline float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nstatic inline float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f64_f64(double x) {\n  return (double) x;\n}\n\n#endif\n\n#endif\n\n// End of scalar.h.\n// Start of scalar_f16.h.\n\n// Half-precision is emulated if needed (e.g. in straight C) with the\n// native type used if possible.  The emulation works by typedef'ing\n// 'float' to 'f16', and then implementing all operations on single\n// precision.  To cut down on duplication, we use the same code for\n// those Futhark functions that require just operators or casts.  The\n// in-memory representation for arrays will still be 16 bits even\n// under emulation, so the compiler will have to be careful when\n// generating reads or writes.\n\n#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))\n#define EMULATE_F16\n#endif\n\n#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)\n#pragma OPENCL EXTENSION cl_khr_fp16 : enable\n#endif\n\n#ifdef EMULATE_F16\n\n// Note that the half-precision storage format is still 16 bits - the\n// compiler will have to be real careful!\ntypedef float f16;\n\n#elif ISPC\ntypedef float16 f16;\n\n#else\n\n#ifdef __CUDA_ARCH__\n#include <cuda_fp16.h>\n#endif\n\ntypedef half f16;\n\n#endif\n\n// Some of these functions convert to single precision because half\n// precision versions a",
                                       "re not available.\n\nstatic inline f16 fadd16(f16 x, f16 y) {\n  return x + y;\n}\n\nstatic inline f16 fsub16(f16 x, f16 y) {\n  return x - y;\n}\n\nstatic inline f16 fmul16(f16 x, f16 y) {\n  return x * y;\n}\n\nstatic inline bool cmplt16(f16 x, f16 y) {\n  return x < y;\n}\n\nstatic inline bool cmple16(f16 x, f16 y) {\n  return x <= y;\n}\n\nstatic inline f16 sitofp_i8_f16(int8_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i16_f16(int16_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i32_f16(int32_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i64_f16(int64_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i8_f16(uint8_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i16_f16(uint16_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i32_f16(uint32_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i64_f16(uint64_t x) {\n  return (f16) x;\n}\n\nstatic inline int8_t fptosi_f16_i8(f16 x) {\n  return (int8_t) (float) x;\n}\n\nstatic inline int16_t fptosi_f16_i16(f16 x) {\n  return (int16_t) x;\n}\n\nstatic inline int32_t fptosi_f16_i32(f16 x) {\n  return (int32_t) x;\n}\n\nstatic inline int64_t fptosi_f16_i64(f16 x) {\n  return (int64_t) x;\n}\n\nstatic inline uint8_t fptoui_f16_i8(f16 x) {\n  return (uint8_t) (float) x;\n}\n\nstatic inline uint16_t fptoui_f16_i16(f16 x) {\n  return (uint16_t) x;\n}\n\nstatic inline uint32_t fptoui_f16_i32(f16 x) {\n  return (uint32_t) x;\n}\n\nstatic inline uint64_t fptoui_f16_i64(f16 x) {\n  return (uint64_t) x;\n}\n\nstatic inline bool ftob_f16_bool(f16 x) {\n  return x != (f16)0;\n}\n\nstatic inline f16 btof_bool_f16(bool x) {\n  return x ? 1 : 0;\n}\n\n#ifndef EMULATE_F16\nstatic inline bool futrts_isnan16(f16 x) {\n  return isnan((float)x);\n}\n\n#ifdef __OPENCL_VERSION__\n\nstatic inline f16 fabs16(f16 x) {\n  return fabs(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmax(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fmin(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n\n#elif ISPC\nstatic inline f16 fabs16(f16 x) {\n  return ", "abs(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n#else // Assuming CUDA.\n\nstatic inline f16 fabs16(f16 x) {\n  return fabsf(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmaxf(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fminf(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return powf(x, y);\n}\n#endif\n\n#if ISPC\nstatic inline bool futrts_isinf16(float x) {\n  return !futrts_isnan16(x) && futrts_isnan16(x - x);\n}\nstatic inline bool futrts_isfinite16(float x) {\n  return !futrts_isnan16(x) && !futrts_isinf16(x);\n}\n\n#else\n\nstatic inline bool futrts_isinf16(f16 x) {\n  return isinf((float)x);\n}\n#endif\n\n#ifdef __OPENCL_VERSION__\nstatic inline f16 futrts_log16(f16 x) {\n  return log(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return log2(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return log10(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return sqrt(x);\n}\n\nstatic inline f16 futrts_cbrt16(f16 x) {\n  return cbrt(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return cos(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return sin(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return tan(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return acos(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return asin(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return atan(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return cosh(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return sinh(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return tanh(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return acosh(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return asinh(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {", "\n  return atanh(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return hypot(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return tgamma(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return lgamma(x);\n}\n\nstatic inline f16 futrts_erf16(f16 x) {\n  return erf(x);\n}\n\nstatic inline f16 futrts_erfc16(f16 x) {\n  return erfc(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmod(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return rint(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return floor(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return ceil(x);\n}\n\nstatic inline f16 futrts_nextafter16(f16 x, f16 y) {\n  return nextafter(x, y);\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return mix(v0, v1, t);\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return mad(a, b, c);\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fma(a, b, c);\n}\n#elif ISPC\n\nstatic inline f16 futrts_log16(f16 x) {\n  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return futrts_log16(x) / log(2.0f16);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return futrts_log16(x) / log(10.0f16);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return (float16)sqrt((float)x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return (float16)cos((float)x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return (float16)sin((float)x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return (float16)tan((float)x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return (float16)acos((float)x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return (float16)asin((float)x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return (float16)atan((float)x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return (exp(x)+exp(-x)) / 2.0f16;\n}\n\nstatic inlin",
                                       "e f16 futrts_sinh16(f16 x) {\n  return (exp(x)-exp(-x)) / 2.0f16;\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return futrts_sinh16(x)/futrts_cosh16(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  float16 f = x+(float16)sqrt((float)(x*x-1));\n  if(futrts_isfinite16(f)) return log(f);\n  return f;\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  float16 f = x+(float16)sqrt((float)(x*x+1));\n  if(futrts_isfinite16(f)) return log(f);\n  return f;\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  float16 f = (1+x)/(1-x);\n  if(futrts_isfinite16(f)) return log(f)/2.0f16;\n  return f;\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return (float16)atan2((float)x, (float)y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return (float16)futrts_hypot32((float)x, (float)y);\n}\n\nextern \"C\" unmasked uniform float tgammaf(uniform float x);\nstatic inline f16 futrts_gamma16(f16 x) {\n  f16 res;\n  foreach_active (i) {\n    uniform f16 r = (f16)tgammaf(extract((float)x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float lgammaf(uniform float x);\nstatic inline f16 futrts_lgamma16(f16 x) {\n  f16 res;\n  foreach_active (i) {\n    uniform f16 r = (f16)lgammaf(extract((float)x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline f16 futrts_cbrt16(f16 x) {\n  f16 res = (f16)futrts_cbrt32((float)x);\n  return res;\n}\n\nstatic inline f16 futrts_erf16(f16 x) {\n  f16 res = (f16)futrts_erf32((float)x);\n  return res;\n}\n\nstatic inline f16 futrts_erfc16(f16 x) {\n  f16 res = (f16)futrts_erfc32((float)x);\n  return res;\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return x - y * (float16)trunc((float) (x/y));\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return (float16)round((float)x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return (float16)floor((float)x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return (float16)ceil((float)x);\n}\n\nstatic inline f16 futrts_nextafter16(f16 x, f16 y) {\n  return (float16)futrts_nextafter32((float)x, (f", "loat) y);\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\n#else // Assume CUDA.\n\nstatic inline f16 futrts_log16(f16 x) {\n  return hlog(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return hlog2(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return hlog10(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return hsqrt(x);\n}\n\nstatic inline f16 futrts_cbrt16(f16 x) {\n  return cbrtf(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return hexp(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return hcos(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return hsin(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return tanf(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return acosf(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return asinf(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return atanf(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return coshf(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return sinhf(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return tanhf(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return acoshf(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return asinhf(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  return atanhf(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2f(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return hypotf(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return tgammaf(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return lgammaf(x);\n}\n\nstatic inline f16 futrts_erf16(f16 x) {\n  return erff(x);\n}\n\nstatic inline f16 futrts_erfc16(f16 x) {\n  return erfcf(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmodf(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return rintf(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  retur", "n hfloor(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return hceil(x);\n}\n\nstatic inline f16 futrts_nextafter16(f16 x, f16 y) {\n  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fmaf(a, b, c);\n}\n\n#endif\n\n// The CUDA __half type cannot be put in unions for some reason, so we\n// use bespoke conversion functions instead.\n#ifdef __CUDA_ARCH__\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  return __half_as_ushort(x);\n}\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return __ushort_as_half(x);\n}\n#elif ISPC\n\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  varying int16_t y = *((varying int16_t * uniform)&x);\n  return y;\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  varying f16 y = *((varying f16 * uniform)&x);\n  return y;\n}\n#else\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  union {\n    f16 f;\n    int16_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  union {\n    int16_t f;\n    f16 t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\n#else // No native f16 - emulate.\n\nstatic inline f16 fabs16(f16 x) {\n  return fabs32(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmax32(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fmin32(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return fpow32(x, y);\n}\n\nstatic inline bool futrts_isnan16(f16 x) {\n  return futrts_isnan32(x);\n}\n\nstatic inline bool futrts_isinf16(f16 x) {\n  return futrts_isinf32(x);\n}\n\nstatic inline f16 futrts_log16(f16 x) {\n  return futrts_log32(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return futrts_log2_32(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return futrts_log10_32(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return futrts_sqrt32(x);",
                                       "\n}\n\nstatic inline f16 futrts_cbrt16(f16 x) {\n  return futrts_cbrt32(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return futrts_exp32(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return futrts_cos32(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return futrts_sin32(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return futrts_tan32(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return futrts_acos32(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return futrts_asin32(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return futrts_atan32(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return futrts_cosh32(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return futrts_sinh32(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return futrts_tanh32(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return futrts_acosh32(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return futrts_asinh32(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  return futrts_atanh32(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return futrts_atan2_32(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return futrts_hypot32(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return futrts_gamma32(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return futrts_lgamma32(x);\n}\n\nstatic inline f16 futrts_erf16(f16 x) {\n  return futrts_erf32(x);\n}\n\nstatic inline f16 futrts_erfc16(f16 x) {\n  return futrts_erfc32(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmod32(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return futrts_round32(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return futrts_floor32(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return futrts_ceil32(x);\n}\n\nstatic inline f16 futrts_nextafter16(f16 x, f16 y) {\n  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return futrts_lerp32(v0, v1, t);\n}\n\nstatic inline f16 futrts_mad16(", "f16 a, f16 b, f16 c) {\n  return futrts_mad32(a, b, c);\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return futrts_fma32(a, b, c);\n}\n\n// Even when we are using an OpenCL that does not support cl_khr_fp16,\n// it must still support vload_half for actually creating a\n// half-precision number, which can then be efficiently converted to a\n// float.  Similarly for vstore_half.\n#ifdef __OPENCL_VERSION__\n\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  int16_t y;\n  // Violating strict aliasing here.\n  vstore_half((float)x, 0, (half*)&y);\n  return y;\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return (f16)vload_half(0, (half*)&x);\n}\n\n#else\n\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  return (int16_t)float2halfbits(x);\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return halfbits2float((uint16_t)x);\n}\n\nstatic inline f16 fsignum16(f16 x) {\n  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);\n}\n\n#endif\n\n#endif\n\nstatic inline float fpconv_f16_f16(f16 x) {\n  return x;\n}\n\nstatic inline float fpconv_f16_f32(f16 x) {\n  return x;\n}\n\nstatic inline f16 fpconv_f32_f16(float x) {\n  return (f16) x;\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nstatic inline double fpconv_f16_f64(f16 x) {\n  return (double) x;\n}\n\n#if ISPC\nstatic inline f16 fpconv_f64_f16(double x) {\n  return (f16) ((float)x);\n}\n#else\nstatic inline f16 fpconv_f64_f16(double x) {\n  return (f16) x;\n}\n#endif\n#endif\n\n\n// End of scalar_f16.h.\n// Start of atomics.h\n\ninline int32_t atomic_xchg_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_xchg_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_cmpxchg_i32_global(volatile __global int32_t *p,\n                                         int32_t cmp, int32_t val) {\n#ifdef FUTHARK_CUDA\n  return atomi", "cCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int32_t atomic_cmpxchg_i32_local(volatile __local int32_t *p,\n                                        int32_t cmp, int32_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int32_t atomic_add_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((int32_t*)p, x);\n#else\n  return atomic_add(p, x);\n#endif\n}\n\ninline int32_t atomic_add_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((int32_t*)p, x);\n#else\n  return atomic_add(p, x);\n#endif\n}\n\ninline float atomic_fadd_f32_global(volatile __global float *p, float x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((float*)p, x);\n#else\n  union { int32_t i; float f; } old;\n  union { int32_t i; float f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i32_global((volatile __global int32_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline float atomic_fadd_f32_local(volatile __local float *p, float x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((float*)p, x);\n#else\n  union { int32_t i; float f; } old;\n  union { int32_t i; float f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i32_local((volatile __local int32_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline int32_t atomic_smax_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline int32_t atomic_smax_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline int32_t atomic_smin_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n",
                                       "  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline int32_t atomic_smin_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline uint32_t atomic_umax_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline uint32_t atomic_umax_i32_local(volatile __local uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline uint32_t atomic_umin_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline uint32_t atomic_umin_i32_local(volatile __local uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline int32_t atomic_and_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\ninline int32_t atomic_and_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\ninline int32_t atomic_or_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\ninline int32_t atomic_or_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\ninline int32_t atomic_xor_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_xor_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int32_t*", ")p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\n// Start of 64 bit atomics\n\ninline int64_t atomic_xchg_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_xchg_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_cmpxchg_i64_global(volatile __global int64_t *p,\n                                         int64_t cmp, int64_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int64_t atomic_cmpxchg_i64_local(volatile __local int64_t *p,\n                                        int64_t cmp, int64_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int64_t atomic_add_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\ninline int64_t atomic_add_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\ninline double atomic_fadd_f64_global(volatile __global double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600\n  return atomicAdd((double*)p, x);\n#else\n  union { int64_t i; double f; } old;\n  union { int64_t i; double f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i64_global((volatile __global int64_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline double atomic_fadd_f64_local(volatile __local double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600\n  return atomicAdd((double*)p, x);\n#else\n  union { int64_t i; double f; } old;\n  uni", "on { int64_t i; double f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i64_local((volatile __local int64_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\n#endif\n\ninline int64_t atomic_smax_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline int64_t atomic_smax_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline int64_t atomic_smin_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline int64_t atomic_smin_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline uint64_t atomic_umax_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline uint64_t atomic_umax_i64_local(volatile __local uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline uint64_t atomic_umin_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline uint64_t atomic_umin_i64_local(volatile __local uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline int64_t atomic_and_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\ninline int64_t atomic_and_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int64_t*)p, x);\n#",
                                       "else\n  return atom_and(p, x);\n#endif\n}\n\ninline int64_t atomic_or_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\ninline int64_t atomic_or_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\ninline int64_t atomic_xor_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_xor_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\n// End of atomics.h\n\n\n\n__kernel void gpu_map_transpose_i32(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offse", "t_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 4) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 4) + our_array_offset_30;\n    int32_t x_index_31 = get_global_id_0_37;\n    int32_t y_index_32 = get_group_id_1_42 * 32 + get_local_id_1_39;\n    int32_t val_45;\n    \n    if (slt32(x_index_31, x_elems_5)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_in_35 = (y_index_32 + j_44 * 8) * x_elems_5 + x_index_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, y_elems_6)) {\n                val_45 = ((__global int32_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n                ((__local int32_t *) block_9)[sext_i32_i64((get_local_id_1_39 + j_44 * 8) * 33 + get_local_id_0_38)] = val_45;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 32 + get_local_id_0_38;\n    y_index_32 = get_group_id_0_41 * 32 + get_local_id_1_39;\n    if (slt32(x_index_31, y_elems_6)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_out_36 = (y_index_32 + j_44 * 8) * y_elems_6 + x_index_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, x_elems_5)) {\n                val_45 = ((__local int32_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 33 + get_local_id_1_39 + j_44 * 8)];\n                ((__global int32_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i32_low_height(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backin", "g_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 4) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 4) + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_0_38 + srem32(get_local_id_1_39, mulx_7) * 16;\n    int32_t y_index_32 = get_group_id_1_42 * 16 + squot32(get_local_id_1_39, mulx_7);\n    int32_t val_45;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        val_45 = ((__global int32_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local int32_t *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 + squot32(get_local_id_0_38, mulx_7);\n    y_index_32 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_1_39 + srem32(get_local_id_0_38, mulx_7) * 16;\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local int32_t *) block_9)[sext_i32_i64",
                                       "(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global int32_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i32_low_width(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 4) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 4) + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 + squot32(get_local_id_0_38, muly_8);\n    int32_t y_index_32 = get_group_id_1_42 * 16 * muly_8 + get_local_id_1_39 + srem32(get_local_id_0_38, muly_8) * 16;\n    int32_t val_45;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n ", "       val_45 = ((__global int32_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local int32_t *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 * muly_8 + get_local_id_0_38 + srem32(get_local_id_1_39, muly_8) * 16;\n    y_index_32 = get_group_id_0_41 * 16 + squot32(get_local_id_1_39, muly_8);\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local int32_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global int32_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i32_small(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_", "sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = squot32(get_global_id_0_37, y_elems_6 * x_elems_5) * (y_elems_6 * x_elems_5);\n    int32_t x_index_31 = squot32(srem32(get_global_id_0_37, y_elems_6 * x_elems_5), y_elems_6);\n    int32_t y_index_32 = srem32(get_global_id_0_37, y_elems_6);\n    int32_t val_45;\n    int32_t odata_offset_33 = squot32(destoffset_1, 4) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 4) + our_array_offset_30;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    int32_t index_out_36 = x_index_31 * y_elems_6 + y_index_32;\n    \n    if (slt32(get_global_id_0_37, x_elems_5 * y_elems_6 * num_arrays_4)) {\n        val_45 = ((__global int32_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__global int32_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i64(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_",
                                       "0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 8) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 8) + our_array_offset_30;\n    int32_t x_index_31 = get_global_id_0_37;\n    int32_t y_index_32 = get_group_id_1_42 * 32 + get_local_id_1_39;\n    int64_t val_45;\n    \n    if (slt32(x_index_31, x_elems_5)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_in_35 = (y_index_32 + j_44 * 8) * x_elems_5 + x_index_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, y_elems_6)) {\n                val_45 = ((__global int64_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n                ((__local int64_t *) block_9)[sext_i32_i64((get_local_id_1_39 + j_44 * 8) * 33 + get_local_id_0_38)] = val_45;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 32 + get_local_id_0_38;\n    y_index_32 = get_group_id_0_41 * 32 + get_local_id_1_39;\n    if (slt32(x_index_31, y_elems_6)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_out_36 = (y_index_32 + j_44 * 8) * y_elems_6 + x_index_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, x_elems_5)) {\n                val_45 = ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 33 + get_local_id_1_39 + j_44 * 8)];\n                ((__global int64_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i64_low_height(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2", ")\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 8) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 8) + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_0_38 + srem32(get_local_id_1_39, mulx_7) * 16;\n    int32_t y_index_32 = get_group_id_1_42 * 16 + squot32(get_local_id_1_39, mulx_7);\n    int64_t val_45;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        val_45 = ((__global int64_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 + squot32(get_local_id_0_38, mulx_7);\n    y_index_32 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_1_39 + srem32(get_local_id_0_38, mulx_7) * 16;\n    \n    int32_t index_out_36 = y_index_32 * y_elems", "_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global int64_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i64_low_width(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 8) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 8) + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 + squot32(get_local_id_0_38, muly_8);\n    int32_t y_index_32 = get_group_id_1_42 * 16 * muly_8 + get_local_id_1_39 + srem32(get_local_id_0_38, muly_8) * 16;\n    int6",
                                       "4_t val_45;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        val_45 = ((__global int64_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 * muly_8 + get_local_id_0_38 + srem32(get_local_id_1_39, muly_8) * 16;\n    y_index_32 = get_group_id_0_41 * 16 + squot32(get_local_id_1_39, muly_8);\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global int64_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i64_small(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n", "    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = squot32(get_global_id_0_37, y_elems_6 * x_elems_5) * (y_elems_6 * x_elems_5);\n    int32_t x_index_31 = squot32(srem32(get_global_id_0_37, y_elems_6 * x_elems_5), y_elems_6);\n    int32_t y_index_32 = srem32(get_global_id_0_37, y_elems_6);\n    int64_t val_45;\n    int32_t odata_offset_33 = squot32(destoffset_1, 8) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 8) + our_array_offset_30;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    int32_t index_out_36 = x_index_31 * y_elems_6 + y_index_32;\n    \n    if (slt32(get_global_id_0_37, x_elems_5 * y_elems_6 * num_arrays_4)) {\n        val_45 = ((__global int64_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__global int64_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_16576(__global int *global_failure, int64_t n_12351, int64_t m_12352, int64_t p_12353, int64_t q_12354, int64_t num_groups_16572, int64_t num_threads_20336, int32_t virt_num_groups_20355, __global unsigned char *zzinvs_mem_19945, __global unsigned char *expsss_mem_19947, __global unsigned char *coefficientss_mem_19948, __global unsigned char *mem_20181, __global unsigned char *mem_20246, __global unsigned char *color_20313, __global unsigned char *color_20314, __global unsigned char *color_20315, __global unsigned char *color_20316)\n{\n    #define segmap_group_sizze_16571 (make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16382)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20357;\n    int64_t group_sizze_20360;\n  ", "  int32_t wave_sizze_20359;\n    int32_t group_tid_20358;\n    \n    local_tid_20357 = get_local_id(0);\n    group_sizze_20360 = get_local_size(0);\n    wave_sizze_20359 = LOCKSTEP_WIDTH;\n    group_tid_20358 = get_group_id(0);\n    \n    int32_t global_tid_20356 = group_tid_20358 * group_sizze_20360 + local_tid_20357;\n    int32_t phys_tid_16576 = global_tid_20356;\n    int32_t phys_group_id_20361;\n    \n    phys_group_id_20361 = get_group_id(0);\n    \n    int32_t iterations_20362 = sdiv_up32(virt_num_groups_20355 - phys_group_id_20361, sext_i64_i32(num_groups_16572));\n    \n    for (int32_t i_20363 = 0; i_20363 < iterations_20362; i_20363++) {\n        int32_t virt_group_id_20364 = phys_group_id_20361 + i_20363 * sext_i64_i32(num_groups_16572);\n        int64_t global_tid_20365 = sext_i32_i64(virt_group_id_20364) * segmap_group_sizze_16571 + sext_i32_i64(local_tid_20357);\n        int64_t slice_20366 = n_12351;\n        int64_t gtid_16575 = global_tid_20365;\n        int64_t remnant_20367 = global_tid_20365 - gtid_16575;\n        \n        if (slt64(gtid_16575, n_12351)) {\n            int64_t defunc_0_f_res_16579 = ((__global int64_t *) zzinvs_mem_19945)[gtid_16575 * (int64_t) 3];\n            int64_t defunc_0_f_res_16580 = ((__global int64_t *) zzinvs_mem_19945)[gtid_16575 * (int64_t) 3 + (int64_t) 1];\n            int64_t defunc_0_f_res_16581 = ((__global int64_t *) zzinvs_mem_19945)[gtid_16575 * (int64_t) 3 + (int64_t) 2];\n            \n            for (int64_t i_19904 = 0; i_19904 < m_12352; i_19904++) {\n                for (int64_t i_20371 = 0; i_20371 < (int64_t) 1; i_20371++) {\n                    int64_t tmp_20372 = ((__global int64_t *) mem_20181)[i_19904 * (n_12351 * (int64_t) 3) + gtid_16575 + i_20371 * n_12351];\n                    \n                    ((__global int64_t *) color_20316)[phys_tid_16576 + num_threads_20336 * i_19904 + i_20371 * num_threads_20336] = tmp_20372;\n                }\n                for (int64_t i_20373 = 0; i_20373 < (int64_t) 1; i_20373++) {\n      ",
                                       "              int64_t tmp_20374 = ((__global int64_t *) mem_20181)[i_19904 * (n_12351 * (int64_t) 3) + n_12351 + gtid_16575 + i_20373 * n_12351];\n                    \n                    ((__global int64_t *) color_20315)[phys_tid_16576 + num_threads_20336 * i_19904 + i_20373 * num_threads_20336] = tmp_20374;\n                }\n                for (int64_t i_20375 = 0; i_20375 < (int64_t) 1; i_20375++) {\n                    int64_t tmp_20376 = ((__global int64_t *) mem_20181)[i_19904 * (n_12351 * (int64_t) 3) + n_12351 * (int64_t) 2 + gtid_16575 + i_20375 * n_12351];\n                    \n                    ((__global int64_t *) color_20314)[phys_tid_16576 + num_threads_20336 * i_19904 + i_20375 * num_threads_20336] = tmp_20376;\n                }\n            }\n            \n            int64_t mem_20234[(int64_t) 3];\n            \n            for (int64_t i_19910 = 0; i_19910 < p_12353; i_19910++) {\n                int64_t defunc_0_f_res_16594;\n                int64_t defunc_0_f_res_16595;\n                int64_t defunc_0_f_res_16596;\n                int64_t redout_19912;\n                int64_t redout_19913;\n                int64_t redout_19914;\n                \n                redout_19912 = (int64_t) 0;\n                redout_19913 = (int64_t) 0;\n                redout_19914 = (int64_t) 0;\n                for (int64_t i_19915 = 0; i_19915 < q_12354; i_19915++) {\n                    int64_t x_16609 = ((__global int64_t *) coefficientss_mem_19948)[i_19910 * ((int64_t) 3 * q_12354) + i_19915 * (int64_t) 3];\n                    int64_t x_16610 = ((__global int64_t *) coefficientss_mem_19948)[i_19910 * ((int64_t) 3 * q_12354) + i_19915 * (int64_t) 3 + (int64_t) 1];\n                    int64_t x_16611 = ((__global int64_t *) coefficientss_mem_19948)[i_19910 * ((int64_t) 3 * q_12354) + i_19915 * (int64_t) 3 + (int64_t) 2];\n                    int64_t defunc_0_f_res_16613;\n                    int64_t defunc_0_f_res_16614;\n                    int64_t defunc_0_f_res_16615;\n  ", "                  int64_t redout_19916;\n                    int64_t redout_19917;\n                    int64_t redout_19918;\n                    \n                    redout_19916 = (int64_t) 1;\n                    redout_19917 = (int64_t) 0;\n                    redout_19918 = (int64_t) 0;\n                    for (int64_t i_19919 = 0; i_19919 < m_12352; i_19919++) {\n                        int64_t x_16640 = ((__global int64_t *) expsss_mem_19947)[i_19910 * (m_12352 * q_12354) + i_19915 * m_12352 + i_19919];\n                        int64_t x_16641 = ((__global int64_t *) color_20316)[phys_tid_16576 + i_19919 * num_threads_20336];\n                        int64_t x_16642 = ((__global int64_t *) color_20315)[phys_tid_16576 + i_19919 * num_threads_20336];\n                        int64_t x_16643 = ((__global int64_t *) color_20314)[phys_tid_16576 + i_19919 * num_threads_20336];\n                        bool loop_cond_16644 = ult64((int64_t) 0, x_16640);\n                        bool mod_pow_u64_res_16645;\n                        int64_t mod_pow_u64_res_16646;\n                        int64_t mod_pow_u64_res_16647;\n                        int64_t mod_pow_u64_res_16648;\n                        int64_t mod_pow_u64_res_16649;\n                        int64_t mod_pow_u64_res_16650;\n                        int64_t mod_pow_u64_res_16651;\n                        int64_t mod_pow_u64_res_16652;\n                        bool loop_while_16653;\n                        int64_t x_16654;\n                        int64_t x_16655;\n                        int64_t x_16656;\n                        int64_t i_16657;\n                        int64_t result_16658;\n                        int64_t result_16659;\n                        int64_t result_16660;\n                        \n                        loop_while_16653 = loop_cond_16644;\n                        x_16654 = x_16641;\n                        x_16655 = x_16642;\n                        x_16656 = x_16643;\n                        i_16657 = x_16640", ";\n                        result_16658 = (int64_t) 1;\n                        result_16659 = (int64_t) 0;\n                        result_16660 = (int64_t) 0;\n                        while (loop_while_16653) {\n                            int64_t x_16661 = umod64(i_16657, (int64_t) 2);\n                            bool cond_16662 = x_16661 == (int64_t) 1;\n                            int64_t loopres_16663;\n                            int64_t loopres_16664;\n                            int64_t loopres_16665;\n                            int64_t loopres_16666;\n                            int64_t loopres_16667;\n                            int64_t loopres_16668;\n                            int64_t loopres_16669;\n                            \n                            if (cond_16662 == 1) {\n                                int64_t x_16670 = mul64(x_16654, x_16654);\n                                int64_t y_16671 = mul64(x_16655, x_16656);\n                                int64_t x_16672 = sub64(x_16670, y_16671);\n                                int64_t mul_res_16673 = sub64(x_16672, y_16671);\n                                int64_t x_16674 = mul64(x_16654, x_16655);\n                                int64_t x_16675 = add64(x_16674, x_16674);\n                                int64_t y_16676 = mul64(x_16656, x_16656);\n                                int64_t x_16677 = sub64(x_16675, y_16676);\n                                int64_t x_16678 = add64(y_16671, x_16677);\n                                int64_t mul_res_16679 = add64(y_16671, x_16678);\n                                int64_t x_16680 = mul64(x_16654, x_16656);\n                                int64_t y_16681 = mul64(x_16655, x_16655);\n                                int64_t x_16682 = add64(x_16680, y_16681);\n                                int64_t x_16683 = add64(x_16680, x_16682);\n                                int64_t mul_res_16684 = add64(y_16676, x_16683);\n                                int64_t loopres_t_res_16685 = lsh",
                                       "r64(i_16657, (int64_t) 1);\n                                int64_t x_16686 = mul64(x_16654, result_16658);\n                                int64_t y_16687 = mul64(x_16656, result_16659);\n                                int64_t x_16688 = sub64(x_16686, y_16687);\n                                int64_t y_16689 = mul64(x_16655, result_16660);\n                                int64_t mul_res_16690 = sub64(x_16688, y_16689);\n                                int64_t x_16691 = mul64(x_16655, result_16658);\n                                int64_t y_16692 = mul64(x_16654, result_16659);\n                                int64_t x_16693 = add64(x_16691, y_16692);\n                                int64_t y_16694 = mul64(x_16656, result_16660);\n                                int64_t x_16695 = sub64(x_16693, y_16694);\n                                int64_t x_16696 = add64(y_16687, x_16695);\n                                int64_t mul_res_16697 = add64(y_16689, x_16696);\n                                int64_t x_16698 = mul64(x_16656, result_16658);\n                                int64_t y_16699 = mul64(x_16655, result_16659);\n                                int64_t x_16700 = add64(x_16698, y_16699);\n                                int64_t y_16701 = mul64(x_16654, result_16660);\n                                int64_t x_16702 = add64(x_16700, y_16701);\n                                int64_t mul_res_16703 = add64(y_16694, x_16702);\n                                \n                                loopres_16663 = mul_res_16673;\n                                loopres_16664 = mul_res_16679;\n                                loopres_16665 = mul_res_16684;\n                                loopres_16666 = loopres_t_res_16685;\n                                loopres_16667 = mul_res_16690;\n                                loopres_16668 = mul_res_16697;\n                                loopres_16669 = mul_res_16703;\n                            } else {\n                                int64_t x_1", "6704 = mul64(x_16654, x_16654);\n                                int64_t y_16705 = mul64(x_16655, x_16656);\n                                int64_t x_16706 = sub64(x_16704, y_16705);\n                                int64_t mul_res_16707 = sub64(x_16706, y_16705);\n                                int64_t x_16708 = mul64(x_16654, x_16655);\n                                int64_t x_16709 = add64(x_16708, x_16708);\n                                int64_t y_16710 = mul64(x_16656, x_16656);\n                                int64_t x_16711 = sub64(x_16709, y_16710);\n                                int64_t x_16712 = add64(y_16705, x_16711);\n                                int64_t mul_res_16713 = add64(y_16705, x_16712);\n                                int64_t x_16714 = mul64(x_16654, x_16656);\n                                int64_t y_16715 = mul64(x_16655, x_16655);\n                                int64_t x_16716 = add64(x_16714, y_16715);\n                                int64_t x_16717 = add64(x_16714, x_16716);\n                                int64_t mul_res_16718 = add64(y_16710, x_16717);\n                                int64_t loopres_f_res_16719 = lshr64(i_16657, (int64_t) 1);\n                                \n                                loopres_16663 = mul_res_16707;\n                                loopres_16664 = mul_res_16713;\n                                loopres_16665 = mul_res_16718;\n                                loopres_16666 = loopres_f_res_16719;\n                                loopres_16667 = result_16658;\n                                loopres_16668 = result_16659;\n                                loopres_16669 = result_16660;\n                            }\n                            \n                            bool loop_cond_16720 = ult64((int64_t) 0, loopres_16666);\n                            bool loop_while_tmp_20384 = loop_cond_16720;\n                            int64_t x_tmp_20385 = loopres_16663;\n                            int64_t x_tmp_20386 ", "= loopres_16664;\n                            int64_t x_tmp_20387 = loopres_16665;\n                            int64_t i_tmp_20388 = loopres_16666;\n                            int64_t result_tmp_20389 = loopres_16667;\n                            int64_t result_tmp_20390 = loopres_16668;\n                            int64_t result_tmp_20391 = loopres_16669;\n                            \n                            loop_while_16653 = loop_while_tmp_20384;\n                            x_16654 = x_tmp_20385;\n                            x_16655 = x_tmp_20386;\n                            x_16656 = x_tmp_20387;\n                            i_16657 = i_tmp_20388;\n                            result_16658 = result_tmp_20389;\n                            result_16659 = result_tmp_20390;\n                            result_16660 = result_tmp_20391;\n                        }\n                        mod_pow_u64_res_16645 = loop_while_16653;\n                        mod_pow_u64_res_16646 = x_16654;\n                        mod_pow_u64_res_16647 = x_16655;\n                        mod_pow_u64_res_16648 = x_16656;\n                        mod_pow_u64_res_16649 = i_16657;\n                        mod_pow_u64_res_16650 = result_16658;\n                        mod_pow_u64_res_16651 = result_16659;\n                        mod_pow_u64_res_16652 = result_16660;\n                        \n                        int64_t x_16622 = mul64(mod_pow_u64_res_16650, redout_19916);\n                        int64_t y_16623 = mul64(mod_pow_u64_res_16651, redout_19918);\n                        int64_t x_16624 = sub64(x_16622, y_16623);\n                        int64_t y_16625 = mul64(mod_pow_u64_res_16652, redout_19917);\n                        int64_t defunc_1_op_res_16626 = sub64(x_16624, y_16625);\n                        int64_t x_16627 = mul64(mod_pow_u64_res_16650, redout_19917);\n                        int64_t y_16628 = mul64(mod_pow_u64_res_16651, redout_19916);\n                        int64_t x_16629 = add64(x",
                                       "_16627, y_16628);\n                        int64_t y_16630 = mul64(mod_pow_u64_res_16652, redout_19918);\n                        int64_t x_16631 = sub64(x_16629, y_16630);\n                        int64_t x_16632 = add64(y_16623, x_16631);\n                        int64_t defunc_1_op_res_16633 = add64(y_16625, x_16632);\n                        int64_t x_16634 = mul64(mod_pow_u64_res_16650, redout_19918);\n                        int64_t y_16635 = mul64(mod_pow_u64_res_16651, redout_19917);\n                        int64_t x_16636 = add64(x_16634, y_16635);\n                        int64_t y_16637 = mul64(mod_pow_u64_res_16652, redout_19916);\n                        int64_t x_16638 = add64(x_16636, y_16637);\n                        int64_t defunc_1_op_res_16639 = add64(y_16630, x_16638);\n                        int64_t redout_tmp_20381 = defunc_1_op_res_16626;\n                        int64_t redout_tmp_20382 = defunc_1_op_res_16633;\n                        int64_t redout_tmp_20383 = defunc_1_op_res_16639;\n                        \n                        redout_19916 = redout_tmp_20381;\n                        redout_19917 = redout_tmp_20382;\n                        redout_19918 = redout_tmp_20383;\n                    }\n                    defunc_0_f_res_16613 = redout_19916;\n                    defunc_0_f_res_16614 = redout_19917;\n                    defunc_0_f_res_16615 = redout_19918;\n                    \n                    int64_t x_16721 = mul64(x_16609, defunc_0_f_res_16613);\n                    int64_t y_16722 = mul64(x_16611, defunc_0_f_res_16614);\n                    int64_t x_16723 = sub64(x_16721, y_16722);\n                    int64_t y_16724 = mul64(x_16610, defunc_0_f_res_16615);\n                    int64_t mul_res_16725 = sub64(x_16723, y_16724);\n                    int64_t x_16726 = mul64(x_16610, defunc_0_f_res_16613);\n                    int64_t y_16727 = mul64(x_16609, defunc_0_f_res_16614);\n                    int64_t x_16728 = add64(x_16726, y_16727);\n ", "                   int64_t y_16729 = mul64(x_16611, defunc_0_f_res_16615);\n                    int64_t x_16730 = sub64(x_16728, y_16729);\n                    int64_t x_16731 = add64(y_16722, x_16730);\n                    int64_t mul_res_16732 = add64(y_16724, x_16731);\n                    int64_t x_16733 = mul64(x_16611, defunc_0_f_res_16613);\n                    int64_t y_16734 = mul64(x_16610, defunc_0_f_res_16614);\n                    int64_t x_16735 = add64(x_16733, y_16734);\n                    int64_t y_16736 = mul64(x_16609, defunc_0_f_res_16615);\n                    int64_t x_16737 = add64(x_16735, y_16736);\n                    int64_t mul_res_16738 = add64(y_16729, x_16737);\n                    int64_t canonicalizze_arg_16603 = add64(mul_res_16725, redout_19912);\n                    int64_t canonicalizze_res_16604 = umod64(canonicalizze_arg_16603, (int64_t) -4294967295);\n                    int64_t canonicalizze_arg_16605 = add64(mul_res_16732, redout_19913);\n                    int64_t canonicalizze_res_16606 = umod64(canonicalizze_arg_16605, (int64_t) -4294967295);\n                    int64_t canonicalizze_arg_16607 = add64(mul_res_16738, redout_19914);\n                    int64_t canonicalizze_res_16608 = umod64(canonicalizze_arg_16607, (int64_t) -4294967295);\n                    int64_t redout_tmp_20378 = canonicalizze_res_16604;\n                    int64_t redout_tmp_20379 = canonicalizze_res_16606;\n                    int64_t redout_tmp_20380 = canonicalizze_res_16608;\n                    \n                    redout_19912 = redout_tmp_20378;\n                    redout_19913 = redout_tmp_20379;\n                    redout_19914 = redout_tmp_20380;\n                }\n                defunc_0_f_res_16594 = redout_19912;\n                defunc_0_f_res_16595 = redout_19913;\n                defunc_0_f_res_16596 = redout_19914;\n                \n                int64_t x_16739 = mul64(defunc_0_f_res_16579, defunc_0_f_res_16594);\n                int64_t y_16740 ", "= mul64(defunc_0_f_res_16581, defunc_0_f_res_16595);\n                int64_t x_16741 = sub64(x_16739, y_16740);\n                int64_t y_16742 = mul64(defunc_0_f_res_16580, defunc_0_f_res_16596);\n                int64_t mul_res_16743 = sub64(x_16741, y_16742);\n                int64_t x_16744 = mul64(defunc_0_f_res_16580, defunc_0_f_res_16594);\n                int64_t y_16745 = mul64(defunc_0_f_res_16579, defunc_0_f_res_16595);\n                int64_t x_16746 = add64(x_16744, y_16745);\n                int64_t y_16747 = mul64(defunc_0_f_res_16581, defunc_0_f_res_16596);\n                int64_t x_16748 = sub64(x_16746, y_16747);\n                int64_t x_16749 = add64(y_16740, x_16748);\n                int64_t mul_res_16750 = add64(y_16742, x_16749);\n                int64_t x_16751 = mul64(defunc_0_f_res_16581, defunc_0_f_res_16594);\n                int64_t y_16752 = mul64(defunc_0_f_res_16580, defunc_0_f_res_16595);\n                int64_t x_16753 = add64(x_16751, y_16752);\n                int64_t y_16754 = mul64(defunc_0_f_res_16579, defunc_0_f_res_16596);\n                int64_t x_16755 = add64(x_16753, y_16754);\n                int64_t mul_res_16756 = add64(y_16747, x_16755);\n                \n                mem_20234[(int64_t) 0] = mul_res_16743;\n                mem_20234[(int64_t) 1] = mul_res_16750;\n                mem_20234[(int64_t) 2] = mul_res_16756;\n                for (int64_t i_20392 = 0; i_20392 < (int64_t) 3; i_20392++) {\n                    int64_t tmp_20393 = mem_20234[i_20392];\n                    \n                    ((__global int64_t *) color_20313)[phys_tid_16576 + i_19910 * (num_threads_20336 * (int64_t) 3) + i_20392 * num_threads_20336] = tmp_20393;\n                }\n            }\n            for (int64_t i_20394 = 0; i_20394 < p_12353; i_20394++) {\n                for (int64_t i_20395 = 0; i_20395 < (int64_t) 3; i_20395++) {\n                    int64_t tmp_20396 = ((__global int64_t *) color_20313)[phys_tid_16576 + (i_20394 * (num_threads_203",
                                       "36 * (int64_t) 3) + i_20395 * num_threads_20336)];\n                    \n                    ((__global int64_t *) mem_20246)[gtid_16575 + (i_20394 * (n_12351 * (int64_t) 3) + i_20395 * n_12351)] = tmp_20396;\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_16571\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_18454(__global int *global_failure, int64_t n_12351, int64_t m_12352, int64_t p_12353, int64_t q_12354, int64_t num_groups_18437, int32_t virt_num_groups_20538, __global unsigned char *zzinvs_mem_19945, __global unsigned char *eps_mem_19946, __global unsigned char *mem_20107, __global unsigned char *mem_20111, __global unsigned char *mem_20117)\n{\n    #define segmap_group_sizze_18436 (make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16986)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20540;\n    int64_t group_sizze_20543;\n    int32_t wave_sizze_20542;\n    int32_t group_tid_20541;\n    \n    local_tid_20540 = get_local_id(0);\n    group_sizze_20543 = get_local_size(0);\n    wave_sizze_20542 = LOCKSTEP_WIDTH;\n    group_tid_20541 = get_group_id(0);\n    \n    int32_t global_tid_20539 = group_tid_20541 * group_sizze_20543 + local_tid_20540;\n    int32_t phys_tid_18454 = global_tid_20539;\n    int32_t phys_group_id_20544;\n    \n    phys_group_id_20544 = get_group_id(0);\n    \n    int32_t iterations_20545 = sdiv_up32(virt_num_groups_20538 - phys_group_id_20544, sext_i64_i32(num_groups_18437));\n    \n    for (int32_t i_20546 = 0; i_20546 < iterations_20545; i_20546++) {\n        int32_t virt_group_id_20547 = phys_group_id_20544 + i_20546 * sext_i64_i32(num_groups_18437);\n        int64_t global_tid_20548 = sext_i32_i64(virt_group_id_20547) * segmap_group_sizze_18436 + sext_i32_i64(local_tid_20540);\n    ", "    int64_t slice_20549 = p_12353;\n        int64_t slice_20550 = n_12351 * slice_20549;\n        int64_t gtid_18452 = squot64(global_tid_20548, slice_20549);\n        int64_t remnant_20551 = global_tid_20548 - gtid_18452 * slice_20549;\n        int64_t gtid_18453 = remnant_20551;\n        int64_t remnant_20552 = remnant_20551 - gtid_18453;\n        \n        if (slt64(gtid_18452, n_12351) && slt64(gtid_18453, p_12353)) {\n            int64_t defunc_0_f_res_18455 = ((__global int64_t *) zzinvs_mem_19945)[gtid_18452 * (int64_t) 3];\n            int64_t defunc_0_f_res_18456 = ((__global int64_t *) zzinvs_mem_19945)[gtid_18452 * (int64_t) 3 + (int64_t) 1];\n            int64_t defunc_0_f_res_18457 = ((__global int64_t *) zzinvs_mem_19945)[gtid_18452 * (int64_t) 3 + (int64_t) 2];\n            int64_t defunc_0_f_res_18465;\n            int64_t defunc_0_f_res_18466;\n            int64_t defunc_0_f_res_18467;\n            int64_t redout_19920;\n            int64_t redout_19921;\n            int64_t redout_19922;\n            \n            redout_19920 = (int64_t) 0;\n            redout_19921 = (int64_t) 0;\n            redout_19922 = (int64_t) 0;\n            for (int64_t i_19923 = 0; i_19923 < q_12354; i_19923++) {\n                int64_t x_18480 = ((__global int64_t *) mem_20111)[i_19923 * (p_12353 * (int64_t) 3) + gtid_18453];\n                int64_t x_18481 = ((__global int64_t *) mem_20111)[i_19923 * (p_12353 * (int64_t) 3) + p_12353 + gtid_18453];\n                int64_t x_18482 = ((__global int64_t *) mem_20111)[i_19923 * (p_12353 * (int64_t) 3) + (int64_t) 2 * p_12353 + gtid_18453];\n                int64_t defunc_0_f_res_18484;\n                int64_t defunc_0_f_res_18485;\n                int64_t defunc_0_f_res_18486;\n                int64_t redout_19924;\n                int64_t redout_19925;\n                int64_t redout_19926;\n                \n                redout_19924 = (int64_t) 1;\n                redout_19925 = (int64_t) 0;\n                redout_19926 = (int64_t) 0;\n         ", "       for (int64_t i_19927 = 0; i_19927 < m_12352; i_19927++) {\n                    int64_t x_18511 = ((__global int64_t *) mem_20107)[i_19923 * (p_12353 * m_12352) + i_19927 * p_12353 + gtid_18453];\n                    int64_t x_18512 = ((__global int64_t *) eps_mem_19946)[gtid_18452 * ((int64_t) 3 * m_12352) + i_19927 * (int64_t) 3];\n                    int64_t x_18513 = ((__global int64_t *) eps_mem_19946)[gtid_18452 * ((int64_t) 3 * m_12352) + i_19927 * (int64_t) 3 + (int64_t) 1];\n                    int64_t x_18514 = ((__global int64_t *) eps_mem_19946)[gtid_18452 * ((int64_t) 3 * m_12352) + i_19927 * (int64_t) 3 + (int64_t) 2];\n                    bool loop_cond_18515 = ult64((int64_t) 0, x_18511);\n                    bool mod_pow_u64_res_18516;\n                    int64_t mod_pow_u64_res_18517;\n                    int64_t mod_pow_u64_res_18518;\n                    int64_t mod_pow_u64_res_18519;\n                    int64_t mod_pow_u64_res_18520;\n                    int64_t mod_pow_u64_res_18521;\n                    int64_t mod_pow_u64_res_18522;\n                    int64_t mod_pow_u64_res_18523;\n                    bool loop_while_18524;\n                    int64_t x_18525;\n                    int64_t x_18526;\n                    int64_t x_18527;\n                    int64_t i_18528;\n                    int64_t result_18529;\n                    int64_t result_18530;\n                    int64_t result_18531;\n                    \n                    loop_while_18524 = loop_cond_18515;\n                    x_18525 = x_18512;\n                    x_18526 = x_18513;\n                    x_18527 = x_18514;\n                    i_18528 = x_18511;\n                    result_18529 = (int64_t) 1;\n                    result_18530 = (int64_t) 0;\n                    result_18531 = (int64_t) 0;\n                    while (loop_while_18524) {\n                        int64_t x_18532 = umod64(i_18528, (int64_t) 2);\n                        bool cond_18533 = x_18532 == (int64_t) 1;\n ",
                                       "                       int64_t loopres_18534;\n                        int64_t loopres_18535;\n                        int64_t loopres_18536;\n                        int64_t loopres_18537;\n                        int64_t loopres_18538;\n                        int64_t loopres_18539;\n                        int64_t loopres_18540;\n                        \n                        if (cond_18533 == 1) {\n                            int64_t x_18541 = mul64(x_18525, x_18525);\n                            int64_t y_18542 = mul64(x_18526, x_18527);\n                            int64_t x_18543 = sub64(x_18541, y_18542);\n                            int64_t mul_res_18544 = sub64(x_18543, y_18542);\n                            int64_t x_18545 = mul64(x_18525, x_18526);\n                            int64_t x_18546 = add64(x_18545, x_18545);\n                            int64_t y_18547 = mul64(x_18527, x_18527);\n                            int64_t x_18548 = sub64(x_18546, y_18547);\n                            int64_t x_18549 = add64(y_18542, x_18548);\n                            int64_t mul_res_18550 = add64(y_18542, x_18549);\n                            int64_t x_18551 = mul64(x_18525, x_18527);\n                            int64_t y_18552 = mul64(x_18526, x_18526);\n                            int64_t x_18553 = add64(x_18551, y_18552);\n                            int64_t x_18554 = add64(x_18551, x_18553);\n                            int64_t mul_res_18555 = add64(y_18547, x_18554);\n                            int64_t loopres_t_res_18556 = lshr64(i_18528, (int64_t) 1);\n                            int64_t x_18557 = mul64(x_18525, result_18529);\n                            int64_t y_18558 = mul64(x_18527, result_18530);\n                            int64_t x_18559 = sub64(x_18557, y_18558);\n                            int64_t y_18560 = mul64(x_18526, result_18531);\n                            int64_t mul_res_18561 = sub64(x_18559, y_18560);\n                            int64_t x_18562 = mul64(x", "_18526, result_18529);\n                            int64_t y_18563 = mul64(x_18525, result_18530);\n                            int64_t x_18564 = add64(x_18562, y_18563);\n                            int64_t y_18565 = mul64(x_18527, result_18531);\n                            int64_t x_18566 = sub64(x_18564, y_18565);\n                            int64_t x_18567 = add64(y_18558, x_18566);\n                            int64_t mul_res_18568 = add64(y_18560, x_18567);\n                            int64_t x_18569 = mul64(x_18527, result_18529);\n                            int64_t y_18570 = mul64(x_18526, result_18530);\n                            int64_t x_18571 = add64(x_18569, y_18570);\n                            int64_t y_18572 = mul64(x_18525, result_18531);\n                            int64_t x_18573 = add64(x_18571, y_18572);\n                            int64_t mul_res_18574 = add64(y_18565, x_18573);\n                            \n                            loopres_18534 = mul_res_18544;\n                            loopres_18535 = mul_res_18550;\n                            loopres_18536 = mul_res_18555;\n                            loopres_18537 = loopres_t_res_18556;\n                            loopres_18538 = mul_res_18561;\n                            loopres_18539 = mul_res_18568;\n                            loopres_18540 = mul_res_18574;\n                        } else {\n                            int64_t x_18575 = mul64(x_18525, x_18525);\n                            int64_t y_18576 = mul64(x_18526, x_18527);\n                            int64_t x_18577 = sub64(x_18575, y_18576);\n                            int64_t mul_res_18578 = sub64(x_18577, y_18576);\n                            int64_t x_18579 = mul64(x_18525, x_18526);\n                            int64_t x_18580 = add64(x_18579, x_18579);\n                            int64_t y_18581 = mul64(x_18527, x_18527);\n                            int64_t x_18582 = sub64(x_18580, y_18581);\n                            int64", "_t x_18583 = add64(y_18576, x_18582);\n                            int64_t mul_res_18584 = add64(y_18576, x_18583);\n                            int64_t x_18585 = mul64(x_18525, x_18527);\n                            int64_t y_18586 = mul64(x_18526, x_18526);\n                            int64_t x_18587 = add64(x_18585, y_18586);\n                            int64_t x_18588 = add64(x_18585, x_18587);\n                            int64_t mul_res_18589 = add64(y_18581, x_18588);\n                            int64_t loopres_f_res_18590 = lshr64(i_18528, (int64_t) 1);\n                            \n                            loopres_18534 = mul_res_18578;\n                            loopres_18535 = mul_res_18584;\n                            loopres_18536 = mul_res_18589;\n                            loopres_18537 = loopres_f_res_18590;\n                            loopres_18538 = result_18529;\n                            loopres_18539 = result_18530;\n                            loopres_18540 = result_18531;\n                        }\n                        \n                        bool loop_cond_18591 = ult64((int64_t) 0, loopres_18537);\n                        bool loop_while_tmp_20559 = loop_cond_18591;\n                        int64_t x_tmp_20560 = loopres_18534;\n                        int64_t x_tmp_20561 = loopres_18535;\n                        int64_t x_tmp_20562 = loopres_18536;\n                        int64_t i_tmp_20563 = loopres_18537;\n                        int64_t result_tmp_20564 = loopres_18538;\n                        int64_t result_tmp_20565 = loopres_18539;\n                        int64_t result_tmp_20566 = loopres_18540;\n                        \n                        loop_while_18524 = loop_while_tmp_20559;\n                        x_18525 = x_tmp_20560;\n                        x_18526 = x_tmp_20561;\n                        x_18527 = x_tmp_20562;\n                        i_18528 = i_tmp_20563;\n                        result_18529 = result_tmp_20564;\n            ",
                                       "            result_18530 = result_tmp_20565;\n                        result_18531 = result_tmp_20566;\n                    }\n                    mod_pow_u64_res_18516 = loop_while_18524;\n                    mod_pow_u64_res_18517 = x_18525;\n                    mod_pow_u64_res_18518 = x_18526;\n                    mod_pow_u64_res_18519 = x_18527;\n                    mod_pow_u64_res_18520 = i_18528;\n                    mod_pow_u64_res_18521 = result_18529;\n                    mod_pow_u64_res_18522 = result_18530;\n                    mod_pow_u64_res_18523 = result_18531;\n                    \n                    int64_t x_18493 = mul64(mod_pow_u64_res_18521, redout_19924);\n                    int64_t y_18494 = mul64(mod_pow_u64_res_18522, redout_19926);\n                    int64_t x_18495 = sub64(x_18493, y_18494);\n                    int64_t y_18496 = mul64(mod_pow_u64_res_18523, redout_19925);\n                    int64_t defunc_1_op_res_18497 = sub64(x_18495, y_18496);\n                    int64_t x_18498 = mul64(mod_pow_u64_res_18521, redout_19925);\n                    int64_t y_18499 = mul64(mod_pow_u64_res_18522, redout_19924);\n                    int64_t x_18500 = add64(x_18498, y_18499);\n                    int64_t y_18501 = mul64(mod_pow_u64_res_18523, redout_19926);\n                    int64_t x_18502 = sub64(x_18500, y_18501);\n                    int64_t x_18503 = add64(y_18494, x_18502);\n                    int64_t defunc_1_op_res_18504 = add64(y_18496, x_18503);\n                    int64_t x_18505 = mul64(mod_pow_u64_res_18521, redout_19926);\n                    int64_t y_18506 = mul64(mod_pow_u64_res_18522, redout_19925);\n                    int64_t x_18507 = add64(x_18505, y_18506);\n                    int64_t y_18508 = mul64(mod_pow_u64_res_18523, redout_19924);\n                    int64_t x_18509 = add64(x_18507, y_18508);\n                    int64_t defunc_1_op_res_18510 = add64(y_18501, x_18509);\n                    int64_t redout_tmp_20556 = defunc_1_op_r", "es_18497;\n                    int64_t redout_tmp_20557 = defunc_1_op_res_18504;\n                    int64_t redout_tmp_20558 = defunc_1_op_res_18510;\n                    \n                    redout_19924 = redout_tmp_20556;\n                    redout_19925 = redout_tmp_20557;\n                    redout_19926 = redout_tmp_20558;\n                }\n                defunc_0_f_res_18484 = redout_19924;\n                defunc_0_f_res_18485 = redout_19925;\n                defunc_0_f_res_18486 = redout_19926;\n                \n                int64_t x_18592 = mul64(x_18480, defunc_0_f_res_18484);\n                int64_t y_18593 = mul64(x_18482, defunc_0_f_res_18485);\n                int64_t x_18594 = sub64(x_18592, y_18593);\n                int64_t y_18595 = mul64(x_18481, defunc_0_f_res_18486);\n                int64_t mul_res_18596 = sub64(x_18594, y_18595);\n                int64_t x_18597 = mul64(x_18481, defunc_0_f_res_18484);\n                int64_t y_18598 = mul64(x_18480, defunc_0_f_res_18485);\n                int64_t x_18599 = add64(x_18597, y_18598);\n                int64_t y_18600 = mul64(x_18482, defunc_0_f_res_18486);\n                int64_t x_18601 = sub64(x_18599, y_18600);\n                int64_t x_18602 = add64(y_18593, x_18601);\n                int64_t mul_res_18603 = add64(y_18595, x_18602);\n                int64_t x_18604 = mul64(x_18482, defunc_0_f_res_18484);\n                int64_t y_18605 = mul64(x_18481, defunc_0_f_res_18485);\n                int64_t x_18606 = add64(x_18604, y_18605);\n                int64_t y_18607 = mul64(x_18480, defunc_0_f_res_18486);\n                int64_t x_18608 = add64(x_18606, y_18607);\n                int64_t mul_res_18609 = add64(y_18600, x_18608);\n                int64_t canonicalizze_arg_18474 = add64(mul_res_18596, redout_19920);\n                int64_t canonicalizze_res_18475 = umod64(canonicalizze_arg_18474, (int64_t) -4294967295);\n                int64_t canonicalizze_arg_18476 = add64(mul_res_18603, redout_19921);\n ", "               int64_t canonicalizze_res_18477 = umod64(canonicalizze_arg_18476, (int64_t) -4294967295);\n                int64_t canonicalizze_arg_18478 = add64(mul_res_18609, redout_19922);\n                int64_t canonicalizze_res_18479 = umod64(canonicalizze_arg_18478, (int64_t) -4294967295);\n                int64_t redout_tmp_20553 = canonicalizze_res_18475;\n                int64_t redout_tmp_20554 = canonicalizze_res_18477;\n                int64_t redout_tmp_20555 = canonicalizze_res_18479;\n                \n                redout_19920 = redout_tmp_20553;\n                redout_19921 = redout_tmp_20554;\n                redout_19922 = redout_tmp_20555;\n            }\n            defunc_0_f_res_18465 = redout_19920;\n            defunc_0_f_res_18466 = redout_19921;\n            defunc_0_f_res_18467 = redout_19922;\n            \n            int64_t x_18610 = mul64(defunc_0_f_res_18455, defunc_0_f_res_18465);\n            int64_t y_18611 = mul64(defunc_0_f_res_18457, defunc_0_f_res_18466);\n            int64_t x_18612 = sub64(x_18610, y_18611);\n            int64_t y_18613 = mul64(defunc_0_f_res_18456, defunc_0_f_res_18467);\n            int64_t mul_res_18614 = sub64(x_18612, y_18613);\n            int64_t x_18615 = mul64(defunc_0_f_res_18456, defunc_0_f_res_18465);\n            int64_t y_18616 = mul64(defunc_0_f_res_18455, defunc_0_f_res_18466);\n            int64_t x_18617 = add64(x_18615, y_18616);\n            int64_t y_18618 = mul64(defunc_0_f_res_18457, defunc_0_f_res_18467);\n            int64_t x_18619 = sub64(x_18617, y_18618);\n            int64_t x_18620 = add64(y_18611, x_18619);\n            int64_t mul_res_18621 = add64(y_18613, x_18620);\n            int64_t x_18622 = mul64(defunc_0_f_res_18457, defunc_0_f_res_18465);\n            int64_t y_18623 = mul64(defunc_0_f_res_18456, defunc_0_f_res_18466);\n            int64_t x_18624 = add64(x_18622, y_18623);\n            int64_t y_18625 = mul64(defunc_0_f_res_18455, defunc_0_f_res_18467);\n            int64_t x_18626 = add64",
                                       "(x_18624, y_18625);\n            int64_t mul_res_18627 = add64(y_18618, x_18626);\n            int64_t mem_20113[(int64_t) 3];\n            \n            mem_20113[(int64_t) 0] = mul_res_18614;\n            mem_20113[(int64_t) 1] = mul_res_18621;\n            mem_20113[(int64_t) 2] = mul_res_18627;\n            for (int64_t i_20567 = 0; i_20567 < (int64_t) 3; i_20567++) {\n                int64_t tmp_20568 = mem_20113[i_20567];\n                \n                ((__global int64_t *) mem_20117)[gtid_18452 * p_12353 + gtid_18453 + i_20567 * (p_12353 * n_12351)] = tmp_20568;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_18436\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_19105(__global int *global_failure, int64_t n_12351, int64_t p_12353, int64_t q_12354, __global unsigned char *coefficientss_mem_19948, __global unsigned char *mem_19954, __global unsigned char *mem_19959, __global unsigned char *mem_19964, __global unsigned char *mem_19970, __global unsigned char *mem_19975, __global unsigned char *mem_19980)\n{\n    #define segmap_group_sizze_19097 (make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17642)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20857;\n    int64_t group_sizze_20860;\n    int32_t wave_sizze_20859;\n    int32_t group_tid_20858;\n    \n    local_tid_20857 = get_local_id(0);\n    group_sizze_20860 = get_local_size(0);\n    wave_sizze_20859 = LOCKSTEP_WIDTH;\n    group_tid_20858 = get_group_id(0);\n    \n    int32_t global_tid_20856 = group_tid_20858 * group_sizze_20860 + local_tid_20857;\n    int32_t phys_tid_19105 = global_tid_20856;\n    int64_t global_tid_20861 = sext_i32_i64(group_tid_20858) * segmap_group_sizze_19097 + sext_i32_i64(local_tid_20857);\n    int64_t slice_20862 = q_12354;\n    int64_t slice", "_20863 = p_12353 * slice_20862;\n    int64_t slice_20864 = n_12351 * slice_20863;\n    int64_t gtid_19102 = squot64(global_tid_20861, slice_20863);\n    int64_t remnant_20865 = global_tid_20861 - gtid_19102 * slice_20863;\n    int64_t gtid_19103 = squot64(remnant_20865, slice_20862);\n    int64_t remnant_20866 = remnant_20865 - gtid_19103 * slice_20862;\n    int64_t gtid_19104 = remnant_20866;\n    int64_t remnant_20867 = remnant_20866 - gtid_19104;\n    \n    if ((slt64(gtid_19102, n_12351) && slt64(gtid_19103, p_12353)) && slt64(gtid_19104, q_12354)) {\n        int64_t x_19106 = ((__global int64_t *) coefficientss_mem_19948)[gtid_19103 * ((int64_t) 3 * q_12354) + gtid_19104 * (int64_t) 3];\n        int64_t x_19107 = ((__global int64_t *) coefficientss_mem_19948)[gtid_19103 * ((int64_t) 3 * q_12354) + gtid_19104 * (int64_t) 3 + (int64_t) 1];\n        int64_t x_19108 = ((__global int64_t *) coefficientss_mem_19948)[gtid_19103 * ((int64_t) 3 * q_12354) + gtid_19104 * (int64_t) 3 + (int64_t) 2];\n        int64_t defunc_0_f_res_19109 = ((__global int64_t *) mem_19954)[gtid_19102 * (q_12354 * p_12353) + gtid_19103 * q_12354 + gtid_19104];\n        int64_t defunc_0_f_res_19110 = ((__global int64_t *) mem_19959)[gtid_19102 * (q_12354 * p_12353) + gtid_19103 * q_12354 + gtid_19104];\n        int64_t defunc_0_f_res_19111 = ((__global int64_t *) mem_19964)[gtid_19102 * (q_12354 * p_12353) + gtid_19103 * q_12354 + gtid_19104];\n        int64_t x_19112 = mul64(x_19106, defunc_0_f_res_19109);\n        int64_t y_19113 = mul64(x_19108, defunc_0_f_res_19110);\n        int64_t x_19114 = sub64(x_19112, y_19113);\n        int64_t y_19115 = mul64(x_19107, defunc_0_f_res_19111);\n        int64_t mul_res_19116 = sub64(x_19114, y_19115);\n        int64_t x_19117 = mul64(x_19107, defunc_0_f_res_19109);\n        int64_t y_19118 = mul64(x_19106, defunc_0_f_res_19110);\n        int64_t x_19119 = add64(x_19117, y_19118);\n        int64_t y_19120 = mul64(x_19108, defunc_0_f_res_19111);\n        int64_t x_19121 = sub64", "(x_19119, y_19120);\n        int64_t x_19122 = add64(y_19113, x_19121);\n        int64_t mul_res_19123 = add64(y_19115, x_19122);\n        int64_t x_19124 = mul64(x_19108, defunc_0_f_res_19109);\n        int64_t y_19125 = mul64(x_19107, defunc_0_f_res_19110);\n        int64_t x_19126 = add64(x_19124, y_19125);\n        int64_t y_19127 = mul64(x_19106, defunc_0_f_res_19111);\n        int64_t x_19128 = add64(x_19126, y_19127);\n        int64_t mul_res_19129 = add64(y_19120, x_19128);\n        \n        ((__global int64_t *) mem_19970)[gtid_19102 * (q_12354 * p_12353) + gtid_19103 * q_12354 + gtid_19104] = mul_res_19116;\n        ((__global int64_t *) mem_19975)[gtid_19102 * (q_12354 * p_12353) + gtid_19103 * q_12354 + gtid_19104] = mul_res_19123;\n        ((__global int64_t *) mem_19980)[gtid_19102 * (q_12354 * p_12353) + gtid_19103 * q_12354 + gtid_19104] = mul_res_19129;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_19097\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_19175(__global int *global_failure, int64_t n_12351, int64_t p_12353, int64_t num_groups_19170, int32_t virt_num_groups_20979, __global unsigned char *zzinvs_mem_19945, __global unsigned char *mem_20070, __global unsigned char *mem_20074, __global unsigned char *mem_20078, __global unsigned char *mem_20084)\n{\n    #define segmap_group_sizze_19169 (make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17396)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20981;\n    int64_t group_sizze_20984;\n    int32_t wave_sizze_20983;\n    int32_t group_tid_20982;\n    \n    local_tid_20981 = get_local_id(0);\n    group_sizze_20984 = get_local_size(0);\n    wave_sizze_20983 = LOCKSTEP_WIDTH;\n    group_tid_20982 = get_group_id(0);\n    \n    int32_t global_tid_20980 = group_tid_20982 * group_sizze_20984 + local_tid_20981;\n    int32_t phys_tid_19175 = global_tid_",
                                       "20980;\n    int32_t phys_group_id_20985;\n    \n    phys_group_id_20985 = get_group_id(0);\n    \n    int32_t iterations_20986 = sdiv_up32(virt_num_groups_20979 - phys_group_id_20985, sext_i64_i32(num_groups_19170));\n    \n    for (int32_t i_20987 = 0; i_20987 < iterations_20986; i_20987++) {\n        int32_t virt_group_id_20988 = phys_group_id_20985 + i_20987 * sext_i64_i32(num_groups_19170);\n        int64_t global_tid_20989 = sext_i32_i64(virt_group_id_20988) * segmap_group_sizze_19169 + sext_i32_i64(local_tid_20981);\n        int64_t slice_20990 = p_12353;\n        int64_t slice_20991 = n_12351 * slice_20990;\n        int64_t gtid_19173 = squot64(global_tid_20989, slice_20990);\n        int64_t remnant_20992 = global_tid_20989 - gtid_19173 * slice_20990;\n        int64_t gtid_19174 = remnant_20992;\n        int64_t remnant_20993 = remnant_20992 - gtid_19174;\n        \n        if (slt64(gtid_19173, n_12351) && slt64(gtid_19174, p_12353)) {\n            int64_t defunc_0_f_res_19176 = ((__global int64_t *) zzinvs_mem_19945)[gtid_19173 * (int64_t) 3];\n            int64_t defunc_0_f_res_19177 = ((__global int64_t *) zzinvs_mem_19945)[gtid_19173 * (int64_t) 3 + (int64_t) 1];\n            int64_t defunc_0_f_res_19178 = ((__global int64_t *) zzinvs_mem_19945)[gtid_19173 * (int64_t) 3 + (int64_t) 2];\n            int64_t defunc_0_f_res_19179 = ((__global int64_t *) mem_20070)[gtid_19173 * p_12353 + gtid_19174];\n            int64_t defunc_0_f_res_19180 = ((__global int64_t *) mem_20074)[gtid_19173 * p_12353 + gtid_19174];\n            int64_t defunc_0_f_res_19181 = ((__global int64_t *) mem_20078)[gtid_19173 * p_12353 + gtid_19174];\n            int64_t x_19182 = mul64(defunc_0_f_res_19176, defunc_0_f_res_19179);\n            int64_t y_19183 = mul64(defunc_0_f_res_19178, defunc_0_f_res_19180);\n            int64_t x_19184 = sub64(x_19182, y_19183);\n            int64_t y_19185 = mul64(defunc_0_f_res_19177, defunc_0_f_res_19181);\n            int64_t mul_res_19186 = sub64(x_19184, y_19185);\n     ", "       int64_t x_19187 = mul64(defunc_0_f_res_19177, defunc_0_f_res_19179);\n            int64_t y_19188 = mul64(defunc_0_f_res_19176, defunc_0_f_res_19180);\n            int64_t x_19189 = add64(x_19187, y_19188);\n            int64_t y_19190 = mul64(defunc_0_f_res_19178, defunc_0_f_res_19181);\n            int64_t x_19191 = sub64(x_19189, y_19190);\n            int64_t x_19192 = add64(y_19183, x_19191);\n            int64_t mul_res_19193 = add64(y_19185, x_19192);\n            int64_t x_19194 = mul64(defunc_0_f_res_19178, defunc_0_f_res_19179);\n            int64_t y_19195 = mul64(defunc_0_f_res_19177, defunc_0_f_res_19180);\n            int64_t x_19196 = add64(x_19194, y_19195);\n            int64_t y_19197 = mul64(defunc_0_f_res_19176, defunc_0_f_res_19181);\n            int64_t x_19198 = add64(x_19196, y_19197);\n            int64_t mul_res_19199 = add64(y_19190, x_19198);\n            int64_t mem_20080[(int64_t) 3];\n            \n            mem_20080[(int64_t) 0] = mul_res_19186;\n            mem_20080[(int64_t) 1] = mul_res_19193;\n            mem_20080[(int64_t) 2] = mul_res_19199;\n            for (int64_t i_20994 = 0; i_20994 < (int64_t) 3; i_20994++) {\n                int64_t tmp_20995 = mem_20080[i_20994];\n                \n                ((__global int64_t *) mem_20084)[gtid_19173 * p_12353 + gtid_19174 + i_20994 * (p_12353 * n_12351)] = tmp_20995;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_19169\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765(__global int *global_failure, __local volatile int64_t *red_arr_mem_20493_backing_aligned_0, __local volatile int64_t *red_arr_mem_20491_backing_aligned_1, __local volatile int64_t *red_arr_mem_20489_backing_aligned_2, __local volatile int64_t *red_arr_mem_20430_backing_aligned_3, __local volatile int64_t *red_arr_mem_20428_backing_aligned_4, __local volatile int64_t *red_arr_mem_20426_ba", "cking_aligned_5, __local volatile int64_t *color_20326_backing_aligned_6, __local volatile int64_t *color_20325_backing_aligned_7, __local volatile int64_t *color_20324_backing_aligned_8, __local volatile int64_t *color_20323_backing_aligned_9, __local volatile int64_t *color_20322_backing_aligned_10, __local volatile int64_t *color_20321_backing_aligned_11, int64_t n_12351, int64_t m_12352, int64_t p_12353, int64_t q_12354, int64_t computed_group_sizze_16137, __global unsigned char *zzinvs_mem_19945, __global unsigned char *eps_mem_19946, __global unsigned char *expsss_mem_19947, __global unsigned char *coefficientss_mem_19948, __global unsigned char *mem_20174)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_20493_backing_11 = (__local volatile unsigned char *) red_arr_mem_20493_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20491_backing_10 = (__local volatile unsigned char *) red_arr_mem_20491_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_20489_backing_9 = (__local volatile unsigned char *) red_arr_mem_20489_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_20430_backing_8 = (__local volatile unsigned char *) red_arr_mem_20430_backing_aligned_3;\n    __local volatile unsigned char *restrict red_arr_mem_20428_backing_7 = (__local volatile unsigned char *) red_arr_mem_20428_backing_aligned_4;\n    __local volatile unsigned char *restrict red_arr_mem_20426_backing_6 = (__local volatile unsigned char *) red_arr_mem_20426_backing_aligned_5;\n    __local volatile unsigned char *restrict color_20326_backing_5 = (__local volatile unsigned char *) color_20326_backing_aligned_6;\n    __local volatile unsigned char *restrict color_20325_backing_4 = (__local volatile unsigned char *) color_20325_backing_aligned_7;\n    __local volatile unsigned char *restrict color_20324_backing_3 = (__local vola",
                                       "tile unsigned char *) color_20324_backing_aligned_8;\n    __local volatile unsigned char *restrict color_20323_backing_2 = (__local volatile unsigned char *) color_20323_backing_aligned_9;\n    __local volatile unsigned char *restrict color_20322_backing_1 = (__local volatile unsigned char *) color_20322_backing_aligned_10;\n    __local volatile unsigned char *restrict color_20321_backing_0 = (__local volatile unsigned char *) color_20321_backing_aligned_11;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20402;\n    int64_t group_sizze_20405;\n    int32_t wave_sizze_20404;\n    int32_t group_tid_20403;\n    \n    local_tid_20402 = get_local_id(0);\n    group_sizze_20405 = get_local_size(0);\n    wave_sizze_20404 = LOCKSTEP_WIDTH;\n    group_tid_20403 = get_group_id(0);\n    \n    int32_t global_tid_20401 = group_tid_20403 * group_sizze_20405 + local_tid_20402;\n    int32_t phys_tid_16765 = group_tid_20403;\n    int64_t slice_20407 = p_12353;\n    int64_t ltid_pre_20406 = sext_i32_i64(local_tid_20402);\n    int64_t remnant_20408 = sext_i32_i64(local_tid_20402) - ltid_pre_20406;\n    int64_t slice_20411 = q_12354;\n    int64_t slice_20412 = p_12353 * slice_20411;\n    int64_t ltid_pre_20409 = squot64(sext_i32_i64(local_tid_20402), slice_20411);\n    int64_t remnant_20413 = sext_i32_i64(local_tid_20402) - ltid_pre_20409 * slice_20411;\n    int64_t ltid_pre_20410 = remnant_20413;\n    int64_t remnant_20414 = remnant_20413 - ltid_pre_20410;\n    int64_t slice_20418 = m_12352;\n    int64_t slice_20419 = q_12354 * slice_20418;\n    int64_t slice_20420 = p_12353 * slice_20419;\n    int64_t ltid_pre_20415 = squot64(sext_i32_i64(local_tid_20402), slice_20419);\n    int64_t remnant_20421 = sext_i32_i64(local_tid_20402) - ltid_pre_20415 * slice_20419;\n    int64_t ltid_pre_20416 = squot64(remnant_20421, slice_20418);\n    int64_t remnant_20422 = remnant_20421 - ltid_pre_20416 * slice_20418;\n    int64_t ltid_pre_20417 = remnant_20422;\n    int64_t remnant_20423 = remnant_20422 -", " ltid_pre_20417;\n    int64_t slice_20424 = n_12351;\n    int64_t gtid_16764 = sext_i32_i64(group_tid_20403);\n    int64_t remnant_20425 = sext_i32_i64(group_tid_20403) - gtid_16764;\n    __local unsigned char *color_20321;\n    \n    color_20321 = (__local unsigned char *) color_20321_backing_0;\n    \n    __local unsigned char *color_20322;\n    \n    color_20322 = (__local unsigned char *) color_20322_backing_1;\n    \n    __local unsigned char *color_20323;\n    \n    color_20323 = (__local unsigned char *) color_20323_backing_2;\n    \n    __local unsigned char *color_20324;\n    \n    color_20324 = (__local unsigned char *) color_20324_backing_3;\n    \n    __local unsigned char *color_20325;\n    \n    color_20325 = (__local unsigned char *) color_20325_backing_4;\n    \n    __local unsigned char *color_20326;\n    \n    color_20326 = (__local unsigned char *) color_20326_backing_5;\n    \n    int64_t defunc_0_f_res_16770 = ((__global int64_t *) zzinvs_mem_19945)[gtid_16764 * (int64_t) 3];\n    int64_t defunc_0_f_res_16771 = ((__global int64_t *) zzinvs_mem_19945)[gtid_16764 * (int64_t) 3 + (int64_t) 1];\n    int64_t defunc_0_f_res_16772 = ((__global int64_t *) zzinvs_mem_19945)[gtid_16764 * (int64_t) 3 + (int64_t) 2];\n    int32_t phys_tid_16788 = local_tid_20402;\n    __local unsigned char *red_arr_mem_20426;\n    \n    red_arr_mem_20426 = (__local unsigned char *) red_arr_mem_20426_backing_6;\n    \n    __local unsigned char *red_arr_mem_20428;\n    \n    red_arr_mem_20428 = (__local unsigned char *) red_arr_mem_20428_backing_7;\n    \n    __local unsigned char *red_arr_mem_20430;\n    \n    red_arr_mem_20430 = (__local unsigned char *) red_arr_mem_20430_backing_8;\n    \n    int64_t gtid_16785 = sext_i32_i64(sext_i64_i32(ltid_pre_20415));\n    int64_t gtid_16786 = sext_i32_i64(sext_i64_i32(ltid_pre_20416));\n    int64_t gtid_16787 = sext_i32_i64(sext_i64_i32(ltid_pre_20417));\n    \n    if ((slt64(gtid_16785, p_12353) && slt64(gtid_16786, q_12354)) && slt64(gtid_16787, m_12352)) {\n        int64_t x_168", "15 = ((__global int64_t *) expsss_mem_19947)[gtid_16785 * (m_12352 * q_12354) + gtid_16786 * m_12352 + gtid_16787];\n        int64_t x_16816 = ((__global int64_t *) eps_mem_19946)[gtid_16764 * ((int64_t) 3 * m_12352) + gtid_16787 * (int64_t) 3];\n        int64_t x_16817 = ((__global int64_t *) eps_mem_19946)[gtid_16764 * ((int64_t) 3 * m_12352) + gtid_16787 * (int64_t) 3 + (int64_t) 1];\n        int64_t x_16818 = ((__global int64_t *) eps_mem_19946)[gtid_16764 * ((int64_t) 3 * m_12352) + gtid_16787 * (int64_t) 3 + (int64_t) 2];\n        bool loop_cond_16819 = ult64((int64_t) 0, x_16815);\n        bool mod_pow_u64_res_16820;\n        int64_t mod_pow_u64_res_16821;\n        int64_t mod_pow_u64_res_16822;\n        int64_t mod_pow_u64_res_16823;\n        int64_t mod_pow_u64_res_16824;\n        int64_t mod_pow_u64_res_16825;\n        int64_t mod_pow_u64_res_16826;\n        int64_t mod_pow_u64_res_16827;\n        bool loop_while_16828;\n        int64_t x_16829;\n        int64_t x_16830;\n        int64_t x_16831;\n        int64_t i_16832;\n        int64_t result_16833;\n        int64_t result_16834;\n        int64_t result_16835;\n        \n        loop_while_16828 = loop_cond_16819;\n        x_16829 = x_16816;\n        x_16830 = x_16817;\n        x_16831 = x_16818;\n        i_16832 = x_16815;\n        result_16833 = (int64_t) 1;\n        result_16834 = (int64_t) 0;\n        result_16835 = (int64_t) 0;\n        while (loop_while_16828) {\n            int64_t x_16836 = umod64(i_16832, (int64_t) 2);\n            bool cond_16837 = x_16836 == (int64_t) 1;\n            int64_t loopres_16838;\n            int64_t loopres_16839;\n            int64_t loopres_16840;\n            int64_t loopres_16841;\n            int64_t loopres_16842;\n            int64_t loopres_16843;\n            int64_t loopres_16844;\n            \n            if (cond_16837 == 1) {\n                int64_t x_16845 = mul64(x_16829, x_16829);\n                int64_t y_16846 = mul64(x_16830, x_16831);\n                int64_t x_16847 = sub64(x_16845, y",
                                       "_16846);\n                int64_t mul_res_16848 = sub64(x_16847, y_16846);\n                int64_t x_16849 = mul64(x_16829, x_16830);\n                int64_t x_16850 = add64(x_16849, x_16849);\n                int64_t y_16851 = mul64(x_16831, x_16831);\n                int64_t x_16852 = sub64(x_16850, y_16851);\n                int64_t x_16853 = add64(y_16846, x_16852);\n                int64_t mul_res_16854 = add64(y_16846, x_16853);\n                int64_t x_16855 = mul64(x_16829, x_16831);\n                int64_t y_16856 = mul64(x_16830, x_16830);\n                int64_t x_16857 = add64(x_16855, y_16856);\n                int64_t x_16858 = add64(x_16855, x_16857);\n                int64_t mul_res_16859 = add64(y_16851, x_16858);\n                int64_t loopres_t_res_16860 = lshr64(i_16832, (int64_t) 1);\n                int64_t x_16861 = mul64(x_16829, result_16833);\n                int64_t y_16862 = mul64(x_16831, result_16834);\n                int64_t x_16863 = sub64(x_16861, y_16862);\n                int64_t y_16864 = mul64(x_16830, result_16835);\n                int64_t mul_res_16865 = sub64(x_16863, y_16864);\n                int64_t x_16866 = mul64(x_16830, result_16833);\n                int64_t y_16867 = mul64(x_16829, result_16834);\n                int64_t x_16868 = add64(x_16866, y_16867);\n                int64_t y_16869 = mul64(x_16831, result_16835);\n                int64_t x_16870 = sub64(x_16868, y_16869);\n                int64_t x_16871 = add64(y_16862, x_16870);\n                int64_t mul_res_16872 = add64(y_16864, x_16871);\n                int64_t x_16873 = mul64(x_16831, result_16833);\n                int64_t y_16874 = mul64(x_16830, result_16834);\n                int64_t x_16875 = add64(x_16873, y_16874);\n                int64_t y_16876 = mul64(x_16829, result_16835);\n                int64_t x_16877 = add64(x_16875, y_16876);\n                int64_t mul_res_16878 = add64(y_16869, x_16877);\n                \n                loopres_16838 = mul_res_16848;\n", "                loopres_16839 = mul_res_16854;\n                loopres_16840 = mul_res_16859;\n                loopres_16841 = loopres_t_res_16860;\n                loopres_16842 = mul_res_16865;\n                loopres_16843 = mul_res_16872;\n                loopres_16844 = mul_res_16878;\n            } else {\n                int64_t x_16879 = mul64(x_16829, x_16829);\n                int64_t y_16880 = mul64(x_16830, x_16831);\n                int64_t x_16881 = sub64(x_16879, y_16880);\n                int64_t mul_res_16882 = sub64(x_16881, y_16880);\n                int64_t x_16883 = mul64(x_16829, x_16830);\n                int64_t x_16884 = add64(x_16883, x_16883);\n                int64_t y_16885 = mul64(x_16831, x_16831);\n                int64_t x_16886 = sub64(x_16884, y_16885);\n                int64_t x_16887 = add64(y_16880, x_16886);\n                int64_t mul_res_16888 = add64(y_16880, x_16887);\n                int64_t x_16889 = mul64(x_16829, x_16831);\n                int64_t y_16890 = mul64(x_16830, x_16830);\n                int64_t x_16891 = add64(x_16889, y_16890);\n                int64_t x_16892 = add64(x_16889, x_16891);\n                int64_t mul_res_16893 = add64(y_16885, x_16892);\n                int64_t loopres_f_res_16894 = lshr64(i_16832, (int64_t) 1);\n                \n                loopres_16838 = mul_res_16882;\n                loopres_16839 = mul_res_16888;\n                loopres_16840 = mul_res_16893;\n                loopres_16841 = loopres_f_res_16894;\n                loopres_16842 = result_16833;\n                loopres_16843 = result_16834;\n                loopres_16844 = result_16835;\n            }\n            \n            bool loop_cond_16895 = ult64((int64_t) 0, loopres_16841);\n            bool loop_while_tmp_20432 = loop_cond_16895;\n            int64_t x_tmp_20433 = loopres_16838;\n            int64_t x_tmp_20434 = loopres_16839;\n            int64_t x_tmp_20435 = loopres_16840;\n            int64_t i_tmp_20436 = loopres_16841;\n            i", "nt64_t result_tmp_20437 = loopres_16842;\n            int64_t result_tmp_20438 = loopres_16843;\n            int64_t result_tmp_20439 = loopres_16844;\n            \n            loop_while_16828 = loop_while_tmp_20432;\n            x_16829 = x_tmp_20433;\n            x_16830 = x_tmp_20434;\n            x_16831 = x_tmp_20435;\n            i_16832 = i_tmp_20436;\n            result_16833 = result_tmp_20437;\n            result_16834 = result_tmp_20438;\n            result_16835 = result_tmp_20439;\n        }\n        mod_pow_u64_res_16820 = loop_while_16828;\n        mod_pow_u64_res_16821 = x_16829;\n        mod_pow_u64_res_16822 = x_16830;\n        mod_pow_u64_res_16823 = x_16831;\n        mod_pow_u64_res_16824 = i_16832;\n        mod_pow_u64_res_16825 = result_16833;\n        mod_pow_u64_res_16826 = result_16834;\n        mod_pow_u64_res_16827 = result_16835;\n        ((__local int64_t *) red_arr_mem_20426)[gtid_16785 * (m_12352 * q_12354) + gtid_16786 * m_12352 + gtid_16787] = mod_pow_u64_res_16825;\n        ((__local int64_t *) red_arr_mem_20428)[gtid_16785 * (m_12352 * q_12354) + gtid_16786 * m_12352 + gtid_16787] = mod_pow_u64_res_16826;\n        ((__local int64_t *) red_arr_mem_20430)[gtid_16785 * (m_12352 * q_12354) + gtid_16786 * m_12352 + gtid_16787] = mod_pow_u64_res_16827;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t dims_flat_20440 = p_12353 * q_12354 * m_12352;\n    int64_t x_16789;\n    int64_t x_16790;\n    int64_t x_16791;\n    int64_t x_16792;\n    int64_t x_16793;\n    int64_t x_16794;\n    int64_t x_20444;\n    int64_t x_20445;\n    int64_t x_20446;\n    int64_t x_20447;\n    int64_t x_20448;\n    int64_t x_20449;\n    bool ltid_in_bounds_20468 = slt64(sext_i32_i64(local_tid_20402), p_12353 * q_12354 * m_12352);\n    int32_t skip_threads_20469;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_20468) {\n            x_16792 = ((volatile __local int64_t *) red_arr_mem_20426)[sext_i32_i64(local_tid_20402)];\n            x_16793 = ((volatile __local int64",
                                       "_t *) red_arr_mem_20428)[sext_i32_i64(local_tid_20402)];\n            x_16794 = ((volatile __local int64_t *) red_arr_mem_20430)[sext_i32_i64(local_tid_20402)];\n            if ((local_tid_20402 - squot32(local_tid_20402, 32) * 32) == 0) {\n                x_16789 = x_16792;\n                x_16790 = x_16793;\n                x_16791 = x_16794;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_20469 = 1;\n        while (slt32(skip_threads_20469, 32)) {\n            bool thread_active_20470 = sle32(skip_threads_20469, local_tid_20402 - squot32(local_tid_20402, 32) * 32) && ltid_in_bounds_20468;\n            \n            if (thread_active_20470) {\n                // read operands\n                {\n                    x_16789 = ((volatile __local int64_t *) red_arr_mem_20426)[sext_i32_i64(local_tid_20402) - sext_i32_i64(skip_threads_20469)];\n                    x_16790 = ((volatile __local int64_t *) red_arr_mem_20428)[sext_i32_i64(local_tid_20402) - sext_i32_i64(skip_threads_20469)];\n                    x_16791 = ((volatile __local int64_t *) red_arr_mem_20430)[sext_i32_i64(local_tid_20402) - sext_i32_i64(skip_threads_20469)];\n                }\n            }\n            // perform operation\n            {\n                bool inactive_20471 = slt64(srem64(sext_i32_i64(local_tid_20402), m_12352), sext_i32_i64(local_tid_20402) - sext_i32_i64(local_tid_20402 - skip_threads_20469));\n                \n                if (thread_active_20470 && inactive_20471) {\n                    x_16789 = x_16792;\n                    x_16790 = x_16793;\n                    x_16791 = x_16794;\n                }\n                if (thread_active_20470) {\n                    if (!inactive_20471) {\n                        int64_t x_16795 = mul64(x_16789, x_16792);\n                        int64_t y_16796 = mul64(x_16791, x_16793);\n                        int64_t x_16797 = sub64(x_16795, y_16796);\n                        int64_t y_16798 = mul64(x", "_16790, x_16794);\n                        int64_t defunc_1_op_res_16799 = sub64(x_16797, y_16798);\n                        int64_t x_16800 = mul64(x_16790, x_16792);\n                        int64_t y_16801 = mul64(x_16789, x_16793);\n                        int64_t x_16802 = add64(x_16800, y_16801);\n                        int64_t y_16803 = mul64(x_16791, x_16794);\n                        int64_t x_16804 = sub64(x_16802, y_16803);\n                        int64_t x_16805 = add64(y_16796, x_16804);\n                        int64_t defunc_1_op_res_16806 = add64(y_16798, x_16805);\n                        int64_t x_16807 = mul64(x_16791, x_16792);\n                        int64_t y_16808 = mul64(x_16790, x_16793);\n                        int64_t x_16809 = add64(x_16807, y_16808);\n                        int64_t y_16810 = mul64(x_16789, x_16794);\n                        int64_t x_16811 = add64(x_16809, y_16810);\n                        int64_t defunc_1_op_res_16812 = add64(y_16803, x_16811);\n                        \n                        x_16789 = defunc_1_op_res_16799;\n                        x_16790 = defunc_1_op_res_16806;\n                        x_16791 = defunc_1_op_res_16812;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_20404, skip_threads_20469)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (thread_active_20470) {\n                // write result\n                {\n                    ((volatile __local int64_t *) red_arr_mem_20426)[sext_i32_i64(local_tid_20402)] = x_16789;\n                    x_16792 = x_16789;\n                    ((volatile __local int64_t *) red_arr_mem_20428)[sext_i32_i64(local_tid_20402)] = x_16790;\n                    x_16793 = x_16790;\n                    ((volatile __local int64_t *) red_arr_mem_20430)[sext_i32_i64(local_tid_20402)] = x_16791;\n                    x_16794 = x_16791;\n                }\n            }\n            if (sle32(wave_sizze_20404, skip_threads_20469", ")) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_20469 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_20402 - squot32(local_tid_20402, 32) * 32) == 31 && ltid_in_bounds_20468) {\n            ((volatile __local int64_t *) red_arr_mem_20426)[sext_i32_i64(squot32(local_tid_20402, 32))] = x_16789;\n            ((volatile __local int64_t *) red_arr_mem_20428)[sext_i32_i64(squot32(local_tid_20402, 32))] = x_16790;\n            ((volatile __local int64_t *) red_arr_mem_20430)[sext_i32_i64(squot32(local_tid_20402, 32))] = x_16791;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_20472;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_20402, 32) == 0 && ltid_in_bounds_20468) {\n                x_20447 = ((volatile __local int64_t *) red_arr_mem_20426)[sext_i32_i64(local_tid_20402)];\n                x_20448 = ((volatile __local int64_t *) red_arr_mem_20428)[sext_i32_i64(local_tid_20402)];\n                x_20449 = ((volatile __local int64_t *) red_arr_mem_20430)[sext_i32_i64(local_tid_20402)];\n                if ((local_tid_20402 - squot32(local_tid_20402, 32) * 32) == 0) {\n                    x_20444 = x_20447;\n                    x_20445 = x_20448;\n                    x_20446 = x_20449;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_20472 = 1;\n            while (slt32(skip_threads_20472, 32)) {\n                bool thread_active_20473 = sle32(skip_threads_20472, local_tid_20402 - squot32(local_tid_20402, 32) * 32) && (squot32(local_tid_20402, 32) == 0 && ltid_in_bounds_20468);\n                \n                if (thread_active_20473) {\n                    // read operands\n                  ",
                                       "  {\n                        x_20444 = ((volatile __local int64_t *) red_arr_mem_20426)[sext_i32_i64(local_tid_20402) - sext_i32_i64(skip_threads_20472)];\n                        x_20445 = ((volatile __local int64_t *) red_arr_mem_20428)[sext_i32_i64(local_tid_20402) - sext_i32_i64(skip_threads_20472)];\n                        x_20446 = ((volatile __local int64_t *) red_arr_mem_20430)[sext_i32_i64(local_tid_20402) - sext_i32_i64(skip_threads_20472)];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_20474 = slt64(srem64(sext_i32_i64(local_tid_20402 * 32 + 32 - 1), m_12352), sext_i32_i64(local_tid_20402 * 32 + 32 - 1) - sext_i32_i64((local_tid_20402 - skip_threads_20472) * 32 + 32 - 1));\n                    \n                    if (thread_active_20473 && inactive_20474) {\n                        x_20444 = x_20447;\n                        x_20445 = x_20448;\n                        x_20446 = x_20449;\n                    }\n                    if (thread_active_20473) {\n                        if (!inactive_20474) {\n                            int64_t x_20450 = mul64(x_20444, x_20447);\n                            int64_t y_20451 = mul64(x_20446, x_20448);\n                            int64_t x_20452 = sub64(x_20450, y_20451);\n                            int64_t y_20453 = mul64(x_20445, x_20449);\n                            int64_t defunc_1_op_res_20454 = sub64(x_20452, y_20453);\n                            int64_t x_20455 = mul64(x_20445, x_20447);\n                            int64_t y_20456 = mul64(x_20444, x_20448);\n                            int64_t x_20457 = add64(x_20455, y_20456);\n                            int64_t y_20458 = mul64(x_20446, x_20449);\n                            int64_t x_20459 = sub64(x_20457, y_20458);\n                            int64_t x_20460 = add64(y_20451, x_20459);\n                            int64_t defunc_1_op_res_20461 = add64(y_20453, x_20460);\n               ", "             int64_t x_20462 = mul64(x_20446, x_20447);\n                            int64_t y_20463 = mul64(x_20445, x_20448);\n                            int64_t x_20464 = add64(x_20462, y_20463);\n                            int64_t y_20465 = mul64(x_20444, x_20449);\n                            int64_t x_20466 = add64(x_20464, y_20465);\n                            int64_t defunc_1_op_res_20467 = add64(y_20458, x_20466);\n                            \n                            x_20444 = defunc_1_op_res_20454;\n                            x_20445 = defunc_1_op_res_20461;\n                            x_20446 = defunc_1_op_res_20467;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_20404, skip_threads_20472)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (thread_active_20473) {\n                    // write result\n                    {\n                        ((volatile __local int64_t *) red_arr_mem_20426)[sext_i32_i64(local_tid_20402)] = x_20444;\n                        x_20447 = x_20444;\n                        ((volatile __local int64_t *) red_arr_mem_20428)[sext_i32_i64(local_tid_20402)] = x_20445;\n                        x_20448 = x_20445;\n                        ((volatile __local int64_t *) red_arr_mem_20430)[sext_i32_i64(local_tid_20402)] = x_20446;\n                        x_20449 = x_20446;\n                    }\n                }\n                if (sle32(wave_sizze_20404, skip_threads_20472)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_20472 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool no_carry_in_20475 = squot32(local_tid_20402, 32) == 0 || !ltid_in_bounds_20468;\n    \n    // carry-in for every block except the first\n    {\n        // read operands\n        {\n            if (!no_carry_in_20475) {\n                x_16792 = x_16789;\n                x_16793 = x_16790;\n          ", "      x_16794 = x_16791;\n                x_16789 = ((__local int64_t *) red_arr_mem_20426)[sext_i32_i64(squot32(local_tid_20402, 32)) - (int64_t) 1];\n                x_16790 = ((__local int64_t *) red_arr_mem_20428)[sext_i32_i64(squot32(local_tid_20402, 32)) - (int64_t) 1];\n                x_16791 = ((__local int64_t *) red_arr_mem_20430)[sext_i32_i64(squot32(local_tid_20402, 32)) - (int64_t) 1];\n            }\n        }\n        // perform operation\n        {\n            bool inactive_20476 = slt64(srem64(sext_i32_i64(local_tid_20402), m_12352), sext_i32_i64(local_tid_20402) - sext_i32_i64(squot32(local_tid_20402, 32) * 32 - 1));\n            \n            if (!no_carry_in_20475) {\n                if (inactive_20476) {\n                    x_16789 = x_16792;\n                    x_16790 = x_16793;\n                    x_16791 = x_16794;\n                }\n            }\n            if (!no_carry_in_20475) {\n                if (!inactive_20476) {\n                    int64_t x_16795 = mul64(x_16789, x_16792);\n                    int64_t y_16796 = mul64(x_16791, x_16793);\n                    int64_t x_16797 = sub64(x_16795, y_16796);\n                    int64_t y_16798 = mul64(x_16790, x_16794);\n                    int64_t defunc_1_op_res_16799 = sub64(x_16797, y_16798);\n                    int64_t x_16800 = mul64(x_16790, x_16792);\n                    int64_t y_16801 = mul64(x_16789, x_16793);\n                    int64_t x_16802 = add64(x_16800, y_16801);\n                    int64_t y_16803 = mul64(x_16791, x_16794);\n                    int64_t x_16804 = sub64(x_16802, y_16803);\n                    int64_t x_16805 = add64(y_16796, x_16804);\n                    int64_t defunc_1_op_res_16806 = add64(y_16798, x_16805);\n                    int64_t x_16807 = mul64(x_16791, x_16792);\n                    int64_t y_16808 = mul64(x_16790, x_16793);\n                    int64_t x_16809 = add64(x_16807, y_16808);\n                    int64_t y_16810 = mul64(x_16789, x_16794);\n            ",
                                       "        int64_t x_16811 = add64(x_16809, y_16810);\n                    int64_t defunc_1_op_res_16812 = add64(y_16803, x_16811);\n                    \n                    x_16789 = defunc_1_op_res_16799;\n                    x_16790 = defunc_1_op_res_16806;\n                    x_16791 = defunc_1_op_res_16812;\n                }\n            }\n        }\n        // write final result\n        {\n            if (!no_carry_in_20475) {\n                ((__local int64_t *) red_arr_mem_20426)[sext_i32_i64(local_tid_20402)] = x_16789;\n                ((__local int64_t *) red_arr_mem_20428)[sext_i32_i64(local_tid_20402)] = x_16790;\n                ((__local int64_t *) red_arr_mem_20430)[sext_i32_i64(local_tid_20402)] = x_16791;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_20402, 32) == 0 && ltid_in_bounds_20468) {\n            ((__local int64_t *) red_arr_mem_20426)[sext_i32_i64(local_tid_20402)] = x_16792;\n            ((__local int64_t *) red_arr_mem_20428)[sext_i32_i64(local_tid_20402)] = x_16793;\n            ((__local int64_t *) red_arr_mem_20430)[sext_i32_i64(local_tid_20402)] = x_16794;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20477 = sdiv_up32(sext_i64_i32(p_12353) * sext_i64_i32(q_12354), sext_i64_i32(computed_group_sizze_16137));\n    \n    for (int32_t chunk_i_20478 = 0; chunk_i_20478 < num_chunks_20477; chunk_i_20478++) {\n        int32_t i_20479 = chunk_i_20478 * sext_i64_i32(computed_group_sizze_16137) + local_tid_20402;\n        \n        if (slt32(i_20479, sext_i64_i32(p_12353) * sext_i64_i32(q_12354))) {\n            int64_t tmp_20480 = ((__local int64_t *) red_arr_mem_20426)[m_12352 - (int64_t) 1 + sext_i32_i64(squot32(i_20479, sext_i64_i32(q_12354))) * (m_12352 * q_12354) + sext_i32_i64(i_20479 - squot32(i_20479, sext_i64_i32(q_12354)) * sext_i64_i32(q_12354)) * m_12352];\n            \n            ((__lo", "cal int64_t *) color_20324)[sext_i32_i64(squot32(i_20479, sext_i64_i32(q_12354))) * q_12354 + sext_i32_i64(i_20479 - squot32(i_20479, sext_i64_i32(q_12354)) * sext_i64_i32(q_12354))] = tmp_20480;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20481 = sdiv_up32(sext_i64_i32(p_12353) * sext_i64_i32(q_12354), sext_i64_i32(computed_group_sizze_16137));\n    \n    for (int32_t chunk_i_20482 = 0; chunk_i_20482 < num_chunks_20481; chunk_i_20482++) {\n        int32_t i_20483 = chunk_i_20482 * sext_i64_i32(computed_group_sizze_16137) + local_tid_20402;\n        \n        if (slt32(i_20483, sext_i64_i32(p_12353) * sext_i64_i32(q_12354))) {\n            int64_t tmp_20484 = ((__local int64_t *) red_arr_mem_20428)[m_12352 - (int64_t) 1 + sext_i32_i64(squot32(i_20483, sext_i64_i32(q_12354))) * (m_12352 * q_12354) + sext_i32_i64(i_20483 - squot32(i_20483, sext_i64_i32(q_12354)) * sext_i64_i32(q_12354)) * m_12352];\n            \n            ((__local int64_t *) color_20323)[sext_i32_i64(squot32(i_20483, sext_i64_i32(q_12354))) * q_12354 + sext_i32_i64(i_20483 - squot32(i_20483, sext_i64_i32(q_12354)) * sext_i64_i32(q_12354))] = tmp_20484;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20485 = sdiv_up32(sext_i64_i32(p_12353) * sext_i64_i32(q_12354), sext_i64_i32(computed_group_sizze_16137));\n    \n    for (int32_t chunk_i_20486 = 0; chunk_i_20486 < num_chunks_20485; chunk_i_20486++) {\n        int32_t i_20487 = chunk_i_20486 * sext_i64_i32(computed_group_sizze_16137) + local_tid_20402;\n        \n        if (slt32(i_20487, sext_i64_i32(p_12353) * sext_i64_i32(q_12354))) {\n            int64_t tmp_20488 = ((__local int64_t *) red_arr_mem_20430)[m_12352 - (int64_t) 1 + sext_i32_i64(squot32(i_20487, sext_i64_i32(q_12354))) * (m_12352 * q_12354) + sext_i32_i64(i_20487 - squot32(i_20487, sext_i64_i32(q_12354)) * sext_i64_i32(q_12354)) * m_12352];\n            \n            ((__local int64_t *) color_20322)[sext_i32_i64(squot32(i_20487, sext", "_i64_i32(q_12354))) * q_12354 + sext_i32_i64(i_20487 - squot32(i_20487, sext_i64_i32(q_12354)) * sext_i64_i32(q_12354))] = tmp_20488;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t phys_tid_16901 = local_tid_20402;\n    int64_t gtid_16899 = sext_i32_i64(sext_i64_i32(ltid_pre_20409));\n    int64_t gtid_16900 = sext_i32_i64(sext_i64_i32(ltid_pre_20410));\n    \n    if (slt64(gtid_16899, p_12353) && slt64(gtid_16900, q_12354)) {\n        int64_t x_16902 = ((__global int64_t *) coefficientss_mem_19948)[gtid_16899 * ((int64_t) 3 * q_12354) + gtid_16900 * (int64_t) 3];\n        int64_t x_16903 = ((__global int64_t *) coefficientss_mem_19948)[gtid_16899 * ((int64_t) 3 * q_12354) + gtid_16900 * (int64_t) 3 + (int64_t) 1];\n        int64_t x_16904 = ((__global int64_t *) coefficientss_mem_19948)[gtid_16899 * ((int64_t) 3 * q_12354) + gtid_16900 * (int64_t) 3 + (int64_t) 2];\n        int64_t defunc_0_f_res_16905 = ((__local int64_t *) color_20324)[gtid_16899 * q_12354 + gtid_16900];\n        int64_t defunc_0_f_res_16906 = ((__local int64_t *) color_20323)[gtid_16899 * q_12354 + gtid_16900];\n        int64_t defunc_0_f_res_16907 = ((__local int64_t *) color_20322)[gtid_16899 * q_12354 + gtid_16900];\n        int64_t x_16908 = mul64(x_16902, defunc_0_f_res_16905);\n        int64_t y_16909 = mul64(x_16904, defunc_0_f_res_16906);\n        int64_t x_16910 = sub64(x_16908, y_16909);\n        int64_t y_16911 = mul64(x_16903, defunc_0_f_res_16907);\n        int64_t mul_res_16912 = sub64(x_16910, y_16911);\n        int64_t x_16913 = mul64(x_16903, defunc_0_f_res_16905);\n        int64_t y_16914 = mul64(x_16902, defunc_0_f_res_16906);\n        int64_t x_16915 = add64(x_16913, y_16914);\n        int64_t y_16916 = mul64(x_16904, defunc_0_f_res_16907);\n        int64_t x_16917 = sub64(x_16915, y_16916);\n        int64_t x_16918 = add64(y_16909, x_16917);\n        int64_t mul_res_16919 = add64(y_16911, x_16918);\n        int64_t x_16920 = mul64(x_16904, defun",
                                       "c_0_f_res_16905);\n        int64_t y_16921 = mul64(x_16903, defunc_0_f_res_16906);\n        int64_t x_16922 = add64(x_16920, y_16921);\n        int64_t y_16923 = mul64(x_16902, defunc_0_f_res_16907);\n        int64_t x_16924 = add64(x_16922, y_16923);\n        int64_t mul_res_16925 = add64(y_16916, x_16924);\n        \n        ((__local int64_t *) color_20326)[gtid_16899 * q_12354 + gtid_16900] = mul_res_16912;\n        ((__local int64_t *) color_20325)[gtid_16899 * q_12354 + gtid_16900] = mul_res_16919;\n        ((__local int64_t *) color_20321)[gtid_16899 * q_12354 + gtid_16900] = mul_res_16925;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t phys_tid_16931 = local_tid_20402;\n    __local unsigned char *red_arr_mem_20489;\n    \n    red_arr_mem_20489 = (__local unsigned char *) red_arr_mem_20489_backing_9;\n    \n    __local unsigned char *red_arr_mem_20491;\n    \n    red_arr_mem_20491 = (__local unsigned char *) red_arr_mem_20491_backing_10;\n    \n    __local unsigned char *red_arr_mem_20493;\n    \n    red_arr_mem_20493 = (__local unsigned char *) red_arr_mem_20493_backing_11;\n    \n    int64_t gtid_16929 = sext_i32_i64(sext_i64_i32(ltid_pre_20409));\n    int64_t gtid_16930 = sext_i32_i64(sext_i64_i32(ltid_pre_20410));\n    \n    if (slt64(gtid_16929, p_12353) && slt64(gtid_16930, q_12354)) {\n        int64_t x_16947 = ((__local int64_t *) color_20326)[gtid_16929 * q_12354 + gtid_16930];\n        int64_t x_16948 = ((__local int64_t *) color_20325)[gtid_16929 * q_12354 + gtid_16930];\n        int64_t x_16949 = ((__local int64_t *) color_20321)[gtid_16929 * q_12354 + gtid_16930];\n        \n        ((__local int64_t *) red_arr_mem_20489)[gtid_16929 * q_12354 + gtid_16930] = x_16947;\n        ((__local int64_t *) red_arr_mem_20491)[gtid_16929 * q_12354 + gtid_16930] = x_16948;\n        ((__local int64_t *) red_arr_mem_20493)[gtid_16929 * q_12354 + gtid_16930] = x_16949;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t dims_flat_20495 = p_12353 * q_12354;\n    int64_t x_16932;\n ", "   int64_t x_16933;\n    int64_t x_16934;\n    int64_t x_16935;\n    int64_t x_16936;\n    int64_t x_16937;\n    int64_t x_20499;\n    int64_t x_20500;\n    int64_t x_20501;\n    int64_t x_20502;\n    int64_t x_20503;\n    int64_t x_20504;\n    bool ltid_in_bounds_20511 = slt64(sext_i32_i64(local_tid_20402), p_12353 * q_12354);\n    int32_t skip_threads_20512;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_20511) {\n            x_16935 = ((volatile __local int64_t *) red_arr_mem_20489)[sext_i32_i64(local_tid_20402)];\n            x_16936 = ((volatile __local int64_t *) red_arr_mem_20491)[sext_i32_i64(local_tid_20402)];\n            x_16937 = ((volatile __local int64_t *) red_arr_mem_20493)[sext_i32_i64(local_tid_20402)];\n            if ((local_tid_20402 - squot32(local_tid_20402, 32) * 32) == 0) {\n                x_16932 = x_16935;\n                x_16933 = x_16936;\n                x_16934 = x_16937;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_20512 = 1;\n        while (slt32(skip_threads_20512, 32)) {\n            bool thread_active_20513 = sle32(skip_threads_20512, local_tid_20402 - squot32(local_tid_20402, 32) * 32) && ltid_in_bounds_20511;\n            \n            if (thread_active_20513) {\n                // read operands\n                {\n                    x_16932 = ((volatile __local int64_t *) red_arr_mem_20489)[sext_i32_i64(local_tid_20402) - sext_i32_i64(skip_threads_20512)];\n                    x_16933 = ((volatile __local int64_t *) red_arr_mem_20491)[sext_i32_i64(local_tid_20402) - sext_i32_i64(skip_threads_20512)];\n                    x_16934 = ((volatile __local int64_t *) red_arr_mem_20493)[sext_i32_i64(local_tid_20402) - sext_i32_i64(skip_threads_20512)];\n                }\n            }\n            // perform operation\n            {\n                bool inactive_20514 = slt64(srem64(sext_i32_i64(local_tid_20402), q_12354), sext_i32_i64(local_tid_20402) - sext_i32_i64(local_", "tid_20402 - skip_threads_20512));\n                \n                if (thread_active_20513 && inactive_20514) {\n                    x_16932 = x_16935;\n                    x_16933 = x_16936;\n                    x_16934 = x_16937;\n                }\n                if (thread_active_20513) {\n                    if (!inactive_20514) {\n                        int64_t canonicalizze_arg_16938 = add64(x_16932, x_16935);\n                        int64_t canonicalizze_res_16939 = umod64(canonicalizze_arg_16938, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_16940 = add64(x_16933, x_16936);\n                        int64_t canonicalizze_res_16941 = umod64(canonicalizze_arg_16940, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_16942 = add64(x_16934, x_16937);\n                        int64_t canonicalizze_res_16943 = umod64(canonicalizze_arg_16942, (int64_t) -4294967295);\n                        \n                        x_16932 = canonicalizze_res_16939;\n                        x_16933 = canonicalizze_res_16941;\n                        x_16934 = canonicalizze_res_16943;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_20404, skip_threads_20512)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (thread_active_20513) {\n                // write result\n                {\n                    ((volatile __local int64_t *) red_arr_mem_20489)[sext_i32_i64(local_tid_20402)] = x_16932;\n                    x_16935 = x_16932;\n                    ((volatile __local int64_t *) red_arr_mem_20491)[sext_i32_i64(local_tid_20402)] = x_16933;\n                    x_16936 = x_16933;\n                    ((volatile __local int64_t *) red_arr_mem_20493)[sext_i32_i64(local_tid_20402)] = x_16934;\n                    x_16937 = x_16934;\n                }\n            }\n            if (sle32(wave_sizze_20404, skip_threads_20512)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n   ",
                                       "         skip_threads_20512 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_20402 - squot32(local_tid_20402, 32) * 32) == 31 && ltid_in_bounds_20511) {\n            ((volatile __local int64_t *) red_arr_mem_20489)[sext_i32_i64(squot32(local_tid_20402, 32))] = x_16932;\n            ((volatile __local int64_t *) red_arr_mem_20491)[sext_i32_i64(squot32(local_tid_20402, 32))] = x_16933;\n            ((volatile __local int64_t *) red_arr_mem_20493)[sext_i32_i64(squot32(local_tid_20402, 32))] = x_16934;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_20515;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_20402, 32) == 0 && ltid_in_bounds_20511) {\n                x_20502 = ((volatile __local int64_t *) red_arr_mem_20489)[sext_i32_i64(local_tid_20402)];\n                x_20503 = ((volatile __local int64_t *) red_arr_mem_20491)[sext_i32_i64(local_tid_20402)];\n                x_20504 = ((volatile __local int64_t *) red_arr_mem_20493)[sext_i32_i64(local_tid_20402)];\n                if ((local_tid_20402 - squot32(local_tid_20402, 32) * 32) == 0) {\n                    x_20499 = x_20502;\n                    x_20500 = x_20503;\n                    x_20501 = x_20504;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_20515 = 1;\n            while (slt32(skip_threads_20515, 32)) {\n                bool thread_active_20516 = sle32(skip_threads_20515, local_tid_20402 - squot32(local_tid_20402, 32) * 32) && (squot32(local_tid_20402, 32) == 0 && ltid_in_bounds_20511);\n                \n                if (thread_active_20516) {\n                    // read operands\n                    {\n                        x_20499 = ((volatile __local int64_t *) ", "red_arr_mem_20489)[sext_i32_i64(local_tid_20402) - sext_i32_i64(skip_threads_20515)];\n                        x_20500 = ((volatile __local int64_t *) red_arr_mem_20491)[sext_i32_i64(local_tid_20402) - sext_i32_i64(skip_threads_20515)];\n                        x_20501 = ((volatile __local int64_t *) red_arr_mem_20493)[sext_i32_i64(local_tid_20402) - sext_i32_i64(skip_threads_20515)];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_20517 = slt64(srem64(sext_i32_i64(local_tid_20402 * 32 + 32 - 1), q_12354), sext_i32_i64(local_tid_20402 * 32 + 32 - 1) - sext_i32_i64((local_tid_20402 - skip_threads_20515) * 32 + 32 - 1));\n                    \n                    if (thread_active_20516 && inactive_20517) {\n                        x_20499 = x_20502;\n                        x_20500 = x_20503;\n                        x_20501 = x_20504;\n                    }\n                    if (thread_active_20516) {\n                        if (!inactive_20517) {\n                            int64_t canonicalizze_arg_20505 = add64(x_20499, x_20502);\n                            int64_t canonicalizze_res_20506 = umod64(canonicalizze_arg_20505, (int64_t) -4294967295);\n                            int64_t canonicalizze_arg_20507 = add64(x_20500, x_20503);\n                            int64_t canonicalizze_res_20508 = umod64(canonicalizze_arg_20507, (int64_t) -4294967295);\n                            int64_t canonicalizze_arg_20509 = add64(x_20501, x_20504);\n                            int64_t canonicalizze_res_20510 = umod64(canonicalizze_arg_20509, (int64_t) -4294967295);\n                            \n                            x_20499 = canonicalizze_res_20506;\n                            x_20500 = canonicalizze_res_20508;\n                            x_20501 = canonicalizze_res_20510;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_20404, skip_threads_20515))", " {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (thread_active_20516) {\n                    // write result\n                    {\n                        ((volatile __local int64_t *) red_arr_mem_20489)[sext_i32_i64(local_tid_20402)] = x_20499;\n                        x_20502 = x_20499;\n                        ((volatile __local int64_t *) red_arr_mem_20491)[sext_i32_i64(local_tid_20402)] = x_20500;\n                        x_20503 = x_20500;\n                        ((volatile __local int64_t *) red_arr_mem_20493)[sext_i32_i64(local_tid_20402)] = x_20501;\n                        x_20504 = x_20501;\n                    }\n                }\n                if (sle32(wave_sizze_20404, skip_threads_20515)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_20515 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool no_carry_in_20518 = squot32(local_tid_20402, 32) == 0 || !ltid_in_bounds_20511;\n    \n    // carry-in for every block except the first\n    {\n        // read operands\n        {\n            if (!no_carry_in_20518) {\n                x_16935 = x_16932;\n                x_16936 = x_16933;\n                x_16937 = x_16934;\n                x_16932 = ((__local int64_t *) red_arr_mem_20489)[sext_i32_i64(squot32(local_tid_20402, 32)) - (int64_t) 1];\n                x_16933 = ((__local int64_t *) red_arr_mem_20491)[sext_i32_i64(squot32(local_tid_20402, 32)) - (int64_t) 1];\n                x_16934 = ((__local int64_t *) red_arr_mem_20493)[sext_i32_i64(squot32(local_tid_20402, 32)) - (int64_t) 1];\n            }\n        }\n        // perform operation\n        {\n            bool inactive_20519 = slt64(srem64(sext_i32_i64(local_tid_20402), q_12354), sext_i32_i64(local_tid_20402) - sext_i32_i64(squot32(local_tid_20402, 32) * 32 - 1));\n            \n            if (!no_carry_in_20518) {\n                if (inactive_20519) {\n                    x_16932 = x_16935;\n  ",
                                       "                  x_16933 = x_16936;\n                    x_16934 = x_16937;\n                }\n            }\n            if (!no_carry_in_20518) {\n                if (!inactive_20519) {\n                    int64_t canonicalizze_arg_16938 = add64(x_16932, x_16935);\n                    int64_t canonicalizze_res_16939 = umod64(canonicalizze_arg_16938, (int64_t) -4294967295);\n                    int64_t canonicalizze_arg_16940 = add64(x_16933, x_16936);\n                    int64_t canonicalizze_res_16941 = umod64(canonicalizze_arg_16940, (int64_t) -4294967295);\n                    int64_t canonicalizze_arg_16942 = add64(x_16934, x_16937);\n                    int64_t canonicalizze_res_16943 = umod64(canonicalizze_arg_16942, (int64_t) -4294967295);\n                    \n                    x_16932 = canonicalizze_res_16939;\n                    x_16933 = canonicalizze_res_16941;\n                    x_16934 = canonicalizze_res_16943;\n                }\n            }\n        }\n        // write final result\n        {\n            if (!no_carry_in_20518) {\n                ((__local int64_t *) red_arr_mem_20489)[sext_i32_i64(local_tid_20402)] = x_16932;\n                ((__local int64_t *) red_arr_mem_20491)[sext_i32_i64(local_tid_20402)] = x_16933;\n                ((__local int64_t *) red_arr_mem_20493)[sext_i32_i64(local_tid_20402)] = x_16934;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_20402, 32) == 0 && ltid_in_bounds_20511) {\n            ((__local int64_t *) red_arr_mem_20489)[sext_i32_i64(local_tid_20402)] = x_16935;\n            ((__local int64_t *) red_arr_mem_20491)[sext_i32_i64(local_tid_20402)] = x_16936;\n            ((__local int64_t *) red_arr_mem_20493)[sext_i32_i64(local_tid_20402)] = x_16937;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20520 = sdiv_up32(sext_i64_i32(p_12353), sext_i64_i32(computed_gr", "oup_sizze_16137));\n    \n    for (int32_t chunk_i_20521 = 0; chunk_i_20521 < num_chunks_20520; chunk_i_20521++) {\n        int32_t i_20522 = chunk_i_20521 * sext_i64_i32(computed_group_sizze_16137) + local_tid_20402;\n        \n        if (slt32(i_20522, sext_i64_i32(p_12353))) {\n            int64_t tmp_20523 = ((__local int64_t *) red_arr_mem_20489)[q_12354 - (int64_t) 1 + sext_i32_i64(i_20522) * q_12354];\n            \n            ((__local int64_t *) color_20324)[sext_i32_i64(i_20522)] = tmp_20523;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20524 = sdiv_up32(sext_i64_i32(p_12353), sext_i64_i32(computed_group_sizze_16137));\n    \n    for (int32_t chunk_i_20525 = 0; chunk_i_20525 < num_chunks_20524; chunk_i_20525++) {\n        int32_t i_20526 = chunk_i_20525 * sext_i64_i32(computed_group_sizze_16137) + local_tid_20402;\n        \n        if (slt32(i_20526, sext_i64_i32(p_12353))) {\n            int64_t tmp_20527 = ((__local int64_t *) red_arr_mem_20491)[q_12354 - (int64_t) 1 + sext_i32_i64(i_20526) * q_12354];\n            \n            ((__local int64_t *) color_20323)[sext_i32_i64(i_20526)] = tmp_20527;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20528 = sdiv_up32(sext_i64_i32(p_12353), sext_i64_i32(computed_group_sizze_16137));\n    \n    for (int32_t chunk_i_20529 = 0; chunk_i_20529 < num_chunks_20528; chunk_i_20529++) {\n        int32_t i_20530 = chunk_i_20529 * sext_i64_i32(computed_group_sizze_16137) + local_tid_20402;\n        \n        if (slt32(i_20530, sext_i64_i32(p_12353))) {\n            int64_t tmp_20531 = ((__local int64_t *) red_arr_mem_20493)[q_12354 - (int64_t) 1 + sext_i32_i64(i_20530) * q_12354];\n            \n            ((__local int64_t *) color_20322)[sext_i32_i64(i_20530)] = tmp_20531;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t phys_tid_16952 = local_tid_20402;\n    int64_t gtid_16951 = sext_i32_i64(sext_i64_i32(ltid_pre_20406));\n    ", "\n    if (slt64(gtid_16951, p_12353)) {\n        int64_t defunc_0_f_res_16953 = ((__local int64_t *) color_20324)[gtid_16951];\n        int64_t defunc_0_f_res_16954 = ((__local int64_t *) color_20323)[gtid_16951];\n        int64_t defunc_0_f_res_16955 = ((__local int64_t *) color_20322)[gtid_16951];\n        int64_t x_16956 = mul64(defunc_0_f_res_16770, defunc_0_f_res_16953);\n        int64_t y_16957 = mul64(defunc_0_f_res_16772, defunc_0_f_res_16954);\n        int64_t x_16958 = sub64(x_16956, y_16957);\n        int64_t y_16959 = mul64(defunc_0_f_res_16771, defunc_0_f_res_16955);\n        int64_t mul_res_16960 = sub64(x_16958, y_16959);\n        int64_t x_16961 = mul64(defunc_0_f_res_16771, defunc_0_f_res_16953);\n        int64_t y_16962 = mul64(defunc_0_f_res_16770, defunc_0_f_res_16954);\n        int64_t x_16963 = add64(x_16961, y_16962);\n        int64_t y_16964 = mul64(defunc_0_f_res_16772, defunc_0_f_res_16955);\n        int64_t x_16965 = sub64(x_16963, y_16964);\n        int64_t x_16966 = add64(y_16957, x_16965);\n        int64_t mul_res_16967 = add64(y_16959, x_16966);\n        int64_t x_16968 = mul64(defunc_0_f_res_16772, defunc_0_f_res_16953);\n        int64_t y_16969 = mul64(defunc_0_f_res_16771, defunc_0_f_res_16954);\n        int64_t x_16970 = add64(x_16968, y_16969);\n        int64_t y_16971 = mul64(defunc_0_f_res_16770, defunc_0_f_res_16955);\n        int64_t x_16972 = add64(x_16970, y_16971);\n        int64_t mul_res_16973 = add64(y_16964, x_16972);\n        int64_t mem_20165[(int64_t) 3];\n        \n        mem_20165[(int64_t) 0] = mul_res_16960;\n        mem_20165[(int64_t) 1] = mul_res_16967;\n        mem_20165[(int64_t) 2] = mul_res_16973;\n        for (int64_t i_20532 = 0; i_20532 < (int64_t) 3; i_20532++) {\n            int64_t tmp_20533 = mem_20165[i_20532];\n            \n            ((__local int64_t *) color_20321)[gtid_16951 * (int64_t) 3 + i_20532] = tmp_20533;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20534 = sdiv_up32(sext_i64_i32(p",
                                       "_12353) * 3, sext_i64_i32(computed_group_sizze_16137));\n    \n    for (int32_t chunk_i_20535 = 0; chunk_i_20535 < num_chunks_20534; chunk_i_20535++) {\n        int32_t i_20536 = chunk_i_20535 * sext_i64_i32(computed_group_sizze_16137) + local_tid_20402;\n        \n        if (slt32(i_20536, sext_i64_i32(p_12353) * 3)) {\n            int64_t tmp_20537 = ((__local int64_t *) color_20321)[sext_i32_i64(squot32(i_20536, 3)) * (int64_t) 3 + sext_i32_i64(i_20536 - squot32(i_20536, 3) * 3)];\n            \n            ((__global int64_t *) mem_20174)[gtid_16764 * ((int64_t) 3 * p_12353) + sext_i32_i64(squot32(i_20536, 3)) * (int64_t) 3 + sext_i32_i64(i_20536 - squot32(i_20536, 3) * 3)] = tmp_20537;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    return;\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633(__global int *global_failure, __local volatile int64_t *red_arr_mem_20587_backing_aligned_0, __local volatile int64_t *red_arr_mem_20585_backing_aligned_1, __local volatile int64_t *red_arr_mem_20583_backing_aligned_2, __local volatile int64_t *color_20327_backing_aligned_3, int64_t n_12351, int64_t m_12352, int64_t p_12353, int64_t q_12354, __global unsigned char *zzinvs_mem_19945, __global unsigned char *eps_mem_19946, __global unsigned char *expsss_mem_19947, __global unsigned char *coefficientss_mem_19948, __global unsigned char *mem_20093)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_20587_backing_3 = (__local volatile unsigned char *) red_arr_mem_20587_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20585_backing_2 = (__local volatile unsigned char *) red_arr_mem_20585_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_20583_backing_1 = (__local volatile unsigned char *) red_arr_mem_20583_backing_aligned_2;\n    __local volatile unsigned char *restrict color_20327_b", "acking_0 = (__local volatile unsigned char *) color_20327_backing_aligned_3;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20572;\n    int64_t group_sizze_20575;\n    int32_t wave_sizze_20574;\n    int32_t group_tid_20573;\n    \n    local_tid_20572 = get_local_id(0);\n    group_sizze_20575 = get_local_size(0);\n    wave_sizze_20574 = LOCKSTEP_WIDTH;\n    group_tid_20573 = get_group_id(0);\n    \n    int32_t global_tid_20571 = group_tid_20573 * group_sizze_20575 + local_tid_20572;\n    int32_t phys_tid_18633 = group_tid_20573;\n    int64_t slice_20577 = q_12354;\n    int64_t ltid_pre_20576 = sext_i32_i64(local_tid_20572);\n    int64_t remnant_20578 = sext_i32_i64(local_tid_20572) - ltid_pre_20576;\n    int64_t slice_20579 = p_12353;\n    int64_t slice_20580 = n_12351 * slice_20579;\n    int64_t gtid_18631 = squot64(sext_i32_i64(group_tid_20573), slice_20579);\n    int64_t remnant_20581 = sext_i32_i64(group_tid_20573) - gtid_18631 * slice_20579;\n    int64_t gtid_18632 = remnant_20581;\n    int64_t remnant_20582 = remnant_20581 - gtid_18632;\n    __local unsigned char *color_20327;\n    \n    color_20327 = (__local unsigned char *) color_20327_backing_0;\n    \n    int64_t defunc_0_f_res_18634 = ((__global int64_t *) zzinvs_mem_19945)[gtid_18631 * (int64_t) 3];\n    int64_t defunc_0_f_res_18635 = ((__global int64_t *) zzinvs_mem_19945)[gtid_18631 * (int64_t) 3 + (int64_t) 1];\n    int64_t defunc_0_f_res_18636 = ((__global int64_t *) zzinvs_mem_19945)[gtid_18631 * (int64_t) 3 + (int64_t) 2];\n    int64_t defunc_0_f_res_18651;\n    int64_t defunc_0_f_res_18652;\n    int64_t defunc_0_f_res_18653;\n    int32_t phys_tid_18655 = local_tid_20572;\n    __local unsigned char *red_arr_mem_20583;\n    \n    red_arr_mem_20583 = (__local unsigned char *) red_arr_mem_20583_backing_1;\n    \n    __local unsigned char *red_arr_mem_20585;\n    \n    red_arr_mem_20585 = (__local unsigned char *) red_arr_mem_20585_backing_2;\n    \n    __local unsigned char *red_arr_mem_20587;\n    \n    red_arr", "_mem_20587 = (__local unsigned char *) red_arr_mem_20587_backing_3;\n    \n    int64_t gtid_18654 = sext_i32_i64(sext_i64_i32(ltid_pre_20576));\n    int64_t x_18668 = ((__global int64_t *) coefficientss_mem_19948)[gtid_18632 * ((int64_t) 3 * q_12354) + gtid_18654 * (int64_t) 3];\n    int64_t x_18669 = ((__global int64_t *) coefficientss_mem_19948)[gtid_18632 * ((int64_t) 3 * q_12354) + gtid_18654 * (int64_t) 3 + (int64_t) 1];\n    int64_t x_18670 = ((__global int64_t *) coefficientss_mem_19948)[gtid_18632 * ((int64_t) 3 * q_12354) + gtid_18654 * (int64_t) 3 + (int64_t) 2];\n    int64_t defunc_0_f_res_18672;\n    int64_t defunc_0_f_res_18673;\n    int64_t defunc_0_f_res_18674;\n    int64_t redout_19928;\n    int64_t redout_19929;\n    int64_t redout_19930;\n    \n    redout_19928 = (int64_t) 1;\n    redout_19929 = (int64_t) 0;\n    redout_19930 = (int64_t) 0;\n    for (int64_t i_19931 = 0; i_19931 < m_12352; i_19931++) {\n        int64_t x_18699 = ((__global int64_t *) expsss_mem_19947)[gtid_18632 * (m_12352 * q_12354) + gtid_18654 * m_12352 + i_19931];\n        int64_t x_18700 = ((__global int64_t *) eps_mem_19946)[gtid_18631 * ((int64_t) 3 * m_12352) + i_19931 * (int64_t) 3];\n        int64_t x_18701 = ((__global int64_t *) eps_mem_19946)[gtid_18631 * ((int64_t) 3 * m_12352) + i_19931 * (int64_t) 3 + (int64_t) 1];\n        int64_t x_18702 = ((__global int64_t *) eps_mem_19946)[gtid_18631 * ((int64_t) 3 * m_12352) + i_19931 * (int64_t) 3 + (int64_t) 2];\n        bool loop_cond_18703 = ult64((int64_t) 0, x_18699);\n        bool mod_pow_u64_res_18704;\n        int64_t mod_pow_u64_res_18705;\n        int64_t mod_pow_u64_res_18706;\n        int64_t mod_pow_u64_res_18707;\n        int64_t mod_pow_u64_res_18708;\n        int64_t mod_pow_u64_res_18709;\n        int64_t mod_pow_u64_res_18710;\n        int64_t mod_pow_u64_res_18711;\n        bool loop_while_18712;\n        int64_t x_18713;\n        int64_t x_18714;\n        int64_t x_18715;\n        int64_t i_18716;\n        int64_t result_18717;\n        int6",
                                       "4_t result_18718;\n        int64_t result_18719;\n        \n        loop_while_18712 = loop_cond_18703;\n        x_18713 = x_18700;\n        x_18714 = x_18701;\n        x_18715 = x_18702;\n        i_18716 = x_18699;\n        result_18717 = (int64_t) 1;\n        result_18718 = (int64_t) 0;\n        result_18719 = (int64_t) 0;\n        while (loop_while_18712) {\n            int64_t x_18720 = umod64(i_18716, (int64_t) 2);\n            bool cond_18721 = x_18720 == (int64_t) 1;\n            int64_t loopres_18722;\n            int64_t loopres_18723;\n            int64_t loopres_18724;\n            int64_t loopres_18725;\n            int64_t loopres_18726;\n            int64_t loopres_18727;\n            int64_t loopres_18728;\n            \n            if (cond_18721 == 1) {\n                int64_t x_18729 = mul64(x_18713, x_18713);\n                int64_t y_18730 = mul64(x_18714, x_18715);\n                int64_t x_18731 = sub64(x_18729, y_18730);\n                int64_t mul_res_18732 = sub64(x_18731, y_18730);\n                int64_t x_18733 = mul64(x_18713, x_18714);\n                int64_t x_18734 = add64(x_18733, x_18733);\n                int64_t y_18735 = mul64(x_18715, x_18715);\n                int64_t x_18736 = sub64(x_18734, y_18735);\n                int64_t x_18737 = add64(y_18730, x_18736);\n                int64_t mul_res_18738 = add64(y_18730, x_18737);\n                int64_t x_18739 = mul64(x_18713, x_18715);\n                int64_t y_18740 = mul64(x_18714, x_18714);\n                int64_t x_18741 = add64(x_18739, y_18740);\n                int64_t x_18742 = add64(x_18739, x_18741);\n                int64_t mul_res_18743 = add64(y_18735, x_18742);\n                int64_t loopres_t_res_18744 = lshr64(i_18716, (int64_t) 1);\n                int64_t x_18745 = mul64(x_18713, result_18717);\n                int64_t y_18746 = mul64(x_18715, result_18718);\n                int64_t x_18747 = sub64(x_18745, y_18746);\n                int64_t y_18748 = mul64(x_18714, result_18719);\n           ", "     int64_t mul_res_18749 = sub64(x_18747, y_18748);\n                int64_t x_18750 = mul64(x_18714, result_18717);\n                int64_t y_18751 = mul64(x_18713, result_18718);\n                int64_t x_18752 = add64(x_18750, y_18751);\n                int64_t y_18753 = mul64(x_18715, result_18719);\n                int64_t x_18754 = sub64(x_18752, y_18753);\n                int64_t x_18755 = add64(y_18746, x_18754);\n                int64_t mul_res_18756 = add64(y_18748, x_18755);\n                int64_t x_18757 = mul64(x_18715, result_18717);\n                int64_t y_18758 = mul64(x_18714, result_18718);\n                int64_t x_18759 = add64(x_18757, y_18758);\n                int64_t y_18760 = mul64(x_18713, result_18719);\n                int64_t x_18761 = add64(x_18759, y_18760);\n                int64_t mul_res_18762 = add64(y_18753, x_18761);\n                \n                loopres_18722 = mul_res_18732;\n                loopres_18723 = mul_res_18738;\n                loopres_18724 = mul_res_18743;\n                loopres_18725 = loopres_t_res_18744;\n                loopres_18726 = mul_res_18749;\n                loopres_18727 = mul_res_18756;\n                loopres_18728 = mul_res_18762;\n            } else {\n                int64_t x_18763 = mul64(x_18713, x_18713);\n                int64_t y_18764 = mul64(x_18714, x_18715);\n                int64_t x_18765 = sub64(x_18763, y_18764);\n                int64_t mul_res_18766 = sub64(x_18765, y_18764);\n                int64_t x_18767 = mul64(x_18713, x_18714);\n                int64_t x_18768 = add64(x_18767, x_18767);\n                int64_t y_18769 = mul64(x_18715, x_18715);\n                int64_t x_18770 = sub64(x_18768, y_18769);\n                int64_t x_18771 = add64(y_18764, x_18770);\n                int64_t mul_res_18772 = add64(y_18764, x_18771);\n                int64_t x_18773 = mul64(x_18713, x_18715);\n                int64_t y_18774 = mul64(x_18714, x_18714);\n                int64_t x_18775 = add64(x_18", "773, y_18774);\n                int64_t x_18776 = add64(x_18773, x_18775);\n                int64_t mul_res_18777 = add64(y_18769, x_18776);\n                int64_t loopres_f_res_18778 = lshr64(i_18716, (int64_t) 1);\n                \n                loopres_18722 = mul_res_18766;\n                loopres_18723 = mul_res_18772;\n                loopres_18724 = mul_res_18777;\n                loopres_18725 = loopres_f_res_18778;\n                loopres_18726 = result_18717;\n                loopres_18727 = result_18718;\n                loopres_18728 = result_18719;\n            }\n            \n            bool loop_cond_18779 = ult64((int64_t) 0, loopres_18725);\n            bool loop_while_tmp_20592 = loop_cond_18779;\n            int64_t x_tmp_20593 = loopres_18722;\n            int64_t x_tmp_20594 = loopres_18723;\n            int64_t x_tmp_20595 = loopres_18724;\n            int64_t i_tmp_20596 = loopres_18725;\n            int64_t result_tmp_20597 = loopres_18726;\n            int64_t result_tmp_20598 = loopres_18727;\n            int64_t result_tmp_20599 = loopres_18728;\n            \n            loop_while_18712 = loop_while_tmp_20592;\n            x_18713 = x_tmp_20593;\n            x_18714 = x_tmp_20594;\n            x_18715 = x_tmp_20595;\n            i_18716 = i_tmp_20596;\n            result_18717 = result_tmp_20597;\n            result_18718 = result_tmp_20598;\n            result_18719 = result_tmp_20599;\n        }\n        mod_pow_u64_res_18704 = loop_while_18712;\n        mod_pow_u64_res_18705 = x_18713;\n        mod_pow_u64_res_18706 = x_18714;\n        mod_pow_u64_res_18707 = x_18715;\n        mod_pow_u64_res_18708 = i_18716;\n        mod_pow_u64_res_18709 = result_18717;\n        mod_pow_u64_res_18710 = result_18718;\n        mod_pow_u64_res_18711 = result_18719;\n        \n        int64_t x_18681 = mul64(mod_pow_u64_res_18709, redout_19928);\n        int64_t y_18682 = mul64(mod_pow_u64_res_18710, redout_19930);\n        int64_t x_18683 = sub64(x_18681, y_18682);\n        int64_t y_186",
                                       "84 = mul64(mod_pow_u64_res_18711, redout_19929);\n        int64_t defunc_1_op_res_18685 = sub64(x_18683, y_18684);\n        int64_t x_18686 = mul64(mod_pow_u64_res_18709, redout_19929);\n        int64_t y_18687 = mul64(mod_pow_u64_res_18710, redout_19928);\n        int64_t x_18688 = add64(x_18686, y_18687);\n        int64_t y_18689 = mul64(mod_pow_u64_res_18711, redout_19930);\n        int64_t x_18690 = sub64(x_18688, y_18689);\n        int64_t x_18691 = add64(y_18682, x_18690);\n        int64_t defunc_1_op_res_18692 = add64(y_18684, x_18691);\n        int64_t x_18693 = mul64(mod_pow_u64_res_18709, redout_19930);\n        int64_t y_18694 = mul64(mod_pow_u64_res_18710, redout_19929);\n        int64_t x_18695 = add64(x_18693, y_18694);\n        int64_t y_18696 = mul64(mod_pow_u64_res_18711, redout_19928);\n        int64_t x_18697 = add64(x_18695, y_18696);\n        int64_t defunc_1_op_res_18698 = add64(y_18689, x_18697);\n        int64_t redout_tmp_20589 = defunc_1_op_res_18685;\n        int64_t redout_tmp_20590 = defunc_1_op_res_18692;\n        int64_t redout_tmp_20591 = defunc_1_op_res_18698;\n        \n        redout_19928 = redout_tmp_20589;\n        redout_19929 = redout_tmp_20590;\n        redout_19930 = redout_tmp_20591;\n    }\n    defunc_0_f_res_18672 = redout_19928;\n    defunc_0_f_res_18673 = redout_19929;\n    defunc_0_f_res_18674 = redout_19930;\n    \n    int64_t x_18780 = mul64(x_18668, defunc_0_f_res_18672);\n    int64_t y_18781 = mul64(x_18670, defunc_0_f_res_18673);\n    int64_t x_18782 = sub64(x_18780, y_18781);\n    int64_t y_18783 = mul64(x_18669, defunc_0_f_res_18674);\n    int64_t mul_res_18784 = sub64(x_18782, y_18783);\n    int64_t x_18785 = mul64(x_18669, defunc_0_f_res_18672);\n    int64_t y_18786 = mul64(x_18668, defunc_0_f_res_18673);\n    int64_t x_18787 = add64(x_18785, y_18786);\n    int64_t y_18788 = mul64(x_18670, defunc_0_f_res_18674);\n    int64_t x_18789 = sub64(x_18787, y_18788);\n    int64_t x_18790 = add64(y_18781, x_18789);\n    int64_t mul_res_18791 = add64(y_1878", "3, x_18790);\n    int64_t x_18792 = mul64(x_18670, defunc_0_f_res_18672);\n    int64_t y_18793 = mul64(x_18669, defunc_0_f_res_18673);\n    int64_t x_18794 = add64(x_18792, y_18793);\n    int64_t y_18795 = mul64(x_18668, defunc_0_f_res_18674);\n    int64_t x_18796 = add64(x_18794, y_18795);\n    int64_t mul_res_18797 = add64(y_18788, x_18796);\n    \n    ((__local int64_t *) red_arr_mem_20583)[gtid_18654] = mul_res_18784;\n    ((__local int64_t *) red_arr_mem_20585)[gtid_18654] = mul_res_18791;\n    ((__local int64_t *) red_arr_mem_20587)[gtid_18654] = mul_res_18797;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_20600;\n    int32_t skip_waves_20601 = 1;\n    int64_t x_18656;\n    int64_t x_18657;\n    int64_t x_18658;\n    int64_t x_18659;\n    int64_t x_18660;\n    int64_t x_18661;\n    \n    offset_20600 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_20572, sext_i64_i32(q_12354))) {\n            x_18656 = ((__local int64_t *) red_arr_mem_20583)[sext_i32_i64(local_tid_20572 + offset_20600)];\n            x_18657 = ((__local int64_t *) red_arr_mem_20585)[sext_i32_i64(local_tid_20572 + offset_20600)];\n            x_18658 = ((__local int64_t *) red_arr_mem_20587)[sext_i32_i64(local_tid_20572 + offset_20600)];\n        }\n    }\n    offset_20600 = 1;\n    while (slt32(offset_20600, wave_sizze_20574)) {\n        if (slt32(local_tid_20572 + offset_20600, sext_i64_i32(q_12354)) && ((local_tid_20572 - squot32(local_tid_20572, wave_sizze_20574) * wave_sizze_20574) & (2 * offset_20600 - 1)) == 0) {\n            // read array element\n            {\n                x_18659 = ((volatile __local int64_t *) red_arr_mem_20583)[sext_i32_i64(local_tid_20572 + offset_20600)];\n                x_18660 = ((volatile __local int64_t *) red_arr_mem_20585)[sext_i32_i64(local_tid_20572 + offset_20600)];\n                x_18661 = ((volatile __local int64_t *) red_arr_mem_20587)[sext_i32_i64(local_tid_20572 + offset_20600)];\n            }\n            // apply redu", "ction operation\n            {\n                int64_t canonicalizze_arg_18662 = add64(x_18656, x_18659);\n                int64_t canonicalizze_res_18663 = umod64(canonicalizze_arg_18662, (int64_t) -4294967295);\n                int64_t canonicalizze_arg_18664 = add64(x_18657, x_18660);\n                int64_t canonicalizze_res_18665 = umod64(canonicalizze_arg_18664, (int64_t) -4294967295);\n                int64_t canonicalizze_arg_18666 = add64(x_18658, x_18661);\n                int64_t canonicalizze_res_18667 = umod64(canonicalizze_arg_18666, (int64_t) -4294967295);\n                \n                x_18656 = canonicalizze_res_18663;\n                x_18657 = canonicalizze_res_18665;\n                x_18658 = canonicalizze_res_18667;\n            }\n            // write result of operation\n            {\n                ((volatile __local int64_t *) red_arr_mem_20583)[sext_i32_i64(local_tid_20572)] = x_18656;\n                ((volatile __local int64_t *) red_arr_mem_20585)[sext_i32_i64(local_tid_20572)] = x_18657;\n                ((volatile __local int64_t *) red_arr_mem_20587)[sext_i32_i64(local_tid_20572)] = x_18658;\n            }\n        }\n        offset_20600 *= 2;\n    }\n    while (slt32(skip_waves_20601, squot32(sext_i64_i32(q_12354) + wave_sizze_20574 - 1, wave_sizze_20574))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_20600 = skip_waves_20601 * wave_sizze_20574;\n        if (slt32(local_tid_20572 + offset_20600, sext_i64_i32(q_12354)) && ((local_tid_20572 - squot32(local_tid_20572, wave_sizze_20574) * wave_sizze_20574) == 0 && (squot32(local_tid_20572, wave_sizze_20574) & (2 * skip_waves_20601 - 1)) == 0)) {\n            // read array element\n            {\n                x_18659 = ((__local int64_t *) red_arr_mem_20583)[sext_i32_i64(local_tid_20572 + offset_20600)];\n                x_18660 = ((__local int64_t *) red_arr_mem_20585)[sext_i32_i64(local_tid_20572 + offset_20600)];\n                x_18661 = ((__local int64_t *) red_arr_mem_20587)[sext_i32_i6",
                                       "4(local_tid_20572 + offset_20600)];\n            }\n            // apply reduction operation\n            {\n                int64_t canonicalizze_arg_18662 = add64(x_18656, x_18659);\n                int64_t canonicalizze_res_18663 = umod64(canonicalizze_arg_18662, (int64_t) -4294967295);\n                int64_t canonicalizze_arg_18664 = add64(x_18657, x_18660);\n                int64_t canonicalizze_res_18665 = umod64(canonicalizze_arg_18664, (int64_t) -4294967295);\n                int64_t canonicalizze_arg_18666 = add64(x_18658, x_18661);\n                int64_t canonicalizze_res_18667 = umod64(canonicalizze_arg_18666, (int64_t) -4294967295);\n                \n                x_18656 = canonicalizze_res_18663;\n                x_18657 = canonicalizze_res_18665;\n                x_18658 = canonicalizze_res_18667;\n            }\n            // write result of operation\n            {\n                ((__local int64_t *) red_arr_mem_20583)[sext_i32_i64(local_tid_20572)] = x_18656;\n                ((__local int64_t *) red_arr_mem_20585)[sext_i32_i64(local_tid_20572)] = x_18657;\n                ((__local int64_t *) red_arr_mem_20587)[sext_i32_i64(local_tid_20572)] = x_18658;\n            }\n        }\n        skip_waves_20601 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_0_f_res_18651 = ((__local int64_t *) red_arr_mem_20583)[(int64_t) 0];\n    defunc_0_f_res_18652 = ((__local int64_t *) red_arr_mem_20585)[(int64_t) 0];\n    defunc_0_f_res_18653 = ((__local int64_t *) red_arr_mem_20587)[(int64_t) 0];\n    \n    int64_t x_18798 = mul64(defunc_0_f_res_18634, defunc_0_f_res_18651);\n    int64_t y_18799 = mul64(defunc_0_f_res_18636, defunc_0_f_res_18652);\n    int64_t x_18800 = sub64(x_18798, y_18799);\n    int64_t y_18801 = mul64(defunc_0_f_res_18635, defunc_0_f_res_18653);\n    int64_t mul_res_18802 = sub64(x_18800, y_18801);\n    int64_t x_18803 = mul64(defunc_0_f_res_18635, defunc_0_f_res_18651);\n    int64_t y_18804 = mul64(defunc_0_f_res_18634, defunc_0_f_res_18652);\n    int64_t", " x_18805 = add64(x_18803, y_18804);\n    int64_t y_18806 = mul64(defunc_0_f_res_18636, defunc_0_f_res_18653);\n    int64_t x_18807 = sub64(x_18805, y_18806);\n    int64_t x_18808 = add64(y_18799, x_18807);\n    int64_t mul_res_18809 = add64(y_18801, x_18808);\n    int64_t x_18810 = mul64(defunc_0_f_res_18636, defunc_0_f_res_18651);\n    int64_t y_18811 = mul64(defunc_0_f_res_18635, defunc_0_f_res_18652);\n    int64_t x_18812 = add64(x_18810, y_18811);\n    int64_t y_18813 = mul64(defunc_0_f_res_18634, defunc_0_f_res_18653);\n    int64_t x_18814 = add64(x_18812, y_18813);\n    int64_t mul_res_18815 = add64(y_18806, x_18814);\n    \n    ((__local int64_t *) color_20327)[(int64_t) 0] = mul_res_18802;\n    ((__local int64_t *) color_20327)[(int64_t) 1] = mul_res_18809;\n    ((__local int64_t *) color_20327)[(int64_t) 2] = mul_res_18815;\n    \n    int32_t num_chunks_20602 = sdiv_up32(3, sext_i64_i32(q_12354));\n    \n    for (int32_t chunk_i_20603 = 0; chunk_i_20603 < num_chunks_20602; chunk_i_20603++) {\n        int32_t i_20604 = chunk_i_20603 * sext_i64_i32(q_12354) + local_tid_20572;\n        \n        if (slt32(i_20604, 3)) {\n            int64_t tmp_20605 = ((__local int64_t *) color_20327)[sext_i32_i64(i_20604)];\n            \n            ((__global int64_t *) mem_20093)[gtid_18631 * ((int64_t) 3 * p_12353) + gtid_18632 * (int64_t) 3 + sext_i32_i64(i_20604)] = tmp_20605;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_2:\n    return;\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205(__global int *global_failure, __local volatile int64_t *color_20331_backing_aligned_0, __local volatile int64_t *color_20330_backing_aligned_1, __local volatile int64_t *color_20329_backing_aligned_2, __local volatile int64_t *color_20328_backing_aligned_3, int64_t n_12351, int64_t m_12352, int64_t p_12353, int64_t q_12354, int64_t computed_group_sizze_19206, int64_t ldim_19207, int64_t num_whole_tiles_19217, int64_t residual_input_19654, unsigned char cond_", "19655_bits, int64_t binop_x_19671, int64_t slice_offset_19713, __global unsigned char *eps_mem_19946, __global unsigned char *expsss_mem_19947, __global unsigned char *coefficientss_mem_19948, __global unsigned char *mem_20043, __global unsigned char *mem_20048, __global unsigned char *mem_20053)\n{\n    bool cond_19655 = cond_19655_bits;\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict color_20331_backing_3 = (__local volatile unsigned char *) color_20331_backing_aligned_0;\n    __local volatile unsigned char *restrict color_20330_backing_2 = (__local volatile unsigned char *) color_20330_backing_aligned_1;\n    __local volatile unsigned char *restrict color_20329_backing_1 = (__local volatile unsigned char *) color_20329_backing_aligned_2;\n    __local volatile unsigned char *restrict color_20328_backing_0 = (__local volatile unsigned char *) color_20328_backing_aligned_3;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20609;\n    int64_t group_sizze_20612;\n    int32_t wave_sizze_20611;\n    int32_t group_tid_20610;\n    \n    local_tid_20609 = get_local_id(0);\n    group_sizze_20612 = get_local_size(0);\n    wave_sizze_20611 = LOCKSTEP_WIDTH;\n    group_tid_20610 = get_group_id(0);\n    \n    int32_t global_tid_20608 = group_tid_20610 * group_sizze_20612 + local_tid_20609;\n    int32_t gid_flat_19205 = group_tid_20610;\n    int64_t slice_20614 = computed_group_sizze_19206;\n    int64_t ltid_pre_20613 = sext_i32_i64(local_tid_20609);\n    int64_t remnant_20615 = sext_i32_i64(local_tid_20609) - ltid_pre_20613;\n    int64_t slice_20616 = ldim_19207;\n    int64_t slice_20617 = p_12353 * slice_20616;\n    int64_t slice_20618 = n_12351 * slice_20617;\n    int64_t gtid_18832 = squot64(sext_i32_i64(group_tid_20610), slice_20617);\n    int64_t remnant_20619 = sext_i32_i64(group_tid_20610) - gtid_18832 * slice_20617;\n    int64_t gtid_18833 = squot64(remnant_20619, slice_20616);\n  ",
                                       "  int64_t remnant_20620 = remnant_20619 - gtid_18833 * slice_20616;\n    int64_t gid_19204 = remnant_20620;\n    int64_t remnant_20621 = remnant_20620 - gid_19204;\n    __local unsigned char *color_20328;\n    \n    color_20328 = (__local unsigned char *) color_20328_backing_0;\n    \n    __local unsigned char *color_20329;\n    \n    color_20329 = (__local unsigned char *) color_20329_backing_1;\n    \n    __local unsigned char *color_20330;\n    \n    color_20330 = (__local unsigned char *) color_20330_backing_2;\n    \n    __local unsigned char *color_20331;\n    \n    color_20331 = (__local unsigned char *) color_20331_backing_3;\n    \n    int64_t mem_19984[1];\n    int64_t mem_19986[1];\n    int64_t mem_19988[1];\n    int32_t ltid_flat_19219 = local_tid_20609;\n    int64_t ltid_19218 = sext_i32_i64(sext_i64_i32(ltid_pre_20613));\n    \n    mem_19984[(int64_t) 0] = (int64_t) 1;\n    mem_19986[(int64_t) 0] = (int64_t) 0;\n    mem_19988[(int64_t) 0] = (int64_t) 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t binop_x_19426 = gid_19204 * computed_group_sizze_19206;\n    int64_t mem_in_20298[1];\n    int64_t mem_20004[1];\n    int64_t mem_in_20302[1];\n    int64_t mem_20006[1];\n    int64_t mem_in_20306[1];\n    int64_t mem_20008[1];\n    int64_t tmp_20622 = mem_19984[(int64_t) 0];\n    \n    mem_in_20298[(int64_t) 0] = tmp_20622;\n    \n    int64_t tmp_20623 = mem_19986[(int64_t) 0];\n    \n    mem_in_20302[(int64_t) 0] = tmp_20623;\n    \n    int64_t tmp_20624 = mem_19988[(int64_t) 0];\n    \n    mem_in_20306[(int64_t) 0] = tmp_20624;\n    \n    int64_t ext_mem_20011[1];\n    int64_t ext_mem_unused_20299[1];\n    int64_t ext_mem_20010[1];\n    int64_t ext_mem_unused_20303[1];\n    int64_t ext_mem_20009[1];\n    int64_t ext_mem_unused_20307[1];\n    int64_t mem_param_19989[1];\n    int64_t mem_param_19990[1];\n    int64_t mem_param_19991[1];\n    int64_t mem_param_out_20300[1];\n    int64_t mem_param_out_20304[1];\n    int64_t mem_param_out_20308[1];\n    \n    for (int32_t i_4 = 0; i_4 < 1; i_4++)\n        mem_param_", "19989[i_4] = mem_in_20298[i_4];\n    for (int32_t i_5 = 0; i_5 < 1; i_5++)\n        mem_param_out_20300[i_5] = mem_20004[i_5];\n    for (int32_t i_6 = 0; i_6 < 1; i_6++)\n        mem_param_19990[i_6] = mem_in_20302[i_6];\n    for (int32_t i_7 = 0; i_7 < 1; i_7++)\n        mem_param_out_20304[i_7] = mem_20006[i_7];\n    for (int32_t i_8 = 0; i_8 < 1; i_8++)\n        mem_param_19991[i_8] = mem_in_20306[i_8];\n    for (int32_t i_9 = 0; i_9 < 1; i_9++)\n        mem_param_out_20308[i_9] = mem_20008[i_9];\n    for (int64_t tile_id_19229 = 0; tile_id_19229 < num_whole_tiles_19217; tile_id_19229++) {\n        int64_t binop_x_19406 = computed_group_sizze_19206 * tile_id_19229;\n        int32_t ltid_flat_19405 = local_tid_20609;\n        int64_t ltid_19404 = sext_i32_i64(sext_i64_i32(ltid_pre_20613));\n        int64_t j_19407 = ltid_19404 + binop_x_19406;\n        bool cond_19411 = slt64(j_19407, m_12352);\n        int64_t pre1d_19412;\n        int64_t pre1d_19413;\n        int64_t pre1d_19414;\n        \n        if (cond_19411 == 1) {\n            int64_t tile_elem_19415 = ((__global int64_t *) eps_mem_19946)[gtid_18832 * ((int64_t) 3 * m_12352) + j_19407 * (int64_t) 3];\n            int64_t tile_elem_19416 = ((__global int64_t *) eps_mem_19946)[gtid_18832 * ((int64_t) 3 * m_12352) + j_19407 * (int64_t) 3 + (int64_t) 1];\n            int64_t tile_elem_19417 = ((__global int64_t *) eps_mem_19946)[gtid_18832 * ((int64_t) 3 * m_12352) + j_19407 * (int64_t) 3 + (int64_t) 2];\n            \n            pre1d_19412 = tile_elem_19415;\n            pre1d_19413 = tile_elem_19416;\n            pre1d_19414 = tile_elem_19417;\n        } else {\n            pre1d_19412 = (int64_t) 0;\n            pre1d_19413 = (int64_t) 0;\n            pre1d_19414 = (int64_t) 0;\n        }\n        ((__local int64_t *) color_20331)[ltid_19404] = pre1d_19412;\n        ((__local int64_t *) color_20329)[ltid_19404] = pre1d_19413;\n        ((__local int64_t *) color_20328)[ltid_19404] = pre1d_19414;\n        barrier(CLK_LOCAL_MEM_FENCE);\n      ", "  \n        int32_t ltid_flat_19425 = local_tid_20609;\n        int64_t ltid_19424 = sext_i32_i64(sext_i64_i32(ltid_pre_20613));\n        int64_t gtid_19427 = ltid_19424 + binop_x_19426;\n        int64_t acc_19429 = mem_param_19989[(int64_t) 0];\n        int64_t acc_19430 = mem_param_19990[(int64_t) 0];\n        int64_t acc_19431 = mem_param_19991[(int64_t) 0];\n        bool cond_19434 = slt64(gtid_19427, q_12354);\n        int64_t acc_19435;\n        int64_t acc_19436;\n        int64_t acc_19437;\n        \n        if (cond_19434 == 1) {\n            int64_t x_19438;\n            int64_t x_19439;\n            int64_t x_19440;\n            int64_t redout_19932;\n            int64_t redout_19933;\n            int64_t redout_19934;\n            \n            redout_19932 = acc_19429;\n            redout_19933 = acc_19430;\n            redout_19934 = acc_19431;\n            for (int64_t i_19935 = 0; i_19935 < computed_group_sizze_19206; i_19935++) {\n                int64_t slice_19944 = binop_x_19406 + i_19935;\n                int64_t x_19465 = ((__global int64_t *) expsss_mem_19947)[gtid_18833 * (m_12352 * q_12354) + gtid_19427 * m_12352 + slice_19944];\n                int64_t x_19466 = ((__local int64_t *) color_20331)[i_19935];\n                int64_t x_19467 = ((__local int64_t *) color_20329)[i_19935];\n                int64_t x_19468 = ((__local int64_t *) color_20328)[i_19935];\n                bool loop_cond_19469 = ult64((int64_t) 0, x_19465);\n                bool mod_pow_u64_res_19470;\n                int64_t mod_pow_u64_res_19471;\n                int64_t mod_pow_u64_res_19472;\n                int64_t mod_pow_u64_res_19473;\n                int64_t mod_pow_u64_res_19474;\n                int64_t mod_pow_u64_res_19475;\n                int64_t mod_pow_u64_res_19476;\n                int64_t mod_pow_u64_res_19477;\n                bool loop_while_19478;\n                int64_t x_19479;\n                int64_t x_19480;\n                int64_t x_19481;\n                int64_t i_19482;\n       ",
                                       "         int64_t result_19483;\n                int64_t result_19484;\n                int64_t result_19485;\n                \n                loop_while_19478 = loop_cond_19469;\n                x_19479 = x_19466;\n                x_19480 = x_19467;\n                x_19481 = x_19468;\n                i_19482 = x_19465;\n                result_19483 = (int64_t) 1;\n                result_19484 = (int64_t) 0;\n                result_19485 = (int64_t) 0;\n                while (loop_while_19478) {\n                    int64_t x_19486 = umod64(i_19482, (int64_t) 2);\n                    bool cond_19487 = x_19486 == (int64_t) 1;\n                    int64_t loopres_19488;\n                    int64_t loopres_19489;\n                    int64_t loopres_19490;\n                    int64_t loopres_19491;\n                    int64_t loopres_19492;\n                    int64_t loopres_19493;\n                    int64_t loopres_19494;\n                    \n                    if (cond_19487 == 1) {\n                        int64_t x_19495 = mul64(x_19479, x_19479);\n                        int64_t y_19496 = mul64(x_19480, x_19481);\n                        int64_t x_19497 = sub64(x_19495, y_19496);\n                        int64_t mul_res_19498 = sub64(x_19497, y_19496);\n                        int64_t x_19499 = mul64(x_19479, x_19480);\n                        int64_t x_19500 = add64(x_19499, x_19499);\n                        int64_t y_19501 = mul64(x_19481, x_19481);\n                        int64_t x_19502 = sub64(x_19500, y_19501);\n                        int64_t x_19503 = add64(y_19496, x_19502);\n                        int64_t mul_res_19504 = add64(y_19496, x_19503);\n                        int64_t x_19505 = mul64(x_19479, x_19481);\n                        int64_t y_19506 = mul64(x_19480, x_19480);\n                        int64_t x_19507 = add64(x_19505, y_19506);\n                        int64_t x_19508 = add64(x_19505, x_19507);\n                        int64_t mul_res_19509 = add64(y_19501, x", "_19508);\n                        int64_t loopres_t_res_19510 = lshr64(i_19482, (int64_t) 1);\n                        int64_t x_19511 = mul64(x_19479, result_19483);\n                        int64_t y_19512 = mul64(x_19481, result_19484);\n                        int64_t x_19513 = sub64(x_19511, y_19512);\n                        int64_t y_19514 = mul64(x_19480, result_19485);\n                        int64_t mul_res_19515 = sub64(x_19513, y_19514);\n                        int64_t x_19516 = mul64(x_19480, result_19483);\n                        int64_t y_19517 = mul64(x_19479, result_19484);\n                        int64_t x_19518 = add64(x_19516, y_19517);\n                        int64_t y_19519 = mul64(x_19481, result_19485);\n                        int64_t x_19520 = sub64(x_19518, y_19519);\n                        int64_t x_19521 = add64(y_19512, x_19520);\n                        int64_t mul_res_19522 = add64(y_19514, x_19521);\n                        int64_t x_19523 = mul64(x_19481, result_19483);\n                        int64_t y_19524 = mul64(x_19480, result_19484);\n                        int64_t x_19525 = add64(x_19523, y_19524);\n                        int64_t y_19526 = mul64(x_19479, result_19485);\n                        int64_t x_19527 = add64(x_19525, y_19526);\n                        int64_t mul_res_19528 = add64(y_19519, x_19527);\n                        \n                        loopres_19488 = mul_res_19498;\n                        loopres_19489 = mul_res_19504;\n                        loopres_19490 = mul_res_19509;\n                        loopres_19491 = loopres_t_res_19510;\n                        loopres_19492 = mul_res_19515;\n                        loopres_19493 = mul_res_19522;\n                        loopres_19494 = mul_res_19528;\n                    } else {\n                        int64_t x_19529 = mul64(x_19479, x_19479);\n                        int64_t y_19530 = mul64(x_19480, x_19481);\n                        int64_t x_19531 = sub64(x_19529, y_", "19530);\n                        int64_t mul_res_19532 = sub64(x_19531, y_19530);\n                        int64_t x_19533 = mul64(x_19479, x_19480);\n                        int64_t x_19534 = add64(x_19533, x_19533);\n                        int64_t y_19535 = mul64(x_19481, x_19481);\n                        int64_t x_19536 = sub64(x_19534, y_19535);\n                        int64_t x_19537 = add64(y_19530, x_19536);\n                        int64_t mul_res_19538 = add64(y_19530, x_19537);\n                        int64_t x_19539 = mul64(x_19479, x_19481);\n                        int64_t y_19540 = mul64(x_19480, x_19480);\n                        int64_t x_19541 = add64(x_19539, y_19540);\n                        int64_t x_19542 = add64(x_19539, x_19541);\n                        int64_t mul_res_19543 = add64(y_19535, x_19542);\n                        int64_t loopres_f_res_19544 = lshr64(i_19482, (int64_t) 1);\n                        \n                        loopres_19488 = mul_res_19532;\n                        loopres_19489 = mul_res_19538;\n                        loopres_19490 = mul_res_19543;\n                        loopres_19491 = loopres_f_res_19544;\n                        loopres_19492 = result_19483;\n                        loopres_19493 = result_19484;\n                        loopres_19494 = result_19485;\n                    }\n                    \n                    bool loop_cond_19545 = ult64((int64_t) 0, loopres_19491);\n                    bool loop_while_tmp_20637 = loop_cond_19545;\n                    int64_t x_tmp_20638 = loopres_19488;\n                    int64_t x_tmp_20639 = loopres_19489;\n                    int64_t x_tmp_20640 = loopres_19490;\n                    int64_t i_tmp_20641 = loopres_19491;\n                    int64_t result_tmp_20642 = loopres_19492;\n                    int64_t result_tmp_20643 = loopres_19493;\n                    int64_t result_tmp_20644 = loopres_19494;\n                    \n                    loop_while_19478 = loop_while_tm",
                                       "p_20637;\n                    x_19479 = x_tmp_20638;\n                    x_19480 = x_tmp_20639;\n                    x_19481 = x_tmp_20640;\n                    i_19482 = i_tmp_20641;\n                    result_19483 = result_tmp_20642;\n                    result_19484 = result_tmp_20643;\n                    result_19485 = result_tmp_20644;\n                }\n                mod_pow_u64_res_19470 = loop_while_19478;\n                mod_pow_u64_res_19471 = x_19479;\n                mod_pow_u64_res_19472 = x_19480;\n                mod_pow_u64_res_19473 = x_19481;\n                mod_pow_u64_res_19474 = i_19482;\n                mod_pow_u64_res_19475 = result_19483;\n                mod_pow_u64_res_19476 = result_19484;\n                mod_pow_u64_res_19477 = result_19485;\n                \n                int64_t x_19447 = mul64(mod_pow_u64_res_19475, redout_19932);\n                int64_t y_19448 = mul64(mod_pow_u64_res_19476, redout_19934);\n                int64_t x_19449 = sub64(x_19447, y_19448);\n                int64_t y_19450 = mul64(mod_pow_u64_res_19477, redout_19933);\n                int64_t defunc_1_op_res_19451 = sub64(x_19449, y_19450);\n                int64_t x_19452 = mul64(mod_pow_u64_res_19475, redout_19933);\n                int64_t y_19453 = mul64(mod_pow_u64_res_19476, redout_19932);\n                int64_t x_19454 = add64(x_19452, y_19453);\n                int64_t y_19455 = mul64(mod_pow_u64_res_19477, redout_19934);\n                int64_t x_19456 = sub64(x_19454, y_19455);\n                int64_t x_19457 = add64(y_19448, x_19456);\n                int64_t defunc_1_op_res_19458 = add64(y_19450, x_19457);\n                int64_t x_19459 = mul64(mod_pow_u64_res_19475, redout_19934);\n                int64_t y_19460 = mul64(mod_pow_u64_res_19476, redout_19933);\n                int64_t x_19461 = add64(x_19459, y_19460);\n                int64_t y_19462 = mul64(mod_pow_u64_res_19477, redout_19932);\n                int64_t x_19463 = add64(x_19461, y_19462);\n       ", "         int64_t defunc_1_op_res_19464 = add64(y_19455, x_19463);\n                int64_t redout_tmp_20634 = defunc_1_op_res_19451;\n                int64_t redout_tmp_20635 = defunc_1_op_res_19458;\n                int64_t redout_tmp_20636 = defunc_1_op_res_19464;\n                \n                redout_19932 = redout_tmp_20634;\n                redout_19933 = redout_tmp_20635;\n                redout_19934 = redout_tmp_20636;\n            }\n            x_19438 = redout_19932;\n            x_19439 = redout_19933;\n            x_19440 = redout_19934;\n            acc_19435 = x_19438;\n            acc_19436 = x_19439;\n            acc_19437 = x_19440;\n        } else {\n            acc_19435 = acc_19429;\n            acc_19436 = acc_19430;\n            acc_19437 = acc_19431;\n        }\n        mem_param_out_20300[(int64_t) 0] = acc_19435;\n        mem_param_out_20304[(int64_t) 0] = acc_19436;\n        mem_param_out_20308[(int64_t) 0] = acc_19437;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t mem_param_tmp_20625[1];\n        \n        for (int32_t i_10 = 0; i_10 < 1; i_10++)\n            mem_param_tmp_20625[i_10] = mem_param_out_20300[i_10];\n        \n        int64_t mem_param_out_tmp_20626[1];\n        \n        for (int32_t i_11 = 0; i_11 < 1; i_11++)\n            mem_param_out_tmp_20626[i_11] = mem_param_19989[i_11];\n        \n        int64_t mem_param_tmp_20627[1];\n        \n        for (int32_t i_12 = 0; i_12 < 1; i_12++)\n            mem_param_tmp_20627[i_12] = mem_param_out_20304[i_12];\n        \n        int64_t mem_param_out_tmp_20628[1];\n        \n        for (int32_t i_13 = 0; i_13 < 1; i_13++)\n            mem_param_out_tmp_20628[i_13] = mem_param_19990[i_13];\n        \n        int64_t mem_param_tmp_20629[1];\n        \n        for (int32_t i_14 = 0; i_14 < 1; i_14++)\n            mem_param_tmp_20629[i_14] = mem_param_out_20308[i_14];\n        \n        int64_t mem_param_out_tmp_20630[1];\n        \n        for (int32_t i_15 = 0; i_15 < 1; i_15++)\n            mem_param_out_tmp_", "20630[i_15] = mem_param_19991[i_15];\n        for (int32_t i_16 = 0; i_16 < 1; i_16++)\n            mem_param_19989[i_16] = mem_param_tmp_20625[i_16];\n        for (int32_t i_17 = 0; i_17 < 1; i_17++)\n            mem_param_out_20300[i_17] = mem_param_out_tmp_20626[i_17];\n        for (int32_t i_18 = 0; i_18 < 1; i_18++)\n            mem_param_19990[i_18] = mem_param_tmp_20627[i_18];\n        for (int32_t i_19 = 0; i_19 < 1; i_19++)\n            mem_param_out_20304[i_19] = mem_param_out_tmp_20628[i_19];\n        for (int32_t i_20 = 0; i_20 < 1; i_20++)\n            mem_param_19991[i_20] = mem_param_tmp_20629[i_20];\n        for (int32_t i_21 = 0; i_21 < 1; i_21++)\n            mem_param_out_20308[i_21] = mem_param_out_tmp_20630[i_21];\n    }\n    for (int32_t i_22 = 0; i_22 < 1; i_22++)\n        ext_mem_20011[i_22] = mem_param_19989[i_22];\n    for (int32_t i_23 = 0; i_23 < 1; i_23++)\n        ext_mem_unused_20299[i_23] = mem_param_out_20300[i_23];\n    for (int32_t i_24 = 0; i_24 < 1; i_24++)\n        ext_mem_20010[i_24] = mem_param_19990[i_24];\n    for (int32_t i_25 = 0; i_25 < 1; i_25++)\n        ext_mem_unused_20303[i_25] = mem_param_out_20304[i_25];\n    for (int32_t i_26 = 0; i_26 < 1; i_26++)\n        ext_mem_20009[i_26] = mem_param_19991[i_26];\n    for (int32_t i_27 = 0; i_27 < 1; i_27++)\n        ext_mem_unused_20307[i_27] = mem_param_out_20308[i_27];\n    \n    int64_t mem_20263[1];\n    int64_t mem_20265[1];\n    int64_t mem_20267[1];\n    int64_t mem_20024[1];\n    int64_t mem_20026[1];\n    int64_t mem_20028[1];\n    \n    if (cond_19655 == 1) {\n        int64_t tmp_20645 = ext_mem_20011[(int64_t) 0];\n        \n        mem_20267[(int64_t) 0] = tmp_20645;\n        \n        int64_t tmp_20646 = ext_mem_20010[(int64_t) 0];\n        \n        mem_20265[(int64_t) 0] = tmp_20646;\n        \n        int64_t tmp_20647 = ext_mem_20009[(int64_t) 0];\n        \n        mem_20263[(int64_t) 0] = tmp_20647;\n    } else {\n        int32_t ltid_flat_19657 = local_tid_20609;\n        int64_t ltid_19656 = sext_i32_",
                                       "i64(sext_i64_i32(ltid_pre_20613));\n        int64_t j_19672 = ltid_19656 + binop_x_19671;\n        bool cond_19676 = slt64(j_19672, m_12352);\n        int64_t pre1d_19677;\n        int64_t pre1d_19678;\n        int64_t pre1d_19679;\n        \n        if (cond_19676 == 1) {\n            int64_t tile_elem_19680 = ((__global int64_t *) eps_mem_19946)[gtid_18832 * ((int64_t) 3 * m_12352) + j_19672 * (int64_t) 3];\n            int64_t tile_elem_19681 = ((__global int64_t *) eps_mem_19946)[gtid_18832 * ((int64_t) 3 * m_12352) + j_19672 * (int64_t) 3 + (int64_t) 1];\n            int64_t tile_elem_19682 = ((__global int64_t *) eps_mem_19946)[gtid_18832 * ((int64_t) 3 * m_12352) + j_19672 * (int64_t) 3 + (int64_t) 2];\n            \n            pre1d_19677 = tile_elem_19680;\n            pre1d_19678 = tile_elem_19681;\n            pre1d_19679 = tile_elem_19682;\n        } else {\n            pre1d_19677 = (int64_t) 0;\n            pre1d_19678 = (int64_t) 0;\n            pre1d_19679 = (int64_t) 0;\n        }\n        ((__local int64_t *) color_20330)[ltid_19656] = pre1d_19677;\n        ((__local int64_t *) color_20329)[ltid_19656] = pre1d_19678;\n        ((__local int64_t *) color_20328)[ltid_19656] = pre1d_19679;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t ltid_flat_19693 = local_tid_20609;\n        int64_t ltid_19692 = sext_i32_i64(sext_i64_i32(ltid_pre_20613));\n        int64_t gtid_19708 = binop_x_19426 + ltid_19692;\n        int64_t acc_19710 = ext_mem_20011[(int64_t) 0];\n        int64_t acc_19711 = ext_mem_20010[(int64_t) 0];\n        int64_t acc_19712 = ext_mem_20009[(int64_t) 0];\n        bool cond_19715 = slt64(gtid_19708, q_12354);\n        int64_t acc_19716;\n        int64_t acc_19717;\n        int64_t acc_19718;\n        \n        if (cond_19715 == 1) {\n            int64_t x_19719;\n            int64_t x_19720;\n            int64_t x_19721;\n            int64_t redout_19936;\n            int64_t redout_19937;\n            int64_t redout_19938;\n            \n            redout_19936 ", "= acc_19710;\n            redout_19937 = acc_19711;\n            redout_19938 = acc_19712;\n            for (int64_t i_19939 = 0; i_19939 < residual_input_19654; i_19939++) {\n                int64_t slice_19943 = slice_offset_19713 + i_19939;\n                int64_t x_19746 = ((__global int64_t *) expsss_mem_19947)[gtid_18833 * (m_12352 * q_12354) + gtid_19708 * m_12352 + slice_19943];\n                int64_t x_19747 = ((__local int64_t *) color_20330)[i_19939];\n                int64_t x_19748 = ((__local int64_t *) color_20329)[i_19939];\n                int64_t x_19749 = ((__local int64_t *) color_20328)[i_19939];\n                bool loop_cond_19750 = ult64((int64_t) 0, x_19746);\n                bool mod_pow_u64_res_19751;\n                int64_t mod_pow_u64_res_19752;\n                int64_t mod_pow_u64_res_19753;\n                int64_t mod_pow_u64_res_19754;\n                int64_t mod_pow_u64_res_19755;\n                int64_t mod_pow_u64_res_19756;\n                int64_t mod_pow_u64_res_19757;\n                int64_t mod_pow_u64_res_19758;\n                bool loop_while_19759;\n                int64_t x_19760;\n                int64_t x_19761;\n                int64_t x_19762;\n                int64_t i_19763;\n                int64_t result_19764;\n                int64_t result_19765;\n                int64_t result_19766;\n                \n                loop_while_19759 = loop_cond_19750;\n                x_19760 = x_19747;\n                x_19761 = x_19748;\n                x_19762 = x_19749;\n                i_19763 = x_19746;\n                result_19764 = (int64_t) 1;\n                result_19765 = (int64_t) 0;\n                result_19766 = (int64_t) 0;\n                while (loop_while_19759) {\n                    int64_t x_19767 = umod64(i_19763, (int64_t) 2);\n                    bool cond_19768 = x_19767 == (int64_t) 1;\n                    int64_t loopres_19769;\n                    int64_t loopres_19770;\n                    int64_t loopres_19771;\n           ", "         int64_t loopres_19772;\n                    int64_t loopres_19773;\n                    int64_t loopres_19774;\n                    int64_t loopres_19775;\n                    \n                    if (cond_19768 == 1) {\n                        int64_t x_19776 = mul64(x_19760, x_19760);\n                        int64_t y_19777 = mul64(x_19761, x_19762);\n                        int64_t x_19778 = sub64(x_19776, y_19777);\n                        int64_t mul_res_19779 = sub64(x_19778, y_19777);\n                        int64_t x_19780 = mul64(x_19760, x_19761);\n                        int64_t x_19781 = add64(x_19780, x_19780);\n                        int64_t y_19782 = mul64(x_19762, x_19762);\n                        int64_t x_19783 = sub64(x_19781, y_19782);\n                        int64_t x_19784 = add64(y_19777, x_19783);\n                        int64_t mul_res_19785 = add64(y_19777, x_19784);\n                        int64_t x_19786 = mul64(x_19760, x_19762);\n                        int64_t y_19787 = mul64(x_19761, x_19761);\n                        int64_t x_19788 = add64(x_19786, y_19787);\n                        int64_t x_19789 = add64(x_19786, x_19788);\n                        int64_t mul_res_19790 = add64(y_19782, x_19789);\n                        int64_t loopres_t_res_19791 = lshr64(i_19763, (int64_t) 1);\n                        int64_t x_19792 = mul64(x_19760, result_19764);\n                        int64_t y_19793 = mul64(x_19762, result_19765);\n                        int64_t x_19794 = sub64(x_19792, y_19793);\n                        int64_t y_19795 = mul64(x_19761, result_19766);\n                        int64_t mul_res_19796 = sub64(x_19794, y_19795);\n                        int64_t x_19797 = mul64(x_19761, result_19764);\n                        int64_t y_19798 = mul64(x_19760, result_19765);\n                        int64_t x_19799 = add64(x_19797, y_19798);\n                        int64_t y_19800 = mul64(x_19762, result_19766);\n                        int64",
                                       "_t x_19801 = sub64(x_19799, y_19800);\n                        int64_t x_19802 = add64(y_19793, x_19801);\n                        int64_t mul_res_19803 = add64(y_19795, x_19802);\n                        int64_t x_19804 = mul64(x_19762, result_19764);\n                        int64_t y_19805 = mul64(x_19761, result_19765);\n                        int64_t x_19806 = add64(x_19804, y_19805);\n                        int64_t y_19807 = mul64(x_19760, result_19766);\n                        int64_t x_19808 = add64(x_19806, y_19807);\n                        int64_t mul_res_19809 = add64(y_19800, x_19808);\n                        \n                        loopres_19769 = mul_res_19779;\n                        loopres_19770 = mul_res_19785;\n                        loopres_19771 = mul_res_19790;\n                        loopres_19772 = loopres_t_res_19791;\n                        loopres_19773 = mul_res_19796;\n                        loopres_19774 = mul_res_19803;\n                        loopres_19775 = mul_res_19809;\n                    } else {\n                        int64_t x_19810 = mul64(x_19760, x_19760);\n                        int64_t y_19811 = mul64(x_19761, x_19762);\n                        int64_t x_19812 = sub64(x_19810, y_19811);\n                        int64_t mul_res_19813 = sub64(x_19812, y_19811);\n                        int64_t x_19814 = mul64(x_19760, x_19761);\n                        int64_t x_19815 = add64(x_19814, x_19814);\n                        int64_t y_19816 = mul64(x_19762, x_19762);\n                        int64_t x_19817 = sub64(x_19815, y_19816);\n                        int64_t x_19818 = add64(y_19811, x_19817);\n                        int64_t mul_res_19819 = add64(y_19811, x_19818);\n                        int64_t x_19820 = mul64(x_19760, x_19762);\n                        int64_t y_19821 = mul64(x_19761, x_19761);\n                        int64_t x_19822 = add64(x_19820, y_19821);\n                        int64_t x_19823 = add64(x_19820, x_19822);\n    ", "                    int64_t mul_res_19824 = add64(y_19816, x_19823);\n                        int64_t loopres_f_res_19825 = lshr64(i_19763, (int64_t) 1);\n                        \n                        loopres_19769 = mul_res_19813;\n                        loopres_19770 = mul_res_19819;\n                        loopres_19771 = mul_res_19824;\n                        loopres_19772 = loopres_f_res_19825;\n                        loopres_19773 = result_19764;\n                        loopres_19774 = result_19765;\n                        loopres_19775 = result_19766;\n                    }\n                    \n                    bool loop_cond_19826 = ult64((int64_t) 0, loopres_19772);\n                    bool loop_while_tmp_20651 = loop_cond_19826;\n                    int64_t x_tmp_20652 = loopres_19769;\n                    int64_t x_tmp_20653 = loopres_19770;\n                    int64_t x_tmp_20654 = loopres_19771;\n                    int64_t i_tmp_20655 = loopres_19772;\n                    int64_t result_tmp_20656 = loopres_19773;\n                    int64_t result_tmp_20657 = loopres_19774;\n                    int64_t result_tmp_20658 = loopres_19775;\n                    \n                    loop_while_19759 = loop_while_tmp_20651;\n                    x_19760 = x_tmp_20652;\n                    x_19761 = x_tmp_20653;\n                    x_19762 = x_tmp_20654;\n                    i_19763 = i_tmp_20655;\n                    result_19764 = result_tmp_20656;\n                    result_19765 = result_tmp_20657;\n                    result_19766 = result_tmp_20658;\n                }\n                mod_pow_u64_res_19751 = loop_while_19759;\n                mod_pow_u64_res_19752 = x_19760;\n                mod_pow_u64_res_19753 = x_19761;\n                mod_pow_u64_res_19754 = x_19762;\n                mod_pow_u64_res_19755 = i_19763;\n                mod_pow_u64_res_19756 = result_19764;\n                mod_pow_u64_res_19757 = result_19765;\n                mod_pow_u64_res_19758 = r", "esult_19766;\n                \n                int64_t x_19728 = mul64(mod_pow_u64_res_19756, redout_19936);\n                int64_t y_19729 = mul64(mod_pow_u64_res_19757, redout_19938);\n                int64_t x_19730 = sub64(x_19728, y_19729);\n                int64_t y_19731 = mul64(mod_pow_u64_res_19758, redout_19937);\n                int64_t defunc_1_op_res_19732 = sub64(x_19730, y_19731);\n                int64_t x_19733 = mul64(mod_pow_u64_res_19756, redout_19937);\n                int64_t y_19734 = mul64(mod_pow_u64_res_19757, redout_19936);\n                int64_t x_19735 = add64(x_19733, y_19734);\n                int64_t y_19736 = mul64(mod_pow_u64_res_19758, redout_19938);\n                int64_t x_19737 = sub64(x_19735, y_19736);\n                int64_t x_19738 = add64(y_19729, x_19737);\n                int64_t defunc_1_op_res_19739 = add64(y_19731, x_19738);\n                int64_t x_19740 = mul64(mod_pow_u64_res_19756, redout_19938);\n                int64_t y_19741 = mul64(mod_pow_u64_res_19757, redout_19937);\n                int64_t x_19742 = add64(x_19740, y_19741);\n                int64_t y_19743 = mul64(mod_pow_u64_res_19758, redout_19936);\n                int64_t x_19744 = add64(x_19742, y_19743);\n                int64_t defunc_1_op_res_19745 = add64(y_19736, x_19744);\n                int64_t redout_tmp_20648 = defunc_1_op_res_19732;\n                int64_t redout_tmp_20649 = defunc_1_op_res_19739;\n                int64_t redout_tmp_20650 = defunc_1_op_res_19745;\n                \n                redout_19936 = redout_tmp_20648;\n                redout_19937 = redout_tmp_20649;\n                redout_19938 = redout_tmp_20650;\n            }\n            x_19719 = redout_19936;\n            x_19720 = redout_19937;\n            x_19721 = redout_19938;\n            acc_19716 = x_19719;\n            acc_19717 = x_19720;\n            acc_19718 = x_19721;\n        } else {\n            acc_19716 = acc_19710;\n            acc_19717 = acc_19711;\n            acc_19718 = a",
                                       "cc_19712;\n        }\n        mem_20024[(int64_t) 0] = acc_19716;\n        mem_20026[(int64_t) 0] = acc_19717;\n        mem_20028[(int64_t) 0] = acc_19718;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t tmp_20659 = mem_20024[(int64_t) 0];\n        \n        mem_20267[(int64_t) 0] = tmp_20659;\n        \n        int64_t tmp_20660 = mem_20026[(int64_t) 0];\n        \n        mem_20265[(int64_t) 0] = tmp_20660;\n        \n        int64_t tmp_20661 = mem_20028[(int64_t) 0];\n        \n        mem_20263[(int64_t) 0] = tmp_20661;\n    }\n    \n    int64_t mem_20034[1];\n    int64_t mem_20036[1];\n    int64_t mem_20038[1];\n    int32_t ltid_flat_19834 = local_tid_20609;\n    int64_t ltid_19833 = sext_i32_i64(sext_i64_i32(ltid_pre_20613));\n    int64_t gtid_19844 = binop_x_19426 + ltid_19833;\n    bool cond_19848 = slt64(gtid_19844, q_12354);\n    int64_t postlude_19849;\n    int64_t postlude_19850;\n    int64_t postlude_19851;\n    \n    if (cond_19848 == 1) {\n        int64_t defunc_0_f_res_19845 = mem_20267[(int64_t) 0];\n        int64_t defunc_0_f_res_19846 = mem_20265[(int64_t) 0];\n        int64_t defunc_0_f_res_19847 = mem_20263[(int64_t) 0];\n        int64_t x_19853 = ((__global int64_t *) coefficientss_mem_19948)[gtid_18833 * ((int64_t) 3 * q_12354) + gtid_19844 * (int64_t) 3];\n        int64_t x_19854 = ((__global int64_t *) coefficientss_mem_19948)[gtid_18833 * ((int64_t) 3 * q_12354) + gtid_19844 * (int64_t) 3 + (int64_t) 1];\n        int64_t x_19855 = ((__global int64_t *) coefficientss_mem_19948)[gtid_18833 * ((int64_t) 3 * q_12354) + gtid_19844 * (int64_t) 3 + (int64_t) 2];\n        int64_t x_19856 = mul64(defunc_0_f_res_19845, x_19853);\n        int64_t y_19857 = mul64(defunc_0_f_res_19846, x_19855);\n        int64_t x_19858 = sub64(x_19856, y_19857);\n        int64_t y_19859 = mul64(defunc_0_f_res_19847, x_19854);\n        int64_t mul_res_19860 = sub64(x_19858, y_19859);\n        int64_t x_19861 = mul64(defunc_0_f_res_19845, x_19854);\n        int64_t y_19862 = mul64(defunc_0_f_res", "_19846, x_19853);\n        int64_t x_19863 = add64(x_19861, y_19862);\n        int64_t y_19864 = mul64(defunc_0_f_res_19847, x_19855);\n        int64_t x_19865 = sub64(x_19863, y_19864);\n        int64_t x_19866 = add64(y_19857, x_19865);\n        int64_t mul_res_19867 = add64(y_19859, x_19866);\n        int64_t x_19868 = mul64(defunc_0_f_res_19845, x_19855);\n        int64_t y_19869 = mul64(defunc_0_f_res_19846, x_19854);\n        int64_t x_19870 = add64(x_19868, y_19869);\n        int64_t y_19871 = mul64(defunc_0_f_res_19847, x_19853);\n        int64_t x_19872 = add64(x_19870, y_19871);\n        int64_t mul_res_19873 = add64(y_19864, x_19872);\n        \n        postlude_19849 = mul_res_19860;\n        postlude_19850 = mul_res_19867;\n        postlude_19851 = mul_res_19873;\n    } else {\n        postlude_19849 = (int64_t) 0;\n        postlude_19850 = (int64_t) 0;\n        postlude_19851 = (int64_t) 0;\n    }\n    mem_20034[(int64_t) 0] = postlude_19849;\n    mem_20036[(int64_t) 0] = postlude_19850;\n    mem_20038[(int64_t) 0] = postlude_19851;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t slice_20665 = computed_group_sizze_19206;\n    int64_t slice_20666 = slice_20665;\n    int64_t slice_20667 = slice_20666;\n    int64_t ltid_20662 = squot64(sext_i32_i64(local_tid_20609), slice_20666);\n    int64_t remnant_20668 = sext_i32_i64(local_tid_20609) - ltid_20662 * slice_20666;\n    int64_t ltid_20663 = squot64(remnant_20668, slice_20665);\n    int64_t remnant_20669 = remnant_20668 - ltid_20663 * slice_20665;\n    int64_t ltid_20664 = remnant_20669;\n    int64_t remnant_20670 = remnant_20669 - ltid_20664;\n    int64_t thread_out_index_20671 = gtid_18832 + ltid_20662;\n    int64_t thread_out_index_20672 = gtid_18833 + ltid_20663;\n    int64_t thread_out_index_20673 = gid_19204 * computed_group_sizze_19206 + ltid_20664;\n    \n    if ((slt64(thread_out_index_20671, n_12351) && slt64(thread_out_index_20672, p_12353)) && slt64(thread_out_index_20673, q_12354)) {\n        int64_t tmp_20674 = mem_20034[(int", "64_t) 0];\n        \n        ((__global int64_t *) mem_20043)[thread_out_index_20671 * (q_12354 * p_12353) + thread_out_index_20672 * q_12354 + thread_out_index_20673] = tmp_20674;\n    }\n    \n    int64_t slice_20678 = computed_group_sizze_19206;\n    int64_t slice_20679 = slice_20678;\n    int64_t slice_20680 = slice_20679;\n    int64_t ltid_20675 = squot64(sext_i32_i64(local_tid_20609), slice_20679);\n    int64_t remnant_20681 = sext_i32_i64(local_tid_20609) - ltid_20675 * slice_20679;\n    int64_t ltid_20676 = squot64(remnant_20681, slice_20678);\n    int64_t remnant_20682 = remnant_20681 - ltid_20676 * slice_20678;\n    int64_t ltid_20677 = remnant_20682;\n    int64_t remnant_20683 = remnant_20682 - ltid_20677;\n    int64_t thread_out_index_20684 = gtid_18832 + ltid_20675;\n    int64_t thread_out_index_20685 = gtid_18833 + ltid_20676;\n    int64_t thread_out_index_20686 = gid_19204 * computed_group_sizze_19206 + ltid_20677;\n    \n    if ((slt64(thread_out_index_20684, n_12351) && slt64(thread_out_index_20685, p_12353)) && slt64(thread_out_index_20686, q_12354)) {\n        int64_t tmp_20687 = mem_20036[(int64_t) 0];\n        \n        ((__global int64_t *) mem_20048)[thread_out_index_20684 * (q_12354 * p_12353) + thread_out_index_20685 * q_12354 + thread_out_index_20686] = tmp_20687;\n    }\n    \n    int64_t slice_20691 = computed_group_sizze_19206;\n    int64_t slice_20692 = slice_20691;\n    int64_t slice_20693 = slice_20692;\n    int64_t ltid_20688 = squot64(sext_i32_i64(local_tid_20609), slice_20692);\n    int64_t remnant_20694 = sext_i32_i64(local_tid_20609) - ltid_20688 * slice_20692;\n    int64_t ltid_20689 = squot64(remnant_20694, slice_20691);\n    int64_t remnant_20695 = remnant_20694 - ltid_20689 * slice_20691;\n    int64_t ltid_20690 = remnant_20695;\n    int64_t remnant_20696 = remnant_20695 - ltid_20690;\n    int64_t thread_out_index_20697 = gtid_18832 + ltid_20688;\n    int64_t thread_out_index_20698 = gtid_18833 + ltid_20689;\n    int64_t thread_out_index_20699 = gid_19204 * co",
                                       "mputed_group_sizze_19206 + ltid_20690;\n    \n    if ((slt64(thread_out_index_20697, n_12351) && slt64(thread_out_index_20698, p_12353)) && slt64(thread_out_index_20699, q_12354)) {\n        int64_t tmp_20700 = mem_20038[(int64_t) 0];\n        \n        ((__global int64_t *) mem_20053)[thread_out_index_20697 * (q_12354 * p_12353) + thread_out_index_20698 * q_12354 + thread_out_index_20699] = tmp_20700;\n    }\n    \n  error_6:\n    return;\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegred_large_18983(__global int *global_failure, __local volatile int64_t *sync_arr_mem_20792_backing_aligned_0, __local volatile int64_t *red_arr_mem_20790_backing_aligned_1, __local volatile int64_t *red_arr_mem_20788_backing_aligned_2, __local volatile int64_t *red_arr_mem_20786_backing_aligned_3, int64_t n_12351, int64_t m_12352, int64_t p_12353, int64_t q_12354, int64_t num_groups_18974, int64_t groups_per_segment_20768, int64_t elements_per_thread_20769, int64_t virt_num_groups_20770, __global unsigned char *eps_mem_19946, __global unsigned char *expsss_mem_19947, __global unsigned char *mem_19954, __global unsigned char *mem_19959, __global unsigned char *mem_19964, __global unsigned char *segred_tmp_mem_20773, __global unsigned char *segred_tmp_mem_20775, __global unsigned char *segred_tmp_mem_20777, __global unsigned char *make_transposed_quotient_codewords_non_opaquezicounter_mem_20779)\n{\n    #define segred_group_sizze_18973 (make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17680)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_20792_backing_3 = (__local volatile unsigned char *) sync_arr_mem_20792_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20790_backing_2 = (__local volatile unsigned char *) red_arr_mem_20790_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_20788_backing_1 = (__local vola", "tile unsigned char *) red_arr_mem_20788_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_20786_backing_0 = (__local volatile unsigned char *) red_arr_mem_20786_backing_aligned_3;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20782;\n    int64_t group_sizze_20785;\n    int32_t wave_sizze_20784;\n    int32_t group_tid_20783;\n    \n    local_tid_20782 = get_local_id(0);\n    group_sizze_20785 = get_local_size(0);\n    wave_sizze_20784 = LOCKSTEP_WIDTH;\n    group_tid_20783 = get_group_id(0);\n    \n    int32_t global_tid_20781 = group_tid_20783 * group_sizze_20785 + local_tid_20782;\n    int32_t phys_tid_18983 = global_tid_20781;\n    __local unsigned char *red_arr_mem_20786;\n    \n    red_arr_mem_20786 = (__local unsigned char *) red_arr_mem_20786_backing_0;\n    \n    __local unsigned char *red_arr_mem_20788;\n    \n    red_arr_mem_20788 = (__local unsigned char *) red_arr_mem_20788_backing_1;\n    \n    __local unsigned char *red_arr_mem_20790;\n    \n    red_arr_mem_20790 = (__local unsigned char *) red_arr_mem_20790_backing_2;\n    \n    __local unsigned char *sync_arr_mem_20792;\n    \n    sync_arr_mem_20792 = (__local unsigned char *) sync_arr_mem_20792_backing_3;\n    \n    int32_t phys_group_id_20794;\n    \n    phys_group_id_20794 = get_group_id(0);\n    \n    int32_t iterations_20795 = sdiv_up32(sext_i64_i32(virt_num_groups_20770) - phys_group_id_20794, sext_i64_i32(num_groups_18974));\n    \n    for (int32_t i_20796 = 0; i_20796 < iterations_20795; i_20796++) {\n        int32_t virt_group_id_20797 = phys_group_id_20794 + i_20796 * sext_i64_i32(num_groups_18974);\n        int32_t flat_segment_id_20798 = squot32(virt_group_id_20797, sext_i64_i32(groups_per_segment_20768));\n        int64_t global_tid_20799 = srem64(sext_i32_i64(virt_group_id_20797) * segred_group_sizze_18973 + sext_i32_i64(local_tid_20782), segred_group_sizze_18973 * groups_per_segment_20768);\n        int64_t slice_20800 = q_12354;\n        int64_t slice_20801 = p_12353", " * slice_20800;\n        int64_t slice_20802 = n_12351 * slice_20801;\n        int64_t gtid_18979 = squot64(sext_i32_i64(flat_segment_id_20798), slice_20801);\n        int64_t remnant_20803 = sext_i32_i64(flat_segment_id_20798) - gtid_18979 * slice_20801;\n        int64_t gtid_18980 = squot64(remnant_20803, slice_20800);\n        int64_t remnant_20804 = remnant_20803 - gtid_18980 * slice_20800;\n        int64_t gtid_18981 = remnant_20804;\n        int64_t remnant_20805 = remnant_20804 - gtid_18981;\n        int64_t gtid_18982;\n        int64_t x_acc_20806;\n        int64_t x_acc_20807;\n        int64_t x_acc_20808;\n        int64_t chunk_sizze_20809;\n        int64_t starting_point_20810 = global_tid_20799 * elements_per_thread_20769;\n        int64_t remaining_elements_20811 = m_12352 - starting_point_20810;\n        \n        if (sle64(remaining_elements_20811, (int64_t) 0) || sle64(m_12352, starting_point_20810)) {\n            chunk_sizze_20809 = (int64_t) 0;\n        } else if (slt64(m_12352, (global_tid_20799 + (int64_t) 1) * elements_per_thread_20769)) {\n            chunk_sizze_20809 = m_12352 - global_tid_20799 * elements_per_thread_20769;\n        } else {\n            chunk_sizze_20809 = elements_per_thread_20769;\n        }\n        \n        int64_t x_18984;\n        int64_t x_18985;\n        int64_t x_18986;\n        int64_t x_18987;\n        int64_t x_18988;\n        int64_t x_18989;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_20806 = (int64_t) 1;\n            x_acc_20807 = (int64_t) 0;\n            x_acc_20808 = (int64_t) 0;\n        }\n        for (int64_t i_20836 = 0; i_20836 < elements_per_thread_20769; i_20836++) {\n            gtid_18982 = sext_i32_i64(local_tid_20782) + (squot64(global_tid_20799, segred_group_sizze_18973) * elements_per_thread_20769 + i_20836) * segred_group_sizze_18973;\n            if (slt64(gtid_18982, m_12352)) {\n                // apply map function\n                {\n                    int64_t x_19013 = ((__global in",
                                       "t64_t *) expsss_mem_19947)[gtid_18980 * (m_12352 * q_12354) + gtid_18981 * m_12352 + gtid_18982];\n                    int64_t x_19014 = ((__global int64_t *) eps_mem_19946)[gtid_18979 * ((int64_t) 3 * m_12352) + gtid_18982 * (int64_t) 3];\n                    int64_t x_19015 = ((__global int64_t *) eps_mem_19946)[gtid_18979 * ((int64_t) 3 * m_12352) + gtid_18982 * (int64_t) 3 + (int64_t) 1];\n                    int64_t x_19016 = ((__global int64_t *) eps_mem_19946)[gtid_18979 * ((int64_t) 3 * m_12352) + gtid_18982 * (int64_t) 3 + (int64_t) 2];\n                    bool loop_cond_19017 = ult64((int64_t) 0, x_19013);\n                    bool mod_pow_u64_res_19018;\n                    int64_t mod_pow_u64_res_19019;\n                    int64_t mod_pow_u64_res_19020;\n                    int64_t mod_pow_u64_res_19021;\n                    int64_t mod_pow_u64_res_19022;\n                    int64_t mod_pow_u64_res_19023;\n                    int64_t mod_pow_u64_res_19024;\n                    int64_t mod_pow_u64_res_19025;\n                    bool loop_while_19026;\n                    int64_t x_19027;\n                    int64_t x_19028;\n                    int64_t x_19029;\n                    int64_t i_19030;\n                    int64_t result_19031;\n                    int64_t result_19032;\n                    int64_t result_19033;\n                    \n                    loop_while_19026 = loop_cond_19017;\n                    x_19027 = x_19014;\n                    x_19028 = x_19015;\n                    x_19029 = x_19016;\n                    i_19030 = x_19013;\n                    result_19031 = (int64_t) 1;\n                    result_19032 = (int64_t) 0;\n                    result_19033 = (int64_t) 0;\n                    while (loop_while_19026) {\n                        int64_t x_19034 = umod64(i_19030, (int64_t) 2);\n                        bool cond_19035 = x_19034 == (int64_t) 1;\n                        int64_t loopres_19036;\n                        int64_t loopres_19037;\n ", "                       int64_t loopres_19038;\n                        int64_t loopres_19039;\n                        int64_t loopres_19040;\n                        int64_t loopres_19041;\n                        int64_t loopres_19042;\n                        \n                        if (cond_19035 == 1) {\n                            int64_t x_19043 = mul64(x_19027, x_19027);\n                            int64_t y_19044 = mul64(x_19028, x_19029);\n                            int64_t x_19045 = sub64(x_19043, y_19044);\n                            int64_t mul_res_19046 = sub64(x_19045, y_19044);\n                            int64_t x_19047 = mul64(x_19027, x_19028);\n                            int64_t x_19048 = add64(x_19047, x_19047);\n                            int64_t y_19049 = mul64(x_19029, x_19029);\n                            int64_t x_19050 = sub64(x_19048, y_19049);\n                            int64_t x_19051 = add64(y_19044, x_19050);\n                            int64_t mul_res_19052 = add64(y_19044, x_19051);\n                            int64_t x_19053 = mul64(x_19027, x_19029);\n                            int64_t y_19054 = mul64(x_19028, x_19028);\n                            int64_t x_19055 = add64(x_19053, y_19054);\n                            int64_t x_19056 = add64(x_19053, x_19055);\n                            int64_t mul_res_19057 = add64(y_19049, x_19056);\n                            int64_t loopres_t_res_19058 = lshr64(i_19030, (int64_t) 1);\n                            int64_t x_19059 = mul64(x_19027, result_19031);\n                            int64_t y_19060 = mul64(x_19029, result_19032);\n                            int64_t x_19061 = sub64(x_19059, y_19060);\n                            int64_t y_19062 = mul64(x_19028, result_19033);\n                            int64_t mul_res_19063 = sub64(x_19061, y_19062);\n                            int64_t x_19064 = mul64(x_19028, result_19031);\n                            int64_t y_19065 = mul64(x_19027, result_190", "32);\n                            int64_t x_19066 = add64(x_19064, y_19065);\n                            int64_t y_19067 = mul64(x_19029, result_19033);\n                            int64_t x_19068 = sub64(x_19066, y_19067);\n                            int64_t x_19069 = add64(y_19060, x_19068);\n                            int64_t mul_res_19070 = add64(y_19062, x_19069);\n                            int64_t x_19071 = mul64(x_19029, result_19031);\n                            int64_t y_19072 = mul64(x_19028, result_19032);\n                            int64_t x_19073 = add64(x_19071, y_19072);\n                            int64_t y_19074 = mul64(x_19027, result_19033);\n                            int64_t x_19075 = add64(x_19073, y_19074);\n                            int64_t mul_res_19076 = add64(y_19067, x_19075);\n                            \n                            loopres_19036 = mul_res_19046;\n                            loopres_19037 = mul_res_19052;\n                            loopres_19038 = mul_res_19057;\n                            loopres_19039 = loopres_t_res_19058;\n                            loopres_19040 = mul_res_19063;\n                            loopres_19041 = mul_res_19070;\n                            loopres_19042 = mul_res_19076;\n                        } else {\n                            int64_t x_19077 = mul64(x_19027, x_19027);\n                            int64_t y_19078 = mul64(x_19028, x_19029);\n                            int64_t x_19079 = sub64(x_19077, y_19078);\n                            int64_t mul_res_19080 = sub64(x_19079, y_19078);\n                            int64_t x_19081 = mul64(x_19027, x_19028);\n                            int64_t x_19082 = add64(x_19081, x_19081);\n                            int64_t y_19083 = mul64(x_19029, x_19029);\n                            int64_t x_19084 = sub64(x_19082, y_19083);\n                            int64_t x_19085 = add64(y_19078, x_19084);\n                            int64_t mul_res_19086 = add6",
                                       "4(y_19078, x_19085);\n                            int64_t x_19087 = mul64(x_19027, x_19029);\n                            int64_t y_19088 = mul64(x_19028, x_19028);\n                            int64_t x_19089 = add64(x_19087, y_19088);\n                            int64_t x_19090 = add64(x_19087, x_19089);\n                            int64_t mul_res_19091 = add64(y_19083, x_19090);\n                            int64_t loopres_f_res_19092 = lshr64(i_19030, (int64_t) 1);\n                            \n                            loopres_19036 = mul_res_19080;\n                            loopres_19037 = mul_res_19086;\n                            loopres_19038 = mul_res_19091;\n                            loopres_19039 = loopres_f_res_19092;\n                            loopres_19040 = result_19031;\n                            loopres_19041 = result_19032;\n                            loopres_19042 = result_19033;\n                        }\n                        \n                        bool loop_cond_19093 = ult64((int64_t) 0, loopres_19039);\n                        bool loop_while_tmp_20837 = loop_cond_19093;\n                        int64_t x_tmp_20838 = loopres_19036;\n                        int64_t x_tmp_20839 = loopres_19037;\n                        int64_t x_tmp_20840 = loopres_19038;\n                        int64_t i_tmp_20841 = loopres_19039;\n                        int64_t result_tmp_20842 = loopres_19040;\n                        int64_t result_tmp_20843 = loopres_19041;\n                        int64_t result_tmp_20844 = loopres_19042;\n                        \n                        loop_while_19026 = loop_while_tmp_20837;\n                        x_19027 = x_tmp_20838;\n                        x_19028 = x_tmp_20839;\n                        x_19029 = x_tmp_20840;\n                        i_19030 = i_tmp_20841;\n                        result_19031 = result_tmp_20842;\n                        result_19032 = result_tmp_20843;\n                        result_19033 = result_tmp", "_20844;\n                    }\n                    mod_pow_u64_res_19018 = loop_while_19026;\n                    mod_pow_u64_res_19019 = x_19027;\n                    mod_pow_u64_res_19020 = x_19028;\n                    mod_pow_u64_res_19021 = x_19029;\n                    mod_pow_u64_res_19022 = i_19030;\n                    mod_pow_u64_res_19023 = result_19031;\n                    mod_pow_u64_res_19024 = result_19032;\n                    mod_pow_u64_res_19025 = result_19033;\n                    // save map-out results\n                    { }\n                    // load accumulator\n                    {\n                        x_18984 = x_acc_20806;\n                        x_18985 = x_acc_20807;\n                        x_18986 = x_acc_20808;\n                    }\n                    // load new values\n                    {\n                        x_18987 = mod_pow_u64_res_19023;\n                        x_18988 = mod_pow_u64_res_19024;\n                        x_18989 = mod_pow_u64_res_19025;\n                    }\n                    // apply reduction operator\n                    {\n                        int64_t x_18990 = mul64(x_18984, x_18987);\n                        int64_t y_18991 = mul64(x_18986, x_18988);\n                        int64_t x_18992 = sub64(x_18990, y_18991);\n                        int64_t y_18993 = mul64(x_18985, x_18989);\n                        int64_t defunc_1_op_res_18994 = sub64(x_18992, y_18993);\n                        int64_t x_18995 = mul64(x_18985, x_18987);\n                        int64_t y_18996 = mul64(x_18984, x_18988);\n                        int64_t x_18997 = add64(x_18995, y_18996);\n                        int64_t y_18998 = mul64(x_18986, x_18989);\n                        int64_t x_18999 = sub64(x_18997, y_18998);\n                        int64_t x_19000 = add64(y_18991, x_18999);\n                        int64_t defunc_1_op_res_19001 = add64(y_18993, x_19000);\n                        int64_t x_19002 = mul64(x_18986, x_18987);\n      ", "                  int64_t y_19003 = mul64(x_18985, x_18988);\n                        int64_t x_19004 = add64(x_19002, y_19003);\n                        int64_t y_19005 = mul64(x_18984, x_18989);\n                        int64_t x_19006 = add64(x_19004, y_19005);\n                        int64_t defunc_1_op_res_19007 = add64(y_18998, x_19006);\n                        \n                        // store in accumulator\n                        {\n                            x_acc_20806 = defunc_1_op_res_18994;\n                            x_acc_20807 = defunc_1_op_res_19001;\n                            x_acc_20808 = defunc_1_op_res_19007;\n                        }\n                    }\n                }\n            }\n            // to reduce current chunk, first store our result in memory\n            {\n                x_18984 = x_acc_20806;\n                x_18985 = x_acc_20807;\n                x_18986 = x_acc_20808;\n                ((__local int64_t *) red_arr_mem_20786)[sext_i32_i64(local_tid_20782)] = x_18984;\n                ((__local int64_t *) red_arr_mem_20788)[sext_i32_i64(local_tid_20782)] = x_18985;\n                ((__local int64_t *) red_arr_mem_20790)[sext_i32_i64(local_tid_20782)] = x_18986;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int32_t offset_20845;\n            int32_t skip_waves_20846 = 1;\n            int64_t x_20812;\n            int64_t x_20813;\n            int64_t x_20814;\n            int64_t x_20815;\n            int64_t x_20816;\n            int64_t x_20817;\n            \n            offset_20845 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_20782, sext_i64_i32(segred_group_sizze_18973))) {\n                    x_20812 = ((__local int64_t *) red_arr_mem_20786)[sext_i32_i64(local_tid_20782 + offset_20845)];\n                    x_20813 = ((__local int64_t *) red_arr_mem_20788)[sext_i32_i64(local_tid_20782 + offset_20845)];\n                    x_20814",
                                       " = ((__local int64_t *) red_arr_mem_20790)[sext_i32_i64(local_tid_20782 + offset_20845)];\n                }\n            }\n            offset_20845 = 1;\n            while (slt32(offset_20845, wave_sizze_20784)) {\n                if (slt32(local_tid_20782 + offset_20845, sext_i64_i32(segred_group_sizze_18973)) && ((local_tid_20782 - squot32(local_tid_20782, wave_sizze_20784) * wave_sizze_20784) & (2 * offset_20845 - 1)) == 0) {\n                    // read array element\n                    {\n                        x_20815 = ((volatile __local int64_t *) red_arr_mem_20786)[sext_i32_i64(local_tid_20782 + offset_20845)];\n                        x_20816 = ((volatile __local int64_t *) red_arr_mem_20788)[sext_i32_i64(local_tid_20782 + offset_20845)];\n                        x_20817 = ((volatile __local int64_t *) red_arr_mem_20790)[sext_i32_i64(local_tid_20782 + offset_20845)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t x_20818 = mul64(x_20812, x_20815);\n                        int64_t y_20819 = mul64(x_20814, x_20816);\n                        int64_t x_20820 = sub64(x_20818, y_20819);\n                        int64_t y_20821 = mul64(x_20813, x_20817);\n                        int64_t defunc_1_op_res_20822 = sub64(x_20820, y_20821);\n                        int64_t x_20823 = mul64(x_20813, x_20815);\n                        int64_t y_20824 = mul64(x_20812, x_20816);\n                        int64_t x_20825 = add64(x_20823, y_20824);\n                        int64_t y_20826 = mul64(x_20814, x_20817);\n                        int64_t x_20827 = sub64(x_20825, y_20826);\n                        int64_t x_20828 = add64(y_20819, x_20827);\n                        int64_t defunc_1_op_res_20829 = add64(y_20821, x_20828);\n                        int64_t x_20830 = mul64(x_20814, x_20815);\n                        int64_t y_20831 = mul64(x_20813, x_20816);\n                        int64_t x_20832 = add64(x_20830, ", "y_20831);\n                        int64_t y_20833 = mul64(x_20812, x_20817);\n                        int64_t x_20834 = add64(x_20832, y_20833);\n                        int64_t defunc_1_op_res_20835 = add64(y_20826, x_20834);\n                        \n                        x_20812 = defunc_1_op_res_20822;\n                        x_20813 = defunc_1_op_res_20829;\n                        x_20814 = defunc_1_op_res_20835;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_mem_20786)[sext_i32_i64(local_tid_20782)] = x_20812;\n                        ((volatile __local int64_t *) red_arr_mem_20788)[sext_i32_i64(local_tid_20782)] = x_20813;\n                        ((volatile __local int64_t *) red_arr_mem_20790)[sext_i32_i64(local_tid_20782)] = x_20814;\n                    }\n                }\n                offset_20845 *= 2;\n            }\n            while (slt32(skip_waves_20846, squot32(sext_i64_i32(segred_group_sizze_18973) + wave_sizze_20784 - 1, wave_sizze_20784))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_20845 = skip_waves_20846 * wave_sizze_20784;\n                if (slt32(local_tid_20782 + offset_20845, sext_i64_i32(segred_group_sizze_18973)) && ((local_tid_20782 - squot32(local_tid_20782, wave_sizze_20784) * wave_sizze_20784) == 0 && (squot32(local_tid_20782, wave_sizze_20784) & (2 * skip_waves_20846 - 1)) == 0)) {\n                    // read array element\n                    {\n                        x_20815 = ((__local int64_t *) red_arr_mem_20786)[sext_i32_i64(local_tid_20782 + offset_20845)];\n                        x_20816 = ((__local int64_t *) red_arr_mem_20788)[sext_i32_i64(local_tid_20782 + offset_20845)];\n                        x_20817 = ((__local int64_t *) red_arr_mem_20790)[sext_i32_i64(local_tid_20782 + offset_20845)];\n                    }\n                    // apply reduction operation\n                    {\n       ", "                 int64_t x_20818 = mul64(x_20812, x_20815);\n                        int64_t y_20819 = mul64(x_20814, x_20816);\n                        int64_t x_20820 = sub64(x_20818, y_20819);\n                        int64_t y_20821 = mul64(x_20813, x_20817);\n                        int64_t defunc_1_op_res_20822 = sub64(x_20820, y_20821);\n                        int64_t x_20823 = mul64(x_20813, x_20815);\n                        int64_t y_20824 = mul64(x_20812, x_20816);\n                        int64_t x_20825 = add64(x_20823, y_20824);\n                        int64_t y_20826 = mul64(x_20814, x_20817);\n                        int64_t x_20827 = sub64(x_20825, y_20826);\n                        int64_t x_20828 = add64(y_20819, x_20827);\n                        int64_t defunc_1_op_res_20829 = add64(y_20821, x_20828);\n                        int64_t x_20830 = mul64(x_20814, x_20815);\n                        int64_t y_20831 = mul64(x_20813, x_20816);\n                        int64_t x_20832 = add64(x_20830, y_20831);\n                        int64_t y_20833 = mul64(x_20812, x_20817);\n                        int64_t x_20834 = add64(x_20832, y_20833);\n                        int64_t defunc_1_op_res_20835 = add64(y_20826, x_20834);\n                        \n                        x_20812 = defunc_1_op_res_20822;\n                        x_20813 = defunc_1_op_res_20829;\n                        x_20814 = defunc_1_op_res_20835;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_mem_20786)[sext_i32_i64(local_tid_20782)] = x_20812;\n                        ((__local int64_t *) red_arr_mem_20788)[sext_i32_i64(local_tid_20782)] = x_20813;\n                        ((__local int64_t *) red_arr_mem_20790)[sext_i32_i64(local_tid_20782)] = x_20814;\n                    }\n                }\n                skip_waves_20846 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // fi",
                                       "rst thread saves the result in accumulator\n            {\n                if (sext_i32_i64(local_tid_20782) == (int64_t) 0) {\n                    x_acc_20806 = x_20812;\n                    x_acc_20807 = x_20813;\n                    x_acc_20808 = x_20814;\n                }\n            }\n            // first thread keeps accumulator; others reset to neutral element\n            {\n                if (!(sext_i32_i64(local_tid_20782) == (int64_t) 0)) {\n                    x_acc_20806 = (int64_t) 1;\n                    x_acc_20807 = (int64_t) 0;\n                    x_acc_20808 = (int64_t) 0;\n                }\n            }\n        }\n        if (groups_per_segment_20768 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_20782 == 0) {\n                    ((__global int64_t *) mem_19954)[gtid_18979 * (q_12354 * p_12353) + gtid_18980 * q_12354 + gtid_18981] = x_acc_20806;\n                    ((__global int64_t *) mem_19959)[gtid_18979 * (q_12354 * p_12353) + gtid_18980 * q_12354 + gtid_18981] = x_acc_20807;\n                    ((__global int64_t *) mem_19964)[gtid_18979 * (q_12354 * p_12353) + gtid_18980 * q_12354 + gtid_18981] = x_acc_20808;\n                }\n            }\n        } else {\n            int32_t old_counter_20847;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_20782 == 0) {\n                    ((__global int64_t *) segred_tmp_mem_20773)[sext_i32_i64(virt_group_id_20797)] = x_acc_20806;\n                    ((__global int64_t *) segred_tmp_mem_20775)[sext_i32_i64(virt_group_id_20797)] = x_acc_20807;\n                    ((__global int64_t *) segred_tmp_mem_20777)[sext_i32_i64(virt_group_id_20797)] = x_acc_20808;\n                    mem_fence_global();\n                    old_counter_20847 = atomic_add_i32_global(&((volatile __global int *) make_transposed_quotient_codewords_non_opaquezicounter_mem_20779)[sext", "_i32_i64(srem32(flat_segment_id_20798, 10240))], (int) 1);\n                    ((__local bool *) sync_arr_mem_20792)[(int64_t) 0] = old_counter_20847 == groups_per_segment_20768 - (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_20848 = ((__local bool *) sync_arr_mem_20792)[(int64_t) 0];\n            \n            if (is_last_group_20848) {\n                if (local_tid_20782 == 0) {\n                    old_counter_20847 = atomic_add_i32_global(&((volatile __global int *) make_transposed_quotient_codewords_non_opaquezicounter_mem_20779)[sext_i32_i64(srem32(flat_segment_id_20798, 10240))], (int) ((int64_t) 0 - groups_per_segment_20768));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_20849 = sdiv_up64(groups_per_segment_20768, segred_group_sizze_18973);\n                    \n                    x_18984 = (int64_t) 1;\n                    x_18985 = (int64_t) 0;\n                    x_18986 = (int64_t) 0;\n                    for (int64_t i_20850 = 0; i_20850 < read_per_thread_20849; i_20850++) {\n                        int64_t group_res_id_20851 = sext_i32_i64(local_tid_20782) * read_per_thread_20849 + i_20850;\n                        int64_t index_of_group_res_20852 = sext_i32_i64(flat_segment_id_20798) * groups_per_segment_20768 + group_res_id_20851;\n                        \n                        if (slt64(group_res_id_20851, groups_per_segment_20768)) {\n                            x_18987 = ((__global int64_t *) segred_tmp_mem_20773)[index_of_group_res_20852];\n                            x_18988 = ((__global int64_t *) segred_tmp_mem_20775)[index_of_group_res_20852];\n                            x_18989 = ((__global int64_t *) segred_tmp_mem_20777)[index_of_group_res_20852];\n                            \n                            int64_t x_18990 = mul64(x_18984, x_18987);\n             ", "               int64_t y_18991 = mul64(x_18986, x_18988);\n                            int64_t x_18992 = sub64(x_18990, y_18991);\n                            int64_t y_18993 = mul64(x_18985, x_18989);\n                            int64_t defunc_1_op_res_18994 = sub64(x_18992, y_18993);\n                            int64_t x_18995 = mul64(x_18985, x_18987);\n                            int64_t y_18996 = mul64(x_18984, x_18988);\n                            int64_t x_18997 = add64(x_18995, y_18996);\n                            int64_t y_18998 = mul64(x_18986, x_18989);\n                            int64_t x_18999 = sub64(x_18997, y_18998);\n                            int64_t x_19000 = add64(y_18991, x_18999);\n                            int64_t defunc_1_op_res_19001 = add64(y_18993, x_19000);\n                            int64_t x_19002 = mul64(x_18986, x_18987);\n                            int64_t y_19003 = mul64(x_18985, x_18988);\n                            int64_t x_19004 = add64(x_19002, y_19003);\n                            int64_t y_19005 = mul64(x_18984, x_18989);\n                            int64_t x_19006 = add64(x_19004, y_19005);\n                            int64_t defunc_1_op_res_19007 = add64(y_18998, x_19006);\n                            \n                            x_18984 = defunc_1_op_res_18994;\n                            x_18985 = defunc_1_op_res_19001;\n                            x_18986 = defunc_1_op_res_19007;\n                        }\n                    }\n                }\n                ((__local int64_t *) red_arr_mem_20786)[sext_i32_i64(local_tid_20782)] = x_18984;\n                ((__local int64_t *) red_arr_mem_20788)[sext_i32_i64(local_tid_20782)] = x_18985;\n                ((__local int64_t *) red_arr_mem_20790)[sext_i32_i64(local_tid_20782)] = x_18986;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_20853;\n                    int32_t skip_waves",
                                       "_20854 = 1;\n                    int64_t x_20812;\n                    int64_t x_20813;\n                    int64_t x_20814;\n                    int64_t x_20815;\n                    int64_t x_20816;\n                    int64_t x_20817;\n                    \n                    offset_20853 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_20782, sext_i64_i32(segred_group_sizze_18973))) {\n                            x_20812 = ((__local int64_t *) red_arr_mem_20786)[sext_i32_i64(local_tid_20782 + offset_20853)];\n                            x_20813 = ((__local int64_t *) red_arr_mem_20788)[sext_i32_i64(local_tid_20782 + offset_20853)];\n                            x_20814 = ((__local int64_t *) red_arr_mem_20790)[sext_i32_i64(local_tid_20782 + offset_20853)];\n                        }\n                    }\n                    offset_20853 = 1;\n                    while (slt32(offset_20853, wave_sizze_20784)) {\n                        if (slt32(local_tid_20782 + offset_20853, sext_i64_i32(segred_group_sizze_18973)) && ((local_tid_20782 - squot32(local_tid_20782, wave_sizze_20784) * wave_sizze_20784) & (2 * offset_20853 - 1)) == 0) {\n                            // read array element\n                            {\n                                x_20815 = ((volatile __local int64_t *) red_arr_mem_20786)[sext_i32_i64(local_tid_20782 + offset_20853)];\n                                x_20816 = ((volatile __local int64_t *) red_arr_mem_20788)[sext_i32_i64(local_tid_20782 + offset_20853)];\n                                x_20817 = ((volatile __local int64_t *) red_arr_mem_20790)[sext_i32_i64(local_tid_20782 + offset_20853)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t x_20818 = mul64(x_20812, x_20815);\n                                int64_t y_20819 = mul64(x_20814, x_20816);\n     ", "                           int64_t x_20820 = sub64(x_20818, y_20819);\n                                int64_t y_20821 = mul64(x_20813, x_20817);\n                                int64_t defunc_1_op_res_20822 = sub64(x_20820, y_20821);\n                                int64_t x_20823 = mul64(x_20813, x_20815);\n                                int64_t y_20824 = mul64(x_20812, x_20816);\n                                int64_t x_20825 = add64(x_20823, y_20824);\n                                int64_t y_20826 = mul64(x_20814, x_20817);\n                                int64_t x_20827 = sub64(x_20825, y_20826);\n                                int64_t x_20828 = add64(y_20819, x_20827);\n                                int64_t defunc_1_op_res_20829 = add64(y_20821, x_20828);\n                                int64_t x_20830 = mul64(x_20814, x_20815);\n                                int64_t y_20831 = mul64(x_20813, x_20816);\n                                int64_t x_20832 = add64(x_20830, y_20831);\n                                int64_t y_20833 = mul64(x_20812, x_20817);\n                                int64_t x_20834 = add64(x_20832, y_20833);\n                                int64_t defunc_1_op_res_20835 = add64(y_20826, x_20834);\n                                \n                                x_20812 = defunc_1_op_res_20822;\n                                x_20813 = defunc_1_op_res_20829;\n                                x_20814 = defunc_1_op_res_20835;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int64_t *) red_arr_mem_20786)[sext_i32_i64(local_tid_20782)] = x_20812;\n                                ((volatile __local int64_t *) red_arr_mem_20788)[sext_i32_i64(local_tid_20782)] = x_20813;\n                                ((volatile __local int64_t *) red_arr_mem_20790)[sext_i32_i64(local_tid_20782)] = x_20814;\n                            }\n                   ", "     }\n                        offset_20853 *= 2;\n                    }\n                    while (slt32(skip_waves_20854, squot32(sext_i64_i32(segred_group_sizze_18973) + wave_sizze_20784 - 1, wave_sizze_20784))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_20853 = skip_waves_20854 * wave_sizze_20784;\n                        if (slt32(local_tid_20782 + offset_20853, sext_i64_i32(segred_group_sizze_18973)) && ((local_tid_20782 - squot32(local_tid_20782, wave_sizze_20784) * wave_sizze_20784) == 0 && (squot32(local_tid_20782, wave_sizze_20784) & (2 * skip_waves_20854 - 1)) == 0)) {\n                            // read array element\n                            {\n                                x_20815 = ((__local int64_t *) red_arr_mem_20786)[sext_i32_i64(local_tid_20782 + offset_20853)];\n                                x_20816 = ((__local int64_t *) red_arr_mem_20788)[sext_i32_i64(local_tid_20782 + offset_20853)];\n                                x_20817 = ((__local int64_t *) red_arr_mem_20790)[sext_i32_i64(local_tid_20782 + offset_20853)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t x_20818 = mul64(x_20812, x_20815);\n                                int64_t y_20819 = mul64(x_20814, x_20816);\n                                int64_t x_20820 = sub64(x_20818, y_20819);\n                                int64_t y_20821 = mul64(x_20813, x_20817);\n                                int64_t defunc_1_op_res_20822 = sub64(x_20820, y_20821);\n                                int64_t x_20823 = mul64(x_20813, x_20815);\n                                int64_t y_20824 = mul64(x_20812, x_20816);\n                                int64_t x_20825 = add64(x_20823, y_20824);\n                                int64_t y_20826 = mul64(x_20814, x_20817);\n                                int64_t x_20827 = sub64(x_20825, y_20826);\n                       ",
                                       "         int64_t x_20828 = add64(y_20819, x_20827);\n                                int64_t defunc_1_op_res_20829 = add64(y_20821, x_20828);\n                                int64_t x_20830 = mul64(x_20814, x_20815);\n                                int64_t y_20831 = mul64(x_20813, x_20816);\n                                int64_t x_20832 = add64(x_20830, y_20831);\n                                int64_t y_20833 = mul64(x_20812, x_20817);\n                                int64_t x_20834 = add64(x_20832, y_20833);\n                                int64_t defunc_1_op_res_20835 = add64(y_20826, x_20834);\n                                \n                                x_20812 = defunc_1_op_res_20822;\n                                x_20813 = defunc_1_op_res_20829;\n                                x_20814 = defunc_1_op_res_20835;\n                            }\n                            // write result of operation\n                            {\n                                ((__local int64_t *) red_arr_mem_20786)[sext_i32_i64(local_tid_20782)] = x_20812;\n                                ((__local int64_t *) red_arr_mem_20788)[sext_i32_i64(local_tid_20782)] = x_20813;\n                                ((__local int64_t *) red_arr_mem_20790)[sext_i32_i64(local_tid_20782)] = x_20814;\n                            }\n                        }\n                        skip_waves_20854 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_20782 == 0) {\n                            ((__global int64_t *) mem_19954)[gtid_18979 * (q_12354 * p_12353) + gtid_18980 * q_12354 + gtid_18981] = x_20812;\n                            ((__global int64_t *) mem_19959)[gtid_18979 * (q_12354 * p_12353) + gtid_18980 * q_12354 + gtid_18981] = x_20813;\n                            ((__global int64_t *) mem_19964)[gtid_18979 * (q_12354 * p_12353) + gtid_18980 * q_12354 + gtid_18981] = x_20814;\n                   ", "     }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_18973\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegred_large_19145(__global int *global_failure, __local volatile int64_t *sync_arr_mem_20938_backing_aligned_0, __local volatile int64_t *red_arr_mem_20936_backing_aligned_1, __local volatile int64_t *red_arr_mem_20934_backing_aligned_2, __local volatile int64_t *red_arr_mem_20932_backing_aligned_3, int64_t n_12351, int64_t p_12353, int64_t q_12354, int64_t one_intra_par_min_16361, int64_t num_groups_19137, int64_t groups_per_segment_20914, int64_t elements_per_thread_20915, int64_t virt_num_groups_20916, __global unsigned char *ext_mem_20061, __global unsigned char *ext_mem_20063, __global unsigned char *ext_mem_20065, __global unsigned char *mem_20070, __global unsigned char *mem_20074, __global unsigned char *mem_20078, __global unsigned char *segred_tmp_mem_20919, __global unsigned char *segred_tmp_mem_20921, __global unsigned char *segred_tmp_mem_20923, __global unsigned char *make_transposed_quotient_codewords_non_opaquezicounter_mem_20925)\n{\n    #define segred_group_sizze_19136 (make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17440)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_20938_backing_3 = (__local volatile unsigned char *) sync_arr_mem_20938_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20936_backing_2 = (__local volatile unsigned char *) red_arr_mem_20936_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_20934_backing_1 = (__local volatile unsigned char *) red_arr_mem_20934_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_20932_backing_0 = (__local volatile unsigned char *) red_arr_mem_", "20932_backing_aligned_3;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20928;\n    int64_t group_sizze_20931;\n    int32_t wave_sizze_20930;\n    int32_t group_tid_20929;\n    \n    local_tid_20928 = get_local_id(0);\n    group_sizze_20931 = get_local_size(0);\n    wave_sizze_20930 = LOCKSTEP_WIDTH;\n    group_tid_20929 = get_group_id(0);\n    \n    int32_t global_tid_20927 = group_tid_20929 * group_sizze_20931 + local_tid_20928;\n    int32_t phys_tid_19145 = global_tid_20927;\n    __local unsigned char *red_arr_mem_20932;\n    \n    red_arr_mem_20932 = (__local unsigned char *) red_arr_mem_20932_backing_0;\n    \n    __local unsigned char *red_arr_mem_20934;\n    \n    red_arr_mem_20934 = (__local unsigned char *) red_arr_mem_20934_backing_1;\n    \n    __local unsigned char *red_arr_mem_20936;\n    \n    red_arr_mem_20936 = (__local unsigned char *) red_arr_mem_20936_backing_2;\n    \n    __local unsigned char *sync_arr_mem_20938;\n    \n    sync_arr_mem_20938 = (__local unsigned char *) sync_arr_mem_20938_backing_3;\n    \n    int32_t phys_group_id_20940;\n    \n    phys_group_id_20940 = get_group_id(0);\n    \n    int32_t iterations_20941 = sdiv_up32(sext_i64_i32(virt_num_groups_20916) - phys_group_id_20940, sext_i64_i32(num_groups_19137));\n    \n    for (int32_t i_20942 = 0; i_20942 < iterations_20941; i_20942++) {\n        int32_t virt_group_id_20943 = phys_group_id_20940 + i_20942 * sext_i64_i32(num_groups_19137);\n        int32_t flat_segment_id_20944 = squot32(virt_group_id_20943, sext_i64_i32(groups_per_segment_20914));\n        int64_t global_tid_20945 = srem64(sext_i32_i64(virt_group_id_20943) * segred_group_sizze_19136 + sext_i32_i64(local_tid_20928), segred_group_sizze_19136 * groups_per_segment_20914);\n        int64_t slice_20946 = p_12353;\n        int64_t slice_20947 = n_12351 * slice_20946;\n        int64_t gtid_19142 = squot64(sext_i32_i64(flat_segment_id_20944), slice_20946);\n        int64_t remnant_20948 = sext_i32_i64(flat_segment_id_20944) - gtid_19",
                                       "142 * slice_20946;\n        int64_t gtid_19143 = remnant_20948;\n        int64_t remnant_20949 = remnant_20948 - gtid_19143;\n        int64_t gtid_19144;\n        int64_t x_acc_20950;\n        int64_t x_acc_20951;\n        int64_t x_acc_20952;\n        int64_t chunk_sizze_20953;\n        int64_t starting_point_20954 = global_tid_20945 * elements_per_thread_20915;\n        int64_t remaining_elements_20955 = q_12354 - starting_point_20954;\n        \n        if (sle64(remaining_elements_20955, (int64_t) 0) || sle64(q_12354, starting_point_20954)) {\n            chunk_sizze_20953 = (int64_t) 0;\n        } else if (slt64(q_12354, (global_tid_20945 + (int64_t) 1) * elements_per_thread_20915)) {\n            chunk_sizze_20953 = q_12354 - global_tid_20945 * elements_per_thread_20915;\n        } else {\n            chunk_sizze_20953 = elements_per_thread_20915;\n        }\n        \n        int64_t x_19146;\n        int64_t x_19147;\n        int64_t x_19148;\n        int64_t x_19149;\n        int64_t x_19150;\n        int64_t x_19151;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_20950 = (int64_t) 0;\n            x_acc_20951 = (int64_t) 0;\n            x_acc_20952 = (int64_t) 0;\n        }\n        for (int64_t i_20968 = 0; i_20968 < elements_per_thread_20915; i_20968++) {\n            gtid_19144 = sext_i32_i64(local_tid_20928) + (squot64(global_tid_20945, segred_group_sizze_19136) * elements_per_thread_20915 + i_20968) * segred_group_sizze_19136;\n            if (slt64(gtid_19144, q_12354)) {\n                // apply map function\n                {\n                    int64_t x_19164 = ((__global int64_t *) ext_mem_20065)[gtid_19142 * one_intra_par_min_16361 + gtid_19143 * q_12354 + gtid_19144];\n                    int64_t x_19165 = ((__global int64_t *) ext_mem_20063)[gtid_19142 * one_intra_par_min_16361 + gtid_19143 * q_12354 + gtid_19144];\n                    int64_t x_19166 = ((__global int64_t *) ext_mem_20061)[gtid_19142 * one_intra_par_min_16361 + gtid_19143 ", "* q_12354 + gtid_19144];\n                    \n                    // save map-out results\n                    { }\n                    // load accumulator\n                    {\n                        x_19146 = x_acc_20950;\n                        x_19147 = x_acc_20951;\n                        x_19148 = x_acc_20952;\n                    }\n                    // load new values\n                    {\n                        x_19149 = x_19164;\n                        x_19150 = x_19165;\n                        x_19151 = x_19166;\n                    }\n                    // apply reduction operator\n                    {\n                        int64_t canonicalizze_arg_19152 = add64(x_19146, x_19149);\n                        int64_t canonicalizze_res_19153 = umod64(canonicalizze_arg_19152, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_19154 = add64(x_19147, x_19150);\n                        int64_t canonicalizze_res_19155 = umod64(canonicalizze_arg_19154, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_19156 = add64(x_19148, x_19151);\n                        int64_t canonicalizze_res_19157 = umod64(canonicalizze_arg_19156, (int64_t) -4294967295);\n                        \n                        // store in accumulator\n                        {\n                            x_acc_20950 = canonicalizze_res_19153;\n                            x_acc_20951 = canonicalizze_res_19155;\n                            x_acc_20952 = canonicalizze_res_19157;\n                        }\n                    }\n                }\n            }\n            // to reduce current chunk, first store our result in memory\n            {\n                x_19146 = x_acc_20950;\n                x_19147 = x_acc_20951;\n                x_19148 = x_acc_20952;\n                ((__local int64_t *) red_arr_mem_20932)[sext_i32_i64(local_tid_20928)] = x_19146;\n                ((__local int64_t *) red_arr_mem_20934)[sext_i32_i64(local_tid_20928)] = x_19147;\n        ", "        ((__local int64_t *) red_arr_mem_20936)[sext_i32_i64(local_tid_20928)] = x_19148;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int32_t offset_20969;\n            int32_t skip_waves_20970 = 1;\n            int64_t x_20956;\n            int64_t x_20957;\n            int64_t x_20958;\n            int64_t x_20959;\n            int64_t x_20960;\n            int64_t x_20961;\n            \n            offset_20969 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_20928, sext_i64_i32(segred_group_sizze_19136))) {\n                    x_20956 = ((__local int64_t *) red_arr_mem_20932)[sext_i32_i64(local_tid_20928 + offset_20969)];\n                    x_20957 = ((__local int64_t *) red_arr_mem_20934)[sext_i32_i64(local_tid_20928 + offset_20969)];\n                    x_20958 = ((__local int64_t *) red_arr_mem_20936)[sext_i32_i64(local_tid_20928 + offset_20969)];\n                }\n            }\n            offset_20969 = 1;\n            while (slt32(offset_20969, wave_sizze_20930)) {\n                if (slt32(local_tid_20928 + offset_20969, sext_i64_i32(segred_group_sizze_19136)) && ((local_tid_20928 - squot32(local_tid_20928, wave_sizze_20930) * wave_sizze_20930) & (2 * offset_20969 - 1)) == 0) {\n                    // read array element\n                    {\n                        x_20959 = ((volatile __local int64_t *) red_arr_mem_20932)[sext_i32_i64(local_tid_20928 + offset_20969)];\n                        x_20960 = ((volatile __local int64_t *) red_arr_mem_20934)[sext_i32_i64(local_tid_20928 + offset_20969)];\n                        x_20961 = ((volatile __local int64_t *) red_arr_mem_20936)[sext_i32_i64(local_tid_20928 + offset_20969)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t canonicalizze_arg_20962 = add64(x_20956, x_20959);\n                        int64_t canonicalizze_res_20963 = umod64(",
                                       "canonicalizze_arg_20962, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_20964 = add64(x_20957, x_20960);\n                        int64_t canonicalizze_res_20965 = umod64(canonicalizze_arg_20964, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_20966 = add64(x_20958, x_20961);\n                        int64_t canonicalizze_res_20967 = umod64(canonicalizze_arg_20966, (int64_t) -4294967295);\n                        \n                        x_20956 = canonicalizze_res_20963;\n                        x_20957 = canonicalizze_res_20965;\n                        x_20958 = canonicalizze_res_20967;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_mem_20932)[sext_i32_i64(local_tid_20928)] = x_20956;\n                        ((volatile __local int64_t *) red_arr_mem_20934)[sext_i32_i64(local_tid_20928)] = x_20957;\n                        ((volatile __local int64_t *) red_arr_mem_20936)[sext_i32_i64(local_tid_20928)] = x_20958;\n                    }\n                }\n                offset_20969 *= 2;\n            }\n            while (slt32(skip_waves_20970, squot32(sext_i64_i32(segred_group_sizze_19136) + wave_sizze_20930 - 1, wave_sizze_20930))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_20969 = skip_waves_20970 * wave_sizze_20930;\n                if (slt32(local_tid_20928 + offset_20969, sext_i64_i32(segred_group_sizze_19136)) && ((local_tid_20928 - squot32(local_tid_20928, wave_sizze_20930) * wave_sizze_20930) == 0 && (squot32(local_tid_20928, wave_sizze_20930) & (2 * skip_waves_20970 - 1)) == 0)) {\n                    // read array element\n                    {\n                        x_20959 = ((__local int64_t *) red_arr_mem_20932)[sext_i32_i64(local_tid_20928 + offset_20969)];\n                        x_20960 = ((__local int64_t *) red_arr_mem_20934)[sext_i32_i64(local_tid_20928 + offset_20969)", "];\n                        x_20961 = ((__local int64_t *) red_arr_mem_20936)[sext_i32_i64(local_tid_20928 + offset_20969)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t canonicalizze_arg_20962 = add64(x_20956, x_20959);\n                        int64_t canonicalizze_res_20963 = umod64(canonicalizze_arg_20962, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_20964 = add64(x_20957, x_20960);\n                        int64_t canonicalizze_res_20965 = umod64(canonicalizze_arg_20964, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_20966 = add64(x_20958, x_20961);\n                        int64_t canonicalizze_res_20967 = umod64(canonicalizze_arg_20966, (int64_t) -4294967295);\n                        \n                        x_20956 = canonicalizze_res_20963;\n                        x_20957 = canonicalizze_res_20965;\n                        x_20958 = canonicalizze_res_20967;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_mem_20932)[sext_i32_i64(local_tid_20928)] = x_20956;\n                        ((__local int64_t *) red_arr_mem_20934)[sext_i32_i64(local_tid_20928)] = x_20957;\n                        ((__local int64_t *) red_arr_mem_20936)[sext_i32_i64(local_tid_20928)] = x_20958;\n                    }\n                }\n                skip_waves_20970 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread saves the result in accumulator\n            {\n                if (sext_i32_i64(local_tid_20928) == (int64_t) 0) {\n                    x_acc_20950 = x_20956;\n                    x_acc_20951 = x_20957;\n                    x_acc_20952 = x_20958;\n                }\n            }\n            // first thread keeps accumulator; others reset to neutral element\n            {\n                if (!(sext_i32_i64(local_tid_209", "28) == (int64_t) 0)) {\n                    x_acc_20950 = (int64_t) 0;\n                    x_acc_20951 = (int64_t) 0;\n                    x_acc_20952 = (int64_t) 0;\n                }\n            }\n        }\n        if (groups_per_segment_20914 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_20928 == 0) {\n                    ((__global int64_t *) mem_20070)[gtid_19142 * p_12353 + gtid_19143] = x_acc_20950;\n                    ((__global int64_t *) mem_20074)[gtid_19142 * p_12353 + gtid_19143] = x_acc_20951;\n                    ((__global int64_t *) mem_20078)[gtid_19142 * p_12353 + gtid_19143] = x_acc_20952;\n                }\n            }\n        } else {\n            int32_t old_counter_20971;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_20928 == 0) {\n                    ((__global int64_t *) segred_tmp_mem_20919)[sext_i32_i64(virt_group_id_20943)] = x_acc_20950;\n                    ((__global int64_t *) segred_tmp_mem_20921)[sext_i32_i64(virt_group_id_20943)] = x_acc_20951;\n                    ((__global int64_t *) segred_tmp_mem_20923)[sext_i32_i64(virt_group_id_20943)] = x_acc_20952;\n                    mem_fence_global();\n                    old_counter_20971 = atomic_add_i32_global(&((volatile __global int *) make_transposed_quotient_codewords_non_opaquezicounter_mem_20925)[sext_i32_i64(srem32(flat_segment_id_20944, 10240))], (int) 1);\n                    ((__local bool *) sync_arr_mem_20938)[(int64_t) 0] = old_counter_20971 == groups_per_segment_20914 - (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_20972 = ((__local bool *) sync_arr_mem_20938)[(int64_t) 0];\n            \n            if (is_last_group_20972) {\n                if (local_tid_20928 == 0) {\n                    old_counter_20971 = at",
                                       "omic_add_i32_global(&((volatile __global int *) make_transposed_quotient_codewords_non_opaquezicounter_mem_20925)[sext_i32_i64(srem32(flat_segment_id_20944, 10240))], (int) ((int64_t) 0 - groups_per_segment_20914));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_20973 = sdiv_up64(groups_per_segment_20914, segred_group_sizze_19136);\n                    \n                    x_19146 = (int64_t) 0;\n                    x_19147 = (int64_t) 0;\n                    x_19148 = (int64_t) 0;\n                    for (int64_t i_20974 = 0; i_20974 < read_per_thread_20973; i_20974++) {\n                        int64_t group_res_id_20975 = sext_i32_i64(local_tid_20928) * read_per_thread_20973 + i_20974;\n                        int64_t index_of_group_res_20976 = sext_i32_i64(flat_segment_id_20944) * groups_per_segment_20914 + group_res_id_20975;\n                        \n                        if (slt64(group_res_id_20975, groups_per_segment_20914)) {\n                            x_19149 = ((__global int64_t *) segred_tmp_mem_20919)[index_of_group_res_20976];\n                            x_19150 = ((__global int64_t *) segred_tmp_mem_20921)[index_of_group_res_20976];\n                            x_19151 = ((__global int64_t *) segred_tmp_mem_20923)[index_of_group_res_20976];\n                            \n                            int64_t canonicalizze_arg_19152 = add64(x_19146, x_19149);\n                            int64_t canonicalizze_res_19153 = umod64(canonicalizze_arg_19152, (int64_t) -4294967295);\n                            int64_t canonicalizze_arg_19154 = add64(x_19147, x_19150);\n                            int64_t canonicalizze_res_19155 = umod64(canonicalizze_arg_19154, (int64_t) -4294967295);\n                            int64_t canonicalizze_arg_19156 = add64(x_19148, x_19151);\n                            int64_t canonicalizze_res_19157 = umod64(canonicalizze_arg_19156, (int64_t) -4294967295);\n ", "                           \n                            x_19146 = canonicalizze_res_19153;\n                            x_19147 = canonicalizze_res_19155;\n                            x_19148 = canonicalizze_res_19157;\n                        }\n                    }\n                }\n                ((__local int64_t *) red_arr_mem_20932)[sext_i32_i64(local_tid_20928)] = x_19146;\n                ((__local int64_t *) red_arr_mem_20934)[sext_i32_i64(local_tid_20928)] = x_19147;\n                ((__local int64_t *) red_arr_mem_20936)[sext_i32_i64(local_tid_20928)] = x_19148;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_20977;\n                    int32_t skip_waves_20978 = 1;\n                    int64_t x_20956;\n                    int64_t x_20957;\n                    int64_t x_20958;\n                    int64_t x_20959;\n                    int64_t x_20960;\n                    int64_t x_20961;\n                    \n                    offset_20977 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_20928, sext_i64_i32(segred_group_sizze_19136))) {\n                            x_20956 = ((__local int64_t *) red_arr_mem_20932)[sext_i32_i64(local_tid_20928 + offset_20977)];\n                            x_20957 = ((__local int64_t *) red_arr_mem_20934)[sext_i32_i64(local_tid_20928 + offset_20977)];\n                            x_20958 = ((__local int64_t *) red_arr_mem_20936)[sext_i32_i64(local_tid_20928 + offset_20977)];\n                        }\n                    }\n                    offset_20977 = 1;\n                    while (slt32(offset_20977, wave_sizze_20930)) {\n                        if (slt32(local_tid_20928 + offset_20977, sext_i64_i32(segred_group_sizze_19136)) && ((local_tid_20928 - squot32(local_tid_20928, wave_sizze_20930) * wave_sizze_20930) & (2 * offset_20977 - 1)) == 0)", " {\n                            // read array element\n                            {\n                                x_20959 = ((volatile __local int64_t *) red_arr_mem_20932)[sext_i32_i64(local_tid_20928 + offset_20977)];\n                                x_20960 = ((volatile __local int64_t *) red_arr_mem_20934)[sext_i32_i64(local_tid_20928 + offset_20977)];\n                                x_20961 = ((volatile __local int64_t *) red_arr_mem_20936)[sext_i32_i64(local_tid_20928 + offset_20977)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t canonicalizze_arg_20962 = add64(x_20956, x_20959);\n                                int64_t canonicalizze_res_20963 = umod64(canonicalizze_arg_20962, (int64_t) -4294967295);\n                                int64_t canonicalizze_arg_20964 = add64(x_20957, x_20960);\n                                int64_t canonicalizze_res_20965 = umod64(canonicalizze_arg_20964, (int64_t) -4294967295);\n                                int64_t canonicalizze_arg_20966 = add64(x_20958, x_20961);\n                                int64_t canonicalizze_res_20967 = umod64(canonicalizze_arg_20966, (int64_t) -4294967295);\n                                \n                                x_20956 = canonicalizze_res_20963;\n                                x_20957 = canonicalizze_res_20965;\n                                x_20958 = canonicalizze_res_20967;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int64_t *) red_arr_mem_20932)[sext_i32_i64(local_tid_20928)] = x_20956;\n                                ((volatile __local int64_t *) red_arr_mem_20934)[sext_i32_i64(local_tid_20928)] = x_20957;\n                                ((volatile __local int64_t *) red_arr_mem_20936)[sext_i32_i64(local_tid_20928)] = x_20958;\n                           ",
                                       " }\n                        }\n                        offset_20977 *= 2;\n                    }\n                    while (slt32(skip_waves_20978, squot32(sext_i64_i32(segred_group_sizze_19136) + wave_sizze_20930 - 1, wave_sizze_20930))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_20977 = skip_waves_20978 * wave_sizze_20930;\n                        if (slt32(local_tid_20928 + offset_20977, sext_i64_i32(segred_group_sizze_19136)) && ((local_tid_20928 - squot32(local_tid_20928, wave_sizze_20930) * wave_sizze_20930) == 0 && (squot32(local_tid_20928, wave_sizze_20930) & (2 * skip_waves_20978 - 1)) == 0)) {\n                            // read array element\n                            {\n                                x_20959 = ((__local int64_t *) red_arr_mem_20932)[sext_i32_i64(local_tid_20928 + offset_20977)];\n                                x_20960 = ((__local int64_t *) red_arr_mem_20934)[sext_i32_i64(local_tid_20928 + offset_20977)];\n                                x_20961 = ((__local int64_t *) red_arr_mem_20936)[sext_i32_i64(local_tid_20928 + offset_20977)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t canonicalizze_arg_20962 = add64(x_20956, x_20959);\n                                int64_t canonicalizze_res_20963 = umod64(canonicalizze_arg_20962, (int64_t) -4294967295);\n                                int64_t canonicalizze_arg_20964 = add64(x_20957, x_20960);\n                                int64_t canonicalizze_res_20965 = umod64(canonicalizze_arg_20964, (int64_t) -4294967295);\n                                int64_t canonicalizze_arg_20966 = add64(x_20958, x_20961);\n                                int64_t canonicalizze_res_20967 = umod64(canonicalizze_arg_20966, (int64_t) -4294967295);\n                                \n                                x_20956 = canonicalizze_res_20963;\n                          ", "      x_20957 = canonicalizze_res_20965;\n                                x_20958 = canonicalizze_res_20967;\n                            }\n                            // write result of operation\n                            {\n                                ((__local int64_t *) red_arr_mem_20932)[sext_i32_i64(local_tid_20928)] = x_20956;\n                                ((__local int64_t *) red_arr_mem_20934)[sext_i32_i64(local_tid_20928)] = x_20957;\n                                ((__local int64_t *) red_arr_mem_20936)[sext_i32_i64(local_tid_20928)] = x_20958;\n                            }\n                        }\n                        skip_waves_20978 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_20928 == 0) {\n                            ((__global int64_t *) mem_20070)[gtid_19142 * p_12353 + gtid_19143] = x_20956;\n                            ((__global int64_t *) mem_20074)[gtid_19142 * p_12353 + gtid_19143] = x_20957;\n                            ((__global int64_t *) mem_20078)[gtid_19142 * p_12353 + gtid_19143] = x_20958;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_19136\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegred_small_18983(__global int *global_failure, __local volatile int64_t *red_arr_mem_20712_backing_aligned_0, __local volatile int64_t *red_arr_mem_20710_backing_aligned_1, __local volatile int64_t *red_arr_mem_20708_backing_aligned_2, int64_t n_12351, int64_t m_12352, int64_t p_12353, int64_t q_12354, int64_t num_groups_18974, int64_t segment_sizze_nonzzero_20701, __global unsigned char *eps_mem_19946, __global unsigned char *expsss_mem_19947, __global unsigned char *mem_19954, __global unsigned char *mem_19959, __global unsigned char *mem_19964)\n{\n    #de", "fine segred_group_sizze_18973 (make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17680)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_20712_backing_2 = (__local volatile unsigned char *) red_arr_mem_20712_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20710_backing_1 = (__local volatile unsigned char *) red_arr_mem_20710_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_20708_backing_0 = (__local volatile unsigned char *) red_arr_mem_20708_backing_aligned_2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20704;\n    int64_t group_sizze_20707;\n    int32_t wave_sizze_20706;\n    int32_t group_tid_20705;\n    \n    local_tid_20704 = get_local_id(0);\n    group_sizze_20707 = get_local_size(0);\n    wave_sizze_20706 = LOCKSTEP_WIDTH;\n    group_tid_20705 = get_group_id(0);\n    \n    int32_t global_tid_20703 = group_tid_20705 * group_sizze_20707 + local_tid_20704;\n    int32_t phys_tid_18983 = global_tid_20703;\n    __local unsigned char *red_arr_mem_20708;\n    \n    red_arr_mem_20708 = (__local unsigned char *) red_arr_mem_20708_backing_0;\n    \n    __local unsigned char *red_arr_mem_20710;\n    \n    red_arr_mem_20710 = (__local unsigned char *) red_arr_mem_20710_backing_1;\n    \n    __local unsigned char *red_arr_mem_20712;\n    \n    red_arr_mem_20712 = (__local unsigned char *) red_arr_mem_20712_backing_2;\n    \n    int32_t phys_group_id_20714;\n    \n    phys_group_id_20714 = get_group_id(0);\n    \n    int32_t iterations_20715 = sdiv_up32(sext_i64_i32(sdiv_up64(n_12351 * p_12353 * q_12354, squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701))) - phys_group_id_20714, sext_i64_i32(num_groups_18974));\n    \n    for (int32_t i_20716 = 0; i_20716 < iterations_20715; i_20716++) {\n        int32_t virt_group_id_20717 = phys_group_id_20714 + i_20716 * sext_i64_i32(num_groups_18974)",
                                       ";\n        int64_t slice_20718 = q_12354;\n        int64_t slice_20719 = p_12353 * slice_20718;\n        int64_t slice_20720 = n_12351 * slice_20719;\n        int64_t gtid_18979 = squot64(squot64(sext_i32_i64(local_tid_20704), segment_sizze_nonzzero_20701) + sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701), slice_20719);\n        int64_t remnant_20721 = squot64(sext_i32_i64(local_tid_20704), segment_sizze_nonzzero_20701) + sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) - gtid_18979 * slice_20719;\n        int64_t gtid_18980 = squot64(remnant_20721, slice_20718);\n        int64_t remnant_20722 = remnant_20721 - gtid_18980 * slice_20718;\n        int64_t gtid_18981 = remnant_20722;\n        int64_t remnant_20723 = remnant_20722 - gtid_18981;\n        int64_t gtid_18982 = srem64(sext_i32_i64(local_tid_20704), m_12352);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, m_12352) && (((slt64(gtid_18979, n_12351) && slt64(gtid_18980, p_12353)) && slt64(gtid_18981, q_12354)) && slt64(sext_i32_i64(local_tid_20704), m_12352 * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701)))) {\n                int64_t x_19013 = ((__global int64_t *) expsss_mem_19947)[gtid_18980 * (m_12352 * q_12354) + gtid_18981 * m_12352 + gtid_18982];\n                int64_t x_19014 = ((__global int64_t *) eps_mem_19946)[gtid_18979 * ((int64_t) 3 * m_12352) + gtid_18982 * (int64_t) 3];\n                int64_t x_19015 = ((__global int64_t *) eps_mem_19946)[gtid_18979 * ((int64_t) 3 * m_12352) + gtid_18982 * (int64_t) 3 + (int64_t) 1];\n                int64_t x_19016 = ((__global int64_t *) eps_mem_19946)[gtid_18979 * ((int64_t) 3 * m_12352) + gtid_18982 * (int64_t) 3 + (int64_t) 2];\n                bool loop_cond_19017 = ult64((int64_t) 0, x_19013);\n                bool mod_pow_u64_res_19018;\n                int64_t mod_pow_u64_res_19019;\n               ", " int64_t mod_pow_u64_res_19020;\n                int64_t mod_pow_u64_res_19021;\n                int64_t mod_pow_u64_res_19022;\n                int64_t mod_pow_u64_res_19023;\n                int64_t mod_pow_u64_res_19024;\n                int64_t mod_pow_u64_res_19025;\n                bool loop_while_19026;\n                int64_t x_19027;\n                int64_t x_19028;\n                int64_t x_19029;\n                int64_t i_19030;\n                int64_t result_19031;\n                int64_t result_19032;\n                int64_t result_19033;\n                \n                loop_while_19026 = loop_cond_19017;\n                x_19027 = x_19014;\n                x_19028 = x_19015;\n                x_19029 = x_19016;\n                i_19030 = x_19013;\n                result_19031 = (int64_t) 1;\n                result_19032 = (int64_t) 0;\n                result_19033 = (int64_t) 0;\n                while (loop_while_19026) {\n                    int64_t x_19034 = umod64(i_19030, (int64_t) 2);\n                    bool cond_19035 = x_19034 == (int64_t) 1;\n                    int64_t loopres_19036;\n                    int64_t loopres_19037;\n                    int64_t loopres_19038;\n                    int64_t loopres_19039;\n                    int64_t loopres_19040;\n                    int64_t loopres_19041;\n                    int64_t loopres_19042;\n                    \n                    if (cond_19035 == 1) {\n                        int64_t x_19043 = mul64(x_19027, x_19027);\n                        int64_t y_19044 = mul64(x_19028, x_19029);\n                        int64_t x_19045 = sub64(x_19043, y_19044);\n                        int64_t mul_res_19046 = sub64(x_19045, y_19044);\n                        int64_t x_19047 = mul64(x_19027, x_19028);\n                        int64_t x_19048 = add64(x_19047, x_19047);\n                        int64_t y_19049 = mul64(x_19029, x_19029);\n                        int64_t x_19050 = sub64(x_19048, y_19049);\n                        int", "64_t x_19051 = add64(y_19044, x_19050);\n                        int64_t mul_res_19052 = add64(y_19044, x_19051);\n                        int64_t x_19053 = mul64(x_19027, x_19029);\n                        int64_t y_19054 = mul64(x_19028, x_19028);\n                        int64_t x_19055 = add64(x_19053, y_19054);\n                        int64_t x_19056 = add64(x_19053, x_19055);\n                        int64_t mul_res_19057 = add64(y_19049, x_19056);\n                        int64_t loopres_t_res_19058 = lshr64(i_19030, (int64_t) 1);\n                        int64_t x_19059 = mul64(x_19027, result_19031);\n                        int64_t y_19060 = mul64(x_19029, result_19032);\n                        int64_t x_19061 = sub64(x_19059, y_19060);\n                        int64_t y_19062 = mul64(x_19028, result_19033);\n                        int64_t mul_res_19063 = sub64(x_19061, y_19062);\n                        int64_t x_19064 = mul64(x_19028, result_19031);\n                        int64_t y_19065 = mul64(x_19027, result_19032);\n                        int64_t x_19066 = add64(x_19064, y_19065);\n                        int64_t y_19067 = mul64(x_19029, result_19033);\n                        int64_t x_19068 = sub64(x_19066, y_19067);\n                        int64_t x_19069 = add64(y_19060, x_19068);\n                        int64_t mul_res_19070 = add64(y_19062, x_19069);\n                        int64_t x_19071 = mul64(x_19029, result_19031);\n                        int64_t y_19072 = mul64(x_19028, result_19032);\n                        int64_t x_19073 = add64(x_19071, y_19072);\n                        int64_t y_19074 = mul64(x_19027, result_19033);\n                        int64_t x_19075 = add64(x_19073, y_19074);\n                        int64_t mul_res_19076 = add64(y_19067, x_19075);\n                        \n                        loopres_19036 = mul_res_19046;\n                        loopres_19037 = mul_res_19052;\n                        loopres_19038 = mul_res_19057;\n   ",
                                       "                     loopres_19039 = loopres_t_res_19058;\n                        loopres_19040 = mul_res_19063;\n                        loopres_19041 = mul_res_19070;\n                        loopres_19042 = mul_res_19076;\n                    } else {\n                        int64_t x_19077 = mul64(x_19027, x_19027);\n                        int64_t y_19078 = mul64(x_19028, x_19029);\n                        int64_t x_19079 = sub64(x_19077, y_19078);\n                        int64_t mul_res_19080 = sub64(x_19079, y_19078);\n                        int64_t x_19081 = mul64(x_19027, x_19028);\n                        int64_t x_19082 = add64(x_19081, x_19081);\n                        int64_t y_19083 = mul64(x_19029, x_19029);\n                        int64_t x_19084 = sub64(x_19082, y_19083);\n                        int64_t x_19085 = add64(y_19078, x_19084);\n                        int64_t mul_res_19086 = add64(y_19078, x_19085);\n                        int64_t x_19087 = mul64(x_19027, x_19029);\n                        int64_t y_19088 = mul64(x_19028, x_19028);\n                        int64_t x_19089 = add64(x_19087, y_19088);\n                        int64_t x_19090 = add64(x_19087, x_19089);\n                        int64_t mul_res_19091 = add64(y_19083, x_19090);\n                        int64_t loopres_f_res_19092 = lshr64(i_19030, (int64_t) 1);\n                        \n                        loopres_19036 = mul_res_19080;\n                        loopres_19037 = mul_res_19086;\n                        loopres_19038 = mul_res_19091;\n                        loopres_19039 = loopres_f_res_19092;\n                        loopres_19040 = result_19031;\n                        loopres_19041 = result_19032;\n                        loopres_19042 = result_19033;\n                    }\n                    \n                    bool loop_cond_19093 = ult64((int64_t) 0, loopres_19039);\n                    bool loop_while_tmp_20724 = loop_cond_19093;\n                    int64_t x_tmp_20725 = ", "loopres_19036;\n                    int64_t x_tmp_20726 = loopres_19037;\n                    int64_t x_tmp_20727 = loopres_19038;\n                    int64_t i_tmp_20728 = loopres_19039;\n                    int64_t result_tmp_20729 = loopres_19040;\n                    int64_t result_tmp_20730 = loopres_19041;\n                    int64_t result_tmp_20731 = loopres_19042;\n                    \n                    loop_while_19026 = loop_while_tmp_20724;\n                    x_19027 = x_tmp_20725;\n                    x_19028 = x_tmp_20726;\n                    x_19029 = x_tmp_20727;\n                    i_19030 = i_tmp_20728;\n                    result_19031 = result_tmp_20729;\n                    result_19032 = result_tmp_20730;\n                    result_19033 = result_tmp_20731;\n                }\n                mod_pow_u64_res_19018 = loop_while_19026;\n                mod_pow_u64_res_19019 = x_19027;\n                mod_pow_u64_res_19020 = x_19028;\n                mod_pow_u64_res_19021 = x_19029;\n                mod_pow_u64_res_19022 = i_19030;\n                mod_pow_u64_res_19023 = result_19031;\n                mod_pow_u64_res_19024 = result_19032;\n                mod_pow_u64_res_19025 = result_19033;\n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local int64_t *) red_arr_mem_20708)[sext_i32_i64(local_tid_20704)] = mod_pow_u64_res_19023;\n                    ((__local int64_t *) red_arr_mem_20710)[sext_i32_i64(local_tid_20704)] = mod_pow_u64_res_19024;\n                    ((__local int64_t *) red_arr_mem_20712)[sext_i32_i64(local_tid_20704)] = mod_pow_u64_res_19025;\n                }\n            } else {\n                ((__local int64_t *) red_arr_mem_20708)[sext_i32_i64(local_tid_20704)] = (int64_t) 1;\n                ((__local int64_t *) red_arr_mem_20710)[sext_i32_i64(local_tid_20704)] = (int64_t) 0;\n                ((__local int64_t *) red_arr_mem_20712)[sext_i32_i", "64(local_tid_20704)] = (int64_t) 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, m_12352)) {\n            // perform segmented scan to imitate reduction\n            {\n                int64_t x_18984;\n                int64_t x_18985;\n                int64_t x_18986;\n                int64_t x_18987;\n                int64_t x_18988;\n                int64_t x_18989;\n                int64_t x_20732;\n                int64_t x_20733;\n                int64_t x_20734;\n                int64_t x_20735;\n                int64_t x_20736;\n                int64_t x_20737;\n                bool ltid_in_bounds_20756 = slt64(sext_i32_i64(local_tid_20704), m_12352 * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701));\n                int32_t skip_threads_20757;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_20756) {\n                        x_18987 = ((volatile __local int64_t *) red_arr_mem_20708)[sext_i32_i64(local_tid_20704)];\n                        x_18988 = ((volatile __local int64_t *) red_arr_mem_20710)[sext_i32_i64(local_tid_20704)];\n                        x_18989 = ((volatile __local int64_t *) red_arr_mem_20712)[sext_i32_i64(local_tid_20704)];\n                        if ((local_tid_20704 - squot32(local_tid_20704, 32) * 32) == 0) {\n                            x_18984 = x_18987;\n                            x_18985 = x_18988;\n                            x_18986 = x_18989;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_20757 = 1;\n                    while (slt32(skip_threads_20757, 32)) {\n                        bool thread_active_20758 = sle32(skip_threads_20757, local_tid_20704 - squot32(local_tid_20704, 32) * 32) && ltid_in_bounds_20756;\n                        \n                        if (thread_active_20758) {",
                                       "\n                            // read operands\n                            {\n                                x_18984 = ((volatile __local int64_t *) red_arr_mem_20708)[sext_i32_i64(local_tid_20704) - sext_i32_i64(skip_threads_20757)];\n                                x_18985 = ((volatile __local int64_t *) red_arr_mem_20710)[sext_i32_i64(local_tid_20704) - sext_i32_i64(skip_threads_20757)];\n                                x_18986 = ((volatile __local int64_t *) red_arr_mem_20712)[sext_i32_i64(local_tid_20704) - sext_i32_i64(skip_threads_20757)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_20759 = slt64(srem64(sext_i32_i64(local_tid_20704), m_12352), sext_i32_i64(local_tid_20704) - sext_i32_i64(local_tid_20704 - skip_threads_20757));\n                            \n                            if (thread_active_20758 && inactive_20759) {\n                                x_18984 = x_18987;\n                                x_18985 = x_18988;\n                                x_18986 = x_18989;\n                            }\n                            if (thread_active_20758) {\n                                if (!inactive_20759) {\n                                    int64_t x_18990 = mul64(x_18984, x_18987);\n                                    int64_t y_18991 = mul64(x_18986, x_18988);\n                                    int64_t x_18992 = sub64(x_18990, y_18991);\n                                    int64_t y_18993 = mul64(x_18985, x_18989);\n                                    int64_t defunc_1_op_res_18994 = sub64(x_18992, y_18993);\n                                    int64_t x_18995 = mul64(x_18985, x_18987);\n                                    int64_t y_18996 = mul64(x_18984, x_18988);\n                                    int64_t x_18997 = add64(x_18995, y_18996);\n                                    int64_t y_18998 = mul64(x_18986, x_18989);\n              ", "                      int64_t x_18999 = sub64(x_18997, y_18998);\n                                    int64_t x_19000 = add64(y_18991, x_18999);\n                                    int64_t defunc_1_op_res_19001 = add64(y_18993, x_19000);\n                                    int64_t x_19002 = mul64(x_18986, x_18987);\n                                    int64_t y_19003 = mul64(x_18985, x_18988);\n                                    int64_t x_19004 = add64(x_19002, y_19003);\n                                    int64_t y_19005 = mul64(x_18984, x_18989);\n                                    int64_t x_19006 = add64(x_19004, y_19005);\n                                    int64_t defunc_1_op_res_19007 = add64(y_18998, x_19006);\n                                    \n                                    x_18984 = defunc_1_op_res_18994;\n                                    x_18985 = defunc_1_op_res_19001;\n                                    x_18986 = defunc_1_op_res_19007;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_20706, skip_threads_20757)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_20758) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) red_arr_mem_20708)[sext_i32_i64(local_tid_20704)] = x_18984;\n                                x_18987 = x_18984;\n                                ((volatile __local int64_t *) red_arr_mem_20710)[sext_i32_i64(local_tid_20704)] = x_18985;\n                                x_18988 = x_18985;\n                                ((volatile __local int64_t *) red_arr_mem_20712)[sext_i32_i64(local_tid_20704)] = x_18986;\n                                x_18989 = x_18986;\n                            }\n                        }\n                        if (sle32(wave_sizze_20706, skip_threads_20757)) {\n    ", "                        barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_20757 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_20704 - squot32(local_tid_20704, 32) * 32) == 31 && ltid_in_bounds_20756) {\n                        ((volatile __local int64_t *) red_arr_mem_20708)[sext_i32_i64(squot32(local_tid_20704, 32))] = x_18984;\n                        ((volatile __local int64_t *) red_arr_mem_20710)[sext_i32_i64(squot32(local_tid_20704, 32))] = x_18985;\n                        ((volatile __local int64_t *) red_arr_mem_20712)[sext_i32_i64(squot32(local_tid_20704, 32))] = x_18986;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_20760;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_20704, 32) == 0 && ltid_in_bounds_20756) {\n                            x_20735 = ((volatile __local int64_t *) red_arr_mem_20708)[sext_i32_i64(local_tid_20704)];\n                            x_20736 = ((volatile __local int64_t *) red_arr_mem_20710)[sext_i32_i64(local_tid_20704)];\n                            x_20737 = ((volatile __local int64_t *) red_arr_mem_20712)[sext_i32_i64(local_tid_20704)];\n                            if ((local_tid_20704 - squot32(local_tid_20704, 32) * 32) == 0) {\n                                x_20732 = x_20735;\n                                x_20733 = x_20736;\n                                x_20734 = x_20737;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n            ",
                                       "        {\n                        skip_threads_20760 = 1;\n                        while (slt32(skip_threads_20760, 32)) {\n                            bool thread_active_20761 = sle32(skip_threads_20760, local_tid_20704 - squot32(local_tid_20704, 32) * 32) && (squot32(local_tid_20704, 32) == 0 && ltid_in_bounds_20756);\n                            \n                            if (thread_active_20761) {\n                                // read operands\n                                {\n                                    x_20732 = ((volatile __local int64_t *) red_arr_mem_20708)[sext_i32_i64(local_tid_20704) - sext_i32_i64(skip_threads_20760)];\n                                    x_20733 = ((volatile __local int64_t *) red_arr_mem_20710)[sext_i32_i64(local_tid_20704) - sext_i32_i64(skip_threads_20760)];\n                                    x_20734 = ((volatile __local int64_t *) red_arr_mem_20712)[sext_i32_i64(local_tid_20704) - sext_i32_i64(skip_threads_20760)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_20762 = slt64(srem64(sext_i32_i64(local_tid_20704 * 32 + 32 - 1), m_12352), sext_i32_i64(local_tid_20704 * 32 + 32 - 1) - sext_i32_i64((local_tid_20704 - skip_threads_20760) * 32 + 32 - 1));\n                                \n                                if (thread_active_20761 && inactive_20762) {\n                                    x_20732 = x_20735;\n                                    x_20733 = x_20736;\n                                    x_20734 = x_20737;\n                                }\n                                if (thread_active_20761) {\n                                    if (!inactive_20762) {\n                                        int64_t x_20738 = mul64(x_20732, x_20735);\n                                        int64_t y_20739 = mul64(x_20734, x_20736);\n                                        int64_t x_2074", "0 = sub64(x_20738, y_20739);\n                                        int64_t y_20741 = mul64(x_20733, x_20737);\n                                        int64_t defunc_1_op_res_20742 = sub64(x_20740, y_20741);\n                                        int64_t x_20743 = mul64(x_20733, x_20735);\n                                        int64_t y_20744 = mul64(x_20732, x_20736);\n                                        int64_t x_20745 = add64(x_20743, y_20744);\n                                        int64_t y_20746 = mul64(x_20734, x_20737);\n                                        int64_t x_20747 = sub64(x_20745, y_20746);\n                                        int64_t x_20748 = add64(y_20739, x_20747);\n                                        int64_t defunc_1_op_res_20749 = add64(y_20741, x_20748);\n                                        int64_t x_20750 = mul64(x_20734, x_20735);\n                                        int64_t y_20751 = mul64(x_20733, x_20736);\n                                        int64_t x_20752 = add64(x_20750, y_20751);\n                                        int64_t y_20753 = mul64(x_20732, x_20737);\n                                        int64_t x_20754 = add64(x_20752, y_20753);\n                                        int64_t defunc_1_op_res_20755 = add64(y_20746, x_20754);\n                                        \n                                        x_20732 = defunc_1_op_res_20742;\n                                        x_20733 = defunc_1_op_res_20749;\n                                        x_20734 = defunc_1_op_res_20755;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_20706, skip_threads_20760)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_20761) {\n                                // write result\n                                {\n              ", "                      ((volatile __local int64_t *) red_arr_mem_20708)[sext_i32_i64(local_tid_20704)] = x_20732;\n                                    x_20735 = x_20732;\n                                    ((volatile __local int64_t *) red_arr_mem_20710)[sext_i32_i64(local_tid_20704)] = x_20733;\n                                    x_20736 = x_20733;\n                                    ((volatile __local int64_t *) red_arr_mem_20712)[sext_i32_i64(local_tid_20704)] = x_20734;\n                                    x_20737 = x_20734;\n                                }\n                            }\n                            if (sle32(wave_sizze_20706, skip_threads_20760)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_20760 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_20763 = squot32(local_tid_20704, 32) == 0 || !ltid_in_bounds_20756;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_20763) {\n                            x_18987 = x_18984;\n                            x_18988 = x_18985;\n                            x_18989 = x_18986;\n                            x_18984 = ((__local int64_t *) red_arr_mem_20708)[sext_i32_i64(squot32(local_tid_20704, 32)) - (int64_t) 1];\n                            x_18985 = ((__local int64_t *) red_arr_mem_20710)[sext_i32_i64(squot32(local_tid_20704, 32)) - (int64_t) 1];\n                            x_18986 = ((__local int64_t *) red_arr_mem_20712)[sext_i32_i64(squot32(local_tid_20704, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_20764 = slt64(srem64(sext_i32_i64(local_tid_",
                                       "20704), m_12352), sext_i32_i64(local_tid_20704) - sext_i32_i64(squot32(local_tid_20704, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_20763) {\n                            if (inactive_20764) {\n                                x_18984 = x_18987;\n                                x_18985 = x_18988;\n                                x_18986 = x_18989;\n                            }\n                        }\n                        if (!no_carry_in_20763) {\n                            if (!inactive_20764) {\n                                int64_t x_18990 = mul64(x_18984, x_18987);\n                                int64_t y_18991 = mul64(x_18986, x_18988);\n                                int64_t x_18992 = sub64(x_18990, y_18991);\n                                int64_t y_18993 = mul64(x_18985, x_18989);\n                                int64_t defunc_1_op_res_18994 = sub64(x_18992, y_18993);\n                                int64_t x_18995 = mul64(x_18985, x_18987);\n                                int64_t y_18996 = mul64(x_18984, x_18988);\n                                int64_t x_18997 = add64(x_18995, y_18996);\n                                int64_t y_18998 = mul64(x_18986, x_18989);\n                                int64_t x_18999 = sub64(x_18997, y_18998);\n                                int64_t x_19000 = add64(y_18991, x_18999);\n                                int64_t defunc_1_op_res_19001 = add64(y_18993, x_19000);\n                                int64_t x_19002 = mul64(x_18986, x_18987);\n                                int64_t y_19003 = mul64(x_18985, x_18988);\n                                int64_t x_19004 = add64(x_19002, y_19003);\n                                int64_t y_19005 = mul64(x_18984, x_18989);\n                                int64_t x_19006 = add64(x_19004, y_19005);\n                                int64_t defunc_1_op_res_19007 = add64(y_18998, x_19006);\n                                \n                                x_18", "984 = defunc_1_op_res_18994;\n                                x_18985 = defunc_1_op_res_19001;\n                                x_18986 = defunc_1_op_res_19007;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_20763) {\n                            ((__local int64_t *) red_arr_mem_20708)[sext_i32_i64(local_tid_20704)] = x_18984;\n                            ((__local int64_t *) red_arr_mem_20710)[sext_i32_i64(local_tid_20704)] = x_18985;\n                            ((__local int64_t *) red_arr_mem_20712)[sext_i32_i64(local_tid_20704)] = x_18986;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_20704, 32) == 0 && ltid_in_bounds_20756) {\n                        ((__local int64_t *) red_arr_mem_20708)[sext_i32_i64(local_tid_20704)] = x_18987;\n                        ((__local int64_t *) red_arr_mem_20710)[sext_i32_i64(local_tid_20704)] = x_18988;\n                        ((__local int64_t *) red_arr_mem_20712)[sext_i32_i64(local_tid_20704)] = x_18989;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704), n_12351 * p_12353 * q_12354) && slt64(sext_i32_i64(local_tid_20704), squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701))) {\n                int64_t tmp_20765 = ((__local int64_t *) red_arr_mem_20708)[(sext_i32_i64(local_tid_20704) + (int64_t) 1) * segment_sizze_nonzzero_20701 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_19954)[sq", "uot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704), p_12353 * q_12354) * (q_12354 * p_12353) + squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704) - squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704), p_12353 * q_12354) * (p_12353 * q_12354), q_12354) * q_12354 + (sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704) - squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704), p_12353 * q_12354) * (p_12353 * q_12354) - squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704) - squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704), p_12353 * q_12354) * (p_12353 * q_12354), q_12354) * q_12354)] = tmp_20765;\n                \n                int64_t tmp_20766 = ((__local int64_t *) red_arr_mem_20710)[(sext_i32_i64(local_tid_20704) + (int64_t) 1) * segment_sizze_nonzzero_20701 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_19959)[squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704), p_12353 * q_12354) * (q_12354 * p_12353) + squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704) - squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704), p_12353 * q_12354) * (p_12353 * q_12354), q_12354) * q_12354 + (sext_i32_i6",
                                       "4(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704) - squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704), p_12353 * q_12354) * (p_12353 * q_12354) - squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704) - squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704), p_12353 * q_12354) * (p_12353 * q_12354), q_12354) * q_12354)] = tmp_20766;\n                \n                int64_t tmp_20767 = ((__local int64_t *) red_arr_mem_20712)[(sext_i32_i64(local_tid_20704) + (int64_t) 1) * segment_sizze_nonzzero_20701 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_19964)[squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704), p_12353 * q_12354) * (q_12354 * p_12353) + squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704) - squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704), p_12353 * q_12354) * (p_12353 * q_12354), q_12354) * q_12354 + (sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704) - squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704), p_12353 * q_12354) * (p_12353 * q_12354) - squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701) + sext_i32_i64(local_tid_20704) - squot64(sext_i32_i64(virt_group_id_20717) * squot64(segred_group_sizze_18973, segment_sizze", "_nonzzero_20701) + sext_i32_i64(local_tid_20704), p_12353 * q_12354) * (p_12353 * q_12354), q_12354) * q_12354)] = tmp_20767;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_18973\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegred_small_19145(__global int *global_failure, __local volatile int64_t *red_arr_mem_20880_backing_aligned_0, __local volatile int64_t *red_arr_mem_20878_backing_aligned_1, __local volatile int64_t *red_arr_mem_20876_backing_aligned_2, int64_t n_12351, int64_t p_12353, int64_t q_12354, int64_t one_intra_par_min_16361, int64_t num_groups_19137, int64_t segment_sizze_nonzzero_20869, __global unsigned char *ext_mem_20061, __global unsigned char *ext_mem_20063, __global unsigned char *ext_mem_20065, __global unsigned char *mem_20070, __global unsigned char *mem_20074, __global unsigned char *mem_20078)\n{\n    #define segred_group_sizze_19136 (make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17440)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_20880_backing_2 = (__local volatile unsigned char *) red_arr_mem_20880_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20878_backing_1 = (__local volatile unsigned char *) red_arr_mem_20878_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_20876_backing_0 = (__local volatile unsigned char *) red_arr_mem_20876_backing_aligned_2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20872;\n    int64_t group_sizze_20875;\n    int32_t wave_sizze_20874;\n    int32_t group_tid_20873;\n    \n    local_tid_20872 = get_local_id(0);\n    group_sizze_20875 = get_local_size(0);\n    wave_sizze_20874 = LOCKSTEP_WIDTH;\n    group_tid_20873 = get_group_id(0);\n    \n    int32_t glob", "al_tid_20871 = group_tid_20873 * group_sizze_20875 + local_tid_20872;\n    int32_t phys_tid_19145 = global_tid_20871;\n    __local unsigned char *red_arr_mem_20876;\n    \n    red_arr_mem_20876 = (__local unsigned char *) red_arr_mem_20876_backing_0;\n    \n    __local unsigned char *red_arr_mem_20878;\n    \n    red_arr_mem_20878 = (__local unsigned char *) red_arr_mem_20878_backing_1;\n    \n    __local unsigned char *red_arr_mem_20880;\n    \n    red_arr_mem_20880 = (__local unsigned char *) red_arr_mem_20880_backing_2;\n    \n    int32_t phys_group_id_20882;\n    \n    phys_group_id_20882 = get_group_id(0);\n    \n    int32_t iterations_20883 = sdiv_up32(sext_i64_i32(sdiv_up64(n_12351 * p_12353, squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869))) - phys_group_id_20882, sext_i64_i32(num_groups_19137));\n    \n    for (int32_t i_20884 = 0; i_20884 < iterations_20883; i_20884++) {\n        int32_t virt_group_id_20885 = phys_group_id_20882 + i_20884 * sext_i64_i32(num_groups_19137);\n        int64_t slice_20886 = p_12353;\n        int64_t slice_20887 = n_12351 * slice_20886;\n        int64_t gtid_19142 = squot64(squot64(sext_i32_i64(local_tid_20872), segment_sizze_nonzzero_20869) + sext_i32_i64(virt_group_id_20885) * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869), slice_20886);\n        int64_t remnant_20888 = squot64(sext_i32_i64(local_tid_20872), segment_sizze_nonzzero_20869) + sext_i32_i64(virt_group_id_20885) * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869) - gtid_19142 * slice_20886;\n        int64_t gtid_19143 = remnant_20888;\n        int64_t remnant_20889 = remnant_20888 - gtid_19143;\n        int64_t gtid_19144 = srem64(sext_i32_i64(local_tid_20872), q_12354);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, q_12354) && ((slt64(gtid_19142, n_12351) && slt64(gtid_19143, p_12353)) && slt64(sext_i32_i64(local_tid_20872), q_12354 * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869)",
                                       "))) {\n                int64_t x_19164 = ((__global int64_t *) ext_mem_20065)[gtid_19142 * one_intra_par_min_16361 + gtid_19143 * q_12354 + gtid_19144];\n                int64_t x_19165 = ((__global int64_t *) ext_mem_20063)[gtid_19142 * one_intra_par_min_16361 + gtid_19143 * q_12354 + gtid_19144];\n                int64_t x_19166 = ((__global int64_t *) ext_mem_20061)[gtid_19142 * one_intra_par_min_16361 + gtid_19143 * q_12354 + gtid_19144];\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local int64_t *) red_arr_mem_20876)[sext_i32_i64(local_tid_20872)] = x_19164;\n                    ((__local int64_t *) red_arr_mem_20878)[sext_i32_i64(local_tid_20872)] = x_19165;\n                    ((__local int64_t *) red_arr_mem_20880)[sext_i32_i64(local_tid_20872)] = x_19166;\n                }\n            } else {\n                ((__local int64_t *) red_arr_mem_20876)[sext_i32_i64(local_tid_20872)] = (int64_t) 0;\n                ((__local int64_t *) red_arr_mem_20878)[sext_i32_i64(local_tid_20872)] = (int64_t) 0;\n                ((__local int64_t *) red_arr_mem_20880)[sext_i32_i64(local_tid_20872)] = (int64_t) 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, q_12354)) {\n            // perform segmented scan to imitate reduction\n            {\n                int64_t x_19146;\n                int64_t x_19147;\n                int64_t x_19148;\n                int64_t x_19149;\n                int64_t x_19150;\n                int64_t x_19151;\n                int64_t x_20890;\n                int64_t x_20891;\n                int64_t x_20892;\n                int64_t x_20893;\n                int64_t x_20894;\n                int64_t x_20895;\n                bool ltid_in_bounds_20902 = slt64(sext_i32_i64(local_tid_20872), q_12354 * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869));\n                int32_t skip_thre", "ads_20903;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_20902) {\n                        x_19149 = ((volatile __local int64_t *) red_arr_mem_20876)[sext_i32_i64(local_tid_20872)];\n                        x_19150 = ((volatile __local int64_t *) red_arr_mem_20878)[sext_i32_i64(local_tid_20872)];\n                        x_19151 = ((volatile __local int64_t *) red_arr_mem_20880)[sext_i32_i64(local_tid_20872)];\n                        if ((local_tid_20872 - squot32(local_tid_20872, 32) * 32) == 0) {\n                            x_19146 = x_19149;\n                            x_19147 = x_19150;\n                            x_19148 = x_19151;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_20903 = 1;\n                    while (slt32(skip_threads_20903, 32)) {\n                        bool thread_active_20904 = sle32(skip_threads_20903, local_tid_20872 - squot32(local_tid_20872, 32) * 32) && ltid_in_bounds_20902;\n                        \n                        if (thread_active_20904) {\n                            // read operands\n                            {\n                                x_19146 = ((volatile __local int64_t *) red_arr_mem_20876)[sext_i32_i64(local_tid_20872) - sext_i32_i64(skip_threads_20903)];\n                                x_19147 = ((volatile __local int64_t *) red_arr_mem_20878)[sext_i32_i64(local_tid_20872) - sext_i32_i64(skip_threads_20903)];\n                                x_19148 = ((volatile __local int64_t *) red_arr_mem_20880)[sext_i32_i64(local_tid_20872) - sext_i32_i64(skip_threads_20903)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_20905 = slt64(srem64(sext_i32_i64(local_tid_20872), q_12354), sext_i32_i64(local_", "tid_20872) - sext_i32_i64(local_tid_20872 - skip_threads_20903));\n                            \n                            if (thread_active_20904 && inactive_20905) {\n                                x_19146 = x_19149;\n                                x_19147 = x_19150;\n                                x_19148 = x_19151;\n                            }\n                            if (thread_active_20904) {\n                                if (!inactive_20905) {\n                                    int64_t canonicalizze_arg_19152 = add64(x_19146, x_19149);\n                                    int64_t canonicalizze_res_19153 = umod64(canonicalizze_arg_19152, (int64_t) -4294967295);\n                                    int64_t canonicalizze_arg_19154 = add64(x_19147, x_19150);\n                                    int64_t canonicalizze_res_19155 = umod64(canonicalizze_arg_19154, (int64_t) -4294967295);\n                                    int64_t canonicalizze_arg_19156 = add64(x_19148, x_19151);\n                                    int64_t canonicalizze_res_19157 = umod64(canonicalizze_arg_19156, (int64_t) -4294967295);\n                                    \n                                    x_19146 = canonicalizze_res_19153;\n                                    x_19147 = canonicalizze_res_19155;\n                                    x_19148 = canonicalizze_res_19157;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_20874, skip_threads_20903)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_20904) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) red_arr_mem_20876)[sext_i32_i64(local_tid_20872)] = x_19146;\n                                x_19149 = x_19146;\n                                ((volatile __local int64_t *) red_arr_mem_2087",
                                       "8)[sext_i32_i64(local_tid_20872)] = x_19147;\n                                x_19150 = x_19147;\n                                ((volatile __local int64_t *) red_arr_mem_20880)[sext_i32_i64(local_tid_20872)] = x_19148;\n                                x_19151 = x_19148;\n                            }\n                        }\n                        if (sle32(wave_sizze_20874, skip_threads_20903)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_20903 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_20872 - squot32(local_tid_20872, 32) * 32) == 31 && ltid_in_bounds_20902) {\n                        ((volatile __local int64_t *) red_arr_mem_20876)[sext_i32_i64(squot32(local_tid_20872, 32))] = x_19146;\n                        ((volatile __local int64_t *) red_arr_mem_20878)[sext_i32_i64(squot32(local_tid_20872, 32))] = x_19147;\n                        ((volatile __local int64_t *) red_arr_mem_20880)[sext_i32_i64(squot32(local_tid_20872, 32))] = x_19148;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_20906;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_20872, 32) == 0 && ltid_in_bounds_20902) {\n                            x_20893 = ((volatile __local int64_t *) red_arr_mem_20876)[sext_i32_i64(local_tid_20872)];\n                            x_20894 = ((volatile __local int64_t *) red_arr_mem_20878)[sext_i32_i64(local_tid_20872)];\n                            x_20895 = ((volatile __local int64_t *) red_arr_mem_20880)[sext_i32_i64(local_tid_20872)];\n", "                            if ((local_tid_20872 - squot32(local_tid_20872, 32) * 32) == 0) {\n                                x_20890 = x_20893;\n                                x_20891 = x_20894;\n                                x_20892 = x_20895;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_20906 = 1;\n                        while (slt32(skip_threads_20906, 32)) {\n                            bool thread_active_20907 = sle32(skip_threads_20906, local_tid_20872 - squot32(local_tid_20872, 32) * 32) && (squot32(local_tid_20872, 32) == 0 && ltid_in_bounds_20902);\n                            \n                            if (thread_active_20907) {\n                                // read operands\n                                {\n                                    x_20890 = ((volatile __local int64_t *) red_arr_mem_20876)[sext_i32_i64(local_tid_20872) - sext_i32_i64(skip_threads_20906)];\n                                    x_20891 = ((volatile __local int64_t *) red_arr_mem_20878)[sext_i32_i64(local_tid_20872) - sext_i32_i64(skip_threads_20906)];\n                                    x_20892 = ((volatile __local int64_t *) red_arr_mem_20880)[sext_i32_i64(local_tid_20872) - sext_i32_i64(skip_threads_20906)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_20908 = slt64(srem64(sext_i32_i64(local_tid_20872 * 32 + 32 - 1), q_12354), sext_i32_i64(local_tid_20872 * 32 + 32 - 1) - sext_i32_i64((local_tid_20872 - skip_threads_20906) * 32 + 32 - 1));\n                                \n                                if (thread_active_20907 && inactive_20908) {\n                                    x_20890 = x_20893;\n                                    x_20891 = x_20894;\n                      ", "              x_20892 = x_20895;\n                                }\n                                if (thread_active_20907) {\n                                    if (!inactive_20908) {\n                                        int64_t canonicalizze_arg_20896 = add64(x_20890, x_20893);\n                                        int64_t canonicalizze_res_20897 = umod64(canonicalizze_arg_20896, (int64_t) -4294967295);\n                                        int64_t canonicalizze_arg_20898 = add64(x_20891, x_20894);\n                                        int64_t canonicalizze_res_20899 = umod64(canonicalizze_arg_20898, (int64_t) -4294967295);\n                                        int64_t canonicalizze_arg_20900 = add64(x_20892, x_20895);\n                                        int64_t canonicalizze_res_20901 = umod64(canonicalizze_arg_20900, (int64_t) -4294967295);\n                                        \n                                        x_20890 = canonicalizze_res_20897;\n                                        x_20891 = canonicalizze_res_20899;\n                                        x_20892 = canonicalizze_res_20901;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_20874, skip_threads_20906)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_20907) {\n                                // write result\n                                {\n                                    ((volatile __local int64_t *) red_arr_mem_20876)[sext_i32_i64(local_tid_20872)] = x_20890;\n                                    x_20893 = x_20890;\n                                    ((volatile __local int64_t *) red_arr_mem_20878)[sext_i32_i64(local_tid_20872)] = x_20891;\n                                    x_20894 = x_20891;\n                                    ((volatile __local int64_t *) red_arr_mem_20880)[sex",
                                       "t_i32_i64(local_tid_20872)] = x_20892;\n                                    x_20895 = x_20892;\n                                }\n                            }\n                            if (sle32(wave_sizze_20874, skip_threads_20906)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_20906 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_20909 = squot32(local_tid_20872, 32) == 0 || !ltid_in_bounds_20902;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_20909) {\n                            x_19149 = x_19146;\n                            x_19150 = x_19147;\n                            x_19151 = x_19148;\n                            x_19146 = ((__local int64_t *) red_arr_mem_20876)[sext_i32_i64(squot32(local_tid_20872, 32)) - (int64_t) 1];\n                            x_19147 = ((__local int64_t *) red_arr_mem_20878)[sext_i32_i64(squot32(local_tid_20872, 32)) - (int64_t) 1];\n                            x_19148 = ((__local int64_t *) red_arr_mem_20880)[sext_i32_i64(squot32(local_tid_20872, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_20910 = slt64(srem64(sext_i32_i64(local_tid_20872), q_12354), sext_i32_i64(local_tid_20872) - sext_i32_i64(squot32(local_tid_20872, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_20909) {\n                            if (inactive_20910) {\n                                x_19146 = x_19149;\n                                x_19147 = x_19150;\n                                x_19148 = x_19151;\n                            }\n                        }\n", "                        if (!no_carry_in_20909) {\n                            if (!inactive_20910) {\n                                int64_t canonicalizze_arg_19152 = add64(x_19146, x_19149);\n                                int64_t canonicalizze_res_19153 = umod64(canonicalizze_arg_19152, (int64_t) -4294967295);\n                                int64_t canonicalizze_arg_19154 = add64(x_19147, x_19150);\n                                int64_t canonicalizze_res_19155 = umod64(canonicalizze_arg_19154, (int64_t) -4294967295);\n                                int64_t canonicalizze_arg_19156 = add64(x_19148, x_19151);\n                                int64_t canonicalizze_res_19157 = umod64(canonicalizze_arg_19156, (int64_t) -4294967295);\n                                \n                                x_19146 = canonicalizze_res_19153;\n                                x_19147 = canonicalizze_res_19155;\n                                x_19148 = canonicalizze_res_19157;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_20909) {\n                            ((__local int64_t *) red_arr_mem_20876)[sext_i32_i64(local_tid_20872)] = x_19146;\n                            ((__local int64_t *) red_arr_mem_20878)[sext_i32_i64(local_tid_20872)] = x_19147;\n                            ((__local int64_t *) red_arr_mem_20880)[sext_i32_i64(local_tid_20872)] = x_19148;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_20872, 32) == 0 && ltid_in_bounds_20902) {\n                        ((__local int64_t *) red_arr_mem_20876)[sext_i32_i64(local_tid_20872)] = x_19149;\n                        ((__local int64_t *) red_arr_mem_20878)[sext_i32_i64(local_tid_20872)] = x_19150;\n                   ", "     ((__local int64_t *) red_arr_mem_20880)[sext_i32_i64(local_tid_20872)] = x_19151;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_20885) * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869) + sext_i32_i64(local_tid_20872), n_12351 * p_12353) && slt64(sext_i32_i64(local_tid_20872), squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869))) {\n                int64_t tmp_20911 = ((__local int64_t *) red_arr_mem_20876)[(sext_i32_i64(local_tid_20872) + (int64_t) 1) * segment_sizze_nonzzero_20869 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_20070)[squot64(sext_i32_i64(virt_group_id_20885) * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869) + sext_i32_i64(local_tid_20872), p_12353) * p_12353 + (sext_i32_i64(virt_group_id_20885) * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869) + sext_i32_i64(local_tid_20872) - squot64(sext_i32_i64(virt_group_id_20885) * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869) + sext_i32_i64(local_tid_20872), p_12353) * p_12353)] = tmp_20911;\n                \n                int64_t tmp_20912 = ((__local int64_t *) red_arr_mem_20878)[(sext_i32_i64(local_tid_20872) + (int64_t) 1) * segment_sizze_nonzzero_20869 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_20074)[squot64(sext_i32_i64(virt_group_id_20885) * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869) + sext_i32_i64(local_tid_20872), p_12353) * p_12353 + (sext_i32_i64(virt_group_id_20885) * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869) + sext_i32_i64(local_tid_20872) - squot64(sext_i32_i64(virt_group_id_20885) * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869) + sext_i32_i64(local_tid_20872), p_12353) * p_12353)] = tmp_20912;\n ",
                                       "               \n                int64_t tmp_20913 = ((__local int64_t *) red_arr_mem_20880)[(sext_i32_i64(local_tid_20872) + (int64_t) 1) * segment_sizze_nonzzero_20869 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_20078)[squot64(sext_i32_i64(virt_group_id_20885) * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869) + sext_i32_i64(local_tid_20872), p_12353) * p_12353 + (sext_i32_i64(virt_group_id_20885) * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869) + sext_i32_i64(local_tid_20872) - squot64(sext_i32_i64(virt_group_id_20885) * squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869) + sext_i32_i64(local_tid_20872), p_12353) * p_12353)] = tmp_20913;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_19136\n}\n__kernel void matmulzisegmap_15956(__global int *global_failure, int64_t nz2080U_9828, int64_t pz2081U_9829, int64_t mz2082U_9830, int64_t num_groups_15952, int64_t num_threads_20332, int32_t virt_num_groups_20352, __global unsigned char *yss_mem_19946, __global unsigned char *mem_20067, __global unsigned char *mem_20084, __global unsigned char *color_20313)\n{\n    #define segmap_group_sizze_15951 (matmulzisegmap_group_sizze_15933)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20354;\n    int64_t group_sizze_20357;\n    int32_t wave_sizze_20356;\n    int32_t group_tid_20355;\n    \n    local_tid_20354 = get_local_id(0);\n    group_sizze_20357 = get_local_size(0);\n    wave_sizze_20356 = LOCKSTEP_WIDTH;\n    group_tid_20355 = get_group_id(0);\n    \n    int32_t global_tid_20353 = group_tid_20355 * group_sizze_20357 + local_tid_20354;\n    int32_t phys_tid_15956 = global_tid_20353;\n    int32_t phys_group_id_20358;\n    \n    phys_group_id_20358 = get_group_", "id(0);\n    \n    int32_t iterations_20359 = sdiv_up32(virt_num_groups_20352 - phys_group_id_20358, sext_i64_i32(num_groups_15952));\n    \n    for (int32_t i_20360 = 0; i_20360 < iterations_20359; i_20360++) {\n        int32_t virt_group_id_20361 = phys_group_id_20358 + i_20360 * sext_i64_i32(num_groups_15952);\n        int64_t global_tid_20362 = sext_i32_i64(virt_group_id_20361) * segmap_group_sizze_15951 + sext_i32_i64(local_tid_20354);\n        int64_t slice_20363 = nz2080U_9828;\n        int64_t gtid_15955 = global_tid_20362;\n        int64_t remnant_20364 = global_tid_20362 - gtid_15955;\n        \n        if (slt64(gtid_15955, nz2080U_9828)) {\n            for (int64_t i_19900 = 0; i_19900 < mz2082U_9830; i_19900++) {\n                int32_t defunc_2_reduce_res_15960;\n                int32_t redout_19902 = 0;\n                \n                for (int64_t i_19903 = 0; i_19903 < pz2081U_9829; i_19903++) {\n                    int32_t x_15964 = ((__global int32_t *) mem_20067)[i_19903 * nz2080U_9828 + gtid_15955];\n                    int32_t x_15965 = ((__global int32_t *) yss_mem_19946)[i_19903 * mz2082U_9830 + i_19900];\n                    int32_t defunc_1_f_res_15966 = mul32(x_15964, x_15965);\n                    int32_t defunc_1_op_res_15963 = add32(defunc_1_f_res_15966, redout_19902);\n                    int32_t redout_tmp_20366 = defunc_1_op_res_15963;\n                    \n                    redout_19902 = redout_tmp_20366;\n                }\n                defunc_2_reduce_res_15960 = redout_19902;\n                ((__global int32_t *) color_20313)[phys_tid_15956 + i_19900 * num_threads_20332] = defunc_2_reduce_res_15960;\n            }\n            for (int64_t i_20367 = 0; i_20367 < mz2082U_9830; i_20367++) {\n                int32_t tmp_20368 = ((__global int32_t *) color_20313)[phys_tid_15956 + i_20367 * num_threads_20332];\n                \n                ((__global int32_t *) mem_20084)[gtid_15955 + i_20367 * nz2080U_9828] = tmp_20368;\n            }\n        }\n     ", "   barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_15951\n}\n__kernel void matmulzisegmap_intragroup_19234(__global int *global_failure, __local volatile int64_t *color_20315_backing_aligned_0, __local volatile int64_t *color_20314_backing_aligned_1, int64_t nz2080U_9828, int64_t pz2081U_9829, int64_t mz2082U_9830, int64_t gridDim_x_19228, int64_t gridDim_y_19229, int64_t full_tiles_19262, int64_t kk_19460, __global unsigned char *xss_mem_19945, __global unsigned char *yss_mem_19946, __global unsigned char *mem_20063)\n{\n    #define Ty_19209 (matmulziTy_19206)\n    #define Ry_19210 (matmulziRy_19208)\n    #define Tx_19211 (matmulziTx_19205)\n    #define Rx_19212 (matmulziRx_19207)\n    #define Tk_19213 (matmulziTk_19204)\n    #define tk_div_tx_19214 (sdiv_up64(matmulziTk_19204, matmulziTx_19205))\n    #define TxRx_19216 (matmulziTx_19205 * matmulziRx_19207)\n    #define TyRy_19217 (matmulziTy_19206 * matmulziRy_19208)\n    #define a_loc_szz_19222 (matmulziTk_19204 * (matmulziTy_19206 * matmulziRy_19208) + smax64(matmulziTk_19204, matmulziTy_19206 * matmulziRy_19208))\n    #define b_loc_szz_19227 (smax64(matmulziTk_19204, matmulziTy_19206 * matmulziRy_19208) + matmulziTk_19204 * (matmulziTx_19205 * matmulziRx_19207))\n    #define binop_y_19390 ((int64_t) 1 + matmulziTk_19204)\n    #define binop_y_19401 ((int64_t) 1 + matmulziTx_19205 * matmulziRx_19207)\n    #define loop_nonempty_19888 (slt64((int64_t) 0, matmulziRx_19207))\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict color_20315_backing_1 = (__local volatile unsigned char *) color_20315_backing_aligned_0;\n    __local volatile unsigned char *restrict color_20314_backing_0 = (__local volatile unsigned char *) color_20314_backing_aligned_1;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20373;\n    int64_t group_sizze_20376;\n    int32_t wave_s",
                                       "izze_20375;\n    int32_t group_tid_20374;\n    \n    local_tid_20373 = get_local_id(0);\n    group_sizze_20376 = get_local_size(0);\n    wave_sizze_20375 = LOCKSTEP_WIDTH;\n    group_tid_20374 = get_group_id(0);\n    \n    int32_t global_tid_20372 = group_tid_20374 * group_sizze_20376 + local_tid_20373;\n    int32_t gid_flat_19234 = group_tid_20374;\n    int64_t slice_20379 = Tx_19211;\n    int64_t slice_20380 = Ty_19209 * slice_20379;\n    int64_t ltid_pre_20377 = squot64(sext_i32_i64(local_tid_20373), slice_20379);\n    int64_t remnant_20381 = sext_i32_i64(local_tid_20373) - ltid_pre_20377 * slice_20379;\n    int64_t ltid_pre_20378 = remnant_20381;\n    int64_t remnant_20382 = remnant_20381 - ltid_pre_20378;\n    int64_t slice_20385 = Tx_19211;\n    int64_t slice_20386 = Tx_19211 * slice_20385;\n    int64_t ltid_pre_20383 = squot64(sext_i32_i64(local_tid_20373), slice_20385);\n    int64_t remnant_20387 = sext_i32_i64(local_tid_20373) - ltid_pre_20383 * slice_20385;\n    int64_t ltid_pre_20384 = remnant_20387;\n    int64_t remnant_20388 = remnant_20387 - ltid_pre_20384;\n    int64_t slice_20389 = gridDim_x_19228;\n    int64_t slice_20390 = gridDim_y_19229 * slice_20389;\n    int64_t gid_y_19232 = squot64(sext_i32_i64(group_tid_20374), slice_20389);\n    int64_t remnant_20391 = sext_i32_i64(group_tid_20374) - gid_y_19232 * slice_20389;\n    int64_t gid_x_19233 = remnant_20391;\n    int64_t remnant_20392 = remnant_20391 - gid_x_19233;\n    __local unsigned char *color_20314;\n    \n    color_20314 = (__local unsigned char *) color_20314_backing_0;\n    \n    __local unsigned char *color_20315;\n    \n    color_20315 = (__local unsigned char *) color_20315_backing_1;\n    \n    int64_t iii_19235 = TyRy_19217 * gid_y_19232;\n    int64_t jjj_19236 = TxRx_19216 * gid_x_19233;\n    int32_t mem_19968[Ry_19210 * Rx_19212];\n    int32_t ltid_flat_19250 = local_tid_20373;\n    int64_t ltid_y_19249 = sext_i32_i64(sext_i64_i32(ltid_pre_20377));\n    int64_t ltid_x_19248 = sext_i32_i64(sext_i64_i32(ltid_pre_20378));\n  ", "  int32_t mem_19959[Ry_19210 * Rx_19212];\n    \n    for (int64_t i_19253 = 0; i_19253 < Ry_19210; i_19253++) {\n        for (int64_t i_19256 = 0; i_19256 < Rx_19212; i_19256++) {\n            mem_19959[i_19253 * Rx_19212 + i_19256] = 0;\n        }\n    }\n    for (int64_t i_20395 = 0; i_20395 < Ry_19210; i_20395++) {\n        for (int64_t i_20396 = 0; i_20396 < Rx_19212; i_20396++) {\n            int32_t tmp_20397 = mem_19959[i_20395 * Rx_19212 + i_20396];\n            \n            mem_19968[i_20395 * Rx_19212 + i_20396] = tmp_20397;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t mem_20001[Rx_19212];\n    int32_t mem_20005[Rx_19212];\n    int32_t ext_mem_20027[Ry_19210 * Rx_19212];\n    int32_t mem_param_19975[Ry_19210 * Rx_19212];\n    \n    for (int32_t i_2 = 0; i_2 < Ry_19210 * Rx_19212; i_2++)\n        mem_param_19975[i_2] = mem_19968[i_2];\n    for (int64_t i_19263 = 0; i_19263 < full_tiles_19262; i_19263++) {\n        int64_t kk_19267 = Tk_19213 * i_19263;\n        int32_t ltid_flat_19288 = local_tid_20373;\n        \n        for (int64_t nest_i_20402 = 0; nest_i_20402 < Rx_19212; nest_i_20402++) {\n            for (int64_t nest_i_20403 = 0; nest_i_20403 < tk_div_tx_19214; nest_i_20403++) {\n                int64_t ltid_seq_19291 = nest_i_20402;\n                int64_t ltid_seq_19292 = nest_i_20403;\n                int64_t ltid_y_19289 = sext_i32_i64(sext_i64_i32(ltid_pre_20383));\n                int64_t ltid_x_19290 = sext_i32_i64(sext_i64_i32(ltid_pre_20384));\n                int64_t binop_y_19293 = Tx_19211 * ltid_seq_19292;\n                int64_t k_19294 = ltid_x_19290 + binop_y_19293;\n                int64_t binop_y_19295 = Tx_19211 * ltid_seq_19291;\n                int64_t i_19296 = ltid_y_19289 + binop_y_19295;\n                int64_t gtid_19297 = iii_19235 + i_19296;\n                int64_t as_transformed_row_seqdim_idx_19298 = kk_19267 + k_19294;\n                bool cond_19299 = slt64(gtid_19297, nz2080U_9828);\n                int32_t as_transformed_r", "ow_elem_19300;\n                \n                if (cond_19299 == 1) {\n                    int32_t A_elem_19302 = ((__global int32_t *) xss_mem_19945)[gtid_19297 * pz2081U_9829 + as_transformed_row_seqdim_idx_19298];\n                    \n                    as_transformed_row_elem_19300 = A_elem_19302;\n                } else {\n                    as_transformed_row_elem_19300 = 0;\n                }\n                \n                bool cond_19304 = slt64(k_19294, Tk_19213);\n                int64_t as_transformed_row_loc_ind_19305;\n                \n                if (cond_19304 == 1) {\n                    int64_t binop_y_19306 = (int64_t) 1 + Tk_19213;\n                    int64_t binop_y_19307 = i_19296 * binop_y_19306;\n                    int64_t x_19308 = k_19294 + binop_y_19307;\n                    \n                    as_transformed_row_loc_ind_19305 = x_19308;\n                } else {\n                    as_transformed_row_loc_ind_19305 = (int64_t) -1;\n                }\n                if (sle64((int64_t) 0, as_transformed_row_loc_ind_19305) && slt64(as_transformed_row_loc_ind_19305, a_loc_szz_19222)) {\n                    ((__local int32_t *) color_20315)[as_transformed_row_loc_ind_19305] = as_transformed_row_elem_19300;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t ltid_flat_19331 = local_tid_20373;\n        \n        for (int64_t nest_i_20404 = 0; nest_i_20404 < Rx_19212; nest_i_20404++) {\n            for (int64_t nest_i_20405 = 0; nest_i_20405 < tk_div_tx_19214; nest_i_20405++) {\n                int64_t ltid_seq_19334 = nest_i_20404;\n                int64_t ltid_seq_19335 = nest_i_20405;\n                int64_t ltid_y_19332 = sext_i32_i64(sext_i64_i32(ltid_pre_20383));\n                int64_t ltid_x_19333 = sext_i32_i64(sext_i64_i32(ltid_pre_20384));\n                int64_t binop_y_19336 = Tx_19211 * ltid_seq_19335;\n                int64_t k_19337 = ltid_y_19332 + binop_y_19336;\n                int64_",
                                       "t binop_y_19338 = Tx_19211 * ltid_seq_19334;\n                int64_t i_19339 = ltid_x_19333 + binop_y_19338;\n                int64_t gtid_19340 = jjj_19236 + i_19339;\n                int64_t as_transformed_row_seqdim_idx_19341 = kk_19267 + k_19337;\n                bool cond_19342 = slt64(gtid_19340, mz2082U_9830);\n                int32_t as_transformed_row_elem_19343;\n                \n                if (cond_19342 == 1) {\n                    int32_t A_elem_19345 = ((__global int32_t *) yss_mem_19946)[as_transformed_row_seqdim_idx_19341 * mz2082U_9830 + gtid_19340];\n                    \n                    as_transformed_row_elem_19343 = A_elem_19345;\n                } else {\n                    as_transformed_row_elem_19343 = 0;\n                }\n                \n                bool cond_19347 = slt64(k_19337, Tk_19213);\n                int64_t as_transformed_row_loc_ind_19348;\n                \n                if (cond_19347 == 1) {\n                    int64_t binop_y_19349 = (int64_t) 1 + TxRx_19216;\n                    int64_t binop_y_19350 = k_19337 * binop_y_19349;\n                    int64_t x_19351 = i_19339 + binop_y_19350;\n                    \n                    as_transformed_row_loc_ind_19348 = x_19351;\n                } else {\n                    as_transformed_row_loc_ind_19348 = (int64_t) -1;\n                }\n                if (sle64((int64_t) 0, as_transformed_row_loc_ind_19348) && slt64(as_transformed_row_loc_ind_19348, b_loc_szz_19227)) {\n                    ((__local int32_t *) color_20314)[as_transformed_row_loc_ind_19348] = as_transformed_row_elem_19343;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t mem_param_in_20301[Ry_19210 * Rx_19212];\n        int32_t mem_20015[Ry_19210 * Rx_19212];\n        \n        for (int64_t i_20406 = 0; i_20406 < Ry_19210; i_20406++) {\n            for (int64_t i_20407 = 0; i_20407 < Rx_19212; i_20407++) {\n                int32_t tmp_20408 = mem_param_19975[i_", "20406 * Rx_19212 + i_20407];\n                \n                mem_param_in_20301[i_20406 * Rx_19212 + i_20407] = tmp_20408;\n            }\n        }\n        \n        int32_t ext_mem_20016[Ry_19210 * Rx_19212];\n        int32_t ext_mem_unused_20302[Ry_19210 * Rx_19212];\n        int32_t mem_param_19988[Ry_19210 * Rx_19212];\n        int32_t mem_param_out_20303[Ry_19210 * Rx_19212];\n        \n        for (int32_t i_3 = 0; i_3 < Ry_19210 * Rx_19212; i_3++)\n            mem_param_19988[i_3] = mem_param_in_20301[i_3];\n        for (int32_t i_4 = 0; i_4 < Ry_19210 * Rx_19212; i_4++)\n            mem_param_out_20303[i_4] = mem_20015[i_4];\n        for (int64_t i_19354 = 0; i_19354 < Tk_19213; i_19354++) {\n            int64_t binop_y_19402 = i_19354 * binop_y_19401;\n            int32_t ltid_flat_19383 = local_tid_20373;\n            int64_t ltid_y_19382 = sext_i32_i64(sext_i64_i32(ltid_pre_20377));\n            int64_t ltid_x_19381 = sext_i32_i64(sext_i64_i32(ltid_pre_20378));\n            int32_t mem_19991[Rx_19212];\n            int64_t binop_x_19388 = Rx_19212 * ltid_y_19382;\n            \n            for (int64_t i_19386 = 0; i_19386 < Rx_19212; i_19386++) {\n                int64_t binop_x_19389 = i_19386 + binop_x_19388;\n                int64_t binop_y_19391 = binop_x_19389 * binop_y_19390;\n                int64_t as_transformed_row_loc_ind_19392 = i_19354 + binop_y_19391;\n                \n                for (int64_t i_20413 = 0; i_20413 < (int64_t) 1; i_20413++) {\n                    int32_t tmp_20414 = ((__local int32_t *) color_20315)[as_transformed_row_loc_ind_19392 + i_20413];\n                    \n                    mem_19991[i_19386 + i_20413] = tmp_20414;\n                }\n            }\n            \n            int32_t mem_19995[Rx_19212];\n            int64_t binop_y_19399 = Rx_19212 * ltid_x_19381;\n            \n            for (int64_t i_19397 = 0; i_19397 < Rx_19212; i_19397++) {\n                int64_t binop_x_19400 = i_19397 + binop_y_19399;\n                int64_t as_t", "ransformed_row_loc_ind_19403 = binop_x_19400 + binop_y_19402;\n                \n                for (int64_t i_20416 = 0; i_20416 < (int64_t) 1; i_20416++) {\n                    int32_t tmp_20417 = ((__local int32_t *) color_20314)[as_transformed_row_loc_ind_19403 + i_20416];\n                    \n                    mem_19995[i_19397 + i_20416] = tmp_20417;\n                }\n            }\n            for (int64_t i_20418 = 0; i_20418 < Rx_19212; i_20418++) {\n                int32_t tmp_20419 = mem_19991[i_20418];\n                \n                mem_20001[i_20418] = tmp_20419;\n            }\n            for (int64_t i_20420 = 0; i_20420 < Rx_19212; i_20420++) {\n                int32_t tmp_20421 = mem_19995[i_20420];\n                \n                mem_20005[i_20420] = tmp_20421;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int32_t ltid_flat_19433 = local_tid_20373;\n            int64_t ltid_y_19432 = sext_i32_i64(sext_i64_i32(ltid_pre_20377));\n            int64_t ltid_x_19431 = sext_i32_i64(sext_i64_i32(ltid_pre_20378));\n            \n            for (int64_t i_19438 = 0; i_19438 < Ry_19210; i_19438++) {\n                int32_t a_19444;\n                \n                if (loop_nonempty_19888 == 1) {\n                    int32_t x_19889 = mem_20001[i_19438];\n                    \n                    a_19444 = x_19889;\n                } else {\n                    a_19444 = 0;\n                }\n                for (int64_t i_19441 = 0; i_19441 < Rx_19212; i_19441++) {\n                    int32_t b_19445 = mem_20005[i_19441];\n                    int32_t c_19446 = mem_param_19988[i_19438 * Rx_19212 + i_19441];\n                    int32_t defunc_1_f_res_19449 = mul32(a_19444, b_19445);\n                    int32_t defunc_1_op_res_19452 = add32(c_19446, defunc_1_f_res_19449);\n                    \n                    mem_param_19988[i_19438 * Rx_19212 + i_19441] = defunc_1_op_res_19452;\n                }\n            }\n            for (int64_t ",
                                       "i_20424 = 0; i_20424 < Ry_19210; i_20424++) {\n                for (int64_t i_20425 = 0; i_20425 < Rx_19212; i_20425++) {\n                    int32_t tmp_20426 = mem_param_19988[i_20424 * Rx_19212 + i_20425];\n                    \n                    mem_param_out_20303[i_20424 * Rx_19212 + i_20425] = tmp_20426;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int32_t mem_param_tmp_20409[Ry_19210 * Rx_19212];\n            \n            for (int32_t i_5 = 0; i_5 < Ry_19210 * Rx_19212; i_5++)\n                mem_param_tmp_20409[i_5] = mem_param_out_20303[i_5];\n            \n            int32_t mem_param_out_tmp_20410[Ry_19210 * Rx_19212];\n            \n            for (int32_t i_6 = 0; i_6 < Ry_19210 * Rx_19212; i_6++)\n                mem_param_out_tmp_20410[i_6] = mem_param_19988[i_6];\n            for (int32_t i_7 = 0; i_7 < Ry_19210 * Rx_19212; i_7++)\n                mem_param_19988[i_7] = mem_param_tmp_20409[i_7];\n            for (int32_t i_8 = 0; i_8 < Ry_19210 * Rx_19212; i_8++)\n                mem_param_out_20303[i_8] = mem_param_out_tmp_20410[i_8];\n        }\n        for (int32_t i_9 = 0; i_9 < Ry_19210 * Rx_19212; i_9++)\n            ext_mem_20016[i_9] = mem_param_19988[i_9];\n        for (int32_t i_10 = 0; i_10 < Ry_19210 * Rx_19212; i_10++)\n            ext_mem_unused_20302[i_10] = mem_param_out_20303[i_10];\n        \n        int32_t mem_param_tmp_20398[Ry_19210 * Rx_19212];\n        \n        for (int32_t i_11 = 0; i_11 < Ry_19210 * Rx_19212; i_11++)\n            mem_param_tmp_20398[i_11] = ext_mem_20016[i_11];\n        for (int32_t i_12 = 0; i_12 < Ry_19210 * Rx_19212; i_12++)\n            mem_param_19975[i_12] = mem_param_tmp_20398[i_12];\n    }\n    for (int32_t i_13 = 0; i_13 < Ry_19210 * Rx_19212; i_13++)\n        ext_mem_20027[i_13] = mem_param_19975[i_13];\n    \n    int32_t ltid_flat_19483 = local_tid_20373;\n    \n    for (int64_t nest_i_20427 = 0; nest_i_20427 < Rx_19212; nest_i_20427++) {\n        for (int64_t nest_i_204", "28 = 0; nest_i_20428 < tk_div_tx_19214; nest_i_20428++) {\n            int64_t ltid_seq_19486 = nest_i_20427;\n            int64_t ltid_seq_19487 = nest_i_20428;\n            int64_t ltid_y_19484 = sext_i32_i64(sext_i64_i32(ltid_pre_20383));\n            int64_t ltid_x_19485 = sext_i32_i64(sext_i64_i32(ltid_pre_20384));\n            int64_t binop_y_19488 = Tx_19211 * ltid_seq_19487;\n            int64_t k_19489 = ltid_x_19485 + binop_y_19488;\n            int64_t binop_y_19490 = Tx_19211 * ltid_seq_19486;\n            int64_t i_19491 = ltid_y_19484 + binop_y_19490;\n            int64_t gtid_19492 = iii_19235 + i_19491;\n            int64_t as_transformed_row_seqdim_idx_19493 = kk_19460 + k_19489;\n            bool binop_x_19494 = slt64(gtid_19492, nz2080U_9828);\n            bool binop_y_19495 = slt64(as_transformed_row_seqdim_idx_19493, pz2081U_9829);\n            bool cond_19496 = binop_x_19494 && binop_y_19495;\n            int32_t as_transformed_row_elem_19497;\n            \n            if (cond_19496 == 1) {\n                int32_t A_elem_19499 = ((__global int32_t *) xss_mem_19945)[gtid_19492 * pz2081U_9829 + as_transformed_row_seqdim_idx_19493];\n                \n                as_transformed_row_elem_19497 = A_elem_19499;\n            } else {\n                as_transformed_row_elem_19497 = 0;\n            }\n            \n            bool cond_19501 = slt64(k_19489, Tk_19213);\n            int64_t as_transformed_row_loc_ind_19502;\n            \n            if (cond_19501 == 1) {\n                int64_t binop_y_19503 = (int64_t) 1 + Tk_19213;\n                int64_t binop_y_19504 = i_19491 * binop_y_19503;\n                int64_t x_19505 = k_19489 + binop_y_19504;\n                \n                as_transformed_row_loc_ind_19502 = x_19505;\n            } else {\n                as_transformed_row_loc_ind_19502 = (int64_t) -1;\n            }\n            if (sle64((int64_t) 0, as_transformed_row_loc_ind_19502) && slt64(as_transformed_row_loc_ind_19502, a_loc_szz_19222)) {\n           ", "     ((__local int32_t *) color_20315)[as_transformed_row_loc_ind_19502] = as_transformed_row_elem_19497;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t ltid_flat_19530 = local_tid_20373;\n    \n    for (int64_t nest_i_20429 = 0; nest_i_20429 < Rx_19212; nest_i_20429++) {\n        for (int64_t nest_i_20430 = 0; nest_i_20430 < tk_div_tx_19214; nest_i_20430++) {\n            int64_t ltid_seq_19533 = nest_i_20429;\n            int64_t ltid_seq_19534 = nest_i_20430;\n            int64_t ltid_y_19531 = sext_i32_i64(sext_i64_i32(ltid_pre_20383));\n            int64_t ltid_x_19532 = sext_i32_i64(sext_i64_i32(ltid_pre_20384));\n            int64_t binop_y_19535 = Tx_19211 * ltid_seq_19534;\n            int64_t k_19536 = ltid_y_19531 + binop_y_19535;\n            int64_t binop_y_19537 = Tx_19211 * ltid_seq_19533;\n            int64_t i_19538 = ltid_x_19532 + binop_y_19537;\n            int64_t gtid_19539 = jjj_19236 + i_19538;\n            int64_t as_transformed_row_seqdim_idx_19540 = kk_19460 + k_19536;\n            bool binop_x_19541 = slt64(gtid_19539, mz2082U_9830);\n            bool binop_y_19542 = slt64(as_transformed_row_seqdim_idx_19540, pz2081U_9829);\n            bool cond_19543 = binop_x_19541 && binop_y_19542;\n            int32_t as_transformed_row_elem_19544;\n            \n            if (cond_19543 == 1) {\n                int32_t A_elem_19546 = ((__global int32_t *) yss_mem_19946)[as_transformed_row_seqdim_idx_19540 * mz2082U_9830 + gtid_19539];\n                \n                as_transformed_row_elem_19544 = A_elem_19546;\n            } else {\n                as_transformed_row_elem_19544 = 0;\n            }\n            \n            bool cond_19548 = slt64(k_19536, Tk_19213);\n            int64_t as_transformed_row_loc_ind_19549;\n            \n            if (cond_19548 == 1) {\n                int64_t binop_y_19550 = (int64_t) 1 + TxRx_19216;\n                int64_t binop_y_19551 = k_19536 * binop_y_19550;\n                int64_t x_19552 = i_19538",
                                       " + binop_y_19551;\n                \n                as_transformed_row_loc_ind_19549 = x_19552;\n            } else {\n                as_transformed_row_loc_ind_19549 = (int64_t) -1;\n            }\n            if (sle64((int64_t) 0, as_transformed_row_loc_ind_19549) && slt64(as_transformed_row_loc_ind_19549, b_loc_szz_19227)) {\n                ((__local int32_t *) color_20314)[as_transformed_row_loc_ind_19549] = as_transformed_row_elem_19544;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t mem_20043[Rx_19212];\n    int32_t mem_20047[Rx_19212];\n    int32_t mem_20057[Ry_19210 * Rx_19212];\n    int32_t ext_mem_in_20309[Ry_19210 * Rx_19212];\n    int32_t mem_20266[Ry_19210 * Rx_19212];\n    \n    for (int64_t i_20431 = 0; i_20431 < Ry_19210; i_20431++) {\n        for (int64_t i_20432 = 0; i_20432 < Rx_19212; i_20432++) {\n            int32_t tmp_20433 = ext_mem_20027[i_20431 * Rx_19212 + i_20432];\n            \n            ext_mem_in_20309[i_20431 * Rx_19212 + i_20432] = tmp_20433;\n        }\n    }\n    \n    int32_t ext_mem_20059[Ry_19210 * Rx_19212];\n    int32_t ext_mem_unused_20310[Ry_19210 * Rx_19212];\n    int32_t mem_param_20030[Ry_19210 * Rx_19212];\n    int32_t mem_param_out_20311[Ry_19210 * Rx_19212];\n    \n    for (int32_t i_14 = 0; i_14 < Ry_19210 * Rx_19212; i_14++)\n        mem_param_20030[i_14] = ext_mem_in_20309[i_14];\n    for (int32_t i_15 = 0; i_15 < Ry_19210 * Rx_19212; i_15++)\n        mem_param_out_20311[i_15] = mem_20266[i_15];\n    for (int64_t i_19555 = 0; i_19555 < Tk_19213; i_19555++) {\n        int64_t cmpop_x_19557 = kk_19460 + i_19555;\n        bool cond_19558 = slt64(cmpop_x_19557, pz2081U_9829);\n        \n        if (cond_19558 == 1) {\n            int64_t binop_y_19593 = (int64_t) 1 + Tk_19213;\n            int64_t binop_y_19604 = (int64_t) 1 + TxRx_19216;\n            int64_t binop_y_19605 = i_19555 * binop_y_19604;\n            int32_t ltid_flat_19586 = local_tid_20373;\n            int64_t ltid_y_19585 = sext_i32_i64(sext_i64_i32(l", "tid_pre_20377));\n            int64_t ltid_x_19584 = sext_i32_i64(sext_i64_i32(ltid_pre_20378));\n            int32_t mem_20033[Rx_19212];\n            int64_t binop_x_19591 = Rx_19212 * ltid_y_19585;\n            \n            for (int64_t i_19589 = 0; i_19589 < Rx_19212; i_19589++) {\n                int64_t binop_x_19592 = i_19589 + binop_x_19591;\n                int64_t binop_y_19594 = binop_x_19592 * binop_y_19593;\n                int64_t as_transformed_row_loc_ind_19595 = i_19555 + binop_y_19594;\n                \n                for (int64_t i_20438 = 0; i_20438 < (int64_t) 1; i_20438++) {\n                    int32_t tmp_20439 = ((__local int32_t *) color_20315)[as_transformed_row_loc_ind_19595 + i_20438];\n                    \n                    mem_20033[i_19589 + i_20438] = tmp_20439;\n                }\n            }\n            \n            int32_t mem_20037[Rx_19212];\n            int64_t binop_y_19602 = Rx_19212 * ltid_x_19584;\n            \n            for (int64_t i_19600 = 0; i_19600 < Rx_19212; i_19600++) {\n                int64_t binop_x_19603 = i_19600 + binop_y_19602;\n                int64_t as_transformed_row_loc_ind_19606 = binop_x_19603 + binop_y_19605;\n                \n                for (int64_t i_20441 = 0; i_20441 < (int64_t) 1; i_20441++) {\n                    int32_t tmp_20442 = ((__local int32_t *) color_20314)[as_transformed_row_loc_ind_19606 + i_20441];\n                    \n                    mem_20037[i_19600 + i_20441] = tmp_20442;\n                }\n            }\n            for (int64_t i_20443 = 0; i_20443 < Rx_19212; i_20443++) {\n                int32_t tmp_20444 = mem_20033[i_20443];\n                \n                mem_20043[i_20443] = tmp_20444;\n            }\n            for (int64_t i_20445 = 0; i_20445 < Rx_19212; i_20445++) {\n                int32_t tmp_20446 = mem_20037[i_20445];\n                \n                mem_20047[i_20445] = tmp_20446;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool lo", "op_nonempty_19883 = slt64((int64_t) 0, Rx_19212);\n            int32_t ltid_flat_19636 = local_tid_20373;\n            int64_t ltid_y_19635 = sext_i32_i64(sext_i64_i32(ltid_pre_20377));\n            int64_t ltid_x_19634 = sext_i32_i64(sext_i64_i32(ltid_pre_20378));\n            \n            for (int64_t i_19641 = 0; i_19641 < Ry_19210; i_19641++) {\n                int32_t a_19647;\n                \n                if (loop_nonempty_19883 == 1) {\n                    int32_t x_19884 = mem_20043[i_19641];\n                    \n                    a_19647 = x_19884;\n                } else {\n                    a_19647 = 0;\n                }\n                for (int64_t i_19644 = 0; i_19644 < Rx_19212; i_19644++) {\n                    int32_t b_19648 = mem_20047[i_19644];\n                    int32_t c_19649 = mem_param_20030[i_19641 * Rx_19212 + i_19644];\n                    int32_t defunc_1_f_res_19652 = mul32(a_19647, b_19648);\n                    int32_t defunc_1_op_res_19655 = add32(c_19649, defunc_1_f_res_19652);\n                    \n                    mem_param_20030[i_19641 * Rx_19212 + i_19644] = defunc_1_op_res_19655;\n                }\n            }\n            for (int64_t i_20449 = 0; i_20449 < Ry_19210; i_20449++) {\n                for (int64_t i_20450 = 0; i_20450 < Rx_19212; i_20450++) {\n                    int32_t tmp_20451 = mem_param_20030[i_20449 * Rx_19212 + i_20450];\n                    \n                    mem_20057[i_20449 * Rx_19212 + i_20450] = tmp_20451;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_20452 = 0; i_20452 < Ry_19210; i_20452++) {\n                for (int64_t i_20453 = 0; i_20453 < Rx_19212; i_20453++) {\n                    int32_t tmp_20454 = mem_20057[i_20452 * Rx_19212 + i_20453];\n                    \n                    mem_param_out_20311[i_20452 * Rx_19212 + i_20453] = tmp_20454;\n                }\n            }\n        } else {\n            for (int64_t i_20455 = 0; i_20455 < Ry_1",
                                       "9210; i_20455++) {\n                for (int64_t i_20456 = 0; i_20456 < Rx_19212; i_20456++) {\n                    int32_t tmp_20457 = mem_param_20030[i_20455 * Rx_19212 + i_20456];\n                    \n                    mem_param_out_20311[i_20455 * Rx_19212 + i_20456] = tmp_20457;\n                }\n            }\n        }\n        \n        int32_t mem_param_tmp_20434[Ry_19210 * Rx_19212];\n        \n        for (int32_t i_16 = 0; i_16 < Ry_19210 * Rx_19212; i_16++)\n            mem_param_tmp_20434[i_16] = mem_param_out_20311[i_16];\n        \n        int32_t mem_param_out_tmp_20435[Ry_19210 * Rx_19212];\n        \n        for (int32_t i_17 = 0; i_17 < Ry_19210 * Rx_19212; i_17++)\n            mem_param_out_tmp_20435[i_17] = mem_param_20030[i_17];\n        for (int32_t i_18 = 0; i_18 < Ry_19210 * Rx_19212; i_18++)\n            mem_param_20030[i_18] = mem_param_tmp_20434[i_18];\n        for (int32_t i_19 = 0; i_19 < Ry_19210 * Rx_19212; i_19++)\n            mem_param_out_20311[i_19] = mem_param_out_tmp_20435[i_19];\n    }\n    for (int32_t i_20 = 0; i_20 < Ry_19210 * Rx_19212; i_20++)\n        ext_mem_20059[i_20] = mem_param_20030[i_20];\n    for (int32_t i_21 = 0; i_21 < Ry_19210 * Rx_19212; i_21++)\n        ext_mem_unused_20310[i_21] = mem_param_out_20311[i_21];\n    \n    int64_t slice_20460 = Tx_19211;\n    int64_t slice_20461 = Ty_19209 * slice_20460;\n    int64_t reg_tile_i_20458 = squot64(sext_i32_i64(local_tid_20373), slice_20460);\n    int64_t remnant_20462 = sext_i32_i64(local_tid_20373) - reg_tile_i_20458 * slice_20460;\n    int64_t reg_tile_i_20459 = remnant_20462;\n    int64_t remnant_20463 = remnant_20462 - reg_tile_i_20459;\n    int64_t tile_dim_start_20464 = Ry_19210 * (Ty_19209 * gid_y_19232 + reg_tile_i_20458);\n    int64_t tile_dim_start_20465 = Rx_19212 * (Tx_19211 * gid_x_19233 + reg_tile_i_20459);\n    \n    for (int64_t nest_i_20466 = 0; nest_i_20466 < Ry_19210; nest_i_20466++) {\n        for (int64_t nest_i_20467 = 0; nest_i_20467 < Rx_19212; nest_i_20467++) {\n          ", "  if (slt64(tile_dim_start_20464 + nest_i_20466, nz2080U_9828) && slt64(tile_dim_start_20465 + nest_i_20467, mz2082U_9830)) {\n                int32_t tmp_20468 = ext_mem_20059[nest_i_20466 * Rx_19212 + nest_i_20467];\n                \n                ((__global int32_t *) mem_20063)[(tile_dim_start_20464 + nest_i_20466) * mz2082U_9830 + (tile_dim_start_20465 + nest_i_20467)] = tmp_20468;\n            }\n        }\n    }\n    \n  error_9:\n    return;\n    #undef Ty_19209\n    #undef Ry_19210\n    #undef Tx_19211\n    #undef Rx_19212\n    #undef Tk_19213\n    #undef tk_div_tx_19214\n    #undef TxRx_19216\n    #undef TyRy_19217\n    #undef a_loc_szz_19222\n    #undef b_loc_szz_19227\n    #undef binop_y_19390\n    #undef binop_y_19401\n    #undef loop_nonempty_19888\n}\n__kernel void matmulzisegred_large_16066(__global int *global_failure, __local volatile int64_t *sync_arr_mem_20515_backing_aligned_0, __local volatile int64_t *red_arr_mem_20513_backing_aligned_1, int64_t nz2080U_9828, int64_t pz2081U_9829, int64_t mz2082U_9830, int64_t num_groups_16060, int64_t groups_per_segment_20499, int64_t elements_per_thread_20500, int64_t virt_num_groups_20501, int64_t threads_per_segment_20503, __global unsigned char *xss_mem_19945, __global unsigned char *mem_19949, __global unsigned char *mem_19954, __global unsigned char *segred_tmp_mem_20504, __global unsigned char *matmulzicounter_mem_20506)\n{\n    #define segred_group_sizze_16059 (matmulzisegred_group_sizze_15996)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_20515_backing_1 = (__local volatile unsigned char *) sync_arr_mem_20515_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20513_backing_0 = (__local volatile unsigned char *) red_arr_mem_20513_backing_aligned_1;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20509;\n    int64_t group_sizze_20512;\n    int32_t wave_sizze_20511;\n  ", "  int32_t group_tid_20510;\n    \n    local_tid_20509 = get_local_id(0);\n    group_sizze_20512 = get_local_size(0);\n    wave_sizze_20511 = LOCKSTEP_WIDTH;\n    group_tid_20510 = get_group_id(0);\n    \n    int32_t global_tid_20508 = group_tid_20510 * group_sizze_20512 + local_tid_20509;\n    int32_t phys_tid_16066 = global_tid_20508;\n    __local unsigned char *red_arr_mem_20513;\n    \n    red_arr_mem_20513 = (__local unsigned char *) red_arr_mem_20513_backing_0;\n    \n    __local unsigned char *sync_arr_mem_20515;\n    \n    sync_arr_mem_20515 = (__local unsigned char *) sync_arr_mem_20515_backing_1;\n    \n    int32_t phys_group_id_20517;\n    \n    phys_group_id_20517 = get_group_id(0);\n    \n    int32_t iterations_20518 = sdiv_up32(sext_i64_i32(virt_num_groups_20501) - phys_group_id_20517, sext_i64_i32(num_groups_16060));\n    \n    for (int32_t i_20519 = 0; i_20519 < iterations_20518; i_20519++) {\n        int32_t virt_group_id_20520 = phys_group_id_20517 + i_20519 * sext_i64_i32(num_groups_16060);\n        int32_t flat_segment_id_20521 = squot32(virt_group_id_20520, sext_i64_i32(groups_per_segment_20499));\n        int64_t global_tid_20522 = srem64(sext_i32_i64(virt_group_id_20520) * segred_group_sizze_16059 + sext_i32_i64(local_tid_20509), segred_group_sizze_16059 * groups_per_segment_20499);\n        int64_t slice_20523 = mz2082U_9830;\n        int64_t slice_20524 = nz2080U_9828 * slice_20523;\n        int64_t gtid_16063 = squot64(sext_i32_i64(flat_segment_id_20521), slice_20523);\n        int64_t remnant_20525 = sext_i32_i64(flat_segment_id_20521) - gtid_16063 * slice_20523;\n        int64_t gtid_16064 = remnant_20525;\n        int64_t remnant_20526 = remnant_20525 - gtid_16064;\n        int64_t gtid_16065;\n        int32_t x_acc_20527;\n        int64_t chunk_sizze_20528 = smin64(elements_per_thread_20500, sdiv_up64(pz2081U_9829 - global_tid_20522, threads_per_segment_20503));\n        int32_t x_16067;\n        int32_t x_16068;\n        \n        // neutral-initialise the accumulators\n     ",
                                       "   {\n            x_acc_20527 = 0;\n        }\n        for (int64_t i_20532 = 0; i_20532 < chunk_sizze_20528; i_20532++) {\n            gtid_16065 = global_tid_20522 + threads_per_segment_20503 * i_20532;\n            // apply map function\n            {\n                int32_t x_16072 = ((__global int32_t *) xss_mem_19945)[gtid_16063 * pz2081U_9829 + gtid_16065];\n                int32_t x_16073 = ((__global int32_t *) mem_19949)[gtid_16064 * pz2081U_9829 + gtid_16065];\n                int32_t defunc_1_f_res_16074 = mul32(x_16072, x_16073);\n                \n                // save map-out results\n                { }\n                // load accumulator\n                {\n                    x_16067 = x_acc_20527;\n                }\n                // load new values\n                {\n                    x_16068 = defunc_1_f_res_16074;\n                }\n                // apply reduction operator\n                {\n                    int32_t defunc_1_op_res_16069 = add32(x_16067, x_16068);\n                    \n                    // store in accumulator\n                    {\n                        x_acc_20527 = defunc_1_op_res_16069;\n                    }\n                }\n            }\n        }\n        // to reduce current chunk, first store our result in memory\n        {\n            x_16067 = x_acc_20527;\n            ((__local int32_t *) red_arr_mem_20513)[sext_i32_i64(local_tid_20509)] = x_16067;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_20533;\n        int32_t skip_waves_20534 = 1;\n        int32_t x_20529;\n        int32_t x_20530;\n        \n        offset_20533 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_20509, sext_i64_i32(segred_group_sizze_16059))) {\n                x_20529 = ((__local int32_t *) red_arr_mem_20513)[sext_i32_i64(local_tid_20509 + offset_20533)];\n            }\n        }\n        offset_20533 = 1;\n        while (slt32(offset_20533, wave_sizze_20511)) {\n      ", "      if (slt32(local_tid_20509 + offset_20533, sext_i64_i32(segred_group_sizze_16059)) && ((local_tid_20509 - squot32(local_tid_20509, wave_sizze_20511) * wave_sizze_20511) & (2 * offset_20533 - 1)) == 0) {\n                // read array element\n                {\n                    x_20530 = ((volatile __local int32_t *) red_arr_mem_20513)[sext_i32_i64(local_tid_20509 + offset_20533)];\n                }\n                // apply reduction operation\n                {\n                    int32_t defunc_1_op_res_20531 = add32(x_20529, x_20530);\n                    \n                    x_20529 = defunc_1_op_res_20531;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int32_t *) red_arr_mem_20513)[sext_i32_i64(local_tid_20509)] = x_20529;\n                }\n            }\n            offset_20533 *= 2;\n        }\n        while (slt32(skip_waves_20534, squot32(sext_i64_i32(segred_group_sizze_16059) + wave_sizze_20511 - 1, wave_sizze_20511))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_20533 = skip_waves_20534 * wave_sizze_20511;\n            if (slt32(local_tid_20509 + offset_20533, sext_i64_i32(segred_group_sizze_16059)) && ((local_tid_20509 - squot32(local_tid_20509, wave_sizze_20511) * wave_sizze_20511) == 0 && (squot32(local_tid_20509, wave_sizze_20511) & (2 * skip_waves_20534 - 1)) == 0)) {\n                // read array element\n                {\n                    x_20530 = ((__local int32_t *) red_arr_mem_20513)[sext_i32_i64(local_tid_20509 + offset_20533)];\n                }\n                // apply reduction operation\n                {\n                    int32_t defunc_1_op_res_20531 = add32(x_20529, x_20530);\n                    \n                    x_20529 = defunc_1_op_res_20531;\n                }\n                // write result of operation\n                {\n                    ((__local int32_t *) red_arr_mem_20513)[sext_i32_i64(local_tid_20509)] = x_20529;\n                ", "}\n            }\n            skip_waves_20534 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_20509) == (int64_t) 0) {\n                x_acc_20527 = x_20529;\n            }\n        }\n        if (groups_per_segment_20499 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_20509 == 0) {\n                    ((__global int32_t *) mem_19954)[gtid_16063 * mz2082U_9830 + gtid_16064] = x_acc_20527;\n                }\n            }\n        } else {\n            int32_t old_counter_20535;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_20509 == 0) {\n                    ((__global int32_t *) segred_tmp_mem_20504)[sext_i32_i64(virt_group_id_20520)] = x_acc_20527;\n                    mem_fence_global();\n                    old_counter_20535 = atomic_add_i32_global(&((volatile __global int *) matmulzicounter_mem_20506)[sext_i32_i64(srem32(flat_segment_id_20521, 10240))], (int) 1);\n                    ((__local bool *) sync_arr_mem_20515)[(int64_t) 0] = old_counter_20535 == groups_per_segment_20499 - (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_20536 = ((__local bool *) sync_arr_mem_20515)[(int64_t) 0];\n            \n            if (is_last_group_20536) {\n                if (local_tid_20509 == 0) {\n                    old_counter_20535 = atomic_add_i32_global(&((volatile __global int *) matmulzicounter_mem_20506)[sext_i32_i64(srem32(flat_segment_id_20521, 10240))], (int) ((int64_t) 0 - groups_per_segment_20499));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_20537 = sdiv_up64(groups_per_segment_20499, segred_group_sizze_16059);\n     ",
                                       "               \n                    x_16067 = 0;\n                    for (int64_t i_20538 = 0; i_20538 < read_per_thread_20537; i_20538++) {\n                        int64_t group_res_id_20539 = sext_i32_i64(local_tid_20509) * read_per_thread_20537 + i_20538;\n                        int64_t index_of_group_res_20540 = sext_i32_i64(flat_segment_id_20521) * groups_per_segment_20499 + group_res_id_20539;\n                        \n                        if (slt64(group_res_id_20539, groups_per_segment_20499)) {\n                            x_16068 = ((__global int32_t *) segred_tmp_mem_20504)[index_of_group_res_20540];\n                            \n                            int32_t defunc_1_op_res_16069 = add32(x_16067, x_16068);\n                            \n                            x_16067 = defunc_1_op_res_16069;\n                        }\n                    }\n                }\n                ((__local int32_t *) red_arr_mem_20513)[sext_i32_i64(local_tid_20509)] = x_16067;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_20541;\n                    int32_t skip_waves_20542 = 1;\n                    int32_t x_20529;\n                    int32_t x_20530;\n                    \n                    offset_20541 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_20509, sext_i64_i32(segred_group_sizze_16059))) {\n                            x_20529 = ((__local int32_t *) red_arr_mem_20513)[sext_i32_i64(local_tid_20509 + offset_20541)];\n                        }\n                    }\n                    offset_20541 = 1;\n                    while (slt32(offset_20541, wave_sizze_20511)) {\n                        if (slt32(local_tid_20509 + offset_20541, sext_i64_i32(segred_group_sizze_16059)) && ((local_tid_20509 - squot32(local_tid_20509, wave_sizze_20511) * wave_sizze_20511) & (2 * offset_2054", "1 - 1)) == 0) {\n                            // read array element\n                            {\n                                x_20530 = ((volatile __local int32_t *) red_arr_mem_20513)[sext_i32_i64(local_tid_20509 + offset_20541)];\n                            }\n                            // apply reduction operation\n                            {\n                                int32_t defunc_1_op_res_20531 = add32(x_20529, x_20530);\n                                \n                                x_20529 = defunc_1_op_res_20531;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int32_t *) red_arr_mem_20513)[sext_i32_i64(local_tid_20509)] = x_20529;\n                            }\n                        }\n                        offset_20541 *= 2;\n                    }\n                    while (slt32(skip_waves_20542, squot32(sext_i64_i32(segred_group_sizze_16059) + wave_sizze_20511 - 1, wave_sizze_20511))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_20541 = skip_waves_20542 * wave_sizze_20511;\n                        if (slt32(local_tid_20509 + offset_20541, sext_i64_i32(segred_group_sizze_16059)) && ((local_tid_20509 - squot32(local_tid_20509, wave_sizze_20511) * wave_sizze_20511) == 0 && (squot32(local_tid_20509, wave_sizze_20511) & (2 * skip_waves_20542 - 1)) == 0)) {\n                            // read array element\n                            {\n                                x_20530 = ((__local int32_t *) red_arr_mem_20513)[sext_i32_i64(local_tid_20509 + offset_20541)];\n                            }\n                            // apply reduction operation\n                            {\n                                int32_t defunc_1_op_res_20531 = add32(x_20529, x_20530);\n                                \n                                x_20529 = defunc_1_op_res_20531;\n                            }\n ", "                           // write result of operation\n                            {\n                                ((__local int32_t *) red_arr_mem_20513)[sext_i32_i64(local_tid_20509)] = x_20529;\n                            }\n                        }\n                        skip_waves_20542 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_20509 == 0) {\n                            ((__global int32_t *) mem_19954)[gtid_16063 * mz2082U_9830 + gtid_16064] = x_20529;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_16059\n}\n__kernel void matmulzisegred_small_16066(__global int *global_failure, __local volatile int64_t *red_arr_mem_20476_backing_aligned_0, int64_t nz2080U_9828, int64_t pz2081U_9829, int64_t mz2082U_9830, int64_t num_groups_16060, int64_t segment_sizze_nonzzero_20469, __global unsigned char *xss_mem_19945, __global unsigned char *mem_19949, __global unsigned char *mem_19954)\n{\n    #define segred_group_sizze_16059 (matmulzisegred_group_sizze_15996)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_20476_backing_0 = (__local volatile unsigned char *) red_arr_mem_20476_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20472;\n    int64_t group_sizze_20475;\n    int32_t wave_sizze_20474;\n    int32_t group_tid_20473;\n    \n    local_tid_20472 = get_local_id(0);\n    group_sizze_20475 = get_local_size(0);\n    wave_sizze_20474 = LOCKSTEP_WIDTH;\n    group_tid_20473 = get_group_id(0);\n    \n    int32_t global_tid_20471 = group_tid_20473 * group_sizze_20475 + local_tid_20472;\n    int32_t phys_tid_16066 = global_tid_20471;\n    __local unsigned char *red_arr_",
                                       "mem_20476;\n    \n    red_arr_mem_20476 = (__local unsigned char *) red_arr_mem_20476_backing_0;\n    \n    int32_t phys_group_id_20478;\n    \n    phys_group_id_20478 = get_group_id(0);\n    \n    int32_t iterations_20479 = sdiv_up32(sext_i64_i32(sdiv_up64(nz2080U_9828 * mz2082U_9830, squot64(segred_group_sizze_16059, segment_sizze_nonzzero_20469))) - phys_group_id_20478, sext_i64_i32(num_groups_16060));\n    \n    for (int32_t i_20480 = 0; i_20480 < iterations_20479; i_20480++) {\n        int32_t virt_group_id_20481 = phys_group_id_20478 + i_20480 * sext_i64_i32(num_groups_16060);\n        int64_t slice_20482 = mz2082U_9830;\n        int64_t slice_20483 = nz2080U_9828 * slice_20482;\n        int64_t gtid_16063 = squot64(squot64(sext_i32_i64(local_tid_20472), segment_sizze_nonzzero_20469) + sext_i32_i64(virt_group_id_20481) * squot64(segred_group_sizze_16059, segment_sizze_nonzzero_20469), slice_20482);\n        int64_t remnant_20484 = squot64(sext_i32_i64(local_tid_20472), segment_sizze_nonzzero_20469) + sext_i32_i64(virt_group_id_20481) * squot64(segred_group_sizze_16059, segment_sizze_nonzzero_20469) - gtid_16063 * slice_20482;\n        int64_t gtid_16064 = remnant_20484;\n        int64_t remnant_20485 = remnant_20484 - gtid_16064;\n        int64_t gtid_16065 = srem64(sext_i32_i64(local_tid_20472), pz2081U_9829);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, pz2081U_9829) && ((slt64(gtid_16063, nz2080U_9828) && slt64(gtid_16064, mz2082U_9830)) && slt64(sext_i32_i64(local_tid_20472), pz2081U_9829 * squot64(segred_group_sizze_16059, segment_sizze_nonzzero_20469)))) {\n                int32_t x_16072 = ((__global int32_t *) xss_mem_19945)[gtid_16063 * pz2081U_9829 + gtid_16065];\n                int32_t x_16073 = ((__global int32_t *) mem_19949)[gtid_16064 * pz2081U_9829 + gtid_16065];\n                int32_t defunc_1_f_res_16074 = mul32(x_16072, x_16073);\n                \n                // save map-out results\n                { }\n  ", "              // save results to be reduced\n                {\n                    ((__local int32_t *) red_arr_mem_20476)[sext_i32_i64(local_tid_20472)] = defunc_1_f_res_16074;\n                }\n            } else {\n                ((__local int32_t *) red_arr_mem_20476)[sext_i32_i64(local_tid_20472)] = 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, pz2081U_9829)) {\n            // perform segmented scan to imitate reduction\n            {\n                int32_t x_16067;\n                int32_t x_16068;\n                int32_t x_20486;\n                int32_t x_20487;\n                bool ltid_in_bounds_20489 = slt64(sext_i32_i64(local_tid_20472), pz2081U_9829 * squot64(segred_group_sizze_16059, segment_sizze_nonzzero_20469));\n                int32_t skip_threads_20490;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_20489) {\n                        x_16068 = ((volatile __local int32_t *) red_arr_mem_20476)[sext_i32_i64(local_tid_20472)];\n                        if ((local_tid_20472 - squot32(local_tid_20472, 32) * 32) == 0) {\n                            x_16067 = x_16068;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_20490 = 1;\n                    while (slt32(skip_threads_20490, 32)) {\n                        bool thread_active_20491 = sle32(skip_threads_20490, local_tid_20472 - squot32(local_tid_20472, 32) * 32) && ltid_in_bounds_20489;\n                        \n                        if (thread_active_20491) {\n                            // read operands\n                            {\n                                x_16067 = ((volatile __local int32_t *) red_arr_mem_20476)[sext_i32_i64(local_tid_20472) - sext_i32_i64(skip_threads_20490)];\n                            }\n                        }\n                ", "        // perform operation\n                        {\n                            bool inactive_20492 = slt64(srem64(sext_i32_i64(local_tid_20472), pz2081U_9829), sext_i32_i64(local_tid_20472) - sext_i32_i64(local_tid_20472 - skip_threads_20490));\n                            \n                            if (thread_active_20491 && inactive_20492) {\n                                x_16067 = x_16068;\n                            }\n                            if (thread_active_20491) {\n                                if (!inactive_20492) {\n                                    int32_t defunc_1_op_res_16069 = add32(x_16067, x_16068);\n                                    \n                                    x_16067 = defunc_1_op_res_16069;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_20474, skip_threads_20490)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_20491) {\n                            // write result\n                            {\n                                ((volatile __local int32_t *) red_arr_mem_20476)[sext_i32_i64(local_tid_20472)] = x_16067;\n                                x_16068 = x_16067;\n                            }\n                        }\n                        if (sle32(wave_sizze_20474, skip_threads_20490)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_20490 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_20472 - squot32(local_tid_20472, 32) * 32) == 31 && ltid_in_bounds_20489) {\n                        ((volatile __local int32_t *) red_arr_mem_20476)[sext_i32_i64(squot32(local_tid_20472, 32))] = x_16067;\n                    }\n      ",
                                       "          }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_20493;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_20472, 32) == 0 && ltid_in_bounds_20489) {\n                            x_20487 = ((volatile __local int32_t *) red_arr_mem_20476)[sext_i32_i64(local_tid_20472)];\n                            if ((local_tid_20472 - squot32(local_tid_20472, 32) * 32) == 0) {\n                                x_20486 = x_20487;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_20493 = 1;\n                        while (slt32(skip_threads_20493, 32)) {\n                            bool thread_active_20494 = sle32(skip_threads_20493, local_tid_20472 - squot32(local_tid_20472, 32) * 32) && (squot32(local_tid_20472, 32) == 0 && ltid_in_bounds_20489);\n                            \n                            if (thread_active_20494) {\n                                // read operands\n                                {\n                                    x_20486 = ((volatile __local int32_t *) red_arr_mem_20476)[sext_i32_i64(local_tid_20472) - sext_i32_i64(skip_threads_20493)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_20495 = slt64(srem64(sext_i32_i64(local_tid_20472 * 32 + 32 - 1), pz2081U_9829), sext_i32_i64(local_tid_20472 * 32 + 32 - 1) - sext_i32_i64((local_tid_20472 - skip_threads_20493) * 32 + 32 - 1));\n                                \n                                if (thread_active_20494 && inactive_20495) {\n                            ", "        x_20486 = x_20487;\n                                }\n                                if (thread_active_20494) {\n                                    if (!inactive_20495) {\n                                        int32_t defunc_1_op_res_20488 = add32(x_20486, x_20487);\n                                        \n                                        x_20486 = defunc_1_op_res_20488;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_20474, skip_threads_20493)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_20494) {\n                                // write result\n                                {\n                                    ((volatile __local int32_t *) red_arr_mem_20476)[sext_i32_i64(local_tid_20472)] = x_20486;\n                                    x_20487 = x_20486;\n                                }\n                            }\n                            if (sle32(wave_sizze_20474, skip_threads_20493)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_20493 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_20496 = squot32(local_tid_20472, 32) == 0 || !ltid_in_bounds_20489;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_20496) {\n                            x_16068 = x_16067;\n                            x_16067 = ((__local int32_t *) red_arr_mem_20476)[sext_i32_i64(squot32(local_tid_20472, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n", "                        bool inactive_20497 = slt64(srem64(sext_i32_i64(local_tid_20472), pz2081U_9829), sext_i32_i64(local_tid_20472) - sext_i32_i64(squot32(local_tid_20472, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_20496) {\n                            if (inactive_20497) {\n                                x_16067 = x_16068;\n                            }\n                        }\n                        if (!no_carry_in_20496) {\n                            if (!inactive_20497) {\n                                int32_t defunc_1_op_res_16069 = add32(x_16067, x_16068);\n                                \n                                x_16067 = defunc_1_op_res_16069;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_20496) {\n                            ((__local int32_t *) red_arr_mem_20476)[sext_i32_i64(local_tid_20472)] = x_16067;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_20472, 32) == 0 && ltid_in_bounds_20489) {\n                        ((__local int32_t *) red_arr_mem_20476)[sext_i32_i64(local_tid_20472)] = x_16068;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_20481) * squot64(segred_group_sizze_16059, segment_sizze_nonzzero_20469) + sext_i32_i64(local_tid_20472), nz2080U_9828 * mz2082U_9830) && slt64(sext_i32_i64(local_tid_20472), squot64(segred_group_sizze_16059, segment_sizze_nonzzero_20469))) {\n                int32_t tmp_20498 = ((__local int32_t *) red_arr_mem_20476)[(sext_i32_i64(local_tid_20472) + (int64_t", ") 1) * segment_sizze_nonzzero_20469 - (int64_t) 1];\n                \n                ((__global int32_t *) mem_19954)[squot64(sext_i32_i64(virt_group_id_20481) * squot64(segred_group_sizze_16059, segment_sizze_nonzzero_20469) + sext_i32_i64(local_tid_20472), mz2082U_9830) * mz2082U_9830 + (sext_i32_i64(virt_group_id_20481) * squot64(segred_group_sizze_16059, segment_sizze_nonzzero_20469) + sext_i32_i64(local_tid_20472) - squot64(sext_i32_i64(virt_group_id_20481) * squot64(segred_group_sizze_16059, segment_sizze_nonzzero_20469) + sext_i32_i64(local_tid_20472), mz2082U_9830) * mz2082U_9830)] = tmp_20498;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_16059\n}\n", NULL};
static const char *tuning_param_names[] = {"make_transposed_quotient_codewords_non_opaque.segmap_group_size_16382", "make_transposed_quotient_codewords_non_opaque.segmap_group_size_16986", "make_transposed_quotient_codewords_non_opaque.segmap_group_size_17396", "make_transposed_quotient_codewords_non_opaque.segmap_group_size_17479", "make_transposed_quotient_codewords_non_opaque.segmap_group_size_17642", "make_transposed_quotient_codewords_non_opaque.segmap_num_groups_16384", "make_transposed_quotient_codewords_non_opaque.segmap_num_groups_16988", "make_transposed_quotient_codewords_non_opaque.segmap_num_groups_17398", "make_transposed_quotient_codewords_non_opaque.segred_group_size_17440", "make_transposed_quotient_codewords_non_opaque.segred_group_size_17680", "make_transposed_quotient_codewords_non_opaque.segred_num_groups_17442", "make_transposed_quotient_codewords_non_opaque.segred_num_groups_17682", "make_transposed_quotient_codewords_non_opaque.suff_intra_par_1", "make_transposed_quotient_codewords_non_opaque.suff_intra_par_3", "make_transposed_quotient_codewords_non_opaque.suff_outer_par_0", "make_transposed_quotient_codewords_non_opaque.suff_outer_par_2", "make_transposed_quotient_codewords_non_opaque.suff_outer_par_4", "matmul.Rx_19207", "matmul.Ry_19208", "matmul.Tk_19204", "matmul.Tx_19205", "matmul.Ty_19206", "matmul.segmap_group_size_15933", "matmul.segmap_num_groups_15935", "matmul.segred_group_size_15996", "matmul.segred_num_groups_15998", "matmul.suff_outer_par_0", "matmul.suff_outer_par_1"};
static const char *tuning_param_vars[] = {"make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16382", "make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16986", "make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17396", "make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17479", "make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17642", "make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16384", "make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16988", "make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_17398", "make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17440", "make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17680", "make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17442", "make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17682", "make_transposed_quotient_codewords_non_opaquezisuff_intra_par_1", "make_transposed_quotient_codewords_non_opaquezisuff_intra_par_3", "make_transposed_quotient_codewords_non_opaquezisuff_outer_par_0", "make_transposed_quotient_codewords_non_opaquezisuff_outer_par_2", "make_transposed_quotient_codewords_non_opaquezisuff_outer_par_4", "matmulziRx_19207", "matmulziRy_19208", "matmulziTk_19204", "matmulziTx_19205", "matmulziTy_19206", "matmulzisegmap_group_sizze_15933", "matmulzisegmap_num_groups_15935", "matmulzisegred_group_sizze_15996", "matmulzisegred_num_groups_15998", "matmulzisuff_outer_par_0", "matmulzisuff_outer_par_1"};
static const char *tuning_param_classes[] = {"group_size", "group_size", "group_size", "group_size", "group_size", "num_groups", "num_groups", "num_groups", "group_size", "group_size", "num_groups", "num_groups", "threshold(32, !make_transposed_quotient_codewords_non_opaque.suff_outer_par_0)", "threshold(32, !make_transposed_quotient_codewords_non_opaque.suff_outer_par_2 !make_transposed_quotient_codewords_non_opaque.suff_outer_par_0 !make_transposed_quotient_codewords_non_opaque.suff_intra_par_1)", "threshold(def, )", "threshold(def, !make_transposed_quotient_codewords_non_opaque.suff_outer_par_0 !make_transposed_quotient_codewords_non_opaque.suff_intra_par_1)", "threshold(def, !make_transposed_quotient_codewords_non_opaque.suff_outer_par_2 !make_transposed_quotient_codewords_non_opaque.suff_intra_par_3 !make_transposed_quotient_codewords_non_opaque.suff_outer_par_0 !make_transposed_quotient_codewords_non_opaque.suff_intra_par_1)", "reg_tile_size", "reg_tile_size", "tile_size", "tile_size", "tile_size", "group_size", "num_groups", "group_size", "num_groups", "threshold(def, )", "threshold(def, !matmul.suff_outer_par_0)"};
struct tuning_params {
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16382;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16986;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17396;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17479;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17642;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16384;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16988;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_17398;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17440;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17680;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17442;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17682;
    int64_t *make_transposed_quotient_codewords_non_opaquezisuff_intra_par_1;
    int64_t *make_transposed_quotient_codewords_non_opaquezisuff_intra_par_3;
    int64_t *make_transposed_quotient_codewords_non_opaquezisuff_outer_par_0;
    int64_t *make_transposed_quotient_codewords_non_opaquezisuff_outer_par_2;
    int64_t *make_transposed_quotient_codewords_non_opaquezisuff_outer_par_4;
    int64_t *matmulziRx_19207;
    int64_t *matmulziRy_19208;
    int64_t *matmulziTk_19204;
    int64_t *matmulziTx_19205;
    int64_t *matmulziTy_19206;
    int64_t *matmulzisegmap_group_sizze_15933;
    int64_t *matmulzisegmap_num_groups_15935;
    int64_t *matmulzisegred_group_sizze_15996;
    int64_t *matmulzisegred_num_groups_15998;
    int64_t *matmulzisuff_outer_par_0;
    int64_t *matmulzisuff_outer_par_1;
};
||||||| parent of d23c9a2 (ispc)
// End of opencl.h.

static const char *opencl_program[] = {"\n// Clang-based OpenCL implementations need this for 'static' to work.\n#ifdef cl_clang_storage_class_specifiers\n#pragma OPENCL EXTENSION cl_clang_storage_class_specifiers : enable\n#endif\n#pragma OPENCL EXTENSION cl_khr_byte_addressable_store : enable\n\n// Some OpenCL programs dislike empty progams, or programs with no kernels.\n// Declare a dummy kernel to ensure they remain our friends.\n__kernel void dummy_kernel(__global unsigned char *dummy, int n)\n{\n    const int thread_gid = get_global_id(0);\n    if (thread_gid >= n) return;\n}\n\n#pragma OPENCL EXTENSION cl_khr_int64_base_atomics : enable\n#pragma OPENCL EXTENSION cl_khr_int64_extended_atomics : enable\n\ntypedef char int8_t;\ntypedef short int16_t;\ntypedef int int32_t;\ntypedef long int64_t;\n\ntypedef uchar uint8_t;\ntypedef ushort uint16_t;\ntypedef uint uint32_t;\ntypedef ulong uint64_t;\n\n// NVIDIAs OpenCL does not create device-wide memory fences (see #734), so we\n// use inline assembly if we detect we are on an NVIDIA GPU.\n#ifdef cl_nv_pragma_unroll\nstatic inline void mem_fence_global() {\n  asm(\"membar.gl;\");\n}\n#else\nstatic inline void mem_fence_global() {\n  mem_fence(CLK_LOCAL_MEM_FENCE | CLK_GLOBAL_MEM_FENCE);\n}\n#endif\nstatic inline void mem_fence_local() {\n  mem_fence(CLK_LOCAL_MEM_FENCE);\n}\n// Start of half.h.\n\n// Conversion functions are from http://half.sourceforge.net/, but\n// translated to C.\n//\n// Copyright (c) 2012-2021 Christian Rau\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Softwa", "re.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n#ifndef __OPENCL_VERSION__\n#define __constant\n#endif\n\n__constant static const uint16_t base_table[512] = {\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,\n  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0001, 0x0002, 0x0004, 0x0008, 0x0010, 0x0020, 0x0040, 0x0080, 0x0100,\n  0x0200, 0x0400, 0x0800, 0x0C00, 0x1000, 0x1400, 0x1800, 0x1C00, 0x2000, 0x2400, 0x2800, 0x2C00, 0x3000, 0x3400, 0x3800, 0x3C00,\n  0x4000, 0x4400, 0x4800, 0x4C00, 0x5000, 0x5400, 0x5800, 0x5C00, 0x6000, 0x6400, 0x6800, 0x6C00, 0x7000, 0x7400, 0x7800, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C0", "0, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00, 0x7C00,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000,\n  0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8000, 0x8001, 0x8002, 0x8004, 0x8008, 0x8010, 0x8020, 0x8040, 0x8080, 0x8100,\n  0x8200, 0x8400, 0x8800, 0x8C00, 0x9000, 0x9400, 0x9800, 0x9C00, 0xA000, 0xA400, 0xA800, 0xAC00, 0xB000, 0xB400, 0xB800, 0xBC00,\n  0xC000, 0xC400, 0xC800, 0xCC00, 0xD000, 0xD400, 0xD800, 0xDC00, 0xE000, 0xE400, 0xE800, 0xEC00, 0xF000, 0xF400, 0xF800, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC0",
                                       "0, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00,\n  0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00, 0xFC00 };\n\n__constant static const unsigned char shift_table[512] = {\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 2", "4, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13,\n  13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,\n  24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 13 };\n\n__constant static const uint32_t mantissa_table[2048] = {\n  0x00000000, 0x33800000, 0x34000000, 0x34400000, 0x34800000, 0x34A00000, 0x34C00000, 0x34E00000, 0x35000000, 0x35100000, 0x35200000, 0x35300000, 0x35400000, 0x35500000, 0x35600000, 0x35700000,\n  0x35800000, 0x35880000, 0x35900000, 0x35980000, 0x35A00000, 0x35A80000, 0x35B00000, 0x35B80000, 0x35C00000, 0x35C80000, 0x35D00000, 0x35D80000, 0x35E00000, 0x35E80000, 0x35F00000, 0x35F80000,\n  0x36000000, 0x36040000, 0x36080000, 0x360C0000, 0x36100000, 0x36140000, 0x36180000, 0x361C0000, 0x36200000, 0x36240000, 0x36280000, 0x362C0000, 0x36300000, 0x36340000, 0x36380000, 0x363C0000,\n  0x36400000, 0x36440000, 0x36480000, 0x364C0000, 0x36500000, 0x36540000, 0x36580000, 0x365C0000, 0x36600000, 0x36640000, 0x36680000, 0x366C0000, 0x36700000, 0x36740000, 0x36780000, 0x367C0000,\n  0x36800000, 0x36820000, 0x36840000, 0x36860000, 0x36880000, 0x368A0000, 0x368C0000, 0x368E0000, 0x36900000, 0x36920000, 0x36940000, 0x36960000, 0x36980000, 0x369A0000, 0x369C0000, 0x369E0000,\n  0x36A00000, 0x36A20000, 0x36A40000, 0x36A60000, 0x36A80000, 0x36AA00", "00, 0x36AC0000, 0x36AE0000, 0x36B00000, 0x36B20000, 0x36B40000, 0x36B60000, 0x36B80000, 0x36BA0000, 0x36BC0000, 0x36BE0000,\n  0x36C00000, 0x36C20000, 0x36C40000, 0x36C60000, 0x36C80000, 0x36CA0000, 0x36CC0000, 0x36CE0000, 0x36D00000, 0x36D20000, 0x36D40000, 0x36D60000, 0x36D80000, 0x36DA0000, 0x36DC0000, 0x36DE0000,\n  0x36E00000, 0x36E20000, 0x36E40000, 0x36E60000, 0x36E80000, 0x36EA0000, 0x36EC0000, 0x36EE0000, 0x36F00000, 0x36F20000, 0x36F40000, 0x36F60000, 0x36F80000, 0x36FA0000, 0x36FC0000, 0x36FE0000,\n  0x37000000, 0x37010000, 0x37020000, 0x37030000, 0x37040000, 0x37050000, 0x37060000, 0x37070000, 0x37080000, 0x37090000, 0x370A0000, 0x370B0000, 0x370C0000, 0x370D0000, 0x370E0000, 0x370F0000,\n  0x37100000, 0x37110000, 0x37120000, 0x37130000, 0x37140000, 0x37150000, 0x37160000, 0x37170000, 0x37180000, 0x37190000, 0x371A0000, 0x371B0000, 0x371C0000, 0x371D0000, 0x371E0000, 0x371F0000,\n  0x37200000, 0x37210000, 0x37220000, 0x37230000, 0x37240000, 0x37250000, 0x37260000, 0x37270000, 0x37280000, 0x37290000, 0x372A0000, 0x372B0000, 0x372C0000, 0x372D0000, 0x372E0000, 0x372F0000,\n  0x37300000, 0x37310000, 0x37320000, 0x37330000, 0x37340000, 0x37350000, 0x37360000, 0x37370000, 0x37380000, 0x37390000, 0x373A0000, 0x373B0000, 0x373C0000, 0x373D0000, 0x373E0000, 0x373F0000,\n  0x37400000, 0x37410000, 0x37420000, 0x37430000, 0x37440000, 0x37450000, 0x37460000, 0x37470000, 0x37480000, 0x37490000, 0x374A0000, 0x374B0000, 0x374C0000, 0x374D0000, 0x374E0000, 0x374F0000,\n  0x37500000, 0x37510000, 0x37520000, 0x37530000, 0x37540000, 0x37550000, 0x37560000, 0x37570000, 0x37580000, 0x37590000, 0x375A0000, 0x375B0000, 0x375C0000, 0x375D0000, 0x375E0000, 0x375F0000,\n  0x37600000, 0x37610000, 0x37620000, 0x37630000, 0x37640000, 0x37650000, 0x37660000, 0x37670000, 0x37680000, 0x37690000, 0x376A0000, 0x376B0000, 0x376C0000, 0x376D0000, 0x376E0000, 0x376F0000,\n  0x37700000, 0x37710000, 0x37720000, 0x37730000, 0x37740000, 0x37750000, 0x37760000, 0x37770000, 0x37780000, 0x37790000, 0x377A00",
                                       "00, 0x377B0000, 0x377C0000, 0x377D0000, 0x377E0000, 0x377F0000,\n  0x37800000, 0x37808000, 0x37810000, 0x37818000, 0x37820000, 0x37828000, 0x37830000, 0x37838000, 0x37840000, 0x37848000, 0x37850000, 0x37858000, 0x37860000, 0x37868000, 0x37870000, 0x37878000,\n  0x37880000, 0x37888000, 0x37890000, 0x37898000, 0x378A0000, 0x378A8000, 0x378B0000, 0x378B8000, 0x378C0000, 0x378C8000, 0x378D0000, 0x378D8000, 0x378E0000, 0x378E8000, 0x378F0000, 0x378F8000,\n  0x37900000, 0x37908000, 0x37910000, 0x37918000, 0x37920000, 0x37928000, 0x37930000, 0x37938000, 0x37940000, 0x37948000, 0x37950000, 0x37958000, 0x37960000, 0x37968000, 0x37970000, 0x37978000,\n  0x37980000, 0x37988000, 0x37990000, 0x37998000, 0x379A0000, 0x379A8000, 0x379B0000, 0x379B8000, 0x379C0000, 0x379C8000, 0x379D0000, 0x379D8000, 0x379E0000, 0x379E8000, 0x379F0000, 0x379F8000,\n  0x37A00000, 0x37A08000, 0x37A10000, 0x37A18000, 0x37A20000, 0x37A28000, 0x37A30000, 0x37A38000, 0x37A40000, 0x37A48000, 0x37A50000, 0x37A58000, 0x37A60000, 0x37A68000, 0x37A70000, 0x37A78000,\n  0x37A80000, 0x37A88000, 0x37A90000, 0x37A98000, 0x37AA0000, 0x37AA8000, 0x37AB0000, 0x37AB8000, 0x37AC0000, 0x37AC8000, 0x37AD0000, 0x37AD8000, 0x37AE0000, 0x37AE8000, 0x37AF0000, 0x37AF8000,\n  0x37B00000, 0x37B08000, 0x37B10000, 0x37B18000, 0x37B20000, 0x37B28000, 0x37B30000, 0x37B38000, 0x37B40000, 0x37B48000, 0x37B50000, 0x37B58000, 0x37B60000, 0x37B68000, 0x37B70000, 0x37B78000,\n  0x37B80000, 0x37B88000, 0x37B90000, 0x37B98000, 0x37BA0000, 0x37BA8000, 0x37BB0000, 0x37BB8000, 0x37BC0000, 0x37BC8000, 0x37BD0000, 0x37BD8000, 0x37BE0000, 0x37BE8000, 0x37BF0000, 0x37BF8000,\n  0x37C00000, 0x37C08000, 0x37C10000, 0x37C18000, 0x37C20000, 0x37C28000, 0x37C30000, 0x37C38000, 0x37C40000, 0x37C48000, 0x37C50000, 0x37C58000, 0x37C60000, 0x37C68000, 0x37C70000, 0x37C78000,\n  0x37C80000, 0x37C88000, 0x37C90000, 0x37C98000, 0x37CA0000, 0x37CA8000, 0x37CB0000, 0x37CB8000, 0x37CC0000, 0x37CC8000, 0x37CD0000, 0x37CD8000, 0x37CE0000, 0x37CE8000, 0x37CF0000, 0x37CF80", "00,\n  0x37D00000, 0x37D08000, 0x37D10000, 0x37D18000, 0x37D20000, 0x37D28000, 0x37D30000, 0x37D38000, 0x37D40000, 0x37D48000, 0x37D50000, 0x37D58000, 0x37D60000, 0x37D68000, 0x37D70000, 0x37D78000,\n  0x37D80000, 0x37D88000, 0x37D90000, 0x37D98000, 0x37DA0000, 0x37DA8000, 0x37DB0000, 0x37DB8000, 0x37DC0000, 0x37DC8000, 0x37DD0000, 0x37DD8000, 0x37DE0000, 0x37DE8000, 0x37DF0000, 0x37DF8000,\n  0x37E00000, 0x37E08000, 0x37E10000, 0x37E18000, 0x37E20000, 0x37E28000, 0x37E30000, 0x37E38000, 0x37E40000, 0x37E48000, 0x37E50000, 0x37E58000, 0x37E60000, 0x37E68000, 0x37E70000, 0x37E78000,\n  0x37E80000, 0x37E88000, 0x37E90000, 0x37E98000, 0x37EA0000, 0x37EA8000, 0x37EB0000, 0x37EB8000, 0x37EC0000, 0x37EC8000, 0x37ED0000, 0x37ED8000, 0x37EE0000, 0x37EE8000, 0x37EF0000, 0x37EF8000,\n  0x37F00000, 0x37F08000, 0x37F10000, 0x37F18000, 0x37F20000, 0x37F28000, 0x37F30000, 0x37F38000, 0x37F40000, 0x37F48000, 0x37F50000, 0x37F58000, 0x37F60000, 0x37F68000, 0x37F70000, 0x37F78000,\n  0x37F80000, 0x37F88000, 0x37F90000, 0x37F98000, 0x37FA0000, 0x37FA8000, 0x37FB0000, 0x37FB8000, 0x37FC0000, 0x37FC8000, 0x37FD0000, 0x37FD8000, 0x37FE0000, 0x37FE8000, 0x37FF0000, 0x37FF8000,\n  0x38000000, 0x38004000, 0x38008000, 0x3800C000, 0x38010000, 0x38014000, 0x38018000, 0x3801C000, 0x38020000, 0x38024000, 0x38028000, 0x3802C000, 0x38030000, 0x38034000, 0x38038000, 0x3803C000,\n  0x38040000, 0x38044000, 0x38048000, 0x3804C000, 0x38050000, 0x38054000, 0x38058000, 0x3805C000, 0x38060000, 0x38064000, 0x38068000, 0x3806C000, 0x38070000, 0x38074000, 0x38078000, 0x3807C000,\n  0x38080000, 0x38084000, 0x38088000, 0x3808C000, 0x38090000, 0x38094000, 0x38098000, 0x3809C000, 0x380A0000, 0x380A4000, 0x380A8000, 0x380AC000, 0x380B0000, 0x380B4000, 0x380B8000, 0x380BC000,\n  0x380C0000, 0x380C4000, 0x380C8000, 0x380CC000, 0x380D0000, 0x380D4000, 0x380D8000, 0x380DC000, 0x380E0000, 0x380E4000, 0x380E8000, 0x380EC000, 0x380F0000, 0x380F4000, 0x380F8000, 0x380FC000,\n  0x38100000, 0x38104000, 0x38108000, 0x3810C000, 0x3811", "0000, 0x38114000, 0x38118000, 0x3811C000, 0x38120000, 0x38124000, 0x38128000, 0x3812C000, 0x38130000, 0x38134000, 0x38138000, 0x3813C000,\n  0x38140000, 0x38144000, 0x38148000, 0x3814C000, 0x38150000, 0x38154000, 0x38158000, 0x3815C000, 0x38160000, 0x38164000, 0x38168000, 0x3816C000, 0x38170000, 0x38174000, 0x38178000, 0x3817C000,\n  0x38180000, 0x38184000, 0x38188000, 0x3818C000, 0x38190000, 0x38194000, 0x38198000, 0x3819C000, 0x381A0000, 0x381A4000, 0x381A8000, 0x381AC000, 0x381B0000, 0x381B4000, 0x381B8000, 0x381BC000,\n  0x381C0000, 0x381C4000, 0x381C8000, 0x381CC000, 0x381D0000, 0x381D4000, 0x381D8000, 0x381DC000, 0x381E0000, 0x381E4000, 0x381E8000, 0x381EC000, 0x381F0000, 0x381F4000, 0x381F8000, 0x381FC000,\n  0x38200000, 0x38204000, 0x38208000, 0x3820C000, 0x38210000, 0x38214000, 0x38218000, 0x3821C000, 0x38220000, 0x38224000, 0x38228000, 0x3822C000, 0x38230000, 0x38234000, 0x38238000, 0x3823C000,\n  0x38240000, 0x38244000, 0x38248000, 0x3824C000, 0x38250000, 0x38254000, 0x38258000, 0x3825C000, 0x38260000, 0x38264000, 0x38268000, 0x3826C000, 0x38270000, 0x38274000, 0x38278000, 0x3827C000,\n  0x38280000, 0x38284000, 0x38288000, 0x3828C000, 0x38290000, 0x38294000, 0x38298000, 0x3829C000, 0x382A0000, 0x382A4000, 0x382A8000, 0x382AC000, 0x382B0000, 0x382B4000, 0x382B8000, 0x382BC000,\n  0x382C0000, 0x382C4000, 0x382C8000, 0x382CC000, 0x382D0000, 0x382D4000, 0x382D8000, 0x382DC000, 0x382E0000, 0x382E4000, 0x382E8000, 0x382EC000, 0x382F0000, 0x382F4000, 0x382F8000, 0x382FC000,\n  0x38300000, 0x38304000, 0x38308000, 0x3830C000, 0x38310000, 0x38314000, 0x38318000, 0x3831C000, 0x38320000, 0x38324000, 0x38328000, 0x3832C000, 0x38330000, 0x38334000, 0x38338000, 0x3833C000,\n  0x38340000, 0x38344000, 0x38348000, 0x3834C000, 0x38350000, 0x38354000, 0x38358000, 0x3835C000, 0x38360000, 0x38364000, 0x38368000, 0x3836C000, 0x38370000, 0x38374000, 0x38378000, 0x3837C000,\n  0x38380000, 0x38384000, 0x38388000, 0x3838C000, 0x38390000, 0x38394000, 0x38398000, 0x3839C000, 0x383A0000, 0x383A",
                                       "4000, 0x383A8000, 0x383AC000, 0x383B0000, 0x383B4000, 0x383B8000, 0x383BC000,\n  0x383C0000, 0x383C4000, 0x383C8000, 0x383CC000, 0x383D0000, 0x383D4000, 0x383D8000, 0x383DC000, 0x383E0000, 0x383E4000, 0x383E8000, 0x383EC000, 0x383F0000, 0x383F4000, 0x383F8000, 0x383FC000,\n  0x38400000, 0x38404000, 0x38408000, 0x3840C000, 0x38410000, 0x38414000, 0x38418000, 0x3841C000, 0x38420000, 0x38424000, 0x38428000, 0x3842C000, 0x38430000, 0x38434000, 0x38438000, 0x3843C000,\n  0x38440000, 0x38444000, 0x38448000, 0x3844C000, 0x38450000, 0x38454000, 0x38458000, 0x3845C000, 0x38460000, 0x38464000, 0x38468000, 0x3846C000, 0x38470000, 0x38474000, 0x38478000, 0x3847C000,\n  0x38480000, 0x38484000, 0x38488000, 0x3848C000, 0x38490000, 0x38494000, 0x38498000, 0x3849C000, 0x384A0000, 0x384A4000, 0x384A8000, 0x384AC000, 0x384B0000, 0x384B4000, 0x384B8000, 0x384BC000,\n  0x384C0000, 0x384C4000, 0x384C8000, 0x384CC000, 0x384D0000, 0x384D4000, 0x384D8000, 0x384DC000, 0x384E0000, 0x384E4000, 0x384E8000, 0x384EC000, 0x384F0000, 0x384F4000, 0x384F8000, 0x384FC000,\n  0x38500000, 0x38504000, 0x38508000, 0x3850C000, 0x38510000, 0x38514000, 0x38518000, 0x3851C000, 0x38520000, 0x38524000, 0x38528000, 0x3852C000, 0x38530000, 0x38534000, 0x38538000, 0x3853C000,\n  0x38540000, 0x38544000, 0x38548000, 0x3854C000, 0x38550000, 0x38554000, 0x38558000, 0x3855C000, 0x38560000, 0x38564000, 0x38568000, 0x3856C000, 0x38570000, 0x38574000, 0x38578000, 0x3857C000,\n  0x38580000, 0x38584000, 0x38588000, 0x3858C000, 0x38590000, 0x38594000, 0x38598000, 0x3859C000, 0x385A0000, 0x385A4000, 0x385A8000, 0x385AC000, 0x385B0000, 0x385B4000, 0x385B8000, 0x385BC000,\n  0x385C0000, 0x385C4000, 0x385C8000, 0x385CC000, 0x385D0000, 0x385D4000, 0x385D8000, 0x385DC000, 0x385E0000, 0x385E4000, 0x385E8000, 0x385EC000, 0x385F0000, 0x385F4000, 0x385F8000, 0x385FC000,\n  0x38600000, 0x38604000, 0x38608000, 0x3860C000, 0x38610000, 0x38614000, 0x38618000, 0x3861C000, 0x38620000, 0x38624000, 0x38628000, 0x3862C000, 0x38630000, 0x38634000, 0x3863", "8000, 0x3863C000,\n  0x38640000, 0x38644000, 0x38648000, 0x3864C000, 0x38650000, 0x38654000, 0x38658000, 0x3865C000, 0x38660000, 0x38664000, 0x38668000, 0x3866C000, 0x38670000, 0x38674000, 0x38678000, 0x3867C000,\n  0x38680000, 0x38684000, 0x38688000, 0x3868C000, 0x38690000, 0x38694000, 0x38698000, 0x3869C000, 0x386A0000, 0x386A4000, 0x386A8000, 0x386AC000, 0x386B0000, 0x386B4000, 0x386B8000, 0x386BC000,\n  0x386C0000, 0x386C4000, 0x386C8000, 0x386CC000, 0x386D0000, 0x386D4000, 0x386D8000, 0x386DC000, 0x386E0000, 0x386E4000, 0x386E8000, 0x386EC000, 0x386F0000, 0x386F4000, 0x386F8000, 0x386FC000,\n  0x38700000, 0x38704000, 0x38708000, 0x3870C000, 0x38710000, 0x38714000, 0x38718000, 0x3871C000, 0x38720000, 0x38724000, 0x38728000, 0x3872C000, 0x38730000, 0x38734000, 0x38738000, 0x3873C000,\n  0x38740000, 0x38744000, 0x38748000, 0x3874C000, 0x38750000, 0x38754000, 0x38758000, 0x3875C000, 0x38760000, 0x38764000, 0x38768000, 0x3876C000, 0x38770000, 0x38774000, 0x38778000, 0x3877C000,\n  0x38780000, 0x38784000, 0x38788000, 0x3878C000, 0x38790000, 0x38794000, 0x38798000, 0x3879C000, 0x387A0000, 0x387A4000, 0x387A8000, 0x387AC000, 0x387B0000, 0x387B4000, 0x387B8000, 0x387BC000,\n  0x387C0000, 0x387C4000, 0x387C8000, 0x387CC000, 0x387D0000, 0x387D4000, 0x387D8000, 0x387DC000, 0x387E0000, 0x387E4000, 0x387E8000, 0x387EC000, 0x387F0000, 0x387F4000, 0x387F8000, 0x387FC000,\n  0x38000000, 0x38002000, 0x38004000, 0x38006000, 0x38008000, 0x3800A000, 0x3800C000, 0x3800E000, 0x38010000, 0x38012000, 0x38014000, 0x38016000, 0x38018000, 0x3801A000, 0x3801C000, 0x3801E000,\n  0x38020000, 0x38022000, 0x38024000, 0x38026000, 0x38028000, 0x3802A000, 0x3802C000, 0x3802E000, 0x38030000, 0x38032000, 0x38034000, 0x38036000, 0x38038000, 0x3803A000, 0x3803C000, 0x3803E000,\n  0x38040000, 0x38042000, 0x38044000, 0x38046000, 0x38048000, 0x3804A000, 0x3804C000, 0x3804E000, 0x38050000, 0x38052000, 0x38054000, 0x38056000, 0x38058000, 0x3805A000, 0x3805C000, 0x3805E000,\n  0x38060000, 0x38062000, 0x38064000, 0x38", "066000, 0x38068000, 0x3806A000, 0x3806C000, 0x3806E000, 0x38070000, 0x38072000, 0x38074000, 0x38076000, 0x38078000, 0x3807A000, 0x3807C000, 0x3807E000,\n  0x38080000, 0x38082000, 0x38084000, 0x38086000, 0x38088000, 0x3808A000, 0x3808C000, 0x3808E000, 0x38090000, 0x38092000, 0x38094000, 0x38096000, 0x38098000, 0x3809A000, 0x3809C000, 0x3809E000,\n  0x380A0000, 0x380A2000, 0x380A4000, 0x380A6000, 0x380A8000, 0x380AA000, 0x380AC000, 0x380AE000, 0x380B0000, 0x380B2000, 0x380B4000, 0x380B6000, 0x380B8000, 0x380BA000, 0x380BC000, 0x380BE000,\n  0x380C0000, 0x380C2000, 0x380C4000, 0x380C6000, 0x380C8000, 0x380CA000, 0x380CC000, 0x380CE000, 0x380D0000, 0x380D2000, 0x380D4000, 0x380D6000, 0x380D8000, 0x380DA000, 0x380DC000, 0x380DE000,\n  0x380E0000, 0x380E2000, 0x380E4000, 0x380E6000, 0x380E8000, 0x380EA000, 0x380EC000, 0x380EE000, 0x380F0000, 0x380F2000, 0x380F4000, 0x380F6000, 0x380F8000, 0x380FA000, 0x380FC000, 0x380FE000,\n  0x38100000, 0x38102000, 0x38104000, 0x38106000, 0x38108000, 0x3810A000, 0x3810C000, 0x3810E000, 0x38110000, 0x38112000, 0x38114000, 0x38116000, 0x38118000, 0x3811A000, 0x3811C000, 0x3811E000,\n  0x38120000, 0x38122000, 0x38124000, 0x38126000, 0x38128000, 0x3812A000, 0x3812C000, 0x3812E000, 0x38130000, 0x38132000, 0x38134000, 0x38136000, 0x38138000, 0x3813A000, 0x3813C000, 0x3813E000,\n  0x38140000, 0x38142000, 0x38144000, 0x38146000, 0x38148000, 0x3814A000, 0x3814C000, 0x3814E000, 0x38150000, 0x38152000, 0x38154000, 0x38156000, 0x38158000, 0x3815A000, 0x3815C000, 0x3815E000,\n  0x38160000, 0x38162000, 0x38164000, 0x38166000, 0x38168000, 0x3816A000, 0x3816C000, 0x3816E000, 0x38170000, 0x38172000, 0x38174000, 0x38176000, 0x38178000, 0x3817A000, 0x3817C000, 0x3817E000,\n  0x38180000, 0x38182000, 0x38184000, 0x38186000, 0x38188000, 0x3818A000, 0x3818C000, 0x3818E000, 0x38190000, 0x38192000, 0x38194000, 0x38196000, 0x38198000, 0x3819A000, 0x3819C000, 0x3819E000,\n  0x381A0000, 0x381A2000, 0x381A4000, 0x381A6000, 0x381A8000, 0x381AA000, 0x381AC000, 0x381AE000, 0x38",
                                       "1B0000, 0x381B2000, 0x381B4000, 0x381B6000, 0x381B8000, 0x381BA000, 0x381BC000, 0x381BE000,\n  0x381C0000, 0x381C2000, 0x381C4000, 0x381C6000, 0x381C8000, 0x381CA000, 0x381CC000, 0x381CE000, 0x381D0000, 0x381D2000, 0x381D4000, 0x381D6000, 0x381D8000, 0x381DA000, 0x381DC000, 0x381DE000,\n  0x381E0000, 0x381E2000, 0x381E4000, 0x381E6000, 0x381E8000, 0x381EA000, 0x381EC000, 0x381EE000, 0x381F0000, 0x381F2000, 0x381F4000, 0x381F6000, 0x381F8000, 0x381FA000, 0x381FC000, 0x381FE000,\n  0x38200000, 0x38202000, 0x38204000, 0x38206000, 0x38208000, 0x3820A000, 0x3820C000, 0x3820E000, 0x38210000, 0x38212000, 0x38214000, 0x38216000, 0x38218000, 0x3821A000, 0x3821C000, 0x3821E000,\n  0x38220000, 0x38222000, 0x38224000, 0x38226000, 0x38228000, 0x3822A000, 0x3822C000, 0x3822E000, 0x38230000, 0x38232000, 0x38234000, 0x38236000, 0x38238000, 0x3823A000, 0x3823C000, 0x3823E000,\n  0x38240000, 0x38242000, 0x38244000, 0x38246000, 0x38248000, 0x3824A000, 0x3824C000, 0x3824E000, 0x38250000, 0x38252000, 0x38254000, 0x38256000, 0x38258000, 0x3825A000, 0x3825C000, 0x3825E000,\n  0x38260000, 0x38262000, 0x38264000, 0x38266000, 0x38268000, 0x3826A000, 0x3826C000, 0x3826E000, 0x38270000, 0x38272000, 0x38274000, 0x38276000, 0x38278000, 0x3827A000, 0x3827C000, 0x3827E000,\n  0x38280000, 0x38282000, 0x38284000, 0x38286000, 0x38288000, 0x3828A000, 0x3828C000, 0x3828E000, 0x38290000, 0x38292000, 0x38294000, 0x38296000, 0x38298000, 0x3829A000, 0x3829C000, 0x3829E000,\n  0x382A0000, 0x382A2000, 0x382A4000, 0x382A6000, 0x382A8000, 0x382AA000, 0x382AC000, 0x382AE000, 0x382B0000, 0x382B2000, 0x382B4000, 0x382B6000, 0x382B8000, 0x382BA000, 0x382BC000, 0x382BE000,\n  0x382C0000, 0x382C2000, 0x382C4000, 0x382C6000, 0x382C8000, 0x382CA000, 0x382CC000, 0x382CE000, 0x382D0000, 0x382D2000, 0x382D4000, 0x382D6000, 0x382D8000, 0x382DA000, 0x382DC000, 0x382DE000,\n  0x382E0000, 0x382E2000, 0x382E4000, 0x382E6000, 0x382E8000, 0x382EA000, 0x382EC000, 0x382EE000, 0x382F0000, 0x382F2000, 0x382F4000, 0x382F6000, 0x382F8000, 0x38", "2FA000, 0x382FC000, 0x382FE000,\n  0x38300000, 0x38302000, 0x38304000, 0x38306000, 0x38308000, 0x3830A000, 0x3830C000, 0x3830E000, 0x38310000, 0x38312000, 0x38314000, 0x38316000, 0x38318000, 0x3831A000, 0x3831C000, 0x3831E000,\n  0x38320000, 0x38322000, 0x38324000, 0x38326000, 0x38328000, 0x3832A000, 0x3832C000, 0x3832E000, 0x38330000, 0x38332000, 0x38334000, 0x38336000, 0x38338000, 0x3833A000, 0x3833C000, 0x3833E000,\n  0x38340000, 0x38342000, 0x38344000, 0x38346000, 0x38348000, 0x3834A000, 0x3834C000, 0x3834E000, 0x38350000, 0x38352000, 0x38354000, 0x38356000, 0x38358000, 0x3835A000, 0x3835C000, 0x3835E000,\n  0x38360000, 0x38362000, 0x38364000, 0x38366000, 0x38368000, 0x3836A000, 0x3836C000, 0x3836E000, 0x38370000, 0x38372000, 0x38374000, 0x38376000, 0x38378000, 0x3837A000, 0x3837C000, 0x3837E000,\n  0x38380000, 0x38382000, 0x38384000, 0x38386000, 0x38388000, 0x3838A000, 0x3838C000, 0x3838E000, 0x38390000, 0x38392000, 0x38394000, 0x38396000, 0x38398000, 0x3839A000, 0x3839C000, 0x3839E000,\n  0x383A0000, 0x383A2000, 0x383A4000, 0x383A6000, 0x383A8000, 0x383AA000, 0x383AC000, 0x383AE000, 0x383B0000, 0x383B2000, 0x383B4000, 0x383B6000, 0x383B8000, 0x383BA000, 0x383BC000, 0x383BE000,\n  0x383C0000, 0x383C2000, 0x383C4000, 0x383C6000, 0x383C8000, 0x383CA000, 0x383CC000, 0x383CE000, 0x383D0000, 0x383D2000, 0x383D4000, 0x383D6000, 0x383D8000, 0x383DA000, 0x383DC000, 0x383DE000,\n  0x383E0000, 0x383E2000, 0x383E4000, 0x383E6000, 0x383E8000, 0x383EA000, 0x383EC000, 0x383EE000, 0x383F0000, 0x383F2000, 0x383F4000, 0x383F6000, 0x383F8000, 0x383FA000, 0x383FC000, 0x383FE000,\n  0x38400000, 0x38402000, 0x38404000, 0x38406000, 0x38408000, 0x3840A000, 0x3840C000, 0x3840E000, 0x38410000, 0x38412000, 0x38414000, 0x38416000, 0x38418000, 0x3841A000, 0x3841C000, 0x3841E000,\n  0x38420000, 0x38422000, 0x38424000, 0x38426000, 0x38428000, 0x3842A000, 0x3842C000, 0x3842E000, 0x38430000, 0x38432000, 0x38434000, 0x38436000, 0x38438000, 0x3843A000, 0x3843C000, 0x3843E000,\n  0x38440000, 0x38442000, 0x", "38444000, 0x38446000, 0x38448000, 0x3844A000, 0x3844C000, 0x3844E000, 0x38450000, 0x38452000, 0x38454000, 0x38456000, 0x38458000, 0x3845A000, 0x3845C000, 0x3845E000,\n  0x38460000, 0x38462000, 0x38464000, 0x38466000, 0x38468000, 0x3846A000, 0x3846C000, 0x3846E000, 0x38470000, 0x38472000, 0x38474000, 0x38476000, 0x38478000, 0x3847A000, 0x3847C000, 0x3847E000,\n  0x38480000, 0x38482000, 0x38484000, 0x38486000, 0x38488000, 0x3848A000, 0x3848C000, 0x3848E000, 0x38490000, 0x38492000, 0x38494000, 0x38496000, 0x38498000, 0x3849A000, 0x3849C000, 0x3849E000,\n  0x384A0000, 0x384A2000, 0x384A4000, 0x384A6000, 0x384A8000, 0x384AA000, 0x384AC000, 0x384AE000, 0x384B0000, 0x384B2000, 0x384B4000, 0x384B6000, 0x384B8000, 0x384BA000, 0x384BC000, 0x384BE000,\n  0x384C0000, 0x384C2000, 0x384C4000, 0x384C6000, 0x384C8000, 0x384CA000, 0x384CC000, 0x384CE000, 0x384D0000, 0x384D2000, 0x384D4000, 0x384D6000, 0x384D8000, 0x384DA000, 0x384DC000, 0x384DE000,\n  0x384E0000, 0x384E2000, 0x384E4000, 0x384E6000, 0x384E8000, 0x384EA000, 0x384EC000, 0x384EE000, 0x384F0000, 0x384F2000, 0x384F4000, 0x384F6000, 0x384F8000, 0x384FA000, 0x384FC000, 0x384FE000,\n  0x38500000, 0x38502000, 0x38504000, 0x38506000, 0x38508000, 0x3850A000, 0x3850C000, 0x3850E000, 0x38510000, 0x38512000, 0x38514000, 0x38516000, 0x38518000, 0x3851A000, 0x3851C000, 0x3851E000,\n  0x38520000, 0x38522000, 0x38524000, 0x38526000, 0x38528000, 0x3852A000, 0x3852C000, 0x3852E000, 0x38530000, 0x38532000, 0x38534000, 0x38536000, 0x38538000, 0x3853A000, 0x3853C000, 0x3853E000,\n  0x38540000, 0x38542000, 0x38544000, 0x38546000, 0x38548000, 0x3854A000, 0x3854C000, 0x3854E000, 0x38550000, 0x38552000, 0x38554000, 0x38556000, 0x38558000, 0x3855A000, 0x3855C000, 0x3855E000,\n  0x38560000, 0x38562000, 0x38564000, 0x38566000, 0x38568000, 0x3856A000, 0x3856C000, 0x3856E000, 0x38570000, 0x38572000, 0x38574000, 0x38576000, 0x38578000, 0x3857A000, 0x3857C000, 0x3857E000,\n  0x38580000, 0x38582000, 0x38584000, 0x38586000, 0x38588000, 0x3858A000, 0x3858C000, 0x",
                                       "3858E000, 0x38590000, 0x38592000, 0x38594000, 0x38596000, 0x38598000, 0x3859A000, 0x3859C000, 0x3859E000,\n  0x385A0000, 0x385A2000, 0x385A4000, 0x385A6000, 0x385A8000, 0x385AA000, 0x385AC000, 0x385AE000, 0x385B0000, 0x385B2000, 0x385B4000, 0x385B6000, 0x385B8000, 0x385BA000, 0x385BC000, 0x385BE000,\n  0x385C0000, 0x385C2000, 0x385C4000, 0x385C6000, 0x385C8000, 0x385CA000, 0x385CC000, 0x385CE000, 0x385D0000, 0x385D2000, 0x385D4000, 0x385D6000, 0x385D8000, 0x385DA000, 0x385DC000, 0x385DE000,\n  0x385E0000, 0x385E2000, 0x385E4000, 0x385E6000, 0x385E8000, 0x385EA000, 0x385EC000, 0x385EE000, 0x385F0000, 0x385F2000, 0x385F4000, 0x385F6000, 0x385F8000, 0x385FA000, 0x385FC000, 0x385FE000,\n  0x38600000, 0x38602000, 0x38604000, 0x38606000, 0x38608000, 0x3860A000, 0x3860C000, 0x3860E000, 0x38610000, 0x38612000, 0x38614000, 0x38616000, 0x38618000, 0x3861A000, 0x3861C000, 0x3861E000,\n  0x38620000, 0x38622000, 0x38624000, 0x38626000, 0x38628000, 0x3862A000, 0x3862C000, 0x3862E000, 0x38630000, 0x38632000, 0x38634000, 0x38636000, 0x38638000, 0x3863A000, 0x3863C000, 0x3863E000,\n  0x38640000, 0x38642000, 0x38644000, 0x38646000, 0x38648000, 0x3864A000, 0x3864C000, 0x3864E000, 0x38650000, 0x38652000, 0x38654000, 0x38656000, 0x38658000, 0x3865A000, 0x3865C000, 0x3865E000,\n  0x38660000, 0x38662000, 0x38664000, 0x38666000, 0x38668000, 0x3866A000, 0x3866C000, 0x3866E000, 0x38670000, 0x38672000, 0x38674000, 0x38676000, 0x38678000, 0x3867A000, 0x3867C000, 0x3867E000,\n  0x38680000, 0x38682000, 0x38684000, 0x38686000, 0x38688000, 0x3868A000, 0x3868C000, 0x3868E000, 0x38690000, 0x38692000, 0x38694000, 0x38696000, 0x38698000, 0x3869A000, 0x3869C000, 0x3869E000,\n  0x386A0000, 0x386A2000, 0x386A4000, 0x386A6000, 0x386A8000, 0x386AA000, 0x386AC000, 0x386AE000, 0x386B0000, 0x386B2000, 0x386B4000, 0x386B6000, 0x386B8000, 0x386BA000, 0x386BC000, 0x386BE000,\n  0x386C0000, 0x386C2000, 0x386C4000, 0x386C6000, 0x386C8000, 0x386CA000, 0x386CC000, 0x386CE000, 0x386D0000, 0x386D2000, 0x386D4000, 0x386D6000, 0x", "386D8000, 0x386DA000, 0x386DC000, 0x386DE000,\n  0x386E0000, 0x386E2000, 0x386E4000, 0x386E6000, 0x386E8000, 0x386EA000, 0x386EC000, 0x386EE000, 0x386F0000, 0x386F2000, 0x386F4000, 0x386F6000, 0x386F8000, 0x386FA000, 0x386FC000, 0x386FE000,\n  0x38700000, 0x38702000, 0x38704000, 0x38706000, 0x38708000, 0x3870A000, 0x3870C000, 0x3870E000, 0x38710000, 0x38712000, 0x38714000, 0x38716000, 0x38718000, 0x3871A000, 0x3871C000, 0x3871E000,\n  0x38720000, 0x38722000, 0x38724000, 0x38726000, 0x38728000, 0x3872A000, 0x3872C000, 0x3872E000, 0x38730000, 0x38732000, 0x38734000, 0x38736000, 0x38738000, 0x3873A000, 0x3873C000, 0x3873E000,\n  0x38740000, 0x38742000, 0x38744000, 0x38746000, 0x38748000, 0x3874A000, 0x3874C000, 0x3874E000, 0x38750000, 0x38752000, 0x38754000, 0x38756000, 0x38758000, 0x3875A000, 0x3875C000, 0x3875E000,\n  0x38760000, 0x38762000, 0x38764000, 0x38766000, 0x38768000, 0x3876A000, 0x3876C000, 0x3876E000, 0x38770000, 0x38772000, 0x38774000, 0x38776000, 0x38778000, 0x3877A000, 0x3877C000, 0x3877E000,\n  0x38780000, 0x38782000, 0x38784000, 0x38786000, 0x38788000, 0x3878A000, 0x3878C000, 0x3878E000, 0x38790000, 0x38792000, 0x38794000, 0x38796000, 0x38798000, 0x3879A000, 0x3879C000, 0x3879E000,\n  0x387A0000, 0x387A2000, 0x387A4000, 0x387A6000, 0x387A8000, 0x387AA000, 0x387AC000, 0x387AE000, 0x387B0000, 0x387B2000, 0x387B4000, 0x387B6000, 0x387B8000, 0x387BA000, 0x387BC000, 0x387BE000,\n  0x387C0000, 0x387C2000, 0x387C4000, 0x387C6000, 0x387C8000, 0x387CA000, 0x387CC000, 0x387CE000, 0x387D0000, 0x387D2000, 0x387D4000, 0x387D6000, 0x387D8000, 0x387DA000, 0x387DC000, 0x387DE000,\n  0x387E0000, 0x387E2000, 0x387E4000, 0x387E6000, 0x387E8000, 0x387EA000, 0x387EC000, 0x387EE000, 0x387F0000, 0x387F2000, 0x387F4000, 0x387F6000, 0x387F8000, 0x387FA000, 0x387FC000, 0x387FE000 };\n__constant static const uint32_t exponent_table[64] = {\n  0x00000000, 0x00800000, 0x01000000, 0x01800000, 0x02000000, 0x02800000, 0x03000000, 0x03800000, 0x04000000, 0x04800000, 0x05000000, 0x05800000, 0x06", "000000, 0x06800000, 0x07000000, 0x07800000,\n  0x08000000, 0x08800000, 0x09000000, 0x09800000, 0x0A000000, 0x0A800000, 0x0B000000, 0x0B800000, 0x0C000000, 0x0C800000, 0x0D000000, 0x0D800000, 0x0E000000, 0x0E800000, 0x0F000000, 0x47800000,\n  0x80000000, 0x80800000, 0x81000000, 0x81800000, 0x82000000, 0x82800000, 0x83000000, 0x83800000, 0x84000000, 0x84800000, 0x85000000, 0x85800000, 0x86000000, 0x86800000, 0x87000000, 0x87800000,\n  0x88000000, 0x88800000, 0x89000000, 0x89800000, 0x8A000000, 0x8A800000, 0x8B000000, 0x8B800000, 0x8C000000, 0x8C800000, 0x8D000000, 0x8D800000, 0x8E000000, 0x8E800000, 0x8F000000, 0xC7800000 };\n__constant static const unsigned short offset_table[64] = {\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024,\n  0, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024, 1024 };\n\nstatic uint16_t float2halfbits(float value) {\n  union { float x; uint32_t y; } u;\n  u.x = value;\n  uint32_t bits = u.y;\n\n  uint16_t hbits = base_table[bits>>23] + (uint16_t)((bits&0x7FFFFF)>>shift_table[bits>>23]);;\n\n  return hbits;\n}\n\nstatic float halfbits2float(uint16_t value) {\n  uint32_t bits = mantissa_table[offset_table[value>>10]+(value&0x3FF)] + exponent_table[value>>10];\n\n  union { uint32_t x; float y; } u;\n  u.x = bits;\n  return u.y;\n}\n\nstatic uint16_t halfbitsnextafter(uint16_t from, uint16_t to) {\n  int fabs = from & 0x7FFF, tabs = to & 0x7FFF;\n  if(fabs > 0x7C00 || tabs > 0x7C00) {\n    return ((from&0x7FFF)>0x7C00) ? (from|0x200) : (to|0x200);\n  }\n  if(from == to || !(fabs|tabs)) {\n    return to;\n  }\n  if(!fabs) {\n    return (to&0x8000)+1;\n  }\n  unsigned int out =\n    from +\n    (((from>>15)^(unsigned int)((from^(0x8000|(0x8000-(from>>15))))<(to^(0x8000|(0x8000-(to>>15))))))<<1)\n    - 1;\n  return out;",
                                       "\n}\n\n// End of half.h.\n// Start of scalar.h.\n\n// Implementation of the primitive scalar operations.  Very\n// repetitive.  This code is inserted directly into both CUDA and\n// OpenCL programs, as well as the CPU code, so it has some #ifdefs to\n// work everywhere.  Some operations are defined as macros because\n// this allows us to use them as constant expressions in things like\n// array sizes and static initialisers.\n\n// Some of the #ifdefs are because OpenCL uses type-generic functions\n// for some operations (e.g. sqrt), while C and CUDA sensibly use\n// distinct functions for different precisions (e.g. sqrtf() and\n// sqrt()).  This is quite annoying.  Due to C's unfortunate casting\n// rules, it is also really easy to accidentally implement\n// floating-point functions in the wrong precision, so be careful.\n\n// Double-precision definitions are only included if the preprocessor\n// macro FUTHARK_F64_ENABLED is set.\n\nstatic inline uint8_t add8(uint8_t x, uint8_t y) {\n  return x + y;\n}\n\nstatic inline uint16_t add16(uint16_t x, uint16_t y) {\n  return x + y;\n}\n\nstatic inline uint32_t add32(uint32_t x, uint32_t y) {\n  return x + y;\n}\n\nstatic inline uint64_t add64(uint64_t x, uint64_t y) {\n  return x + y;\n}\n\nstatic inline uint8_t sub8(uint8_t x, uint8_t y) {\n  return x - y;\n}\n\nstatic inline uint16_t sub16(uint16_t x, uint16_t y) {\n  return x - y;\n}\n\nstatic inline uint32_t sub32(uint32_t x, uint32_t y) {\n  return x - y;\n}\n\nstatic inline uint64_t sub64(uint64_t x, uint64_t y) {\n  return x - y;\n}\n\nstatic inline uint8_t mul8(uint8_t x, uint8_t y) {\n  return x * y;\n}\n\nstatic inline uint16_t mul16(uint16_t x, uint16_t y) {\n  return x * y;\n}\n\nstatic inline uint32_t mul32(uint32_t x, uint32_t y) {\n  return x * y;\n}\n\nstatic inline uint64_t mul64(uint64_t x, uint64_t y) {\n  return x * y;\n}\n\n#if ISPC\n\nstatic inline uint8_t udiv8(uint8_t x, uint8_t y) {\n  // This strange pattern is used to prevent the ISPC compiler from\n  // causing SIGFPEs and bogus results on divisions where inactive lan", "es\n  // have 0-valued divisors. It ensures that any inactive lane instead\n  // has a divisor of 1. https://github.com/ispc/ispc/issues/2292\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n\n  return x / ys;\n}\n\nstatic inline uint16_t udiv16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline uint32_t udiv32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n\n  return x / ys;\n}\n\nstatic inline uint64_t udiv64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n\n  return x / ys;\n}\n\nstatic inline uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n\n  return (x + y - 1) / ys;\n}\n\nstatic inline uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return (x + y - 1) / ys;\n}\n\nstatic inline uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return (x + y - 1) / ys;\n}\n\nstatic inline uint64_t udiv_up64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return (x + y - 1) / ys;\n}\n\nstatic inline uint8_t umod8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline uint16_t umod16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n\n  return x % ys;\n}\n\nstatic inline uint32_t umod32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline uint64_t umod64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline uint8_t udiv_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ", "ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nstatic inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nstatic inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nstatic inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : (x + y - 1) / ys;\n}\n\nstatic inline uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  uint8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  uint16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  uint32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  uint64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int8_t q = x / ys;\n  int8_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int16_t q = x / ys;\n  int16_t r = x % ys;\n\n  return q - ((r != 0",
                                       " && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  int32_t q = x / ys;\n  int32_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int64_t q = x / ys;\n  int64_t r = x % ys;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up32(int32_t x, int32_t y) {\n  return sdiv32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nstatic inline int8_t smod8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int8_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int16_t smod16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int16_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int32_t smod32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int32_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int64_t smod64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  int64_t r = x % ys;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nstatic inline int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nstatic inline int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nstatic inline int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdi", "v64(x, y);\n}\n\nstatic inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nstatic inline int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nstatic inline int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nstatic inline int32_t smod_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : smod32(x, y);\n}\n\nstatic inline int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nstatic inline int8_t squot8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline int16_t squot16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline int32_t squot32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline int64_t squot64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x / ys;\n}\n\nstatic inline int8_t srem8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline int16_t srem16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline int32_t srem32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline int64_t srem64(int64_t x, int64_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return x % ys;\n}\n\nstatic inline int8_t squot_safe8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline int16_t ", "squot_safe16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline int32_t squot_safe32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline int64_t squot_safe64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x / ys;\n}\n\nstatic inline int8_t srem_safe8(int8_t x, int8_t y) {\n  int8_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline int16_t srem_safe16(int16_t x, int16_t y) {\n  int16_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline int32_t srem_safe32(int32_t x, int32_t y) {\n  int32_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\nstatic inline int64_t srem_safe64(int64_t x, int64_t y) {\n  int64_t ys = 1;\n  foreach_active(i){\n    ys = y;\n  }\n  \n  return y == 0 ? 0 : x % ys;\n}\n\n#else\n\nstatic inline uint8_t udiv8(uint8_t x, uint8_t y) {\n  return x / y;\n}\n\nstatic inline uint16_t udiv16(uint16_t x, uint16_t y) {\n  return x / y;\n}\n\nstatic inline uint32_t udiv32(uint32_t x, uint32_t y) {\n  return x / y;\n}\n\nstatic inline uint64_t udiv64(uint64_t x, uint64_t y) {\n  return x / y;\n}\n\nstatic inline uint8_t udiv_up8(uint8_t x, uint8_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint16_t udiv_up16(uint16_t x, uint16_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint32_t udiv_up32(uint32_t x, uint32_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint64_t udiv_up64(uint64_t x, uint64_t y) {\n  return (x + y - 1) / y;\n}\n\nstatic inline uint8_t umod8(uint8_t x, uint8_t y) {\n  return x % y;\n}\n\nstatic inline uint16_t umod16(uint16_t x, uint16_t y) {\n  return x % y;\n}\n\nstatic inline uint32_t umod32(uint32_t x, uint32_t y) {\n  return x % y;\n}\n\nstatic inline uint64_t umod64(uint64_t x, uint64_t y) {\n  return x % y;\n}\n\nstatic inline uint8_t udiv_safe8(u",
                                       "int8_t x, uint8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint16_t udiv_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint32_t udiv_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint64_t udiv_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline uint8_t udiv_up_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint16_t udiv_up_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint32_t udiv_up_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint64_t udiv_up_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : (x + y - 1) / y;\n}\n\nstatic inline uint8_t umod_safe8(uint8_t x, uint8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint16_t umod_safe16(uint16_t x, uint16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint32_t umod_safe32(uint32_t x, uint32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline uint64_t umod_safe64(uint64_t x, uint64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int8_t sdiv8(int8_t x, int8_t y) {\n  int8_t q = x / y;\n  int8_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int16_t sdiv16(int16_t x, int16_t y) {\n  int16_t q = x / y;\n  int16_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int32_t sdiv32(int32_t x, int32_t y) {\n  int32_t q = x / y;\n  int32_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int64_t sdiv64(int64_t x, int64_t y) {\n  int64_t q = x / y;\n  int64_t r = x % y;\n\n  return q - ((r != 0 && r < 0 != y < 0) ? 1 : 0);\n}\n\nstatic inline int8_t sdiv_up8(int8_t x, int8_t y) {\n  return sdiv8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up16(int16_t x, int16_t y) {\n  return sdiv16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up32(int32_t x, int32_t y) {\n  return sdiv32(x + y - 1, y);\n}\n\nstatic inline int64", "_t sdiv_up64(int64_t x, int64_t y) {\n  return sdiv64(x + y - 1, y);\n}\n\nstatic inline int8_t smod8(int8_t x, int8_t y) {\n  int8_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int16_t smod16(int16_t x, int16_t y) {\n  int16_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int32_t smod32(int32_t x, int32_t y) {\n  int32_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int64_t smod64(int64_t x, int64_t y) {\n  int64_t r = x % y;\n\n  return r + (r == 0 || (x > 0 && y > 0) || (x < 0 && y < 0) ? 0 : y);\n}\n\nstatic inline int8_t sdiv_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : sdiv8(x, y);\n}\n\nstatic inline int16_t sdiv_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : sdiv16(x, y);\n}\n\nstatic inline int32_t sdiv_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : sdiv32(x, y);\n}\n\nstatic inline int64_t sdiv_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : sdiv64(x, y);\n}\n\nstatic inline int8_t sdiv_up_safe8(int8_t x, int8_t y) {\n  return sdiv_safe8(x + y - 1, y);\n}\n\nstatic inline int16_t sdiv_up_safe16(int16_t x, int16_t y) {\n  return sdiv_safe16(x + y - 1, y);\n}\n\nstatic inline int32_t sdiv_up_safe32(int32_t x, int32_t y) {\n  return sdiv_safe32(x + y - 1, y);\n}\n\nstatic inline int64_t sdiv_up_safe64(int64_t x, int64_t y) {\n  return sdiv_safe64(x + y - 1, y);\n}\n\nstatic inline int8_t smod_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : smod8(x, y);\n}\n\nstatic inline int16_t smod_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : smod16(x, y);\n}\n\nstatic inline int32_t smod_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : smod32(x, y);\n}\n\nstatic inline int64_t smod_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : smod64(x, y);\n}\n\nstatic inline int8_t squot8(int8_t x, int8_t y) {\n  return x / y;\n}\n\nstatic inline int16_t squot16(int16_t x, int16_t y) {\n  return x / y;\n}\n\nstatic inline int32_t squot32(int32", "_t x, int32_t y) {\n  return x / y;\n}\n\nstatic inline int64_t squot64(int64_t x, int64_t y) {\n  return x / y;\n}\n\nstatic inline int8_t srem8(int8_t x, int8_t y) {\n  return x % y;\n}\n\nstatic inline int16_t srem16(int16_t x, int16_t y) {\n  return x % y;\n}\n\nstatic inline int32_t srem32(int32_t x, int32_t y) {\n  return x % y;\n}\n\nstatic inline int64_t srem64(int64_t x, int64_t y) {\n  return x % y;\n}\n\nstatic inline int8_t squot_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int16_t squot_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int32_t squot_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int64_t squot_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x / y;\n}\n\nstatic inline int8_t srem_safe8(int8_t x, int8_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int16_t srem_safe16(int16_t x, int16_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int32_t srem_safe32(int32_t x, int32_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\nstatic inline int64_t srem_safe64(int64_t x, int64_t y) {\n  return y == 0 ? 0 : x % y;\n}\n\n#endif\n\nstatic inline int8_t smin8(int8_t x, int8_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int16_t smin16(int16_t x, int16_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int32_t smin32(int32_t x, int32_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int64_t smin64(int64_t x, int64_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint8_t umin8(uint8_t x, uint8_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint16_t umin16(uint16_t x, uint16_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint32_t umin32(uint32_t x, uint32_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline uint64_t umin64(uint64_t x, uint64_t y) {\n  return x < y ? x : y;\n}\n\nstatic inline int8_t smax8(int8_t x, int8_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline int16_t smax16(int16_t x, int16_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline int32_t smax32(int32_t x, int32_t y) {\n  return x < y ? y : x;\n}\n\ns",
                                       "tatic inline int64_t smax64(int64_t x, int64_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint8_t umax8(uint8_t x, uint8_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint16_t umax16(uint16_t x, uint16_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint32_t umax32(uint32_t x, uint32_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint64_t umax64(uint64_t x, uint64_t y) {\n  return x < y ? y : x;\n}\n\nstatic inline uint8_t shl8(uint8_t x, uint8_t y) {\n  return (uint8_t)(x << y);\n}\n\nstatic inline uint16_t shl16(uint16_t x, uint16_t y) {\n  return (uint16_t)(x << y);\n}\n\nstatic inline uint32_t shl32(uint32_t x, uint32_t y) {\n  return x << y;\n}\n\nstatic inline uint64_t shl64(uint64_t x, uint64_t y) {\n  return x << y;\n}\n\nstatic inline uint8_t lshr8(uint8_t x, uint8_t y) {\n  return x >> y;\n}\n\nstatic inline uint16_t lshr16(uint16_t x, uint16_t y) {\n  return x >> y;\n}\n\nstatic inline uint32_t lshr32(uint32_t x, uint32_t y) {\n  return x >> y;\n}\n\nstatic inline uint64_t lshr64(uint64_t x, uint64_t y) {\n  return x >> y;\n}\n\nstatic inline int8_t ashr8(int8_t x, int8_t y) {\n  return x >> y;\n}\n\nstatic inline int16_t ashr16(int16_t x, int16_t y) {\n  return x >> y;\n}\n\nstatic inline int32_t ashr32(int32_t x, int32_t y) {\n  return x >> y;\n}\n\nstatic inline int64_t ashr64(int64_t x, int64_t y) {\n  return x >> y;\n}\n\nstatic inline uint8_t and8(uint8_t x, uint8_t y) {\n  return x & y;\n}\n\nstatic inline uint16_t and16(uint16_t x, uint16_t y) {\n  return x & y;\n}\n\nstatic inline uint32_t and32(uint32_t x, uint32_t y) {\n  return x & y;\n}\n\nstatic inline uint64_t and64(uint64_t x, uint64_t y) {\n  return x & y;\n}\n\nstatic inline uint8_t or8(uint8_t x, uint8_t y) {\n  return x | y;\n}\n\nstatic inline uint16_t or16(uint16_t x, uint16_t y) {\n  return x | y;\n}\n\nstatic inline uint32_t or32(uint32_t x, uint32_t y) {\n  return x | y;\n}\n\nstatic inline uint64_t or64(uint64_t x, uint64_t y) {\n  return x | y;\n}\n\nstatic inline uint8_t xor8(uint8_t x, uint8_t y) {\n  return x ^ y;\n}\n\nstatic inline uint16_t xor16(uint16_", "t x, uint16_t y) {\n  return x ^ y;\n}\n\nstatic inline uint32_t xor32(uint32_t x, uint32_t y) {\n  return x ^ y;\n}\n\nstatic inline uint64_t xor64(uint64_t x, uint64_t y) {\n  return x ^ y;\n}\n\nstatic inline bool ult8(uint8_t x, uint8_t y) {\n  return x < y;\n}\n\nstatic inline bool ult16(uint16_t x, uint16_t y) {\n  return x < y;\n}\n\nstatic inline bool ult32(uint32_t x, uint32_t y) {\n  return x < y;\n}\n\nstatic inline bool ult64(uint64_t x, uint64_t y) {\n  return x < y;\n}\n\nstatic inline bool ule8(uint8_t x, uint8_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule16(uint16_t x, uint16_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule32(uint32_t x, uint32_t y) {\n  return x <= y;\n}\n\nstatic inline bool ule64(uint64_t x, uint64_t y) {\n  return x <= y;\n}\n\nstatic inline bool slt8(int8_t x, int8_t y) {\n  return x < y;\n}\n\nstatic inline bool slt16(int16_t x, int16_t y) {\n  return x < y;\n}\n\nstatic inline bool slt32(int32_t x, int32_t y) {\n  return x < y;\n}\n\nstatic inline bool slt64(int64_t x, int64_t y) {\n  return x < y;\n}\n\nstatic inline bool sle8(int8_t x, int8_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle16(int16_t x, int16_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle32(int32_t x, int32_t y) {\n  return x <= y;\n}\n\nstatic inline bool sle64(int64_t x, int64_t y) {\n  return x <= y;\n}\n\nstatic inline uint8_t pow8(uint8_t x, uint8_t y) {\n  uint8_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint16_t pow16(uint16_t x, uint16_t y) {\n  uint16_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint32_t pow32(uint32_t x, uint32_t y) {\n  uint32_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    x *= x;\n  }\n  return res;\n}\n\nstatic inline uint64_t pow64(uint64_t x, uint64_t y) {\n  uint64_t res = 1, rem = y;\n\n  while (rem != 0) {\n    if (rem & 1)\n      res *= x;\n    rem >>= 1;\n    ", "x *= x;\n  }\n  return res;\n}\n\nstatic inline bool itob_i8_bool(int8_t x) {\n  return x != 0;\n}\n\nstatic inline bool itob_i16_bool(int16_t x) {\n  return x != 0;\n}\n\nstatic inline bool itob_i32_bool(int32_t x) {\n  return x != 0;\n}\n\nstatic inline bool itob_i64_bool(int64_t x) {\n  return x != 0;\n}\n\nstatic inline int8_t btoi_bool_i8(bool x) {\n  return x;\n}\n\nstatic inline int16_t btoi_bool_i16(bool x) {\n  return x;\n}\n\nstatic inline int32_t btoi_bool_i32(bool x) {\n  return x;\n}\n\nstatic inline int64_t btoi_bool_i64(bool x) {\n  return x;\n}\n\n#define sext_i8_i8(x) ((int8_t) (int8_t) (x))\n#define sext_i8_i16(x) ((int16_t) (int8_t) (x))\n#define sext_i8_i32(x) ((int32_t) (int8_t) (x))\n#define sext_i8_i64(x) ((int64_t) (int8_t) (x))\n#define sext_i16_i8(x) ((int8_t) (int16_t) (x))\n#define sext_i16_i16(x) ((int16_t) (int16_t) (x))\n#define sext_i16_i32(x) ((int32_t) (int16_t) (x))\n#define sext_i16_i64(x) ((int64_t) (int16_t) (x))\n#define sext_i32_i8(x) ((int8_t) (int32_t) (x))\n#define sext_i32_i16(x) ((int16_t) (int32_t) (x))\n#define sext_i32_i32(x) ((int32_t) (int32_t) (x))\n#define sext_i32_i64(x) ((int64_t) (int32_t) (x))\n#define sext_i64_i8(x) ((int8_t) (int64_t) (x))\n#define sext_i64_i16(x) ((int16_t) (int64_t) (x))\n#define sext_i64_i32(x) ((int32_t) (int64_t) (x))\n#define sext_i64_i64(x) ((int64_t) (int64_t) (x))\n#define zext_i8_i8(x) ((int8_t) (uint8_t) (x))\n#define zext_i8_i16(x) ((int16_t) (uint8_t) (x))\n#define zext_i8_i32(x) ((int32_t) (uint8_t) (x))\n#define zext_i8_i64(x) ((int64_t) (uint8_t) (x))\n#define zext_i16_i8(x) ((int8_t) (uint16_t) (x))\n#define zext_i16_i16(x) ((int16_t) (uint16_t) (x))\n#define zext_i16_i32(x) ((int32_t) (uint16_t) (x))\n#define zext_i16_i64(x) ((int64_t) (uint16_t) (x))\n#define zext_i32_i8(x) ((int8_t) (uint32_t) (x))\n#define zext_i32_i16(x) ((int16_t) (uint32_t) (x))\n#define zext_i32_i32(x) ((int32_t) (uint32_t) (x))\n#define zext_i32_i64(x) ((int64_t) (uint32_t) (x))\n#define zext_i64_i8(x) ((int8_t) (uint64_t) (x))\n#define zext_i64_i16(x) ((int16_t) (",
                                       "uint64_t) (x))\n#define zext_i64_i32(x) ((int32_t) (uint64_t) (x))\n#define zext_i64_i64(x) ((int64_t) (uint64_t) (x))\n\nstatic int8_t abs8(int8_t x) {\n  return (int8_t)abs(x);\n}\n\nstatic int16_t abs16(int16_t x) {\n  return (int16_t)abs(x);\n}\n\nstatic int32_t abs32(int32_t x) {\n  return abs(x);\n}\n\nstatic int64_t abs64(int64_t x) {\n#if defined(__OPENCL_VERSION__) || defined(ISPC)\n  return abs(x);\n#else\n  return llabs(x);\n#endif\n}\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_popc8(int8_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc16(int16_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc32(int32_t x) {\n  return popcount(x);\n}\n\nstatic int32_t futrts_popc64(int64_t x) {\n  return popcount(x);\n}\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_popc8(int8_t x) {\n  return __popc(zext_i8_i32(x));\n}\n\nstatic int32_t futrts_popc16(int16_t x) {\n  return __popc(zext_i16_i32(x));\n}\n\nstatic int32_t futrts_popc32(int32_t x) {\n  return __popc(x);\n}\n\nstatic int32_t futrts_popc64(int64_t x) {\n  return __popcll(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nstatic int32_t futrts_popc8(uint8_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc16(uint16_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc32(uint32_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n\nstatic int32_t futrts_popc64(uint64_t x) {\n  int c = 0;\n  for (; x; ++c) { x &= x - 1; }\n  return c;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  return mul_hi(a, b);\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {\n  return mul_hi(a, b);\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {\n  return mul_hi(a, b);\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  return mul_hi(a, b);\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  uint16_t aa = a;\n  uint16_t bb = b;\n\n  retu", "rn aa * bb >> 8;\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {\n  uint32_t aa = a;\n  uint32_t bb = b;\n\n  return aa * bb >> 16;\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {\n  return mulhi(a, b);\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  return mul64hi(a, b);\n}\n\n#elif ISPC\n\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  uint16_t aa = a;\n  uint16_t bb = b;\n\n  return aa * bb >> 8;\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {\n  uint32_t aa = a;\n  uint32_t bb = b;\n\n  return aa * bb >> 16;\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {\n  uint64_t aa = a;\n  uint64_t bb = b;\n\n  return aa * bb >> 32;\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  uint64_t ah = a >> 32;\n  uint64_t al = a & 0xffffffff;\n  uint64_t bh = b >> 32;\n  uint64_t bl = b & 0xffffffff;\n\n  uint64_t p1 = al * bl;\n  uint64_t p2 = al * bh;\n  uint64_t p3 = ah * bl;\n  uint64_t p4 = ah * bh;\n\n  uint64_t p1h = p1 >> 32;\n  uint64_t p2h = p2 >> 32;\n  uint64_t p3h = p3 >> 32;\n  uint64_t p2l = p2 & 0xffffffff;\n  uint64_t p3l = p3 & 0xffffffff;\n\n  uint64_t l = p1h + p2l  + p3l;\n  uint64_t m = (p2 >> 32) + (p3 >> 32);\n  uint64_t h = (l >> 32) + m + p4;\n\n  return h;\n}\n\n#else // Not OpenCL, ISPC, or CUDA, but plain C.\n\nstatic uint8_t futrts_mul_hi8(uint8_t a, uint8_t b) {\n  uint16_t aa = a;\n  uint16_t bb = b;\n\n  return aa * bb >> 8;\n}\n\nstatic uint16_t futrts_mul_hi16(uint16_t a, uint16_t b) {\n  uint32_t aa = a;\n  uint32_t bb = b;\n\n  return aa * bb >> 16;\n}\n\nstatic uint32_t futrts_mul_hi32(uint32_t a, uint32_t b) {\n  uint64_t aa = a;\n  uint64_t bb = b;\n\n  return aa * bb >> 32;\n}\n\nstatic uint64_t futrts_mul_hi64(uint64_t a, uint64_t b) {\n  __uint128_t aa = a;\n  __uint128_t bb = b;\n\n  return aa * bb >> 64;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {\n  return mad_hi(a, b, c);\n}\n\nstatic uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {\n  return ma", "d_hi(a, b, c);\n}\n\nstatic uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {\n  return mad_hi(a, b, c);\n}\n\nstatic uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {\n  return mad_hi(a, b, c);\n}\n\n#else // Not OpenCL\n\nstatic uint8_t futrts_mad_hi8(uint8_t a, uint8_t b, uint8_t c) {\n  return futrts_mul_hi8(a, b) + c;\n}\n\nstatic uint16_t futrts_mad_hi16(uint16_t a, uint16_t b, uint16_t c) {\n  return futrts_mul_hi16(a, b) + c;\n}\n\nstatic uint32_t futrts_mad_hi32(uint32_t a, uint32_t b, uint32_t c) {\n  return futrts_mul_hi32(a, b) + c;\n}\n\nstatic uint64_t futrts_mad_hi64(uint64_t a, uint64_t b, uint64_t c) {\n  return futrts_mul_hi64(a, b) + c;\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_clzz8(int8_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return clz(x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return clz(x);\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_clzz8(int8_t x) {\n  return __clz(zext_i8_i32(x)) - 24;\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return __clz(zext_i16_i32(x)) - 16;\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return __clz(x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return __clzll(x);\n}\n\n#elif ISPC\n\nstatic int32_t futrts_clzz8(int8_t x) {\n  return count_leading_zeros((int32_t)(uint8_t)x)-24;\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return count_leading_zeros((int32_t)(uint16_t)x)-16;\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return count_leading_zeros(x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return count_leading_zeros(x);\n}\n\n#else // Not OpenCL, ISPC or CUDA, but plain C.\n\nstatic int32_t futrts_clzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_clz((uint32_t)zext_i8_i32(x)) - 24;\n}\n\nstatic int32_t futrts_clzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_clz((uint32_t)zext_i16_i32(x)) - 16;\n}\n\nstatic int32_t futrts_clzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_clz((uint3",
                                       "2_t)x);\n}\n\nstatic int32_t futrts_clzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_clzll((uint64_t)x);\n}\n#endif\n\n#if defined(__OPENCL_VERSION__)\nstatic int32_t futrts_ctzz8(int8_t x) {\n  int i = 0;\n  for (; i < 8 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  int i = 0;\n  for (; i < 16 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  int i = 0;\n  for (; i < 32 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  int i = 0;\n  for (; i < 64 && (x & 1) == 0; i++, x >>= 1)\n    ;\n  return i;\n}\n\n#elif defined(__CUDA_ARCH__)\n\nstatic int32_t futrts_ctzz8(int8_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 8 : y - 1;\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 16 : y - 1;\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  int y = __ffs(x);\n  return y == 0 ? 32 : y - 1;\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  int y = __ffsll(x);\n  return y == 0 ? 64 : y - 1;\n}\n\n#elif ISPC\n\nstatic int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : count_trailing_zeros((int32_t)x);\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : count_trailing_zeros((int32_t)x);\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  return count_trailing_zeros(x);\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  return count_trailing_zeros(x);\n}\n\n#else // Not OpenCL or CUDA, but plain C.\n\nstatic int32_t futrts_ctzz8(int8_t x) {\n  return x == 0 ? 8 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz16(int16_t x) {\n  return x == 0 ? 16 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz32(int32_t x) {\n  return x == 0 ? 32 : __builtin_ctz((uint32_t)x);\n}\n\nstatic int32_t futrts_ctzz64(int64_t x) {\n  return x == 0 ? 64 : __builtin_ctzll((uint64_t)x);\n}\n#endif\n\nstatic inline float fdiv32(float x, float y) {\n  return x / y;\n}\n\nstatic inline float fadd32(float x, float y) {\n  return x + y;\n}\n\nstatic inline floa", "t fsub32(float x, float y) {\n  return x - y;\n}\n\nstatic inline float fmul32(float x, float y) {\n  return x * y;\n}\n\nstatic inline bool cmplt32(float x, float y) {\n  return x < y;\n}\n\nstatic inline bool cmple32(float x, float y) {\n  return x <= y;\n}\n\nstatic inline float sitofp_i8_f32(int8_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i16_f32(int16_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i32_f32(int32_t x) {\n  return (float) x;\n}\n\nstatic inline float sitofp_i64_f32(int64_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i8_f32(uint8_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i16_f32(uint16_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i32_f32(uint32_t x) {\n  return (float) x;\n}\n\nstatic inline float uitofp_i64_f32(uint64_t x) {\n  return (float) x;\n}\n\n#ifdef __OPENCL_VERSION__\nstatic inline float fabs32(float x) {\n  return fabs(x);\n}\n\nstatic inline float fmax32(float x, float y) {\n  return fmax(x, y);\n}\n\nstatic inline float fmin32(float x, float y) {\n  return fmin(x, y);\n}\n\nstatic inline float fpow32(float x, float y) {\n  return pow(x, y);\n}\n\n#elif ISPC\n\nstatic inline float fabs32(float x) {\n  return abs(x);\n}\n\nstatic inline float fmax32(float x, float y) {\n  return isnan(x) ? y : isnan(y) ? x : max(x, y);\n}\n\nstatic inline float fmin32(float x, float y) {\n  return isnan(x) ? y : isnan(y) ? x : min(x, y);\n}\n\nstatic inline float fpow32(float a, float b) {\n  float ret;\n  foreach_active (i) {\n      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));\n      ret = insert(ret, i, r);\n  }\n  return ret;\n}\n\n#else // Not OpenCL, but CUDA or plain C.\n\nstatic inline float fabs32(float x) {\n  return fabsf(x);\n}\n\nstatic inline float fmax32(float x, float y) {\n  return fmaxf(x, y);\n}\n\nstatic inline float fmin32(float x, float y) {\n  return fminf(x, y);\n}\n\nstatic inline float fpow32(float x, float y) {\n  return powf(x, y);\n}\n#endif\n\nstatic inline bool futrts_isnan32(float x) {\n  return isnan(x);\n}\n\n#if ISPC\n\nstatic inlin", "e bool futrts_isinf32(float x) {\n  return !isnan(x) && isnan(x - x);\n}\n\nstatic inline bool futrts_isfinite32(float x) {\n  return !isnan(x) && !futrts_isinf32(x);\n}\n\n#else\n\nstatic inline bool futrts_isinf32(float x) {\n  return isinf(x);\n}\n\n#endif\n\nstatic inline int8_t fptosi_f32_i8(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nstatic inline int16_t fptosi_f32_i16(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nstatic inline int32_t fptosi_f32_i32(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nstatic inline int64_t fptosi_f32_i64(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  };\n}\n\nstatic inline uint8_t fptoui_f32_i8(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nstatic inline uint16_t fptoui_f32_i16(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nstatic inline uint32_t fptoui_f32_i32(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nstatic inline uint64_t fptoui_f32_i64(float x) {\n  if (futrts_isnan32(x) || futrts_isinf32(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nstatic inline bool ftob_f32_bool(float x) {\n  return x != 0;\n}\n\nstatic inline float btof_bool_f32(bool x) {\n  return x ? 1 : 0;\n}\n\n#ifdef __OPENCL_VERSION__\nstatic inline float futrts_log32(float x) {\n  return log(x);\n}\n\nstatic inline float futrts_log2_32(float x) {\n  return log2(x);\n}\n\nstatic inline float futrts_log10_32(float x) {\n  return log10(x);\n}\n\nstatic inline float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nstatic inline float futrts_cbrt32(float x) {\n  return cbrt(x);\n}\n\nstatic",
                                       " inline float futrts_exp32(float x) {\n  return exp(x);\n}\n\nstatic inline float futrts_cos32(float x) {\n  return cos(x);\n}\n\nstatic inline float futrts_sin32(float x) {\n  return sin(x);\n}\n\nstatic inline float futrts_tan32(float x) {\n  return tan(x);\n}\n\nstatic inline float futrts_acos32(float x) {\n  return acos(x);\n}\n\nstatic inline float futrts_asin32(float x) {\n  return asin(x);\n}\n\nstatic inline float futrts_atan32(float x) {\n  return atan(x);\n}\n\nstatic inline float futrts_cosh32(float x) {\n  return cosh(x);\n}\n\nstatic inline float futrts_sinh32(float x) {\n  return sinh(x);\n}\n\nstatic inline float futrts_tanh32(float x) {\n  return tanh(x);\n}\n\nstatic inline float futrts_acosh32(float x) {\n  return acosh(x);\n}\n\nstatic inline float futrts_asinh32(float x) {\n  return asinh(x);\n}\n\nstatic inline float futrts_atanh32(float x) {\n  return atanh(x);\n}\n\nstatic inline float futrts_atan2_32(float x, float y) {\n  return atan2(x, y);\n}\n\nstatic inline float futrts_hypot32(float x, float y) {\n  return hypot(x, y);\n}\n\nstatic inline float futrts_gamma32(float x) {\n  return tgamma(x);\n}\n\nstatic inline float futrts_lgamma32(float x) {\n  return lgamma(x);\n}\n\nstatic inline float futrts_erf32(float x) {\n  return erf(x);\n}\n\nstatic inline float futrts_erfc32(float x) {\n  return erfc(x);\n}\n\nstatic inline float fmod32(float x, float y) {\n  return fmod(x, y);\n}\n\nstatic inline float futrts_round32(float x) {\n  return rint(x);\n}\n\nstatic inline float futrts_floor32(float x) {\n  return floor(x);\n}\n\nstatic inline float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nstatic inline float futrts_nextafter32(float x, float y) {\n  return nextafter(x, y);\n}\n\nstatic inline float futrts_lerp32(float v0, float v1, float t) {\n  return mix(v0, v1, t);\n}\n\nstatic inline float futrts_mad32(float a, float b, float c) {\n  return mad(a, b, c);\n}\n\nstatic inline float futrts_fma32(float a, float b, float c) {\n  return fma(a, b, c);\n}\n\n#elif ISPC\n\nstatic inline float futrts_log32(float x) {\n  return futrts_isfinite32(x) || (f", "utrts_isinf32(x) && x < 0)? log(x) : x;\n}\n\nstatic inline float futrts_log2_32(float x) {\n  return futrts_log32(x) / log(2.0f);\n}\n\nstatic inline float futrts_log10_32(float x) {\n  return futrts_log32(x) / log(10.0f);\n}\n\nstatic inline float futrts_sqrt32(float x) {\n  return sqrt(x);\n}\n\nextern \"C\" unmasked uniform float cbrtf(uniform float);\nstatic inline float futrts_cbrt32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = cbrtf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline float futrts_exp32(float x) {\n  return exp(x);\n}\n\nstatic inline float futrts_cos32(float x) {\n  return cos(x);\n}\n\nstatic inline float futrts_sin32(float x) {\n  return sin(x);\n}\n\nstatic inline float futrts_tan32(float x) {\n  return tan(x);\n}\n\nstatic inline float futrts_acos32(float x) {\n  return acos(x);\n}\n\nstatic inline float futrts_asin32(float x) {\n  return asin(x);\n}\n\nstatic inline float futrts_atan32(float x) {\n  return atan(x);\n}\n\nstatic inline float futrts_cosh32(float x) {\n  return (exp(x)+exp(-x)) / 2.0f;\n}\n\nstatic inline float futrts_sinh32(float x) {\n  return (exp(x)-exp(-x)) / 2.0f;\n}\n\nstatic inline float futrts_tanh32(float x) {\n  return futrts_sinh32(x)/futrts_cosh32(x);\n}\n\nstatic inline float futrts_acosh32(float x) {\n  float f = x+sqrt(x*x-1);\n  if(futrts_isfinite32(f)) return log(f);\n  return f;\n}\n\nstatic inline float futrts_asinh32(float x) {\n  float f = x+sqrt(x*x+1);\n  if(futrts_isfinite32(f)) return log(f);\n  return f;\n\n}\n\nstatic inline float futrts_atanh32(float x) {\n  float f = (1+x)/(1-x);\n  if(futrts_isfinite32(f)) return log(f)/2.0f;\n  return f;\n\n}\n\nstatic inline float futrts_atan2_32(float x, float y) {\n  return (x == 0.0f && y == 0.0f) ? 0.0f : atan2(x, y);\n}\n\nstatic inline float futrts_hypot32(float x, float y) {\n  if (futrts_isfinite32(x) && futrts_isfinite32(y)) {\n    x = abs(x);\n    y = abs(y);\n    float a;\n    float b;\n    if (x >= y){\n        a = x;\n        b = y;\n    } else {\n        a = y;\n        b = x;\n    }\n ", "   if(b == 0){\n      return a;\n    }\n\n    int e;\n    float an;\n    float bn;\n    an = frexp (a, &e);\n    bn = ldexp (b, - e);\n    float cn;\n    cn = sqrt (an * an + bn * bn);\n    return ldexp (cn, e);\n  } else {\n    if (futrts_isinf32(x) || futrts_isinf32(y)) return INFINITY;\n    else return x + y;\n  }\n\n}\n\nextern \"C\" unmasked uniform float tgammaf(uniform float x);\nstatic inline float futrts_gamma32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = tgammaf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float lgammaf(uniform float x);\nstatic inline float futrts_lgamma32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = lgammaf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float erff(uniform float x);\nstatic inline float futrts_erf32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = erff(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float erfcf(uniform float x);\nstatic inline float futrts_erfc32(float x) {\n  float res;\n  foreach_active (i) {\n    uniform float r = erfcf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline float fmod32(float x, float y) {\n  return x - y * trunc(x/y);\n}\n\nstatic inline float futrts_round32(float x) {\n  return round(x);\n}\n\nstatic inline float futrts_floor32(float x) {\n  return floor(x);\n}\n\nstatic inline float futrts_ceil32(float x) {\n  return ceil(x);\n}\n\nextern \"C\" unmasked uniform float nextafterf(uniform float x, uniform float y);\nstatic inline float futrts_nextafter32(float x, float y) {\n  float res;\n  foreach_active (i) {\n    uniform float r = nextafterf(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\n",
                                       "static inline float futrts_fma32(float a, float b, float c) {\n  return a * b + c;\n}\n\n#else // Not OpenCL or ISPC, but CUDA or plain C.\n\nstatic inline float futrts_log32(float x) {\n  return logf(x);\n}\n\nstatic inline float futrts_log2_32(float x) {\n  return log2f(x);\n}\n\nstatic inline float futrts_log10_32(float x) {\n  return log10f(x);\n}\n\nstatic inline float futrts_sqrt32(float x) {\n  return sqrtf(x);\n}\n\nstatic inline float futrts_cbrt32(float x) {\n  return cbrtf(x);\n}\n\nstatic inline float futrts_exp32(float x) {\n  return expf(x);\n}\n\nstatic inline float futrts_cos32(float x) {\n  return cosf(x);\n}\n\nstatic inline float futrts_sin32(float x) {\n  return sinf(x);\n}\n\nstatic inline float futrts_tan32(float x) {\n  return tanf(x);\n}\n\nstatic inline float futrts_acos32(float x) {\n  return acosf(x);\n}\n\nstatic inline float futrts_asin32(float x) {\n  return asinf(x);\n}\n\nstatic inline float futrts_atan32(float x) {\n  return atanf(x);\n}\n\nstatic inline float futrts_cosh32(float x) {\n  return coshf(x);\n}\n\nstatic inline float futrts_sinh32(float x) {\n  return sinhf(x);\n}\n\nstatic inline float futrts_tanh32(float x) {\n  return tanhf(x);\n}\n\nstatic inline float futrts_acosh32(float x) {\n  return acoshf(x);\n}\n\nstatic inline float futrts_asinh32(float x) {\n  return asinhf(x);\n}\n\nstatic inline float futrts_atanh32(float x) {\n  return atanhf(x);\n}\n\nstatic inline float futrts_atan2_32(float x, float y) {\n  return atan2f(x, y);\n}\n\nstatic inline float futrts_hypot32(float x, float y) {\n  return hypotf(x, y);\n}\n\nstatic inline float futrts_gamma32(float x) {\n  return tgammaf(x);\n}\n\nstatic inline float futrts_lgamma32(float x) {\n  return lgammaf(x);\n}\n\nstatic inline float futrts_erf32(float x) {\n  return erff(x);\n}\n\nstatic inline float futrts_erfc32(float x) {\n  return erfcf(x);\n}\n\nstatic inline float fmod32(float x, float y) {\n  return fmodf(x, y);\n}\n\nstatic inline float futrts_round32(float x) {\n  return rintf(x);\n}\n\nstatic inline float futrts_floor32(float x) {\n  return floorf(x);\n}\n\nstatic inline", " float futrts_ceil32(float x) {\n  return ceilf(x);\n}\n\nstatic inline float futrts_nextafter32(float x, float y) {\n  return nextafterf(x, y);\n}\n\nstatic inline float futrts_lerp32(float v0, float v1, float t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline float futrts_mad32(float a, float b, float c) {\n  return a * b + c;\n}\n\nstatic inline float futrts_fma32(float a, float b, float c) {\n  return fmaf(a, b, c);\n}\n#endif\n\n#if ISPC\nstatic inline int32_t futrts_to_bits32(float x) {\n  return intbits(x);\n}\n\nstatic inline float futrts_from_bits32(int32_t x) {\n  return floatbits(x);\n}\n#else\nstatic inline int32_t futrts_to_bits32(float x) {\n  union {\n    float f;\n    int32_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline float futrts_from_bits32(int32_t x) {\n  union {\n    int32_t f;\n    float t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\nstatic inline float fsignum32(float x) {\n  return futrts_isnan32(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\n#if ISPC\nstatic inline bool futrts_isinf64(float x) {\n  return !isnan(x) && isnan(x - x);\n}\n\nstatic inline bool futrts_isfinite64(float x) {\n  return !isnan(x) && !futrts_isinf64(x);\n}\n\nstatic inline double fdiv64(double x, double y) {\n  return x / y;\n}\n\nstatic inline double fadd64(double x, double y) {\n  return x + y;\n}\n\nstatic inline double fsub64(double x, double y) {\n  return x - y;\n}\n\nstatic inline double fmul64(double x, double y) {\n  return x * y;\n}\n\nstatic inline bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nstatic inline bool cmple64(double x, double y) {\n  return x <= y;\n}\n\nstatic inline double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i16_f64(uint16_t x) {\n  ret", "urn (double) x;\n}\n\nstatic inline double uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nstatic inline double fabs64(double x) {\n  return abs(x);\n}\n\nstatic inline double fmax64(double x, double y) {\n  return isnan(x) ? y : isnan(y) ? x : max(x, y);\n}\n\nstatic inline double fmin64(double x, double y) {\n  return isnan(x) ? y : isnan(y) ? x : min(x, y);\n}\n\nstatic inline double fpow64(double a, double b) {\n  float ret;\n  foreach_active (i) {\n      uniform float r = __stdlib_powf(extract(a, i), extract(b, i));\n      ret = insert(ret, i, r);\n  }\n  return ret;\n}\n\nstatic inline double futrts_log64(double x) {\n  return futrts_isfinite64(x) || (futrts_isinf64(x) && x < 0)? log(x) : x;\n}\n\nstatic inline double futrts_log2_64(double x) {\n  return futrts_log64(x)/log(2.0d);\n}\n\nstatic inline double futrts_log10_64(double x) {\n  return futrts_log64(x)/log(10.0d);\n}\n\nstatic inline double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nextern \"C\" unmasked uniform double cbrt(uniform double);\nstatic inline double futrts_cbrt64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = cbrtf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline double futrts_exp64(double x) {\n  return exp(x);\n}\n\nstatic inline double futrts_cos64(double x) {\n  return cos(x);\n}\n\nstatic inline double futrts_sin64(double x) {\n  return sin(x);\n}\n\nstatic inline double futrts_tan64(double x) {\n  return tan(x);\n}\n\nstatic inline double futrts_acos64(double x) {\n  return acos(x);\n}\n\nstatic inline double futrts_asin64(double x) {\n  return asin(x);\n}\n\nstatic inline double futrts_atan64(double x) {\n  return atan(x);\n}\n\nstatic inline double futrts_cosh64(double x) {\n  return (exp(x)+exp(-x)) / 2.0d;\n}\n\nstatic inline double futrts_sinh64(double x) {\n  return (exp(x)-exp(-x)) / 2.0d;\n}\n\nstatic inline double futrts_tanh64(double x) {\n  return futrts_sinh64(x)/futrts_cosh64(x);\n}\n\nstatic inline double futrt",
                                       "s_acosh64(double x) {\n  double f = x+sqrt(x*x-1.0d);\n  if(futrts_isfinite64(f)) return log(f);\n  return f;\n}\n\nstatic inline double futrts_asinh64(double x) {\n  double f = x+sqrt(x*x+1.0d);\n  if(futrts_isfinite64(f)) return log(f);\n  return f;\n}\n\nstatic inline double futrts_atanh64(double x) {\n  double f = (1.0d+x)/(1.0d-x);\n  if(futrts_isfinite64(f)) return log(f)/2.0d;\n  return f;\n\n}\n\nstatic inline double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nextern \"C\" unmasked uniform double hypot(uniform double x, uniform double y);\nstatic inline double futrts_hypot64(double x, double y) {\n  double res;\n  foreach_active (i) {\n    uniform double r = hypot(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double tgamma(uniform double x);\nstatic inline double futrts_gamma64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = tgamma(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double lgamma(uniform double x);\nstatic inline double futrts_lgamma64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = lgamma(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double erf(uniform double x);\nstatic inline double futrts_erf64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = erf(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform double erfc(uniform double x);\nstatic inline double futrts_erfc64(double x) {\n  double res;\n  foreach_active (i) {\n    uniform double r = erfc(extract(x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline double futrts_fma64(double a, double b, double c) {\n  return a * b + c;\n}\n\nstatic inline double futrts_round64(double x) {\n  return round(x);\n}\n\nstatic inline double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nextern \"C\" unmasked uniform double nextafter(uniform float x,", " uniform double y);\nstatic inline float futrts_nextafter64(double x, double y) {\n  double res;\n  foreach_active (i) {\n    uniform double r = nextafter(extract(x, i), extract(y, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline double futrts_floor64(double x) {\n  return floor(x);\n}\n\nstatic inline bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nstatic inline int8_t fptosi_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nstatic inline int16_t fptosi_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nstatic inline int32_t fptosi_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nstatic inline int64_t fptosi_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  }\n}\n\nstatic inline uint8_t fptoui_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nstatic inline uint16_t fptoui_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nstatic inline uint32_t fptoui_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nstatic inline uint64_t fptoui_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nstatic inline bool ftob_f64_bool(double x) {\n  return x != 0.0;\n}\n\nstatic inline double btof_bool_f64(bool x) {\n  return x ? 1.0 : 0.0;\n}\n\nstatic inline int64_t futrts_to_bits64(double x) {\n  int64_t res;\n  foreach_active (i) {\n    uniform double tmp = extract(x, i);\n    uniform int64_t r = *((uniform int64_t* uniform)&tmp);\n    res = insert(res, i, r);\n  }\n  ret", "urn res;\n}\n\nstatic inline double futrts_from_bits64(int64_t x) {\n  double res;\n  foreach_active (i) {\n    uniform int64_t tmp = extract(x, i);\n    uniform double r = *((uniform double* uniform)&tmp);\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline double fmod64(double x, double y) {\n  return x - y * trunc(x/y);\n}\n\nstatic inline double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0 ? 1.0d : 0.0d) - (x < 0 ? 1.0d : 0.0d);\n}\n\nstatic inline double futrts_lerp64(double v0, double v1, double t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline double futrts_mad64(double a, double b, double c) {\n  return a * b + c;\n}\n\nstatic inline float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nstatic inline float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f64_f64(double x) {\n  return (double) x;\n}\n\n#else\n\nstatic inline double fdiv64(double x, double y) {\n  return x / y;\n}\n\nstatic inline double fadd64(double x, double y) {\n  return x + y;\n}\n\nstatic inline double fsub64(double x, double y) {\n  return x - y;\n}\n\nstatic inline double fmul64(double x, double y) {\n  return x * y;\n}\n\nstatic inline bool cmplt64(double x, double y) {\n  return x < y;\n}\n\nstatic inline bool cmple64(double x, double y) {\n  return x <= y;\n}\n\nstatic inline double sitofp_i8_f64(int8_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i16_f64(int16_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i32_f64(int32_t x) {\n  return (double) x;\n}\n\nstatic inline double sitofp_i64_f64(int64_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i8_f64(uint8_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i16_f64(uint16_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i32_f64(uint32_t x) {\n  return (double) x;\n}\n\nstatic inline double uitofp_i64_f64(uint64_t x) {\n  return (double) x;\n}\n\nstatic inline double fabs64(double x) {\n  return fabs(x);\n}\n\nstati",
                                       "c inline double fmax64(double x, double y) {\n  return fmax(x, y);\n}\n\nstatic inline double fmin64(double x, double y) {\n  return fmin(x, y);\n}\n\nstatic inline double fpow64(double x, double y) {\n  return pow(x, y);\n}\n\nstatic inline double futrts_log64(double x) {\n  return log(x);\n}\n\nstatic inline double futrts_log2_64(double x) {\n  return log2(x);\n}\n\nstatic inline double futrts_log10_64(double x) {\n  return log10(x);\n}\n\nstatic inline double futrts_sqrt64(double x) {\n  return sqrt(x);\n}\n\nstatic inline double futrts_cbrt64(double x) {\n  return cbrt(x);\n}\n\nstatic inline double futrts_exp64(double x) {\n  return exp(x);\n}\n\nstatic inline double futrts_cos64(double x) {\n  return cos(x);\n}\n\nstatic inline double futrts_sin64(double x) {\n  return sin(x);\n}\n\nstatic inline double futrts_tan64(double x) {\n  return tan(x);\n}\n\nstatic inline double futrts_acos64(double x) {\n  return acos(x);\n}\n\nstatic inline double futrts_asin64(double x) {\n  return asin(x);\n}\n\nstatic inline double futrts_atan64(double x) {\n  return atan(x);\n}\n\nstatic inline double futrts_cosh64(double x) {\n  return cosh(x);\n}\n\nstatic inline double futrts_sinh64(double x) {\n  return sinh(x);\n}\n\nstatic inline double futrts_tanh64(double x) {\n  return tanh(x);\n}\n\nstatic inline double futrts_acosh64(double x) {\n  return acosh(x);\n}\n\nstatic inline double futrts_asinh64(double x) {\n  return asinh(x);\n}\n\nstatic inline double futrts_atanh64(double x) {\n  return atanh(x);\n}\n\nstatic inline double futrts_atan2_64(double x, double y) {\n  return atan2(x, y);\n}\n\nstatic inline double futrts_hypot64(double x, double y) {\n  return hypot(x, y);\n}\n\nstatic inline double futrts_gamma64(double x) {\n  return tgamma(x);\n}\n\nstatic inline double futrts_lgamma64(double x) {\n  return lgamma(x);\n}\n\nstatic inline double futrts_erf64(double x) {\n  return erf(x);\n}\n\nstatic inline double futrts_erfc64(double x) {\n  return erfc(x);\n}\n\nstatic inline double futrts_fma64(double a, double b, double c) {\n  return fma(a, b, c);\n}\n\nstatic inline double fut", "rts_round64(double x) {\n  return rint(x);\n}\n\nstatic inline double futrts_ceil64(double x) {\n  return ceil(x);\n}\n\nstatic inline float futrts_nextafter64(float x, float y) {\n  return nextafter(x, y);\n}\n\nstatic inline double futrts_floor64(double x) {\n  return floor(x);\n}\n\nstatic inline bool futrts_isnan64(double x) {\n  return isnan(x);\n}\n\nstatic inline bool futrts_isinf64(double x) {\n  return isinf(x);\n}\n\nstatic inline int8_t fptosi_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int8_t) x;\n  }\n}\n\nstatic inline int16_t fptosi_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int16_t) x;\n  }\n}\n\nstatic inline int32_t fptosi_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int32_t) x;\n  }\n}\n\nstatic inline int64_t fptosi_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (int64_t) x;\n  }\n}\n\nstatic inline uint8_t fptoui_f64_i8(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint8_t) (int8_t) x;\n  }\n}\n\nstatic inline uint16_t fptoui_f64_i16(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint16_t) (int16_t) x;\n  }\n}\n\nstatic inline uint32_t fptoui_f64_i32(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint32_t) (int32_t) x;\n  }\n}\n\nstatic inline uint64_t fptoui_f64_i64(double x) {\n  if (futrts_isnan64(x) || futrts_isinf64(x)) {\n    return 0;\n  } else {\n    return (uint64_t) (int64_t) x;\n  }\n}\n\nstatic inline bool ftob_f64_bool(double x) {\n  return x != 0;\n}\n\nstatic inline double btof_bool_f64(bool x) {\n  return x ? 1 : 0;\n}\n\nstatic inline int64_t futrts_to_bits64(double x) {\n  union {\n    double f;\n    int64_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline double futrts_from_bits64(int64_t x) {\n  union {\n    in", "t64_t f;\n    double t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline double fmod64(double x, double y) {\n  return fmod(x, y);\n}\n\nstatic inline double fsignum64(double x) {\n  return futrts_isnan64(x) ? x : (x > 0) - (x < 0);\n}\n\nstatic inline double futrts_lerp64(double v0, double v1, double t) {\n#ifdef __OPENCL_VERSION__\n  return mix(v0, v1, t);\n#else\n  return v0 + (v1 - v0) * t;\n#endif\n}\n\nstatic inline double futrts_mad64(double a, double b, double c) {\n#ifdef __OPENCL_VERSION__\n  return mad(a, b, c);\n#else\n  return a * b + c;\n#endif\n}\n\nstatic inline float fpconv_f32_f32(float x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f32_f64(float x) {\n  return (double) x;\n}\n\nstatic inline float fpconv_f64_f32(double x) {\n  return (float) x;\n}\n\nstatic inline double fpconv_f64_f64(double x) {\n  return (double) x;\n}\n\n#endif\n\n#endif\n\n// End of scalar.h.\n// Start of scalar_f16.h.\n\n// Half-precision is emulated if needed (e.g. in straight C) with the\n// native type used if possible.  The emulation works by typedef'ing\n// 'float' to 'f16', and then implementing all operations on single\n// precision.  To cut down on duplication, we use the same code for\n// those Futhark functions that require just operators or casts.  The\n// in-memory representation for arrays will still be 16 bits even\n// under emulation, so the compiler will have to be careful when\n// generating reads or writes.\n\n#if !defined(cl_khr_fp16) && !(defined(__CUDA_ARCH__) && __CUDA_ARCH__ >= 600) && !(defined(ISPC))\n#define EMULATE_F16\n#endif\n\n#if !defined(EMULATE_F16) && defined(__OPENCL_VERSION__)\n#pragma OPENCL EXTENSION cl_khr_fp16 : enable\n#endif\n\n#ifdef EMULATE_F16\n\n// Note that the half-precision storage format is still 16 bits - the\n// compiler will have to be real careful!\ntypedef float f16;\n\n#elif ISPC\ntypedef float16 f16;\n\n#else\n\n#ifdef __CUDA_ARCH__\n#include <cuda_fp16.h>\n#endif\n\ntypedef half f16;\n\n#endif\n\n// Some of these functions convert to single precision because half\n// precision versions a",
                                       "re not available.\n\nstatic inline f16 fadd16(f16 x, f16 y) {\n  return x + y;\n}\n\nstatic inline f16 fsub16(f16 x, f16 y) {\n  return x - y;\n}\n\nstatic inline f16 fmul16(f16 x, f16 y) {\n  return x * y;\n}\n\nstatic inline bool cmplt16(f16 x, f16 y) {\n  return x < y;\n}\n\nstatic inline bool cmple16(f16 x, f16 y) {\n  return x <= y;\n}\n\nstatic inline f16 sitofp_i8_f16(int8_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i16_f16(int16_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i32_f16(int32_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 sitofp_i64_f16(int64_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i8_f16(uint8_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i16_f16(uint16_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i32_f16(uint32_t x) {\n  return (f16) x;\n}\n\nstatic inline f16 uitofp_i64_f16(uint64_t x) {\n  return (f16) x;\n}\n\nstatic inline int8_t fptosi_f16_i8(f16 x) {\n  return (int8_t) (float) x;\n}\n\nstatic inline int16_t fptosi_f16_i16(f16 x) {\n  return (int16_t) x;\n}\n\nstatic inline int32_t fptosi_f16_i32(f16 x) {\n  return (int32_t) x;\n}\n\nstatic inline int64_t fptosi_f16_i64(f16 x) {\n  return (int64_t) x;\n}\n\nstatic inline uint8_t fptoui_f16_i8(f16 x) {\n  return (uint8_t) (float) x;\n}\n\nstatic inline uint16_t fptoui_f16_i16(f16 x) {\n  return (uint16_t) x;\n}\n\nstatic inline uint32_t fptoui_f16_i32(f16 x) {\n  return (uint32_t) x;\n}\n\nstatic inline uint64_t fptoui_f16_i64(f16 x) {\n  return (uint64_t) x;\n}\n\nstatic inline bool ftob_f16_bool(f16 x) {\n  return x != (f16)0;\n}\n\nstatic inline f16 btof_bool_f16(bool x) {\n  return x ? 1 : 0;\n}\n\n#ifndef EMULATE_F16\nstatic inline bool futrts_isnan16(f16 x) {\n  return isnan((float)x);\n}\n\n#ifdef __OPENCL_VERSION__\n\nstatic inline f16 fabs16(f16 x) {\n  return fabs(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmax(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fmin(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n\n#elif ISPC\nstatic inline f16 fabs16(f16 x) {\n  return ", "abs(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : max(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return futrts_isnan16(x) ? y : futrts_isnan16(y) ? x : min(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return pow(x, y);\n}\n#else // Assuming CUDA.\n\nstatic inline f16 fabs16(f16 x) {\n  return fabsf(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmaxf(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fminf(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return powf(x, y);\n}\n#endif\n\n#if ISPC\nstatic inline bool futrts_isinf16(float x) {\n  return !futrts_isnan16(x) && futrts_isnan16(x - x);\n}\nstatic inline bool futrts_isfinite16(float x) {\n  return !futrts_isnan16(x) && !futrts_isinf16(x);\n}\n\n#else\n\nstatic inline bool futrts_isinf16(f16 x) {\n  return isinf((float)x);\n}\n#endif\n\n#ifdef __OPENCL_VERSION__\nstatic inline f16 futrts_log16(f16 x) {\n  return log(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return log2(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return log10(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return sqrt(x);\n}\n\nstatic inline f16 futrts_cbrt16(f16 x) {\n  return cbrt(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return cos(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return sin(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return tan(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return acos(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return asin(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return atan(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return cosh(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return sinh(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return tanh(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return acosh(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return asinh(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {", "\n  return atanh(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return hypot(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return tgamma(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return lgamma(x);\n}\n\nstatic inline f16 futrts_erf16(f16 x) {\n  return erf(x);\n}\n\nstatic inline f16 futrts_erfc16(f16 x) {\n  return erfc(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmod(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return rint(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return floor(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return ceil(x);\n}\n\nstatic inline f16 futrts_nextafter16(f16 x, f16 y) {\n  return nextafter(x, y);\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return mix(v0, v1, t);\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return mad(a, b, c);\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fma(a, b, c);\n}\n#elif ISPC\n\nstatic inline f16 futrts_log16(f16 x) {\n  return futrts_isfinite16(x) || (futrts_isinf16(x) && x < 0) ? log(x) : x;\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return futrts_log16(x) / log(2.0f16);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return futrts_log16(x) / log(10.0f16);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return (float16)sqrt((float)x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return exp(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return (float16)cos((float)x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return (float16)sin((float)x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return (float16)tan((float)x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return (float16)acos((float)x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return (float16)asin((float)x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return (float16)atan((float)x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return (exp(x)+exp(-x)) / 2.0f16;\n}\n\nstatic inlin",
                                       "e f16 futrts_sinh16(f16 x) {\n  return (exp(x)-exp(-x)) / 2.0f16;\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return futrts_sinh16(x)/futrts_cosh16(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  float16 f = x+(float16)sqrt((float)(x*x-1));\n  if(futrts_isfinite16(f)) return log(f);\n  return f;\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  float16 f = x+(float16)sqrt((float)(x*x+1));\n  if(futrts_isfinite16(f)) return log(f);\n  return f;\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  float16 f = (1+x)/(1-x);\n  if(futrts_isfinite16(f)) return log(f)/2.0f16;\n  return f;\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return (float16)atan2((float)x, (float)y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return (float16)futrts_hypot32((float)x, (float)y);\n}\n\nextern \"C\" unmasked uniform float tgammaf(uniform float x);\nstatic inline f16 futrts_gamma16(f16 x) {\n  f16 res;\n  foreach_active (i) {\n    uniform f16 r = (f16)tgammaf(extract((float)x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nextern \"C\" unmasked uniform float lgammaf(uniform float x);\nstatic inline f16 futrts_lgamma16(f16 x) {\n  f16 res;\n  foreach_active (i) {\n    uniform f16 r = (f16)lgammaf(extract((float)x, i));\n    res = insert(res, i, r);\n  }\n  return res;\n}\n\nstatic inline f16 futrts_cbrt16(f16 x) {\n  f16 res = (f16)futrts_cbrt32((float)x);\n  return res;\n}\n\nstatic inline f16 futrts_erf16(f16 x) {\n  f16 res = (f16)futrts_erf32((float)x);\n  return res;\n}\n\nstatic inline f16 futrts_erfc16(f16 x) {\n  f16 res = (f16)futrts_erfc32((float)x);\n  return res;\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return x - y * (float16)trunc((float) (x/y));\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return (float16)round((float)x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return (float16)floor((float)x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return (float16)ceil((float)x);\n}\n\nstatic inline f16 futrts_nextafter16(f16 x, f16 y) {\n  return (float16)futrts_nextafter32((float)x, (f", "loat) y);\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\n#else // Assume CUDA.\n\nstatic inline f16 futrts_log16(f16 x) {\n  return hlog(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return hlog2(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return hlog10(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return hsqrt(x);\n}\n\nstatic inline f16 futrts_cbrt16(f16 x) {\n  return cbrtf(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return hexp(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return hcos(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return hsin(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return tanf(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return acosf(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return asinf(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return atanf(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return coshf(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return sinhf(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return tanhf(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return acoshf(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return asinhf(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  return atanhf(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return atan2f(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return hypotf(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return tgammaf(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return lgammaf(x);\n}\n\nstatic inline f16 futrts_erf16(f16 x) {\n  return erff(x);\n}\n\nstatic inline f16 futrts_erfc16(f16 x) {\n  return erfcf(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmodf(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return rintf(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  retur", "n hfloor(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return hceil(x);\n}\n\nstatic inline f16 futrts_nextafter16(f16 x, f16 y) {\n  return __ushort_as_half(halfbitsnextafter(__half_as_ushort(x), __half_as_ushort(y)));\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return v0 + (v1 - v0) * t;\n}\n\nstatic inline f16 futrts_mad16(f16 a, f16 b, f16 c) {\n  return a * b + c;\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return fmaf(a, b, c);\n}\n\n#endif\n\n// The CUDA __half type cannot be put in unions for some reason, so we\n// use bespoke conversion functions instead.\n#ifdef __CUDA_ARCH__\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  return __half_as_ushort(x);\n}\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return __ushort_as_half(x);\n}\n#elif ISPC\n\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  varying int16_t y = *((varying int16_t * uniform)&x);\n  return y;\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  varying f16 y = *((varying f16 * uniform)&x);\n  return y;\n}\n#else\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  union {\n    f16 f;\n    int16_t t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  union {\n    int16_t f;\n    f16 t;\n  } p;\n\n  p.f = x;\n  return p.t;\n}\n#endif\n\n#else // No native f16 - emulate.\n\nstatic inline f16 fabs16(f16 x) {\n  return fabs32(x);\n}\n\nstatic inline f16 fmax16(f16 x, f16 y) {\n  return fmax32(x, y);\n}\n\nstatic inline f16 fmin16(f16 x, f16 y) {\n  return fmin32(x, y);\n}\n\nstatic inline f16 fpow16(f16 x, f16 y) {\n  return fpow32(x, y);\n}\n\nstatic inline bool futrts_isnan16(f16 x) {\n  return futrts_isnan32(x);\n}\n\nstatic inline bool futrts_isinf16(f16 x) {\n  return futrts_isinf32(x);\n}\n\nstatic inline f16 futrts_log16(f16 x) {\n  return futrts_log32(x);\n}\n\nstatic inline f16 futrts_log2_16(f16 x) {\n  return futrts_log2_32(x);\n}\n\nstatic inline f16 futrts_log10_16(f16 x) {\n  return futrts_log10_32(x);\n}\n\nstatic inline f16 futrts_sqrt16(f16 x) {\n  return futrts_sqrt32(x);",
                                       "\n}\n\nstatic inline f16 futrts_cbrt16(f16 x) {\n  return futrts_cbrt32(x);\n}\n\nstatic inline f16 futrts_exp16(f16 x) {\n  return futrts_exp32(x);\n}\n\nstatic inline f16 futrts_cos16(f16 x) {\n  return futrts_cos32(x);\n}\n\nstatic inline f16 futrts_sin16(f16 x) {\n  return futrts_sin32(x);\n}\n\nstatic inline f16 futrts_tan16(f16 x) {\n  return futrts_tan32(x);\n}\n\nstatic inline f16 futrts_acos16(f16 x) {\n  return futrts_acos32(x);\n}\n\nstatic inline f16 futrts_asin16(f16 x) {\n  return futrts_asin32(x);\n}\n\nstatic inline f16 futrts_atan16(f16 x) {\n  return futrts_atan32(x);\n}\n\nstatic inline f16 futrts_cosh16(f16 x) {\n  return futrts_cosh32(x);\n}\n\nstatic inline f16 futrts_sinh16(f16 x) {\n  return futrts_sinh32(x);\n}\n\nstatic inline f16 futrts_tanh16(f16 x) {\n  return futrts_tanh32(x);\n}\n\nstatic inline f16 futrts_acosh16(f16 x) {\n  return futrts_acosh32(x);\n}\n\nstatic inline f16 futrts_asinh16(f16 x) {\n  return futrts_asinh32(x);\n}\n\nstatic inline f16 futrts_atanh16(f16 x) {\n  return futrts_atanh32(x);\n}\n\nstatic inline f16 futrts_atan2_16(f16 x, f16 y) {\n  return futrts_atan2_32(x, y);\n}\n\nstatic inline f16 futrts_hypot16(f16 x, f16 y) {\n  return futrts_hypot32(x, y);\n}\n\nstatic inline f16 futrts_gamma16(f16 x) {\n  return futrts_gamma32(x);\n}\n\nstatic inline f16 futrts_lgamma16(f16 x) {\n  return futrts_lgamma32(x);\n}\n\nstatic inline f16 futrts_erf16(f16 x) {\n  return futrts_erf32(x);\n}\n\nstatic inline f16 futrts_erfc16(f16 x) {\n  return futrts_erfc32(x);\n}\n\nstatic inline f16 fmod16(f16 x, f16 y) {\n  return fmod32(x, y);\n}\n\nstatic inline f16 futrts_round16(f16 x) {\n  return futrts_round32(x);\n}\n\nstatic inline f16 futrts_floor16(f16 x) {\n  return futrts_floor32(x);\n}\n\nstatic inline f16 futrts_ceil16(f16 x) {\n  return futrts_ceil32(x);\n}\n\nstatic inline f16 futrts_nextafter16(f16 x, f16 y) {\n  return halfbits2float(halfbitsnextafter(float2halfbits(x), float2halfbits(y)));\n}\n\nstatic inline f16 futrts_lerp16(f16 v0, f16 v1, f16 t) {\n  return futrts_lerp32(v0, v1, t);\n}\n\nstatic inline f16 futrts_mad16(", "f16 a, f16 b, f16 c) {\n  return futrts_mad32(a, b, c);\n}\n\nstatic inline f16 futrts_fma16(f16 a, f16 b, f16 c) {\n  return futrts_fma32(a, b, c);\n}\n\n// Even when we are using an OpenCL that does not support cl_khr_fp16,\n// it must still support vload_half for actually creating a\n// half-precision number, which can then be efficiently converted to a\n// float.  Similarly for vstore_half.\n#ifdef __OPENCL_VERSION__\n\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  int16_t y;\n  // Violating strict aliasing here.\n  vstore_half((float)x, 0, (half*)&y);\n  return y;\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return (f16)vload_half(0, (half*)&x);\n}\n\n#else\n\nstatic inline int16_t futrts_to_bits16(f16 x) {\n  return (int16_t)float2halfbits(x);\n}\n\nstatic inline f16 futrts_from_bits16(int16_t x) {\n  return halfbits2float((uint16_t)x);\n}\n\nstatic inline f16 fsignum16(f16 x) {\n  return futrts_isnan16(x) ? x : (x > 0 ? 1 : 0) - (x < 0 ? 1 : 0);\n}\n\n#endif\n\n#endif\n\nstatic inline float fpconv_f16_f16(f16 x) {\n  return x;\n}\n\nstatic inline float fpconv_f16_f32(f16 x) {\n  return x;\n}\n\nstatic inline f16 fpconv_f32_f16(float x) {\n  return (f16) x;\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\nstatic inline double fpconv_f16_f64(f16 x) {\n  return (double) x;\n}\n\n#if ISPC\nstatic inline f16 fpconv_f64_f16(double x) {\n  return (f16) ((float)x);\n}\n#else\nstatic inline f16 fpconv_f64_f16(double x) {\n  return (f16) x;\n}\n#endif\n#endif\n\n\n// End of scalar_f16.h.\n// Start of atomics.h\n\ninline int32_t atomic_xchg_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_xchg_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_cmpxchg_i32_global(volatile __global int32_t *p,\n                                         int32_t cmp, int32_t val) {\n#ifdef FUTHARK_CUDA\n  return atomi", "cCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int32_t atomic_cmpxchg_i32_local(volatile __local int32_t *p,\n                                        int32_t cmp, int32_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((int32_t*)p, cmp, val);\n#else\n  return atomic_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int32_t atomic_add_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((int32_t*)p, x);\n#else\n  return atomic_add(p, x);\n#endif\n}\n\ninline int32_t atomic_add_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((int32_t*)p, x);\n#else\n  return atomic_add(p, x);\n#endif\n}\n\ninline float atomic_fadd_f32_global(volatile __global float *p, float x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((float*)p, x);\n#else\n  union { int32_t i; float f; } old;\n  union { int32_t i; float f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i32_global((volatile __global int32_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline float atomic_fadd_f32_local(volatile __local float *p, float x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((float*)p, x);\n#else\n  union { int32_t i; float f; } old;\n  union { int32_t i; float f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i32_local((volatile __local int32_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline int32_t atomic_smax_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline int32_t atomic_smax_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline int32_t atomic_smin_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n",
                                       "  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline int32_t atomic_smin_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline uint32_t atomic_umax_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline uint32_t atomic_umax_i32_local(volatile __local uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint32_t*)p, x);\n#else\n  return atomic_max(p, x);\n#endif\n}\n\ninline uint32_t atomic_umin_i32_global(volatile __global uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline uint32_t atomic_umin_i32_local(volatile __local uint32_t *p, uint32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint32_t*)p, x);\n#else\n  return atomic_min(p, x);\n#endif\n}\n\ninline int32_t atomic_and_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\ninline int32_t atomic_and_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int32_t*)p, x);\n#else\n  return atomic_and(p, x);\n#endif\n}\n\ninline int32_t atomic_or_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\ninline int32_t atomic_or_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int32_t*)p, x);\n#else\n  return atomic_or(p, x);\n#endif\n}\n\ninline int32_t atomic_xor_i32_global(volatile __global int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int32_t*)p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\ninline int32_t atomic_xor_i32_local(volatile __local int32_t *p, int32_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int32_t*", ")p, x);\n#else\n  return atomic_xor(p, x);\n#endif\n}\n\n// Start of 64 bit atomics\n\ninline int64_t atomic_xchg_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_xchg_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicExch((uint64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_cmpxchg_i64_global(volatile __global int64_t *p,\n                                         int64_t cmp, int64_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int64_t atomic_cmpxchg_i64_local(volatile __local int64_t *p,\n                                        int64_t cmp, int64_t val) {\n#ifdef FUTHARK_CUDA\n  return atomicCAS((uint64_t*)p, cmp, val);\n#else\n  return atom_cmpxchg(p, cmp, val);\n#endif\n}\n\ninline int64_t atomic_add_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\ninline int64_t atomic_add_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAdd((uint64_t*)p, x);\n#else\n  return atom_add(p, x);\n#endif\n}\n\n#ifdef FUTHARK_F64_ENABLED\n\ninline double atomic_fadd_f64_global(volatile __global double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600\n  return atomicAdd((double*)p, x);\n#else\n  union { int64_t i; double f; } old;\n  union { int64_t i; double f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i64_global((volatile __global int64_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\ninline double atomic_fadd_f64_local(volatile __local double *p, double x) {\n#if defined(FUTHARK_CUDA) && __CUDA_ARCH__ >= 600\n  return atomicAdd((double*)p, x);\n#else\n  union { int64_t i; double f; } old;\n  uni", "on { int64_t i; double f; } assumed;\n  old.f = *p;\n  do {\n    assumed.f = old.f;\n    old.f = old.f + x;\n    old.i = atomic_cmpxchg_i64_local((volatile __local int64_t*)p, assumed.i, old.i);\n  } while (assumed.i != old.i);\n  return old.f;\n#endif\n}\n\n#endif\n\ninline int64_t atomic_smax_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline int64_t atomic_smax_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((int64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline int64_t atomic_smin_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline int64_t atomic_smin_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((int64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline uint64_t atomic_umax_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline uint64_t atomic_umax_i64_local(volatile __local uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMax((uint64_t*)p, x);\n#else\n  return atom_max(p, x);\n#endif\n}\n\ninline uint64_t atomic_umin_i64_global(volatile __global uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline uint64_t atomic_umin_i64_local(volatile __local uint64_t *p, uint64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicMin((uint64_t*)p, x);\n#else\n  return atom_min(p, x);\n#endif\n}\n\ninline int64_t atomic_and_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int64_t*)p, x);\n#else\n  return atom_and(p, x);\n#endif\n}\n\ninline int64_t atomic_and_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicAnd((int64_t*)p, x);\n#",
                                       "else\n  return atom_and(p, x);\n#endif\n}\n\ninline int64_t atomic_or_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\ninline int64_t atomic_or_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicOr((int64_t*)p, x);\n#else\n  return atom_or(p, x);\n#endif\n}\n\ninline int64_t atomic_xor_i64_global(volatile __global int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\ninline int64_t atomic_xor_i64_local(volatile __local int64_t *p, int64_t x) {\n#ifdef FUTHARK_CUDA\n  return atomicXor((int64_t*)p, x);\n#else\n  return atom_xor(p, x);\n#endif\n}\n\n// End of atomics.h\n\n\n\n__kernel void gpu_map_transpose_i32(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offse", "t_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 4) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 4) + our_array_offset_30;\n    int32_t x_index_31 = get_global_id_0_37;\n    int32_t y_index_32 = get_group_id_1_42 * 32 + get_local_id_1_39;\n    int32_t val_45;\n    \n    if (slt32(x_index_31, x_elems_5)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_in_35 = (y_index_32 + j_44 * 8) * x_elems_5 + x_index_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, y_elems_6)) {\n                val_45 = ((__global int32_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n                ((__local int32_t *) block_9)[sext_i32_i64((get_local_id_1_39 + j_44 * 8) * 33 + get_local_id_0_38)] = val_45;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 32 + get_local_id_0_38;\n    y_index_32 = get_group_id_0_41 * 32 + get_local_id_1_39;\n    if (slt32(x_index_31, y_elems_6)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_out_36 = (y_index_32 + j_44 * 8) * y_elems_6 + x_index_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, x_elems_5)) {\n                val_45 = ((__local int32_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 33 + get_local_id_1_39 + j_44 * 8)];\n                ((__global int32_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i32_low_height(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backin", "g_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 4) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 4) + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_0_38 + srem32(get_local_id_1_39, mulx_7) * 16;\n    int32_t y_index_32 = get_group_id_1_42 * 16 + squot32(get_local_id_1_39, mulx_7);\n    int32_t val_45;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        val_45 = ((__global int32_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local int32_t *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 + squot32(get_local_id_0_38, mulx_7);\n    y_index_32 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_1_39 + srem32(get_local_id_0_38, mulx_7) * 16;\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local int32_t *) block_9)[sext_i32_i64",
                                       "(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global int32_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i32_low_width(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 4) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 4) + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 + squot32(get_local_id_0_38, muly_8);\n    int32_t y_index_32 = get_group_id_1_42 * 16 * muly_8 + get_local_id_1_39 + srem32(get_local_id_0_38, muly_8) * 16;\n    int32_t val_45;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n ", "       val_45 = ((__global int32_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local int32_t *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 * muly_8 + get_local_id_0_38 + srem32(get_local_id_1_39, muly_8) * 16;\n    y_index_32 = get_group_id_0_41 * 16 + squot32(get_local_id_1_39, muly_8);\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local int32_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global int32_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i32_small(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_", "sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = squot32(get_global_id_0_37, y_elems_6 * x_elems_5) * (y_elems_6 * x_elems_5);\n    int32_t x_index_31 = squot32(srem32(get_global_id_0_37, y_elems_6 * x_elems_5), y_elems_6);\n    int32_t y_index_32 = srem32(get_global_id_0_37, y_elems_6);\n    int32_t val_45;\n    int32_t odata_offset_33 = squot32(destoffset_1, 4) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 4) + our_array_offset_30;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    int32_t index_out_36 = x_index_31 * y_elems_6 + y_index_32;\n    \n    if (slt32(get_global_id_0_37, x_elems_5 * y_elems_6 * num_arrays_4)) {\n        val_45 = ((__global int32_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__global int32_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i64(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_",
                                       "0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 8) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 8) + our_array_offset_30;\n    int32_t x_index_31 = get_global_id_0_37;\n    int32_t y_index_32 = get_group_id_1_42 * 32 + get_local_id_1_39;\n    int64_t val_45;\n    \n    if (slt32(x_index_31, x_elems_5)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_in_35 = (y_index_32 + j_44 * 8) * x_elems_5 + x_index_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, y_elems_6)) {\n                val_45 = ((__global int64_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n                ((__local int64_t *) block_9)[sext_i32_i64((get_local_id_1_39 + j_44 * 8) * 33 + get_local_id_0_38)] = val_45;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 32 + get_local_id_0_38;\n    y_index_32 = get_group_id_0_41 * 32 + get_local_id_1_39;\n    if (slt32(x_index_31, y_elems_6)) {\n        for (int32_t j_44 = 0; j_44 < 4; j_44++) {\n            int32_t index_out_36 = (y_index_32 + j_44 * 8) * y_elems_6 + x_index_31;\n            \n            if (slt32(y_index_32 + j_44 * 8, x_elems_5)) {\n                val_45 = ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 33 + get_local_id_1_39 + j_44 * 8)];\n                ((__global int64_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n            }\n        }\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i64_low_height(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2", ")\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 8) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 8) + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_0_38 + srem32(get_local_id_1_39, mulx_7) * 16;\n    int32_t y_index_32 = get_group_id_1_42 * 16 + squot32(get_local_id_1_39, mulx_7);\n    int64_t val_45;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        val_45 = ((__global int64_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 + squot32(get_local_id_0_38, mulx_7);\n    y_index_32 = get_group_id_0_41 * 16 * mulx_7 + get_local_id_1_39 + srem32(get_local_id_0_38, mulx_7) * 16;\n    \n    int32_t index_out_36 = y_index_32 * y_elems", "_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global int64_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i64_low_width(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = get_group_id_2_43 * x_elems_5 * y_elems_6;\n    int32_t odata_offset_33 = squot32(destoffset_1, 8) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 8) + our_array_offset_30;\n    int32_t x_index_31 = get_group_id_0_41 * 16 + squot32(get_local_id_0_38, muly_8);\n    int32_t y_index_32 = get_group_id_1_42 * 16 * muly_8 + get_local_id_1_39 + srem32(get_local_id_0_38, muly_8) * 16;\n    int6",
                                       "4_t val_45;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    \n    if (slt32(x_index_31, x_elems_5) && slt32(y_index_32, y_elems_6)) {\n        val_45 = ((__global int64_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_1_39 * 17 + get_local_id_0_38)] = val_45;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    x_index_31 = get_group_id_1_42 * 16 * muly_8 + get_local_id_0_38 + srem32(get_local_id_1_39, muly_8) * 16;\n    y_index_32 = get_group_id_0_41 * 16 + squot32(get_local_id_1_39, muly_8);\n    \n    int32_t index_out_36 = y_index_32 * y_elems_6 + x_index_31;\n    \n    if (slt32(x_index_31, y_elems_6) && slt32(y_index_32, x_elems_5)) {\n        val_45 = ((__local int64_t *) block_9)[sext_i32_i64(get_local_id_0_38 * 17 + get_local_id_1_39)];\n        ((__global int64_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void gpu_map_transpose_i64_small(__local volatile int64_t *block_9_backing_aligned_0, int32_t destoffset_1, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6, int32_t mulx_7, int32_t muly_8, __global unsigned char *destmem_0, __global unsigned char *srcmem_2)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict block_9_backing_0 = (__local volatile unsigned char *) block_9_backing_aligned_0;\n    __local unsigned char *block_9;\n    \n    block_9 = (__local unsigned char *) block_9_backing_0;\n    \n    int32_t get_local_id_0_38;\n    \n    get_local_id_0_38 = get_local_id(0);\n    \n    int32_t get_local_id_1_39;\n    \n    get_local_id_1_39 = get_local_id(1);\n    \n    int32_t get_group_id_0_41;\n    \n    get_group_id_0_41 = get_group_id(0);\n    \n    int32_t get_group_id_1_42;\n    \n    get_group_id_1_42 = get_group_id(1);\n    \n    int32_t get_group_id_2_43;\n    \n    get_group_id_2_43 = get_group_id(2);\n    \n", "    int32_t get_local_sizze_0_40;\n    \n    get_local_sizze_0_40 = get_local_size(0);\n    \n    int32_t get_global_id_0_37 = get_group_id_0_41 * get_local_sizze_0_40 + get_local_id_0_38;\n    int32_t our_array_offset_30 = squot32(get_global_id_0_37, y_elems_6 * x_elems_5) * (y_elems_6 * x_elems_5);\n    int32_t x_index_31 = squot32(srem32(get_global_id_0_37, y_elems_6 * x_elems_5), y_elems_6);\n    int32_t y_index_32 = srem32(get_global_id_0_37, y_elems_6);\n    int64_t val_45;\n    int32_t odata_offset_33 = squot32(destoffset_1, 8) + our_array_offset_30;\n    int32_t idata_offset_34 = squot32(srcoffset_3, 8) + our_array_offset_30;\n    int32_t index_in_35 = y_index_32 * x_elems_5 + x_index_31;\n    int32_t index_out_36 = x_index_31 * y_elems_6 + y_index_32;\n    \n    if (slt32(get_global_id_0_37, x_elems_5 * y_elems_6 * num_arrays_4)) {\n        val_45 = ((__global int64_t *) srcmem_2)[sext_i32_i64(idata_offset_34 + index_in_35)];\n        ((__global int64_t *) destmem_0)[sext_i32_i64(odata_offset_33 + index_out_36)] = val_45;\n    }\n    \n  error_0:\n    return;\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_16557(__global int *global_failure, int64_t n_12333, int64_t m_12334, int64_t p_12335, int64_t num_groups_16553, int64_t num_threads_20317, int32_t virt_num_groups_20336, __global unsigned char *zzinvs_mem_19926, __global unsigned char *expsss_mem_19928, __global unsigned char *coefficientss_mem_19929, __global unsigned char *mem_20162, __global unsigned char *mem_20227, __global unsigned char *color_20294, __global unsigned char *color_20295, __global unsigned char *color_20296, __global unsigned char *color_20297)\n{\n    #define segmap_group_sizze_16552 (make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16363)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20338;\n    int64_t group_sizze_20341;\n    int32_t wave_si", "zze_20340;\n    int32_t group_tid_20339;\n    \n    local_tid_20338 = get_local_id(0);\n    group_sizze_20341 = get_local_size(0);\n    wave_sizze_20340 = LOCKSTEP_WIDTH;\n    group_tid_20339 = get_group_id(0);\n    \n    int32_t global_tid_20337 = group_tid_20339 * group_sizze_20341 + local_tid_20338;\n    int32_t phys_tid_16557 = global_tid_20337;\n    int32_t phys_group_id_20342;\n    \n    phys_group_id_20342 = get_group_id(0);\n    \n    int32_t iterations_20343 = sdiv_up32(virt_num_groups_20336 - phys_group_id_20342, sext_i64_i32(num_groups_16553));\n    \n    for (int32_t i_20344 = 0; i_20344 < iterations_20343; i_20344++) {\n        int32_t virt_group_id_20345 = phys_group_id_20342 + i_20344 * sext_i64_i32(num_groups_16553);\n        int64_t global_tid_20346 = sext_i32_i64(virt_group_id_20345) * segmap_group_sizze_16552 + sext_i32_i64(local_tid_20338);\n        int64_t slice_20347 = n_12333;\n        int64_t gtid_16556 = global_tid_20346;\n        int64_t remnant_20348 = global_tid_20346 - gtid_16556;\n        \n        if (slt64(gtid_16556, n_12333)) {\n            int64_t defunc_0_f_res_16560 = ((__global int64_t *) zzinvs_mem_19926)[gtid_16556 * (int64_t) 3];\n            int64_t defunc_0_f_res_16561 = ((__global int64_t *) zzinvs_mem_19926)[gtid_16556 * (int64_t) 3 + (int64_t) 1];\n            int64_t defunc_0_f_res_16562 = ((__global int64_t *) zzinvs_mem_19926)[gtid_16556 * (int64_t) 3 + (int64_t) 2];\n            \n            for (int64_t i_19885 = 0; i_19885 < m_12334; i_19885++) {\n                for (int64_t i_20352 = 0; i_20352 < (int64_t) 1; i_20352++) {\n                    int64_t tmp_20353 = ((__global int64_t *) mem_20162)[i_19885 * (n_12333 * (int64_t) 3) + gtid_16556 + i_20352 * n_12333];\n                    \n                    ((__global int64_t *) color_20297)[phys_tid_16557 + num_threads_20317 * i_19885 + i_20352 * num_threads_20317] = tmp_20353;\n                }\n                for (int64_t i_20354 = 0; i_20354 < (int64_t) 1; i_20354++) {\n                    int",
                                       "64_t tmp_20355 = ((__global int64_t *) mem_20162)[i_19885 * (n_12333 * (int64_t) 3) + n_12333 + gtid_16556 + i_20354 * n_12333];\n                    \n                    ((__global int64_t *) color_20296)[phys_tid_16557 + num_threads_20317 * i_19885 + i_20354 * num_threads_20317] = tmp_20355;\n                }\n                for (int64_t i_20356 = 0; i_20356 < (int64_t) 1; i_20356++) {\n                    int64_t tmp_20357 = ((__global int64_t *) mem_20162)[i_19885 * (n_12333 * (int64_t) 3) + n_12333 * (int64_t) 2 + gtid_16556 + i_20356 * n_12333];\n                    \n                    ((__global int64_t *) color_20295)[phys_tid_16557 + num_threads_20317 * i_19885 + i_20356 * num_threads_20317] = tmp_20357;\n                }\n            }\n            \n            int64_t mem_20215[(int64_t) 3];\n            \n            for (int64_t i_19891 = 0; i_19891 < m_12334; i_19891++) {\n                int64_t defunc_0_f_res_16575;\n                int64_t defunc_0_f_res_16576;\n                int64_t defunc_0_f_res_16577;\n                int64_t redout_19893;\n                int64_t redout_19894;\n                int64_t redout_19895;\n                \n                redout_19893 = (int64_t) 0;\n                redout_19894 = (int64_t) 0;\n                redout_19895 = (int64_t) 0;\n                for (int64_t i_19896 = 0; i_19896 < p_12335; i_19896++) {\n                    int64_t x_16590 = ((__global int64_t *) coefficientss_mem_19929)[i_19891 * ((int64_t) 3 * p_12335) + i_19896 * (int64_t) 3];\n                    int64_t x_16591 = ((__global int64_t *) coefficientss_mem_19929)[i_19891 * ((int64_t) 3 * p_12335) + i_19896 * (int64_t) 3 + (int64_t) 1];\n                    int64_t x_16592 = ((__global int64_t *) coefficientss_mem_19929)[i_19891 * ((int64_t) 3 * p_12335) + i_19896 * (int64_t) 3 + (int64_t) 2];\n                    int64_t defunc_0_f_res_16594;\n                    int64_t defunc_0_f_res_16595;\n                    int64_t defunc_0_f_res_16596;\n                   ", " int64_t redout_19897;\n                    int64_t redout_19898;\n                    int64_t redout_19899;\n                    \n                    redout_19897 = (int64_t) 1;\n                    redout_19898 = (int64_t) 0;\n                    redout_19899 = (int64_t) 0;\n                    for (int64_t i_19900 = 0; i_19900 < m_12334; i_19900++) {\n                        int64_t x_16621 = ((__global int64_t *) expsss_mem_19928)[i_19891 * (m_12334 * p_12335) + i_19896 * m_12334 + i_19900];\n                        int64_t x_16622 = ((__global int64_t *) color_20297)[phys_tid_16557 + i_19900 * num_threads_20317];\n                        int64_t x_16623 = ((__global int64_t *) color_20296)[phys_tid_16557 + i_19900 * num_threads_20317];\n                        int64_t x_16624 = ((__global int64_t *) color_20295)[phys_tid_16557 + i_19900 * num_threads_20317];\n                        bool loop_cond_16625 = ult64((int64_t) 0, x_16621);\n                        bool mod_pow_u64_res_16626;\n                        int64_t mod_pow_u64_res_16627;\n                        int64_t mod_pow_u64_res_16628;\n                        int64_t mod_pow_u64_res_16629;\n                        int64_t mod_pow_u64_res_16630;\n                        int64_t mod_pow_u64_res_16631;\n                        int64_t mod_pow_u64_res_16632;\n                        int64_t mod_pow_u64_res_16633;\n                        bool loop_while_16634;\n                        int64_t x_16635;\n                        int64_t x_16636;\n                        int64_t x_16637;\n                        int64_t i_16638;\n                        int64_t result_16639;\n                        int64_t result_16640;\n                        int64_t result_16641;\n                        \n                        loop_while_16634 = loop_cond_16625;\n                        x_16635 = x_16622;\n                        x_16636 = x_16623;\n                        x_16637 = x_16624;\n                        i_16638 = x_16621;\n               ", "         result_16639 = (int64_t) 1;\n                        result_16640 = (int64_t) 0;\n                        result_16641 = (int64_t) 0;\n                        while (loop_while_16634) {\n                            int64_t x_16642 = umod64(i_16638, (int64_t) 2);\n                            bool cond_16643 = x_16642 == (int64_t) 1;\n                            int64_t loopres_16644;\n                            int64_t loopres_16645;\n                            int64_t loopres_16646;\n                            int64_t loopres_16647;\n                            int64_t loopres_16648;\n                            int64_t loopres_16649;\n                            int64_t loopres_16650;\n                            \n                            if (cond_16643 == 1) {\n                                int64_t x_16651 = mul64(x_16635, x_16635);\n                                int64_t y_16652 = mul64(x_16636, x_16637);\n                                int64_t x_16653 = sub64(x_16651, y_16652);\n                                int64_t mul_res_16654 = sub64(x_16653, y_16652);\n                                int64_t x_16655 = mul64(x_16635, x_16636);\n                                int64_t x_16656 = add64(x_16655, x_16655);\n                                int64_t y_16657 = mul64(x_16637, x_16637);\n                                int64_t x_16658 = sub64(x_16656, y_16657);\n                                int64_t x_16659 = add64(y_16652, x_16658);\n                                int64_t mul_res_16660 = add64(y_16652, x_16659);\n                                int64_t x_16661 = mul64(x_16635, x_16637);\n                                int64_t y_16662 = mul64(x_16636, x_16636);\n                                int64_t x_16663 = add64(x_16661, y_16662);\n                                int64_t x_16664 = add64(x_16661, x_16663);\n                                int64_t mul_res_16665 = add64(y_16657, x_16664);\n                                int64_t loopres_t_res_16666 = lshr64(i_16638, (int",
                                       "64_t) 1);\n                                int64_t x_16667 = mul64(x_16635, result_16639);\n                                int64_t y_16668 = mul64(x_16637, result_16640);\n                                int64_t x_16669 = sub64(x_16667, y_16668);\n                                int64_t y_16670 = mul64(x_16636, result_16641);\n                                int64_t mul_res_16671 = sub64(x_16669, y_16670);\n                                int64_t x_16672 = mul64(x_16636, result_16639);\n                                int64_t y_16673 = mul64(x_16635, result_16640);\n                                int64_t x_16674 = add64(x_16672, y_16673);\n                                int64_t y_16675 = mul64(x_16637, result_16641);\n                                int64_t x_16676 = sub64(x_16674, y_16675);\n                                int64_t x_16677 = add64(y_16668, x_16676);\n                                int64_t mul_res_16678 = add64(y_16670, x_16677);\n                                int64_t x_16679 = mul64(x_16637, result_16639);\n                                int64_t y_16680 = mul64(x_16636, result_16640);\n                                int64_t x_16681 = add64(x_16679, y_16680);\n                                int64_t y_16682 = mul64(x_16635, result_16641);\n                                int64_t x_16683 = add64(x_16681, y_16682);\n                                int64_t mul_res_16684 = add64(y_16675, x_16683);\n                                \n                                loopres_16644 = mul_res_16654;\n                                loopres_16645 = mul_res_16660;\n                                loopres_16646 = mul_res_16665;\n                                loopres_16647 = loopres_t_res_16666;\n                                loopres_16648 = mul_res_16671;\n                                loopres_16649 = mul_res_16678;\n                                loopres_16650 = mul_res_16684;\n                            } else {\n                                int64_t x_16685 = mul64(x_16", "635, x_16635);\n                                int64_t y_16686 = mul64(x_16636, x_16637);\n                                int64_t x_16687 = sub64(x_16685, y_16686);\n                                int64_t mul_res_16688 = sub64(x_16687, y_16686);\n                                int64_t x_16689 = mul64(x_16635, x_16636);\n                                int64_t x_16690 = add64(x_16689, x_16689);\n                                int64_t y_16691 = mul64(x_16637, x_16637);\n                                int64_t x_16692 = sub64(x_16690, y_16691);\n                                int64_t x_16693 = add64(y_16686, x_16692);\n                                int64_t mul_res_16694 = add64(y_16686, x_16693);\n                                int64_t x_16695 = mul64(x_16635, x_16637);\n                                int64_t y_16696 = mul64(x_16636, x_16636);\n                                int64_t x_16697 = add64(x_16695, y_16696);\n                                int64_t x_16698 = add64(x_16695, x_16697);\n                                int64_t mul_res_16699 = add64(y_16691, x_16698);\n                                int64_t loopres_f_res_16700 = lshr64(i_16638, (int64_t) 1);\n                                \n                                loopres_16644 = mul_res_16688;\n                                loopres_16645 = mul_res_16694;\n                                loopres_16646 = mul_res_16699;\n                                loopres_16647 = loopres_f_res_16700;\n                                loopres_16648 = result_16639;\n                                loopres_16649 = result_16640;\n                                loopres_16650 = result_16641;\n                            }\n                            \n                            bool loop_cond_16701 = ult64((int64_t) 0, loopres_16647);\n                            bool loop_while_tmp_20365 = loop_cond_16701;\n                            int64_t x_tmp_20366 = loopres_16644;\n                            int64_t x_tmp_20367 = loopres_16645;\n", "                            int64_t x_tmp_20368 = loopres_16646;\n                            int64_t i_tmp_20369 = loopres_16647;\n                            int64_t result_tmp_20370 = loopres_16648;\n                            int64_t result_tmp_20371 = loopres_16649;\n                            int64_t result_tmp_20372 = loopres_16650;\n                            \n                            loop_while_16634 = loop_while_tmp_20365;\n                            x_16635 = x_tmp_20366;\n                            x_16636 = x_tmp_20367;\n                            x_16637 = x_tmp_20368;\n                            i_16638 = i_tmp_20369;\n                            result_16639 = result_tmp_20370;\n                            result_16640 = result_tmp_20371;\n                            result_16641 = result_tmp_20372;\n                        }\n                        mod_pow_u64_res_16626 = loop_while_16634;\n                        mod_pow_u64_res_16627 = x_16635;\n                        mod_pow_u64_res_16628 = x_16636;\n                        mod_pow_u64_res_16629 = x_16637;\n                        mod_pow_u64_res_16630 = i_16638;\n                        mod_pow_u64_res_16631 = result_16639;\n                        mod_pow_u64_res_16632 = result_16640;\n                        mod_pow_u64_res_16633 = result_16641;\n                        \n                        int64_t x_16603 = mul64(mod_pow_u64_res_16631, redout_19897);\n                        int64_t y_16604 = mul64(mod_pow_u64_res_16632, redout_19899);\n                        int64_t x_16605 = sub64(x_16603, y_16604);\n                        int64_t y_16606 = mul64(mod_pow_u64_res_16633, redout_19898);\n                        int64_t defunc_1_op_res_16607 = sub64(x_16605, y_16606);\n                        int64_t x_16608 = mul64(mod_pow_u64_res_16631, redout_19898);\n                        int64_t y_16609 = mul64(mod_pow_u64_res_16632, redout_19897);\n                        int64_t x_16610 = add64(x_16608, y_16609);",
                                       "\n                        int64_t y_16611 = mul64(mod_pow_u64_res_16633, redout_19899);\n                        int64_t x_16612 = sub64(x_16610, y_16611);\n                        int64_t x_16613 = add64(y_16604, x_16612);\n                        int64_t defunc_1_op_res_16614 = add64(y_16606, x_16613);\n                        int64_t x_16615 = mul64(mod_pow_u64_res_16631, redout_19899);\n                        int64_t y_16616 = mul64(mod_pow_u64_res_16632, redout_19898);\n                        int64_t x_16617 = add64(x_16615, y_16616);\n                        int64_t y_16618 = mul64(mod_pow_u64_res_16633, redout_19897);\n                        int64_t x_16619 = add64(x_16617, y_16618);\n                        int64_t defunc_1_op_res_16620 = add64(y_16611, x_16619);\n                        int64_t redout_tmp_20362 = defunc_1_op_res_16607;\n                        int64_t redout_tmp_20363 = defunc_1_op_res_16614;\n                        int64_t redout_tmp_20364 = defunc_1_op_res_16620;\n                        \n                        redout_19897 = redout_tmp_20362;\n                        redout_19898 = redout_tmp_20363;\n                        redout_19899 = redout_tmp_20364;\n                    }\n                    defunc_0_f_res_16594 = redout_19897;\n                    defunc_0_f_res_16595 = redout_19898;\n                    defunc_0_f_res_16596 = redout_19899;\n                    \n                    int64_t x_16702 = mul64(x_16590, defunc_0_f_res_16594);\n                    int64_t y_16703 = mul64(x_16592, defunc_0_f_res_16595);\n                    int64_t x_16704 = sub64(x_16702, y_16703);\n                    int64_t y_16705 = mul64(x_16591, defunc_0_f_res_16596);\n                    int64_t mul_res_16706 = sub64(x_16704, y_16705);\n                    int64_t x_16707 = mul64(x_16591, defunc_0_f_res_16594);\n                    int64_t y_16708 = mul64(x_16590, defunc_0_f_res_16595);\n                    int64_t x_16709 = add64(x_16707, y_16708);\n                  ", "  int64_t y_16710 = mul64(x_16592, defunc_0_f_res_16596);\n                    int64_t x_16711 = sub64(x_16709, y_16710);\n                    int64_t x_16712 = add64(y_16703, x_16711);\n                    int64_t mul_res_16713 = add64(y_16705, x_16712);\n                    int64_t x_16714 = mul64(x_16592, defunc_0_f_res_16594);\n                    int64_t y_16715 = mul64(x_16591, defunc_0_f_res_16595);\n                    int64_t x_16716 = add64(x_16714, y_16715);\n                    int64_t y_16717 = mul64(x_16590, defunc_0_f_res_16596);\n                    int64_t x_16718 = add64(x_16716, y_16717);\n                    int64_t mul_res_16719 = add64(y_16710, x_16718);\n                    int64_t canonicalizze_arg_16584 = add64(mul_res_16706, redout_19893);\n                    int64_t canonicalizze_res_16585 = umod64(canonicalizze_arg_16584, (int64_t) -4294967295);\n                    int64_t canonicalizze_arg_16586 = add64(mul_res_16713, redout_19894);\n                    int64_t canonicalizze_res_16587 = umod64(canonicalizze_arg_16586, (int64_t) -4294967295);\n                    int64_t canonicalizze_arg_16588 = add64(mul_res_16719, redout_19895);\n                    int64_t canonicalizze_res_16589 = umod64(canonicalizze_arg_16588, (int64_t) -4294967295);\n                    int64_t redout_tmp_20359 = canonicalizze_res_16585;\n                    int64_t redout_tmp_20360 = canonicalizze_res_16587;\n                    int64_t redout_tmp_20361 = canonicalizze_res_16589;\n                    \n                    redout_19893 = redout_tmp_20359;\n                    redout_19894 = redout_tmp_20360;\n                    redout_19895 = redout_tmp_20361;\n                }\n                defunc_0_f_res_16575 = redout_19893;\n                defunc_0_f_res_16576 = redout_19894;\n                defunc_0_f_res_16577 = redout_19895;\n                \n                int64_t x_16720 = mul64(defunc_0_f_res_16560, defunc_0_f_res_16575);\n                int64_t y_16721 = mul64(defunc_0_", "f_res_16562, defunc_0_f_res_16576);\n                int64_t x_16722 = sub64(x_16720, y_16721);\n                int64_t y_16723 = mul64(defunc_0_f_res_16561, defunc_0_f_res_16577);\n                int64_t mul_res_16724 = sub64(x_16722, y_16723);\n                int64_t x_16725 = mul64(defunc_0_f_res_16561, defunc_0_f_res_16575);\n                int64_t y_16726 = mul64(defunc_0_f_res_16560, defunc_0_f_res_16576);\n                int64_t x_16727 = add64(x_16725, y_16726);\n                int64_t y_16728 = mul64(defunc_0_f_res_16562, defunc_0_f_res_16577);\n                int64_t x_16729 = sub64(x_16727, y_16728);\n                int64_t x_16730 = add64(y_16721, x_16729);\n                int64_t mul_res_16731 = add64(y_16723, x_16730);\n                int64_t x_16732 = mul64(defunc_0_f_res_16562, defunc_0_f_res_16575);\n                int64_t y_16733 = mul64(defunc_0_f_res_16561, defunc_0_f_res_16576);\n                int64_t x_16734 = add64(x_16732, y_16733);\n                int64_t y_16735 = mul64(defunc_0_f_res_16560, defunc_0_f_res_16577);\n                int64_t x_16736 = add64(x_16734, y_16735);\n                int64_t mul_res_16737 = add64(y_16728, x_16736);\n                \n                mem_20215[(int64_t) 0] = mul_res_16724;\n                mem_20215[(int64_t) 1] = mul_res_16731;\n                mem_20215[(int64_t) 2] = mul_res_16737;\n                for (int64_t i_20373 = 0; i_20373 < (int64_t) 3; i_20373++) {\n                    int64_t tmp_20374 = mem_20215[i_20373];\n                    \n                    ((__global int64_t *) color_20294)[phys_tid_16557 + i_19891 * (num_threads_20317 * (int64_t) 3) + i_20373 * num_threads_20317] = tmp_20374;\n                }\n            }\n            for (int64_t i_20375 = 0; i_20375 < m_12334; i_20375++) {\n                for (int64_t i_20376 = 0; i_20376 < (int64_t) 3; i_20376++) {\n                    int64_t tmp_20377 = ((__global int64_t *) color_20294)[phys_tid_16557 + (i_20375 * (num_threads_20317 * (int64_t) 3)",
                                       " + i_20376 * num_threads_20317)];\n                    \n                    ((__global int64_t *) mem_20227)[gtid_16556 + (i_20375 * (n_12333 * (int64_t) 3) + i_20376 * n_12333)] = tmp_20377;\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_16552\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_18435(__global int *global_failure, int64_t n_12333, int64_t m_12334, int64_t p_12335, int64_t num_groups_18418, int32_t virt_num_groups_20519, __global unsigned char *zzinvs_mem_19926, __global unsigned char *eps_mem_19927, __global unsigned char *mem_20088, __global unsigned char *mem_20092, __global unsigned char *mem_20098)\n{\n    #define segmap_group_sizze_18417 (make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16967)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20521;\n    int64_t group_sizze_20524;\n    int32_t wave_sizze_20523;\n    int32_t group_tid_20522;\n    \n    local_tid_20521 = get_local_id(0);\n    group_sizze_20524 = get_local_size(0);\n    wave_sizze_20523 = LOCKSTEP_WIDTH;\n    group_tid_20522 = get_group_id(0);\n    \n    int32_t global_tid_20520 = group_tid_20522 * group_sizze_20524 + local_tid_20521;\n    int32_t phys_tid_18435 = global_tid_20520;\n    int32_t phys_group_id_20525;\n    \n    phys_group_id_20525 = get_group_id(0);\n    \n    int32_t iterations_20526 = sdiv_up32(virt_num_groups_20519 - phys_group_id_20525, sext_i64_i32(num_groups_18418));\n    \n    for (int32_t i_20527 = 0; i_20527 < iterations_20526; i_20527++) {\n        int32_t virt_group_id_20528 = phys_group_id_20525 + i_20527 * sext_i64_i32(num_groups_18418);\n        int64_t global_tid_20529 = sext_i32_i64(virt_group_id_20528) * segmap_group_sizze_18417 + sext_i32_i64(local_tid_20521);\n        int64_t slice_20530 = m_12334;", "\n        int64_t slice_20531 = n_12333 * slice_20530;\n        int64_t gtid_18433 = squot64(global_tid_20529, slice_20530);\n        int64_t remnant_20532 = global_tid_20529 - gtid_18433 * slice_20530;\n        int64_t gtid_18434 = remnant_20532;\n        int64_t remnant_20533 = remnant_20532 - gtid_18434;\n        \n        if (slt64(gtid_18433, n_12333) && slt64(gtid_18434, m_12334)) {\n            int64_t defunc_0_f_res_18436 = ((__global int64_t *) zzinvs_mem_19926)[gtid_18433 * (int64_t) 3];\n            int64_t defunc_0_f_res_18437 = ((__global int64_t *) zzinvs_mem_19926)[gtid_18433 * (int64_t) 3 + (int64_t) 1];\n            int64_t defunc_0_f_res_18438 = ((__global int64_t *) zzinvs_mem_19926)[gtid_18433 * (int64_t) 3 + (int64_t) 2];\n            int64_t defunc_0_f_res_18446;\n            int64_t defunc_0_f_res_18447;\n            int64_t defunc_0_f_res_18448;\n            int64_t redout_19901;\n            int64_t redout_19902;\n            int64_t redout_19903;\n            \n            redout_19901 = (int64_t) 0;\n            redout_19902 = (int64_t) 0;\n            redout_19903 = (int64_t) 0;\n            for (int64_t i_19904 = 0; i_19904 < p_12335; i_19904++) {\n                int64_t x_18461 = ((__global int64_t *) mem_20092)[i_19904 * (m_12334 * (int64_t) 3) + gtid_18434];\n                int64_t x_18462 = ((__global int64_t *) mem_20092)[i_19904 * (m_12334 * (int64_t) 3) + m_12334 + gtid_18434];\n                int64_t x_18463 = ((__global int64_t *) mem_20092)[i_19904 * (m_12334 * (int64_t) 3) + (int64_t) 2 * m_12334 + gtid_18434];\n                int64_t defunc_0_f_res_18465;\n                int64_t defunc_0_f_res_18466;\n                int64_t defunc_0_f_res_18467;\n                int64_t redout_19905;\n                int64_t redout_19906;\n                int64_t redout_19907;\n                \n                redout_19905 = (int64_t) 1;\n                redout_19906 = (int64_t) 0;\n                redout_19907 = (int64_t) 0;\n                for (int64_t i_19908 = 0; i", "_19908 < m_12334; i_19908++) {\n                    int64_t x_18492 = ((__global int64_t *) mem_20088)[i_19904 * (m_12334 * m_12334) + i_19908 * m_12334 + gtid_18434];\n                    int64_t x_18493 = ((__global int64_t *) eps_mem_19927)[gtid_18433 * ((int64_t) 3 * m_12334) + i_19908 * (int64_t) 3];\n                    int64_t x_18494 = ((__global int64_t *) eps_mem_19927)[gtid_18433 * ((int64_t) 3 * m_12334) + i_19908 * (int64_t) 3 + (int64_t) 1];\n                    int64_t x_18495 = ((__global int64_t *) eps_mem_19927)[gtid_18433 * ((int64_t) 3 * m_12334) + i_19908 * (int64_t) 3 + (int64_t) 2];\n                    bool loop_cond_18496 = ult64((int64_t) 0, x_18492);\n                    bool mod_pow_u64_res_18497;\n                    int64_t mod_pow_u64_res_18498;\n                    int64_t mod_pow_u64_res_18499;\n                    int64_t mod_pow_u64_res_18500;\n                    int64_t mod_pow_u64_res_18501;\n                    int64_t mod_pow_u64_res_18502;\n                    int64_t mod_pow_u64_res_18503;\n                    int64_t mod_pow_u64_res_18504;\n                    bool loop_while_18505;\n                    int64_t x_18506;\n                    int64_t x_18507;\n                    int64_t x_18508;\n                    int64_t i_18509;\n                    int64_t result_18510;\n                    int64_t result_18511;\n                    int64_t result_18512;\n                    \n                    loop_while_18505 = loop_cond_18496;\n                    x_18506 = x_18493;\n                    x_18507 = x_18494;\n                    x_18508 = x_18495;\n                    i_18509 = x_18492;\n                    result_18510 = (int64_t) 1;\n                    result_18511 = (int64_t) 0;\n                    result_18512 = (int64_t) 0;\n                    while (loop_while_18505) {\n                        int64_t x_18513 = umod64(i_18509, (int64_t) 2);\n                        bool cond_18514 = x_18513 == (int64_t) 1;\n                        int64_t loo",
                                       "pres_18515;\n                        int64_t loopres_18516;\n                        int64_t loopres_18517;\n                        int64_t loopres_18518;\n                        int64_t loopres_18519;\n                        int64_t loopres_18520;\n                        int64_t loopres_18521;\n                        \n                        if (cond_18514 == 1) {\n                            int64_t x_18522 = mul64(x_18506, x_18506);\n                            int64_t y_18523 = mul64(x_18507, x_18508);\n                            int64_t x_18524 = sub64(x_18522, y_18523);\n                            int64_t mul_res_18525 = sub64(x_18524, y_18523);\n                            int64_t x_18526 = mul64(x_18506, x_18507);\n                            int64_t x_18527 = add64(x_18526, x_18526);\n                            int64_t y_18528 = mul64(x_18508, x_18508);\n                            int64_t x_18529 = sub64(x_18527, y_18528);\n                            int64_t x_18530 = add64(y_18523, x_18529);\n                            int64_t mul_res_18531 = add64(y_18523, x_18530);\n                            int64_t x_18532 = mul64(x_18506, x_18508);\n                            int64_t y_18533 = mul64(x_18507, x_18507);\n                            int64_t x_18534 = add64(x_18532, y_18533);\n                            int64_t x_18535 = add64(x_18532, x_18534);\n                            int64_t mul_res_18536 = add64(y_18528, x_18535);\n                            int64_t loopres_t_res_18537 = lshr64(i_18509, (int64_t) 1);\n                            int64_t x_18538 = mul64(x_18506, result_18510);\n                            int64_t y_18539 = mul64(x_18508, result_18511);\n                            int64_t x_18540 = sub64(x_18538, y_18539);\n                            int64_t y_18541 = mul64(x_18507, result_18512);\n                            int64_t mul_res_18542 = sub64(x_18540, y_18541);\n                            int64_t x_18543 = mul64(x_18507, result_18510);\n           ", "                 int64_t y_18544 = mul64(x_18506, result_18511);\n                            int64_t x_18545 = add64(x_18543, y_18544);\n                            int64_t y_18546 = mul64(x_18508, result_18512);\n                            int64_t x_18547 = sub64(x_18545, y_18546);\n                            int64_t x_18548 = add64(y_18539, x_18547);\n                            int64_t mul_res_18549 = add64(y_18541, x_18548);\n                            int64_t x_18550 = mul64(x_18508, result_18510);\n                            int64_t y_18551 = mul64(x_18507, result_18511);\n                            int64_t x_18552 = add64(x_18550, y_18551);\n                            int64_t y_18553 = mul64(x_18506, result_18512);\n                            int64_t x_18554 = add64(x_18552, y_18553);\n                            int64_t mul_res_18555 = add64(y_18546, x_18554);\n                            \n                            loopres_18515 = mul_res_18525;\n                            loopres_18516 = mul_res_18531;\n                            loopres_18517 = mul_res_18536;\n                            loopres_18518 = loopres_t_res_18537;\n                            loopres_18519 = mul_res_18542;\n                            loopres_18520 = mul_res_18549;\n                            loopres_18521 = mul_res_18555;\n                        } else {\n                            int64_t x_18556 = mul64(x_18506, x_18506);\n                            int64_t y_18557 = mul64(x_18507, x_18508);\n                            int64_t x_18558 = sub64(x_18556, y_18557);\n                            int64_t mul_res_18559 = sub64(x_18558, y_18557);\n                            int64_t x_18560 = mul64(x_18506, x_18507);\n                            int64_t x_18561 = add64(x_18560, x_18560);\n                            int64_t y_18562 = mul64(x_18508, x_18508);\n                            int64_t x_18563 = sub64(x_18561, y_18562);\n                            int64_t x_18564 = add64(y_18557, x_1856", "3);\n                            int64_t mul_res_18565 = add64(y_18557, x_18564);\n                            int64_t x_18566 = mul64(x_18506, x_18508);\n                            int64_t y_18567 = mul64(x_18507, x_18507);\n                            int64_t x_18568 = add64(x_18566, y_18567);\n                            int64_t x_18569 = add64(x_18566, x_18568);\n                            int64_t mul_res_18570 = add64(y_18562, x_18569);\n                            int64_t loopres_f_res_18571 = lshr64(i_18509, (int64_t) 1);\n                            \n                            loopres_18515 = mul_res_18559;\n                            loopres_18516 = mul_res_18565;\n                            loopres_18517 = mul_res_18570;\n                            loopres_18518 = loopres_f_res_18571;\n                            loopres_18519 = result_18510;\n                            loopres_18520 = result_18511;\n                            loopres_18521 = result_18512;\n                        }\n                        \n                        bool loop_cond_18572 = ult64((int64_t) 0, loopres_18518);\n                        bool loop_while_tmp_20540 = loop_cond_18572;\n                        int64_t x_tmp_20541 = loopres_18515;\n                        int64_t x_tmp_20542 = loopres_18516;\n                        int64_t x_tmp_20543 = loopres_18517;\n                        int64_t i_tmp_20544 = loopres_18518;\n                        int64_t result_tmp_20545 = loopres_18519;\n                        int64_t result_tmp_20546 = loopres_18520;\n                        int64_t result_tmp_20547 = loopres_18521;\n                        \n                        loop_while_18505 = loop_while_tmp_20540;\n                        x_18506 = x_tmp_20541;\n                        x_18507 = x_tmp_20542;\n                        x_18508 = x_tmp_20543;\n                        i_18509 = i_tmp_20544;\n                        result_18510 = result_tmp_20545;\n                        result_18511 = result_",
                                       "tmp_20546;\n                        result_18512 = result_tmp_20547;\n                    }\n                    mod_pow_u64_res_18497 = loop_while_18505;\n                    mod_pow_u64_res_18498 = x_18506;\n                    mod_pow_u64_res_18499 = x_18507;\n                    mod_pow_u64_res_18500 = x_18508;\n                    mod_pow_u64_res_18501 = i_18509;\n                    mod_pow_u64_res_18502 = result_18510;\n                    mod_pow_u64_res_18503 = result_18511;\n                    mod_pow_u64_res_18504 = result_18512;\n                    \n                    int64_t x_18474 = mul64(mod_pow_u64_res_18502, redout_19905);\n                    int64_t y_18475 = mul64(mod_pow_u64_res_18503, redout_19907);\n                    int64_t x_18476 = sub64(x_18474, y_18475);\n                    int64_t y_18477 = mul64(mod_pow_u64_res_18504, redout_19906);\n                    int64_t defunc_1_op_res_18478 = sub64(x_18476, y_18477);\n                    int64_t x_18479 = mul64(mod_pow_u64_res_18502, redout_19906);\n                    int64_t y_18480 = mul64(mod_pow_u64_res_18503, redout_19905);\n                    int64_t x_18481 = add64(x_18479, y_18480);\n                    int64_t y_18482 = mul64(mod_pow_u64_res_18504, redout_19907);\n                    int64_t x_18483 = sub64(x_18481, y_18482);\n                    int64_t x_18484 = add64(y_18475, x_18483);\n                    int64_t defunc_1_op_res_18485 = add64(y_18477, x_18484);\n                    int64_t x_18486 = mul64(mod_pow_u64_res_18502, redout_19907);\n                    int64_t y_18487 = mul64(mod_pow_u64_res_18503, redout_19906);\n                    int64_t x_18488 = add64(x_18486, y_18487);\n                    int64_t y_18489 = mul64(mod_pow_u64_res_18504, redout_19905);\n                    int64_t x_18490 = add64(x_18488, y_18489);\n                    int64_t defunc_1_op_res_18491 = add64(y_18482, x_18490);\n                    int64_t redout_tmp_20537 = defunc_1_op_res_18478;\n                    int6", "4_t redout_tmp_20538 = defunc_1_op_res_18485;\n                    int64_t redout_tmp_20539 = defunc_1_op_res_18491;\n                    \n                    redout_19905 = redout_tmp_20537;\n                    redout_19906 = redout_tmp_20538;\n                    redout_19907 = redout_tmp_20539;\n                }\n                defunc_0_f_res_18465 = redout_19905;\n                defunc_0_f_res_18466 = redout_19906;\n                defunc_0_f_res_18467 = redout_19907;\n                \n                int64_t x_18573 = mul64(x_18461, defunc_0_f_res_18465);\n                int64_t y_18574 = mul64(x_18463, defunc_0_f_res_18466);\n                int64_t x_18575 = sub64(x_18573, y_18574);\n                int64_t y_18576 = mul64(x_18462, defunc_0_f_res_18467);\n                int64_t mul_res_18577 = sub64(x_18575, y_18576);\n                int64_t x_18578 = mul64(x_18462, defunc_0_f_res_18465);\n                int64_t y_18579 = mul64(x_18461, defunc_0_f_res_18466);\n                int64_t x_18580 = add64(x_18578, y_18579);\n                int64_t y_18581 = mul64(x_18463, defunc_0_f_res_18467);\n                int64_t x_18582 = sub64(x_18580, y_18581);\n                int64_t x_18583 = add64(y_18574, x_18582);\n                int64_t mul_res_18584 = add64(y_18576, x_18583);\n                int64_t x_18585 = mul64(x_18463, defunc_0_f_res_18465);\n                int64_t y_18586 = mul64(x_18462, defunc_0_f_res_18466);\n                int64_t x_18587 = add64(x_18585, y_18586);\n                int64_t y_18588 = mul64(x_18461, defunc_0_f_res_18467);\n                int64_t x_18589 = add64(x_18587, y_18588);\n                int64_t mul_res_18590 = add64(y_18581, x_18589);\n                int64_t canonicalizze_arg_18455 = add64(mul_res_18577, redout_19901);\n                int64_t canonicalizze_res_18456 = umod64(canonicalizze_arg_18455, (int64_t) -4294967295);\n                int64_t canonicalizze_arg_18457 = add64(mul_res_18584, redout_19902);\n                int64_t canonicaliz", "ze_res_18458 = umod64(canonicalizze_arg_18457, (int64_t) -4294967295);\n                int64_t canonicalizze_arg_18459 = add64(mul_res_18590, redout_19903);\n                int64_t canonicalizze_res_18460 = umod64(canonicalizze_arg_18459, (int64_t) -4294967295);\n                int64_t redout_tmp_20534 = canonicalizze_res_18456;\n                int64_t redout_tmp_20535 = canonicalizze_res_18458;\n                int64_t redout_tmp_20536 = canonicalizze_res_18460;\n                \n                redout_19901 = redout_tmp_20534;\n                redout_19902 = redout_tmp_20535;\n                redout_19903 = redout_tmp_20536;\n            }\n            defunc_0_f_res_18446 = redout_19901;\n            defunc_0_f_res_18447 = redout_19902;\n            defunc_0_f_res_18448 = redout_19903;\n            \n            int64_t x_18591 = mul64(defunc_0_f_res_18436, defunc_0_f_res_18446);\n            int64_t y_18592 = mul64(defunc_0_f_res_18438, defunc_0_f_res_18447);\n            int64_t x_18593 = sub64(x_18591, y_18592);\n            int64_t y_18594 = mul64(defunc_0_f_res_18437, defunc_0_f_res_18448);\n            int64_t mul_res_18595 = sub64(x_18593, y_18594);\n            int64_t x_18596 = mul64(defunc_0_f_res_18437, defunc_0_f_res_18446);\n            int64_t y_18597 = mul64(defunc_0_f_res_18436, defunc_0_f_res_18447);\n            int64_t x_18598 = add64(x_18596, y_18597);\n            int64_t y_18599 = mul64(defunc_0_f_res_18438, defunc_0_f_res_18448);\n            int64_t x_18600 = sub64(x_18598, y_18599);\n            int64_t x_18601 = add64(y_18592, x_18600);\n            int64_t mul_res_18602 = add64(y_18594, x_18601);\n            int64_t x_18603 = mul64(defunc_0_f_res_18438, defunc_0_f_res_18446);\n            int64_t y_18604 = mul64(defunc_0_f_res_18437, defunc_0_f_res_18447);\n            int64_t x_18605 = add64(x_18603, y_18604);\n            int64_t y_18606 = mul64(defunc_0_f_res_18436, defunc_0_f_res_18448);\n            int64_t x_18607 = add64(x_18605, y_18606);\n            in",
                                       "t64_t mul_res_18608 = add64(y_18599, x_18607);\n            int64_t mem_20094[(int64_t) 3];\n            \n            mem_20094[(int64_t) 0] = mul_res_18595;\n            mem_20094[(int64_t) 1] = mul_res_18602;\n            mem_20094[(int64_t) 2] = mul_res_18608;\n            for (int64_t i_20548 = 0; i_20548 < (int64_t) 3; i_20548++) {\n                int64_t tmp_20549 = mem_20094[i_20548];\n                \n                ((__global int64_t *) mem_20098)[gtid_18433 * m_12334 + gtid_18434 + i_20548 * (m_12334 * n_12333)] = tmp_20549;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_18417\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_19086(__global int *global_failure, int64_t n_12333, int64_t m_12334, int64_t p_12335, __global unsigned char *coefficientss_mem_19929, __global unsigned char *mem_19935, __global unsigned char *mem_19940, __global unsigned char *mem_19945, __global unsigned char *mem_19951, __global unsigned char *mem_19956, __global unsigned char *mem_19961)\n{\n    #define segmap_group_sizze_19078 (make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17623)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20838;\n    int64_t group_sizze_20841;\n    int32_t wave_sizze_20840;\n    int32_t group_tid_20839;\n    \n    local_tid_20838 = get_local_id(0);\n    group_sizze_20841 = get_local_size(0);\n    wave_sizze_20840 = LOCKSTEP_WIDTH;\n    group_tid_20839 = get_group_id(0);\n    \n    int32_t global_tid_20837 = group_tid_20839 * group_sizze_20841 + local_tid_20838;\n    int32_t phys_tid_19086 = global_tid_20837;\n    int64_t global_tid_20842 = sext_i32_i64(group_tid_20839) * segmap_group_sizze_19078 + sext_i32_i64(local_tid_20838);\n    int64_t slice_20843 = p_12335;\n    int64_t slice_20844 = m_12334 * slice_20843;\n  ", "  int64_t slice_20845 = n_12333 * slice_20844;\n    int64_t gtid_19083 = squot64(global_tid_20842, slice_20844);\n    int64_t remnant_20846 = global_tid_20842 - gtid_19083 * slice_20844;\n    int64_t gtid_19084 = squot64(remnant_20846, slice_20843);\n    int64_t remnant_20847 = remnant_20846 - gtid_19084 * slice_20843;\n    int64_t gtid_19085 = remnant_20847;\n    int64_t remnant_20848 = remnant_20847 - gtid_19085;\n    \n    if ((slt64(gtid_19083, n_12333) && slt64(gtid_19084, m_12334)) && slt64(gtid_19085, p_12335)) {\n        int64_t x_19087 = ((__global int64_t *) coefficientss_mem_19929)[gtid_19084 * ((int64_t) 3 * p_12335) + gtid_19085 * (int64_t) 3];\n        int64_t x_19088 = ((__global int64_t *) coefficientss_mem_19929)[gtid_19084 * ((int64_t) 3 * p_12335) + gtid_19085 * (int64_t) 3 + (int64_t) 1];\n        int64_t x_19089 = ((__global int64_t *) coefficientss_mem_19929)[gtid_19084 * ((int64_t) 3 * p_12335) + gtid_19085 * (int64_t) 3 + (int64_t) 2];\n        int64_t defunc_0_f_res_19090 = ((__global int64_t *) mem_19935)[gtid_19083 * (p_12335 * m_12334) + gtid_19084 * p_12335 + gtid_19085];\n        int64_t defunc_0_f_res_19091 = ((__global int64_t *) mem_19940)[gtid_19083 * (p_12335 * m_12334) + gtid_19084 * p_12335 + gtid_19085];\n        int64_t defunc_0_f_res_19092 = ((__global int64_t *) mem_19945)[gtid_19083 * (p_12335 * m_12334) + gtid_19084 * p_12335 + gtid_19085];\n        int64_t x_19093 = mul64(x_19087, defunc_0_f_res_19090);\n        int64_t y_19094 = mul64(x_19089, defunc_0_f_res_19091);\n        int64_t x_19095 = sub64(x_19093, y_19094);\n        int64_t y_19096 = mul64(x_19088, defunc_0_f_res_19092);\n        int64_t mul_res_19097 = sub64(x_19095, y_19096);\n        int64_t x_19098 = mul64(x_19088, defunc_0_f_res_19090);\n        int64_t y_19099 = mul64(x_19087, defunc_0_f_res_19091);\n        int64_t x_19100 = add64(x_19098, y_19099);\n        int64_t y_19101 = mul64(x_19089, defunc_0_f_res_19092);\n        int64_t x_19102 = sub64(x_19100, y_19101);\n        int64_", "t x_19103 = add64(y_19094, x_19102);\n        int64_t mul_res_19104 = add64(y_19096, x_19103);\n        int64_t x_19105 = mul64(x_19089, defunc_0_f_res_19090);\n        int64_t y_19106 = mul64(x_19088, defunc_0_f_res_19091);\n        int64_t x_19107 = add64(x_19105, y_19106);\n        int64_t y_19108 = mul64(x_19087, defunc_0_f_res_19092);\n        int64_t x_19109 = add64(x_19107, y_19108);\n        int64_t mul_res_19110 = add64(y_19101, x_19109);\n        \n        ((__global int64_t *) mem_19951)[gtid_19083 * (p_12335 * m_12334) + gtid_19084 * p_12335 + gtid_19085] = mul_res_19097;\n        ((__global int64_t *) mem_19956)[gtid_19083 * (p_12335 * m_12334) + gtid_19084 * p_12335 + gtid_19085] = mul_res_19104;\n        ((__global int64_t *) mem_19961)[gtid_19083 * (p_12335 * m_12334) + gtid_19084 * p_12335 + gtid_19085] = mul_res_19110;\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_19078\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_19156(__global int *global_failure, int64_t n_12333, int64_t m_12334, int64_t num_groups_19151, int32_t virt_num_groups_20960, __global unsigned char *zzinvs_mem_19926, __global unsigned char *mem_20051, __global unsigned char *mem_20055, __global unsigned char *mem_20059, __global unsigned char *mem_20065)\n{\n    #define segmap_group_sizze_19150 (make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17377)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20962;\n    int64_t group_sizze_20965;\n    int32_t wave_sizze_20964;\n    int32_t group_tid_20963;\n    \n    local_tid_20962 = get_local_id(0);\n    group_sizze_20965 = get_local_size(0);\n    wave_sizze_20964 = LOCKSTEP_WIDTH;\n    group_tid_20963 = get_group_id(0);\n    \n    int32_t global_tid_20961 = group_tid_20963 * group_sizze_20965 + local_tid_20962;\n    int32_t phys_tid_19156 = global_tid_20961;\n    int32_t phys_group_id_2",
                                       "0966;\n    \n    phys_group_id_20966 = get_group_id(0);\n    \n    int32_t iterations_20967 = sdiv_up32(virt_num_groups_20960 - phys_group_id_20966, sext_i64_i32(num_groups_19151));\n    \n    for (int32_t i_20968 = 0; i_20968 < iterations_20967; i_20968++) {\n        int32_t virt_group_id_20969 = phys_group_id_20966 + i_20968 * sext_i64_i32(num_groups_19151);\n        int64_t global_tid_20970 = sext_i32_i64(virt_group_id_20969) * segmap_group_sizze_19150 + sext_i32_i64(local_tid_20962);\n        int64_t slice_20971 = m_12334;\n        int64_t slice_20972 = n_12333 * slice_20971;\n        int64_t gtid_19154 = squot64(global_tid_20970, slice_20971);\n        int64_t remnant_20973 = global_tid_20970 - gtid_19154 * slice_20971;\n        int64_t gtid_19155 = remnant_20973;\n        int64_t remnant_20974 = remnant_20973 - gtid_19155;\n        \n        if (slt64(gtid_19154, n_12333) && slt64(gtid_19155, m_12334)) {\n            int64_t defunc_0_f_res_19157 = ((__global int64_t *) zzinvs_mem_19926)[gtid_19154 * (int64_t) 3];\n            int64_t defunc_0_f_res_19158 = ((__global int64_t *) zzinvs_mem_19926)[gtid_19154 * (int64_t) 3 + (int64_t) 1];\n            int64_t defunc_0_f_res_19159 = ((__global int64_t *) zzinvs_mem_19926)[gtid_19154 * (int64_t) 3 + (int64_t) 2];\n            int64_t defunc_0_f_res_19160 = ((__global int64_t *) mem_20051)[gtid_19154 * m_12334 + gtid_19155];\n            int64_t defunc_0_f_res_19161 = ((__global int64_t *) mem_20055)[gtid_19154 * m_12334 + gtid_19155];\n            int64_t defunc_0_f_res_19162 = ((__global int64_t *) mem_20059)[gtid_19154 * m_12334 + gtid_19155];\n            int64_t x_19163 = mul64(defunc_0_f_res_19157, defunc_0_f_res_19160);\n            int64_t y_19164 = mul64(defunc_0_f_res_19159, defunc_0_f_res_19161);\n            int64_t x_19165 = sub64(x_19163, y_19164);\n            int64_t y_19166 = mul64(defunc_0_f_res_19158, defunc_0_f_res_19162);\n            int64_t mul_res_19167 = sub64(x_19165, y_19166);\n            int64_t x_19168 = mul64(def", "unc_0_f_res_19158, defunc_0_f_res_19160);\n            int64_t y_19169 = mul64(defunc_0_f_res_19157, defunc_0_f_res_19161);\n            int64_t x_19170 = add64(x_19168, y_19169);\n            int64_t y_19171 = mul64(defunc_0_f_res_19159, defunc_0_f_res_19162);\n            int64_t x_19172 = sub64(x_19170, y_19171);\n            int64_t x_19173 = add64(y_19164, x_19172);\n            int64_t mul_res_19174 = add64(y_19166, x_19173);\n            int64_t x_19175 = mul64(defunc_0_f_res_19159, defunc_0_f_res_19160);\n            int64_t y_19176 = mul64(defunc_0_f_res_19158, defunc_0_f_res_19161);\n            int64_t x_19177 = add64(x_19175, y_19176);\n            int64_t y_19178 = mul64(defunc_0_f_res_19157, defunc_0_f_res_19162);\n            int64_t x_19179 = add64(x_19177, y_19178);\n            int64_t mul_res_19180 = add64(y_19171, x_19179);\n            int64_t mem_20061[(int64_t) 3];\n            \n            mem_20061[(int64_t) 0] = mul_res_19167;\n            mem_20061[(int64_t) 1] = mul_res_19174;\n            mem_20061[(int64_t) 2] = mul_res_19180;\n            for (int64_t i_20975 = 0; i_20975 < (int64_t) 3; i_20975++) {\n                int64_t tmp_20976 = mem_20061[i_20975];\n                \n                ((__global int64_t *) mem_20065)[gtid_19154 * m_12334 + gtid_19155 + i_20975 * (m_12334 * n_12333)] = tmp_20976;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_19150\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746(__global int *global_failure, __local volatile int64_t *red_arr_mem_20474_backing_aligned_0, __local volatile int64_t *red_arr_mem_20472_backing_aligned_1, __local volatile int64_t *red_arr_mem_20470_backing_aligned_2, __local volatile int64_t *red_arr_mem_20411_backing_aligned_3, __local volatile int64_t *red_arr_mem_20409_backing_aligned_4, __local volatile int64_t *red_arr_mem_20407_backing_aligned_5, __local volatile ", "int64_t *color_20307_backing_aligned_6, __local volatile int64_t *color_20306_backing_aligned_7, __local volatile int64_t *color_20305_backing_aligned_8, __local volatile int64_t *color_20304_backing_aligned_9, __local volatile int64_t *color_20303_backing_aligned_10, __local volatile int64_t *color_20302_backing_aligned_11, int64_t n_12333, int64_t m_12334, int64_t p_12335, int64_t computed_group_sizze_16120, __global unsigned char *zzinvs_mem_19926, __global unsigned char *eps_mem_19927, __global unsigned char *expsss_mem_19928, __global unsigned char *coefficientss_mem_19929, __global unsigned char *mem_20155)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_20474_backing_11 = (__local volatile unsigned char *) red_arr_mem_20474_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20472_backing_10 = (__local volatile unsigned char *) red_arr_mem_20472_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_20470_backing_9 = (__local volatile unsigned char *) red_arr_mem_20470_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_20411_backing_8 = (__local volatile unsigned char *) red_arr_mem_20411_backing_aligned_3;\n    __local volatile unsigned char *restrict red_arr_mem_20409_backing_7 = (__local volatile unsigned char *) red_arr_mem_20409_backing_aligned_4;\n    __local volatile unsigned char *restrict red_arr_mem_20407_backing_6 = (__local volatile unsigned char *) red_arr_mem_20407_backing_aligned_5;\n    __local volatile unsigned char *restrict color_20307_backing_5 = (__local volatile unsigned char *) color_20307_backing_aligned_6;\n    __local volatile unsigned char *restrict color_20306_backing_4 = (__local volatile unsigned char *) color_20306_backing_aligned_7;\n    __local volatile unsigned char *restrict color_20305_backing_3 = (__local volatile unsigned char *) color_20305_backing_aligned_8",
                                       ";\n    __local volatile unsigned char *restrict color_20304_backing_2 = (__local volatile unsigned char *) color_20304_backing_aligned_9;\n    __local volatile unsigned char *restrict color_20303_backing_1 = (__local volatile unsigned char *) color_20303_backing_aligned_10;\n    __local volatile unsigned char *restrict color_20302_backing_0 = (__local volatile unsigned char *) color_20302_backing_aligned_11;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20383;\n    int64_t group_sizze_20386;\n    int32_t wave_sizze_20385;\n    int32_t group_tid_20384;\n    \n    local_tid_20383 = get_local_id(0);\n    group_sizze_20386 = get_local_size(0);\n    wave_sizze_20385 = LOCKSTEP_WIDTH;\n    group_tid_20384 = get_group_id(0);\n    \n    int32_t global_tid_20382 = group_tid_20384 * group_sizze_20386 + local_tid_20383;\n    int32_t phys_tid_16746 = group_tid_20384;\n    int64_t slice_20388 = m_12334;\n    int64_t ltid_pre_20387 = sext_i32_i64(local_tid_20383);\n    int64_t remnant_20389 = sext_i32_i64(local_tid_20383) - ltid_pre_20387;\n    int64_t slice_20392 = p_12335;\n    int64_t slice_20393 = m_12334 * slice_20392;\n    int64_t ltid_pre_20390 = squot64(sext_i32_i64(local_tid_20383), slice_20392);\n    int64_t remnant_20394 = sext_i32_i64(local_tid_20383) - ltid_pre_20390 * slice_20392;\n    int64_t ltid_pre_20391 = remnant_20394;\n    int64_t remnant_20395 = remnant_20394 - ltid_pre_20391;\n    int64_t slice_20399 = m_12334;\n    int64_t slice_20400 = p_12335 * slice_20399;\n    int64_t slice_20401 = m_12334 * slice_20400;\n    int64_t ltid_pre_20396 = squot64(sext_i32_i64(local_tid_20383), slice_20400);\n    int64_t remnant_20402 = sext_i32_i64(local_tid_20383) - ltid_pre_20396 * slice_20400;\n    int64_t ltid_pre_20397 = squot64(remnant_20402, slice_20399);\n    int64_t remnant_20403 = remnant_20402 - ltid_pre_20397 * slice_20399;\n    int64_t ltid_pre_20398 = remnant_20403;\n    int64_t remnant_20404 = remnant_20403 - ltid_pre_20398;\n    int64_t slice_20405 = n_12333;", "\n    int64_t gtid_16745 = sext_i32_i64(group_tid_20384);\n    int64_t remnant_20406 = sext_i32_i64(group_tid_20384) - gtid_16745;\n    __local unsigned char *color_20302;\n    \n    color_20302 = (__local unsigned char *) color_20302_backing_0;\n    \n    __local unsigned char *color_20303;\n    \n    color_20303 = (__local unsigned char *) color_20303_backing_1;\n    \n    __local unsigned char *color_20304;\n    \n    color_20304 = (__local unsigned char *) color_20304_backing_2;\n    \n    __local unsigned char *color_20305;\n    \n    color_20305 = (__local unsigned char *) color_20305_backing_3;\n    \n    __local unsigned char *color_20306;\n    \n    color_20306 = (__local unsigned char *) color_20306_backing_4;\n    \n    __local unsigned char *color_20307;\n    \n    color_20307 = (__local unsigned char *) color_20307_backing_5;\n    \n    int64_t defunc_0_f_res_16751 = ((__global int64_t *) zzinvs_mem_19926)[gtid_16745 * (int64_t) 3];\n    int64_t defunc_0_f_res_16752 = ((__global int64_t *) zzinvs_mem_19926)[gtid_16745 * (int64_t) 3 + (int64_t) 1];\n    int64_t defunc_0_f_res_16753 = ((__global int64_t *) zzinvs_mem_19926)[gtid_16745 * (int64_t) 3 + (int64_t) 2];\n    int32_t phys_tid_16769 = local_tid_20383;\n    __local unsigned char *red_arr_mem_20407;\n    \n    red_arr_mem_20407 = (__local unsigned char *) red_arr_mem_20407_backing_6;\n    \n    __local unsigned char *red_arr_mem_20409;\n    \n    red_arr_mem_20409 = (__local unsigned char *) red_arr_mem_20409_backing_7;\n    \n    __local unsigned char *red_arr_mem_20411;\n    \n    red_arr_mem_20411 = (__local unsigned char *) red_arr_mem_20411_backing_8;\n    \n    int64_t gtid_16766 = sext_i32_i64(sext_i64_i32(ltid_pre_20396));\n    int64_t gtid_16767 = sext_i32_i64(sext_i64_i32(ltid_pre_20397));\n    int64_t gtid_16768 = sext_i32_i64(sext_i64_i32(ltid_pre_20398));\n    \n    if ((slt64(gtid_16766, m_12334) && slt64(gtid_16767, p_12335)) && slt64(gtid_16768, m_12334)) {\n        int64_t x_16796 = ((__global int64_t *) expsss_mem_19928)[gtid_1", "6766 * (m_12334 * p_12335) + gtid_16767 * m_12334 + gtid_16768];\n        int64_t x_16797 = ((__global int64_t *) eps_mem_19927)[gtid_16745 * ((int64_t) 3 * m_12334) + gtid_16768 * (int64_t) 3];\n        int64_t x_16798 = ((__global int64_t *) eps_mem_19927)[gtid_16745 * ((int64_t) 3 * m_12334) + gtid_16768 * (int64_t) 3 + (int64_t) 1];\n        int64_t x_16799 = ((__global int64_t *) eps_mem_19927)[gtid_16745 * ((int64_t) 3 * m_12334) + gtid_16768 * (int64_t) 3 + (int64_t) 2];\n        bool loop_cond_16800 = ult64((int64_t) 0, x_16796);\n        bool mod_pow_u64_res_16801;\n        int64_t mod_pow_u64_res_16802;\n        int64_t mod_pow_u64_res_16803;\n        int64_t mod_pow_u64_res_16804;\n        int64_t mod_pow_u64_res_16805;\n        int64_t mod_pow_u64_res_16806;\n        int64_t mod_pow_u64_res_16807;\n        int64_t mod_pow_u64_res_16808;\n        bool loop_while_16809;\n        int64_t x_16810;\n        int64_t x_16811;\n        int64_t x_16812;\n        int64_t i_16813;\n        int64_t result_16814;\n        int64_t result_16815;\n        int64_t result_16816;\n        \n        loop_while_16809 = loop_cond_16800;\n        x_16810 = x_16797;\n        x_16811 = x_16798;\n        x_16812 = x_16799;\n        i_16813 = x_16796;\n        result_16814 = (int64_t) 1;\n        result_16815 = (int64_t) 0;\n        result_16816 = (int64_t) 0;\n        while (loop_while_16809) {\n            int64_t x_16817 = umod64(i_16813, (int64_t) 2);\n            bool cond_16818 = x_16817 == (int64_t) 1;\n            int64_t loopres_16819;\n            int64_t loopres_16820;\n            int64_t loopres_16821;\n            int64_t loopres_16822;\n            int64_t loopres_16823;\n            int64_t loopres_16824;\n            int64_t loopres_16825;\n            \n            if (cond_16818 == 1) {\n                int64_t x_16826 = mul64(x_16810, x_16810);\n                int64_t y_16827 = mul64(x_16811, x_16812);\n                int64_t x_16828 = sub64(x_16826, y_16827);\n                int64_t mul_res_16829 = su",
                                       "b64(x_16828, y_16827);\n                int64_t x_16830 = mul64(x_16810, x_16811);\n                int64_t x_16831 = add64(x_16830, x_16830);\n                int64_t y_16832 = mul64(x_16812, x_16812);\n                int64_t x_16833 = sub64(x_16831, y_16832);\n                int64_t x_16834 = add64(y_16827, x_16833);\n                int64_t mul_res_16835 = add64(y_16827, x_16834);\n                int64_t x_16836 = mul64(x_16810, x_16812);\n                int64_t y_16837 = mul64(x_16811, x_16811);\n                int64_t x_16838 = add64(x_16836, y_16837);\n                int64_t x_16839 = add64(x_16836, x_16838);\n                int64_t mul_res_16840 = add64(y_16832, x_16839);\n                int64_t loopres_t_res_16841 = lshr64(i_16813, (int64_t) 1);\n                int64_t x_16842 = mul64(x_16810, result_16814);\n                int64_t y_16843 = mul64(x_16812, result_16815);\n                int64_t x_16844 = sub64(x_16842, y_16843);\n                int64_t y_16845 = mul64(x_16811, result_16816);\n                int64_t mul_res_16846 = sub64(x_16844, y_16845);\n                int64_t x_16847 = mul64(x_16811, result_16814);\n                int64_t y_16848 = mul64(x_16810, result_16815);\n                int64_t x_16849 = add64(x_16847, y_16848);\n                int64_t y_16850 = mul64(x_16812, result_16816);\n                int64_t x_16851 = sub64(x_16849, y_16850);\n                int64_t x_16852 = add64(y_16843, x_16851);\n                int64_t mul_res_16853 = add64(y_16845, x_16852);\n                int64_t x_16854 = mul64(x_16812, result_16814);\n                int64_t y_16855 = mul64(x_16811, result_16815);\n                int64_t x_16856 = add64(x_16854, y_16855);\n                int64_t y_16857 = mul64(x_16810, result_16816);\n                int64_t x_16858 = add64(x_16856, y_16857);\n                int64_t mul_res_16859 = add64(y_16850, x_16858);\n                \n                loopres_16819 = mul_res_16829;\n                loopres_16820 = mul_res_16835;\n    ", "            loopres_16821 = mul_res_16840;\n                loopres_16822 = loopres_t_res_16841;\n                loopres_16823 = mul_res_16846;\n                loopres_16824 = mul_res_16853;\n                loopres_16825 = mul_res_16859;\n            } else {\n                int64_t x_16860 = mul64(x_16810, x_16810);\n                int64_t y_16861 = mul64(x_16811, x_16812);\n                int64_t x_16862 = sub64(x_16860, y_16861);\n                int64_t mul_res_16863 = sub64(x_16862, y_16861);\n                int64_t x_16864 = mul64(x_16810, x_16811);\n                int64_t x_16865 = add64(x_16864, x_16864);\n                int64_t y_16866 = mul64(x_16812, x_16812);\n                int64_t x_16867 = sub64(x_16865, y_16866);\n                int64_t x_16868 = add64(y_16861, x_16867);\n                int64_t mul_res_16869 = add64(y_16861, x_16868);\n                int64_t x_16870 = mul64(x_16810, x_16812);\n                int64_t y_16871 = mul64(x_16811, x_16811);\n                int64_t x_16872 = add64(x_16870, y_16871);\n                int64_t x_16873 = add64(x_16870, x_16872);\n                int64_t mul_res_16874 = add64(y_16866, x_16873);\n                int64_t loopres_f_res_16875 = lshr64(i_16813, (int64_t) 1);\n                \n                loopres_16819 = mul_res_16863;\n                loopres_16820 = mul_res_16869;\n                loopres_16821 = mul_res_16874;\n                loopres_16822 = loopres_f_res_16875;\n                loopres_16823 = result_16814;\n                loopres_16824 = result_16815;\n                loopres_16825 = result_16816;\n            }\n            \n            bool loop_cond_16876 = ult64((int64_t) 0, loopres_16822);\n            bool loop_while_tmp_20413 = loop_cond_16876;\n            int64_t x_tmp_20414 = loopres_16819;\n            int64_t x_tmp_20415 = loopres_16820;\n            int64_t x_tmp_20416 = loopres_16821;\n            int64_t i_tmp_20417 = loopres_16822;\n            int64_t result_tmp_20418 = loopres_16823;\n          ", "  int64_t result_tmp_20419 = loopres_16824;\n            int64_t result_tmp_20420 = loopres_16825;\n            \n            loop_while_16809 = loop_while_tmp_20413;\n            x_16810 = x_tmp_20414;\n            x_16811 = x_tmp_20415;\n            x_16812 = x_tmp_20416;\n            i_16813 = i_tmp_20417;\n            result_16814 = result_tmp_20418;\n            result_16815 = result_tmp_20419;\n            result_16816 = result_tmp_20420;\n        }\n        mod_pow_u64_res_16801 = loop_while_16809;\n        mod_pow_u64_res_16802 = x_16810;\n        mod_pow_u64_res_16803 = x_16811;\n        mod_pow_u64_res_16804 = x_16812;\n        mod_pow_u64_res_16805 = i_16813;\n        mod_pow_u64_res_16806 = result_16814;\n        mod_pow_u64_res_16807 = result_16815;\n        mod_pow_u64_res_16808 = result_16816;\n        ((__local int64_t *) red_arr_mem_20407)[gtid_16766 * (m_12334 * p_12335) + gtid_16767 * m_12334 + gtid_16768] = mod_pow_u64_res_16806;\n        ((__local int64_t *) red_arr_mem_20409)[gtid_16766 * (m_12334 * p_12335) + gtid_16767 * m_12334 + gtid_16768] = mod_pow_u64_res_16807;\n        ((__local int64_t *) red_arr_mem_20411)[gtid_16766 * (m_12334 * p_12335) + gtid_16767 * m_12334 + gtid_16768] = mod_pow_u64_res_16808;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t dims_flat_20421 = m_12334 * p_12335 * m_12334;\n    int64_t x_16770;\n    int64_t x_16771;\n    int64_t x_16772;\n    int64_t x_16773;\n    int64_t x_16774;\n    int64_t x_16775;\n    int64_t x_20425;\n    int64_t x_20426;\n    int64_t x_20427;\n    int64_t x_20428;\n    int64_t x_20429;\n    int64_t x_20430;\n    bool ltid_in_bounds_20449 = slt64(sext_i32_i64(local_tid_20383), m_12334 * p_12335 * m_12334);\n    int32_t skip_threads_20450;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_20449) {\n            x_16773 = ((volatile __local int64_t *) red_arr_mem_20407)[sext_i32_i64(local_tid_20383)];\n            x_16774 = ((volatile __local int64_t *) red_arr_mem_20409)[sext_i32_i64(local_tid_203",
                                       "83)];\n            x_16775 = ((volatile __local int64_t *) red_arr_mem_20411)[sext_i32_i64(local_tid_20383)];\n            if ((local_tid_20383 - squot32(local_tid_20383, 32) * 32) == 0) {\n                x_16770 = x_16773;\n                x_16771 = x_16774;\n                x_16772 = x_16775;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_20450 = 1;\n        while (slt32(skip_threads_20450, 32)) {\n            bool thread_active_20451 = sle32(skip_threads_20450, local_tid_20383 - squot32(local_tid_20383, 32) * 32) && ltid_in_bounds_20449;\n            \n            if (thread_active_20451) {\n                // read operands\n                {\n                    x_16770 = ((volatile __local int64_t *) red_arr_mem_20407)[sext_i32_i64(local_tid_20383) - sext_i32_i64(skip_threads_20450)];\n                    x_16771 = ((volatile __local int64_t *) red_arr_mem_20409)[sext_i32_i64(local_tid_20383) - sext_i32_i64(skip_threads_20450)];\n                    x_16772 = ((volatile __local int64_t *) red_arr_mem_20411)[sext_i32_i64(local_tid_20383) - sext_i32_i64(skip_threads_20450)];\n                }\n            }\n            // perform operation\n            {\n                bool inactive_20452 = slt64(srem64(sext_i32_i64(local_tid_20383), m_12334), sext_i32_i64(local_tid_20383) - sext_i32_i64(local_tid_20383 - skip_threads_20450));\n                \n                if (thread_active_20451 && inactive_20452) {\n                    x_16770 = x_16773;\n                    x_16771 = x_16774;\n                    x_16772 = x_16775;\n                }\n                if (thread_active_20451) {\n                    if (!inactive_20452) {\n                        int64_t x_16776 = mul64(x_16770, x_16773);\n                        int64_t y_16777 = mul64(x_16772, x_16774);\n                        int64_t x_16778 = sub64(x_16776, y_16777);\n                        int64_t y_16779 = mul64(x_16771, x_16775);\n                        int64_t d", "efunc_1_op_res_16780 = sub64(x_16778, y_16779);\n                        int64_t x_16781 = mul64(x_16771, x_16773);\n                        int64_t y_16782 = mul64(x_16770, x_16774);\n                        int64_t x_16783 = add64(x_16781, y_16782);\n                        int64_t y_16784 = mul64(x_16772, x_16775);\n                        int64_t x_16785 = sub64(x_16783, y_16784);\n                        int64_t x_16786 = add64(y_16777, x_16785);\n                        int64_t defunc_1_op_res_16787 = add64(y_16779, x_16786);\n                        int64_t x_16788 = mul64(x_16772, x_16773);\n                        int64_t y_16789 = mul64(x_16771, x_16774);\n                        int64_t x_16790 = add64(x_16788, y_16789);\n                        int64_t y_16791 = mul64(x_16770, x_16775);\n                        int64_t x_16792 = add64(x_16790, y_16791);\n                        int64_t defunc_1_op_res_16793 = add64(y_16784, x_16792);\n                        \n                        x_16770 = defunc_1_op_res_16780;\n                        x_16771 = defunc_1_op_res_16787;\n                        x_16772 = defunc_1_op_res_16793;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_20385, skip_threads_20450)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (thread_active_20451) {\n                // write result\n                {\n                    ((volatile __local int64_t *) red_arr_mem_20407)[sext_i32_i64(local_tid_20383)] = x_16770;\n                    x_16773 = x_16770;\n                    ((volatile __local int64_t *) red_arr_mem_20409)[sext_i32_i64(local_tid_20383)] = x_16771;\n                    x_16774 = x_16771;\n                    ((volatile __local int64_t *) red_arr_mem_20411)[sext_i32_i64(local_tid_20383)] = x_16772;\n                    x_16775 = x_16772;\n                }\n            }\n            if (sle32(wave_sizze_20385, skip_threads_20450)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n", "            }\n            skip_threads_20450 *= 2;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_20383 - squot32(local_tid_20383, 32) * 32) == 31 && ltid_in_bounds_20449) {\n            ((volatile __local int64_t *) red_arr_mem_20407)[sext_i32_i64(squot32(local_tid_20383, 32))] = x_16770;\n            ((volatile __local int64_t *) red_arr_mem_20409)[sext_i32_i64(squot32(local_tid_20383, 32))] = x_16771;\n            ((volatile __local int64_t *) red_arr_mem_20411)[sext_i32_i64(squot32(local_tid_20383, 32))] = x_16772;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_20453;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_20383, 32) == 0 && ltid_in_bounds_20449) {\n                x_20428 = ((volatile __local int64_t *) red_arr_mem_20407)[sext_i32_i64(local_tid_20383)];\n                x_20429 = ((volatile __local int64_t *) red_arr_mem_20409)[sext_i32_i64(local_tid_20383)];\n                x_20430 = ((volatile __local int64_t *) red_arr_mem_20411)[sext_i32_i64(local_tid_20383)];\n                if ((local_tid_20383 - squot32(local_tid_20383, 32) * 32) == 0) {\n                    x_20425 = x_20428;\n                    x_20426 = x_20429;\n                    x_20427 = x_20430;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_20453 = 1;\n            while (slt32(skip_threads_20453, 32)) {\n                bool thread_active_20454 = sle32(skip_threads_20453, local_tid_20383 - squot32(local_tid_20383, 32) * 32) && (squot32(local_tid_20383, 32) == 0 && ltid_in_bounds_20449);\n                \n                if (thread_active_20454) {\n                    // read operands\n                    {\n                        x_20425 = ((volatile __",
                                       "local int64_t *) red_arr_mem_20407)[sext_i32_i64(local_tid_20383) - sext_i32_i64(skip_threads_20453)];\n                        x_20426 = ((volatile __local int64_t *) red_arr_mem_20409)[sext_i32_i64(local_tid_20383) - sext_i32_i64(skip_threads_20453)];\n                        x_20427 = ((volatile __local int64_t *) red_arr_mem_20411)[sext_i32_i64(local_tid_20383) - sext_i32_i64(skip_threads_20453)];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_20455 = slt64(srem64(sext_i32_i64(local_tid_20383 * 32 + 32 - 1), m_12334), sext_i32_i64(local_tid_20383 * 32 + 32 - 1) - sext_i32_i64((local_tid_20383 - skip_threads_20453) * 32 + 32 - 1));\n                    \n                    if (thread_active_20454 && inactive_20455) {\n                        x_20425 = x_20428;\n                        x_20426 = x_20429;\n                        x_20427 = x_20430;\n                    }\n                    if (thread_active_20454) {\n                        if (!inactive_20455) {\n                            int64_t x_20431 = mul64(x_20425, x_20428);\n                            int64_t y_20432 = mul64(x_20427, x_20429);\n                            int64_t x_20433 = sub64(x_20431, y_20432);\n                            int64_t y_20434 = mul64(x_20426, x_20430);\n                            int64_t defunc_1_op_res_20435 = sub64(x_20433, y_20434);\n                            int64_t x_20436 = mul64(x_20426, x_20428);\n                            int64_t y_20437 = mul64(x_20425, x_20429);\n                            int64_t x_20438 = add64(x_20436, y_20437);\n                            int64_t y_20439 = mul64(x_20427, x_20430);\n                            int64_t x_20440 = sub64(x_20438, y_20439);\n                            int64_t x_20441 = add64(y_20432, x_20440);\n                            int64_t defunc_1_op_res_20442 = add64(y_20434, x_20441);\n                            int64_t x_20443 = mul64(x_20427, x_204", "28);\n                            int64_t y_20444 = mul64(x_20426, x_20429);\n                            int64_t x_20445 = add64(x_20443, y_20444);\n                            int64_t y_20446 = mul64(x_20425, x_20430);\n                            int64_t x_20447 = add64(x_20445, y_20446);\n                            int64_t defunc_1_op_res_20448 = add64(y_20439, x_20447);\n                            \n                            x_20425 = defunc_1_op_res_20435;\n                            x_20426 = defunc_1_op_res_20442;\n                            x_20427 = defunc_1_op_res_20448;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_20385, skip_threads_20453)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                if (thread_active_20454) {\n                    // write result\n                    {\n                        ((volatile __local int64_t *) red_arr_mem_20407)[sext_i32_i64(local_tid_20383)] = x_20425;\n                        x_20428 = x_20425;\n                        ((volatile __local int64_t *) red_arr_mem_20409)[sext_i32_i64(local_tid_20383)] = x_20426;\n                        x_20429 = x_20426;\n                        ((volatile __local int64_t *) red_arr_mem_20411)[sext_i32_i64(local_tid_20383)] = x_20427;\n                        x_20430 = x_20427;\n                    }\n                }\n                if (sle32(wave_sizze_20385, skip_threads_20453)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_20453 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool no_carry_in_20456 = squot32(local_tid_20383, 32) == 0 || !ltid_in_bounds_20449;\n    \n    // carry-in for every block except the first\n    {\n        // read operands\n        {\n            if (!no_carry_in_20456) {\n                x_16773 = x_16770;\n                x_16774 = x_16771;\n                x_16775 = x_16772;\n                x_16770 = ", "((__local int64_t *) red_arr_mem_20407)[sext_i32_i64(squot32(local_tid_20383, 32)) - (int64_t) 1];\n                x_16771 = ((__local int64_t *) red_arr_mem_20409)[sext_i32_i64(squot32(local_tid_20383, 32)) - (int64_t) 1];\n                x_16772 = ((__local int64_t *) red_arr_mem_20411)[sext_i32_i64(squot32(local_tid_20383, 32)) - (int64_t) 1];\n            }\n        }\n        // perform operation\n        {\n            bool inactive_20457 = slt64(srem64(sext_i32_i64(local_tid_20383), m_12334), sext_i32_i64(local_tid_20383) - sext_i32_i64(squot32(local_tid_20383, 32) * 32 - 1));\n            \n            if (!no_carry_in_20456) {\n                if (inactive_20457) {\n                    x_16770 = x_16773;\n                    x_16771 = x_16774;\n                    x_16772 = x_16775;\n                }\n            }\n            if (!no_carry_in_20456) {\n                if (!inactive_20457) {\n                    int64_t x_16776 = mul64(x_16770, x_16773);\n                    int64_t y_16777 = mul64(x_16772, x_16774);\n                    int64_t x_16778 = sub64(x_16776, y_16777);\n                    int64_t y_16779 = mul64(x_16771, x_16775);\n                    int64_t defunc_1_op_res_16780 = sub64(x_16778, y_16779);\n                    int64_t x_16781 = mul64(x_16771, x_16773);\n                    int64_t y_16782 = mul64(x_16770, x_16774);\n                    int64_t x_16783 = add64(x_16781, y_16782);\n                    int64_t y_16784 = mul64(x_16772, x_16775);\n                    int64_t x_16785 = sub64(x_16783, y_16784);\n                    int64_t x_16786 = add64(y_16777, x_16785);\n                    int64_t defunc_1_op_res_16787 = add64(y_16779, x_16786);\n                    int64_t x_16788 = mul64(x_16772, x_16773);\n                    int64_t y_16789 = mul64(x_16771, x_16774);\n                    int64_t x_16790 = add64(x_16788, y_16789);\n                    int64_t y_16791 = mul64(x_16770, x_16775);\n                    int64_t x_16792 = add64(x_16790, y_16791);\n",
                                       "                    int64_t defunc_1_op_res_16793 = add64(y_16784, x_16792);\n                    \n                    x_16770 = defunc_1_op_res_16780;\n                    x_16771 = defunc_1_op_res_16787;\n                    x_16772 = defunc_1_op_res_16793;\n                }\n            }\n        }\n        // write final result\n        {\n            if (!no_carry_in_20456) {\n                ((__local int64_t *) red_arr_mem_20407)[sext_i32_i64(local_tid_20383)] = x_16770;\n                ((__local int64_t *) red_arr_mem_20409)[sext_i32_i64(local_tid_20383)] = x_16771;\n                ((__local int64_t *) red_arr_mem_20411)[sext_i32_i64(local_tid_20383)] = x_16772;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_20383, 32) == 0 && ltid_in_bounds_20449) {\n            ((__local int64_t *) red_arr_mem_20407)[sext_i32_i64(local_tid_20383)] = x_16773;\n            ((__local int64_t *) red_arr_mem_20409)[sext_i32_i64(local_tid_20383)] = x_16774;\n            ((__local int64_t *) red_arr_mem_20411)[sext_i32_i64(local_tid_20383)] = x_16775;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20458 = sdiv_up32(sext_i64_i32(m_12334) * sext_i64_i32(p_12335), sext_i64_i32(computed_group_sizze_16120));\n    \n    for (int32_t chunk_i_20459 = 0; chunk_i_20459 < num_chunks_20458; chunk_i_20459++) {\n        int32_t i_20460 = chunk_i_20459 * sext_i64_i32(computed_group_sizze_16120) + local_tid_20383;\n        \n        if (slt32(i_20460, sext_i64_i32(m_12334) * sext_i64_i32(p_12335))) {\n            int64_t tmp_20461 = ((__local int64_t *) red_arr_mem_20407)[m_12334 - (int64_t) 1 + sext_i32_i64(squot32(i_20460, sext_i64_i32(p_12335))) * (m_12334 * p_12335) + sext_i32_i64(i_20460 - squot32(i_20460, sext_i64_i32(p_12335)) * sext_i64_i32(p_12335)) * m_12334];\n            \n            ((__local int64_t *) color_20305)[sext_i32_i64(squot32(i_", "20460, sext_i64_i32(p_12335))) * p_12335 + sext_i32_i64(i_20460 - squot32(i_20460, sext_i64_i32(p_12335)) * sext_i64_i32(p_12335))] = tmp_20461;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20462 = sdiv_up32(sext_i64_i32(m_12334) * sext_i64_i32(p_12335), sext_i64_i32(computed_group_sizze_16120));\n    \n    for (int32_t chunk_i_20463 = 0; chunk_i_20463 < num_chunks_20462; chunk_i_20463++) {\n        int32_t i_20464 = chunk_i_20463 * sext_i64_i32(computed_group_sizze_16120) + local_tid_20383;\n        \n        if (slt32(i_20464, sext_i64_i32(m_12334) * sext_i64_i32(p_12335))) {\n            int64_t tmp_20465 = ((__local int64_t *) red_arr_mem_20409)[m_12334 - (int64_t) 1 + sext_i32_i64(squot32(i_20464, sext_i64_i32(p_12335))) * (m_12334 * p_12335) + sext_i32_i64(i_20464 - squot32(i_20464, sext_i64_i32(p_12335)) * sext_i64_i32(p_12335)) * m_12334];\n            \n            ((__local int64_t *) color_20304)[sext_i32_i64(squot32(i_20464, sext_i64_i32(p_12335))) * p_12335 + sext_i32_i64(i_20464 - squot32(i_20464, sext_i64_i32(p_12335)) * sext_i64_i32(p_12335))] = tmp_20465;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20466 = sdiv_up32(sext_i64_i32(m_12334) * sext_i64_i32(p_12335), sext_i64_i32(computed_group_sizze_16120));\n    \n    for (int32_t chunk_i_20467 = 0; chunk_i_20467 < num_chunks_20466; chunk_i_20467++) {\n        int32_t i_20468 = chunk_i_20467 * sext_i64_i32(computed_group_sizze_16120) + local_tid_20383;\n        \n        if (slt32(i_20468, sext_i64_i32(m_12334) * sext_i64_i32(p_12335))) {\n            int64_t tmp_20469 = ((__local int64_t *) red_arr_mem_20411)[m_12334 - (int64_t) 1 + sext_i32_i64(squot32(i_20468, sext_i64_i32(p_12335))) * (m_12334 * p_12335) + sext_i32_i64(i_20468 - squot32(i_20468, sext_i64_i32(p_12335)) * sext_i64_i32(p_12335)) * m_12334];\n            \n            ((__local int64_t *) color_20303)[sext_i32_i64(squot32(i_20468, sext_i64_i32(p_12335))) * p_12335 + sext_i32_i64(i_2046", "8 - squot32(i_20468, sext_i64_i32(p_12335)) * sext_i64_i32(p_12335))] = tmp_20469;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t phys_tid_16882 = local_tid_20383;\n    int64_t gtid_16880 = sext_i32_i64(sext_i64_i32(ltid_pre_20390));\n    int64_t gtid_16881 = sext_i32_i64(sext_i64_i32(ltid_pre_20391));\n    \n    if (slt64(gtid_16880, m_12334) && slt64(gtid_16881, p_12335)) {\n        int64_t x_16883 = ((__global int64_t *) coefficientss_mem_19929)[gtid_16880 * ((int64_t) 3 * p_12335) + gtid_16881 * (int64_t) 3];\n        int64_t x_16884 = ((__global int64_t *) coefficientss_mem_19929)[gtid_16880 * ((int64_t) 3 * p_12335) + gtid_16881 * (int64_t) 3 + (int64_t) 1];\n        int64_t x_16885 = ((__global int64_t *) coefficientss_mem_19929)[gtid_16880 * ((int64_t) 3 * p_12335) + gtid_16881 * (int64_t) 3 + (int64_t) 2];\n        int64_t defunc_0_f_res_16886 = ((__local int64_t *) color_20305)[gtid_16880 * p_12335 + gtid_16881];\n        int64_t defunc_0_f_res_16887 = ((__local int64_t *) color_20304)[gtid_16880 * p_12335 + gtid_16881];\n        int64_t defunc_0_f_res_16888 = ((__local int64_t *) color_20303)[gtid_16880 * p_12335 + gtid_16881];\n        int64_t x_16889 = mul64(x_16883, defunc_0_f_res_16886);\n        int64_t y_16890 = mul64(x_16885, defunc_0_f_res_16887);\n        int64_t x_16891 = sub64(x_16889, y_16890);\n        int64_t y_16892 = mul64(x_16884, defunc_0_f_res_16888);\n        int64_t mul_res_16893 = sub64(x_16891, y_16892);\n        int64_t x_16894 = mul64(x_16884, defunc_0_f_res_16886);\n        int64_t y_16895 = mul64(x_16883, defunc_0_f_res_16887);\n        int64_t x_16896 = add64(x_16894, y_16895);\n        int64_t y_16897 = mul64(x_16885, defunc_0_f_res_16888);\n        int64_t x_16898 = sub64(x_16896, y_16897);\n        int64_t x_16899 = add64(y_16890, x_16898);\n        int64_t mul_res_16900 = add64(y_16892, x_16899);\n        int64_t x_16901 = mul64(x_16885, defunc_0_f_res_16886);\n        int64_t y_16902 = mul64(x",
                                       "_16884, defunc_0_f_res_16887);\n        int64_t x_16903 = add64(x_16901, y_16902);\n        int64_t y_16904 = mul64(x_16883, defunc_0_f_res_16888);\n        int64_t x_16905 = add64(x_16903, y_16904);\n        int64_t mul_res_16906 = add64(y_16897, x_16905);\n        \n        ((__local int64_t *) color_20307)[gtid_16880 * p_12335 + gtid_16881] = mul_res_16893;\n        ((__local int64_t *) color_20306)[gtid_16880 * p_12335 + gtid_16881] = mul_res_16900;\n        ((__local int64_t *) color_20302)[gtid_16880 * p_12335 + gtid_16881] = mul_res_16906;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t phys_tid_16912 = local_tid_20383;\n    __local unsigned char *red_arr_mem_20470;\n    \n    red_arr_mem_20470 = (__local unsigned char *) red_arr_mem_20470_backing_9;\n    \n    __local unsigned char *red_arr_mem_20472;\n    \n    red_arr_mem_20472 = (__local unsigned char *) red_arr_mem_20472_backing_10;\n    \n    __local unsigned char *red_arr_mem_20474;\n    \n    red_arr_mem_20474 = (__local unsigned char *) red_arr_mem_20474_backing_11;\n    \n    int64_t gtid_16910 = sext_i32_i64(sext_i64_i32(ltid_pre_20390));\n    int64_t gtid_16911 = sext_i32_i64(sext_i64_i32(ltid_pre_20391));\n    \n    if (slt64(gtid_16910, m_12334) && slt64(gtid_16911, p_12335)) {\n        int64_t x_16928 = ((__local int64_t *) color_20307)[gtid_16910 * p_12335 + gtid_16911];\n        int64_t x_16929 = ((__local int64_t *) color_20306)[gtid_16910 * p_12335 + gtid_16911];\n        int64_t x_16930 = ((__local int64_t *) color_20302)[gtid_16910 * p_12335 + gtid_16911];\n        \n        ((__local int64_t *) red_arr_mem_20470)[gtid_16910 * p_12335 + gtid_16911] = x_16928;\n        ((__local int64_t *) red_arr_mem_20472)[gtid_16910 * p_12335 + gtid_16911] = x_16929;\n        ((__local int64_t *) red_arr_mem_20474)[gtid_16910 * p_12335 + gtid_16911] = x_16930;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t dims_flat_20476 = m_12334 * p_12335;\n    int64_t x_16913;\n    int64_t x_16914;\n    int64_t x_16915;\n    int64_", "t x_16916;\n    int64_t x_16917;\n    int64_t x_16918;\n    int64_t x_20480;\n    int64_t x_20481;\n    int64_t x_20482;\n    int64_t x_20483;\n    int64_t x_20484;\n    int64_t x_20485;\n    bool ltid_in_bounds_20492 = slt64(sext_i32_i64(local_tid_20383), m_12334 * p_12335);\n    int32_t skip_threads_20493;\n    \n    // read input for in-block scan\n    {\n        if (ltid_in_bounds_20492) {\n            x_16916 = ((volatile __local int64_t *) red_arr_mem_20470)[sext_i32_i64(local_tid_20383)];\n            x_16917 = ((volatile __local int64_t *) red_arr_mem_20472)[sext_i32_i64(local_tid_20383)];\n            x_16918 = ((volatile __local int64_t *) red_arr_mem_20474)[sext_i32_i64(local_tid_20383)];\n            if ((local_tid_20383 - squot32(local_tid_20383, 32) * 32) == 0) {\n                x_16913 = x_16916;\n                x_16914 = x_16917;\n                x_16915 = x_16918;\n            }\n        }\n    }\n    // in-block scan (hopefully no barriers needed)\n    {\n        skip_threads_20493 = 1;\n        while (slt32(skip_threads_20493, 32)) {\n            bool thread_active_20494 = sle32(skip_threads_20493, local_tid_20383 - squot32(local_tid_20383, 32) * 32) && ltid_in_bounds_20492;\n            \n            if (thread_active_20494) {\n                // read operands\n                {\n                    x_16913 = ((volatile __local int64_t *) red_arr_mem_20470)[sext_i32_i64(local_tid_20383) - sext_i32_i64(skip_threads_20493)];\n                    x_16914 = ((volatile __local int64_t *) red_arr_mem_20472)[sext_i32_i64(local_tid_20383) - sext_i32_i64(skip_threads_20493)];\n                    x_16915 = ((volatile __local int64_t *) red_arr_mem_20474)[sext_i32_i64(local_tid_20383) - sext_i32_i64(skip_threads_20493)];\n                }\n            }\n            // perform operation\n            {\n                bool inactive_20495 = slt64(srem64(sext_i32_i64(local_tid_20383), p_12335), sext_i32_i64(local_tid_20383) - sext_i32_i64(local_tid_20383 - skip_threads_20493));\n                \n", "                if (thread_active_20494 && inactive_20495) {\n                    x_16913 = x_16916;\n                    x_16914 = x_16917;\n                    x_16915 = x_16918;\n                }\n                if (thread_active_20494) {\n                    if (!inactive_20495) {\n                        int64_t canonicalizze_arg_16919 = add64(x_16913, x_16916);\n                        int64_t canonicalizze_res_16920 = umod64(canonicalizze_arg_16919, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_16921 = add64(x_16914, x_16917);\n                        int64_t canonicalizze_res_16922 = umod64(canonicalizze_arg_16921, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_16923 = add64(x_16915, x_16918);\n                        int64_t canonicalizze_res_16924 = umod64(canonicalizze_arg_16923, (int64_t) -4294967295);\n                        \n                        x_16913 = canonicalizze_res_16920;\n                        x_16914 = canonicalizze_res_16922;\n                        x_16915 = canonicalizze_res_16924;\n                    }\n                }\n            }\n            if (sle32(wave_sizze_20385, skip_threads_20493)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            if (thread_active_20494) {\n                // write result\n                {\n                    ((volatile __local int64_t *) red_arr_mem_20470)[sext_i32_i64(local_tid_20383)] = x_16913;\n                    x_16916 = x_16913;\n                    ((volatile __local int64_t *) red_arr_mem_20472)[sext_i32_i64(local_tid_20383)] = x_16914;\n                    x_16917 = x_16914;\n                    ((volatile __local int64_t *) red_arr_mem_20474)[sext_i32_i64(local_tid_20383)] = x_16915;\n                    x_16918 = x_16915;\n                }\n            }\n            if (sle32(wave_sizze_20385, skip_threads_20493)) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n            skip_threads_20493 *= 2;\n        }\n    }\n ",
                                       "   barrier(CLK_LOCAL_MEM_FENCE);\n    // last thread of block 'i' writes its result to offset 'i'\n    {\n        if ((local_tid_20383 - squot32(local_tid_20383, 32) * 32) == 31 && ltid_in_bounds_20492) {\n            ((volatile __local int64_t *) red_arr_mem_20470)[sext_i32_i64(squot32(local_tid_20383, 32))] = x_16913;\n            ((volatile __local int64_t *) red_arr_mem_20472)[sext_i32_i64(squot32(local_tid_20383, 32))] = x_16914;\n            ((volatile __local int64_t *) red_arr_mem_20474)[sext_i32_i64(squot32(local_tid_20383, 32))] = x_16915;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n    {\n        int32_t skip_threads_20496;\n        \n        // read input for in-block scan\n        {\n            if (squot32(local_tid_20383, 32) == 0 && ltid_in_bounds_20492) {\n                x_20483 = ((volatile __local int64_t *) red_arr_mem_20470)[sext_i32_i64(local_tid_20383)];\n                x_20484 = ((volatile __local int64_t *) red_arr_mem_20472)[sext_i32_i64(local_tid_20383)];\n                x_20485 = ((volatile __local int64_t *) red_arr_mem_20474)[sext_i32_i64(local_tid_20383)];\n                if ((local_tid_20383 - squot32(local_tid_20383, 32) * 32) == 0) {\n                    x_20480 = x_20483;\n                    x_20481 = x_20484;\n                    x_20482 = x_20485;\n                }\n            }\n        }\n        // in-block scan (hopefully no barriers needed)\n        {\n            skip_threads_20496 = 1;\n            while (slt32(skip_threads_20496, 32)) {\n                bool thread_active_20497 = sle32(skip_threads_20496, local_tid_20383 - squot32(local_tid_20383, 32) * 32) && (squot32(local_tid_20383, 32) == 0 && ltid_in_bounds_20492);\n                \n                if (thread_active_20497) {\n                    // read operands\n                    {\n                        x_20480 = ((volatile __local int64_t *) red_arr_mem_20470)[sext_i32_i64(local_tid_20383) - ", "sext_i32_i64(skip_threads_20496)];\n                        x_20481 = ((volatile __local int64_t *) red_arr_mem_20472)[sext_i32_i64(local_tid_20383) - sext_i32_i64(skip_threads_20496)];\n                        x_20482 = ((volatile __local int64_t *) red_arr_mem_20474)[sext_i32_i64(local_tid_20383) - sext_i32_i64(skip_threads_20496)];\n                    }\n                }\n                // perform operation\n                {\n                    bool inactive_20498 = slt64(srem64(sext_i32_i64(local_tid_20383 * 32 + 32 - 1), p_12335), sext_i32_i64(local_tid_20383 * 32 + 32 - 1) - sext_i32_i64((local_tid_20383 - skip_threads_20496) * 32 + 32 - 1));\n                    \n                    if (thread_active_20497 && inactive_20498) {\n                        x_20480 = x_20483;\n                        x_20481 = x_20484;\n                        x_20482 = x_20485;\n                    }\n                    if (thread_active_20497) {\n                        if (!inactive_20498) {\n                            int64_t canonicalizze_arg_20486 = add64(x_20480, x_20483);\n                            int64_t canonicalizze_res_20487 = umod64(canonicalizze_arg_20486, (int64_t) -4294967295);\n                            int64_t canonicalizze_arg_20488 = add64(x_20481, x_20484);\n                            int64_t canonicalizze_res_20489 = umod64(canonicalizze_arg_20488, (int64_t) -4294967295);\n                            int64_t canonicalizze_arg_20490 = add64(x_20482, x_20485);\n                            int64_t canonicalizze_res_20491 = umod64(canonicalizze_arg_20490, (int64_t) -4294967295);\n                            \n                            x_20480 = canonicalizze_res_20487;\n                            x_20481 = canonicalizze_res_20489;\n                            x_20482 = canonicalizze_res_20491;\n                        }\n                    }\n                }\n                if (sle32(wave_sizze_20385, skip_threads_20496)) {\n                    barrier(CLK_LOCAL_MEM_FENCE)", ";\n                }\n                if (thread_active_20497) {\n                    // write result\n                    {\n                        ((volatile __local int64_t *) red_arr_mem_20470)[sext_i32_i64(local_tid_20383)] = x_20480;\n                        x_20483 = x_20480;\n                        ((volatile __local int64_t *) red_arr_mem_20472)[sext_i32_i64(local_tid_20383)] = x_20481;\n                        x_20484 = x_20481;\n                        ((volatile __local int64_t *) red_arr_mem_20474)[sext_i32_i64(local_tid_20383)] = x_20482;\n                        x_20485 = x_20482;\n                    }\n                }\n                if (sle32(wave_sizze_20385, skip_threads_20496)) {\n                    barrier(CLK_LOCAL_MEM_FENCE);\n                }\n                skip_threads_20496 *= 2;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    bool no_carry_in_20499 = squot32(local_tid_20383, 32) == 0 || !ltid_in_bounds_20492;\n    \n    // carry-in for every block except the first\n    {\n        // read operands\n        {\n            if (!no_carry_in_20499) {\n                x_16916 = x_16913;\n                x_16917 = x_16914;\n                x_16918 = x_16915;\n                x_16913 = ((__local int64_t *) red_arr_mem_20470)[sext_i32_i64(squot32(local_tid_20383, 32)) - (int64_t) 1];\n                x_16914 = ((__local int64_t *) red_arr_mem_20472)[sext_i32_i64(squot32(local_tid_20383, 32)) - (int64_t) 1];\n                x_16915 = ((__local int64_t *) red_arr_mem_20474)[sext_i32_i64(squot32(local_tid_20383, 32)) - (int64_t) 1];\n            }\n        }\n        // perform operation\n        {\n            bool inactive_20500 = slt64(srem64(sext_i32_i64(local_tid_20383), p_12335), sext_i32_i64(local_tid_20383) - sext_i32_i64(squot32(local_tid_20383, 32) * 32 - 1));\n            \n            if (!no_carry_in_20499) {\n                if (inactive_20500) {\n                    x_16913 = x_16916;\n                    x_16914 = x_16917;\n              ",
                                       "      x_16915 = x_16918;\n                }\n            }\n            if (!no_carry_in_20499) {\n                if (!inactive_20500) {\n                    int64_t canonicalizze_arg_16919 = add64(x_16913, x_16916);\n                    int64_t canonicalizze_res_16920 = umod64(canonicalizze_arg_16919, (int64_t) -4294967295);\n                    int64_t canonicalizze_arg_16921 = add64(x_16914, x_16917);\n                    int64_t canonicalizze_res_16922 = umod64(canonicalizze_arg_16921, (int64_t) -4294967295);\n                    int64_t canonicalizze_arg_16923 = add64(x_16915, x_16918);\n                    int64_t canonicalizze_res_16924 = umod64(canonicalizze_arg_16923, (int64_t) -4294967295);\n                    \n                    x_16913 = canonicalizze_res_16920;\n                    x_16914 = canonicalizze_res_16922;\n                    x_16915 = canonicalizze_res_16924;\n                }\n            }\n        }\n        // write final result\n        {\n            if (!no_carry_in_20499) {\n                ((__local int64_t *) red_arr_mem_20470)[sext_i32_i64(local_tid_20383)] = x_16913;\n                ((__local int64_t *) red_arr_mem_20472)[sext_i32_i64(local_tid_20383)] = x_16914;\n                ((__local int64_t *) red_arr_mem_20474)[sext_i32_i64(local_tid_20383)] = x_16915;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    // restore correct values for first block\n    {\n        if (squot32(local_tid_20383, 32) == 0 && ltid_in_bounds_20492) {\n            ((__local int64_t *) red_arr_mem_20470)[sext_i32_i64(local_tid_20383)] = x_16916;\n            ((__local int64_t *) red_arr_mem_20472)[sext_i32_i64(local_tid_20383)] = x_16917;\n            ((__local int64_t *) red_arr_mem_20474)[sext_i32_i64(local_tid_20383)] = x_16918;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20501 = sdiv_up32(sext_i64_i32(m_12334), sext_i64_i32(computed_group_sizze_16120));\n    \n    for (int32_t chunk_i_20", "502 = 0; chunk_i_20502 < num_chunks_20501; chunk_i_20502++) {\n        int32_t i_20503 = chunk_i_20502 * sext_i64_i32(computed_group_sizze_16120) + local_tid_20383;\n        \n        if (slt32(i_20503, sext_i64_i32(m_12334))) {\n            int64_t tmp_20504 = ((__local int64_t *) red_arr_mem_20470)[p_12335 - (int64_t) 1 + sext_i32_i64(i_20503) * p_12335];\n            \n            ((__local int64_t *) color_20305)[sext_i32_i64(i_20503)] = tmp_20504;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20505 = sdiv_up32(sext_i64_i32(m_12334), sext_i64_i32(computed_group_sizze_16120));\n    \n    for (int32_t chunk_i_20506 = 0; chunk_i_20506 < num_chunks_20505; chunk_i_20506++) {\n        int32_t i_20507 = chunk_i_20506 * sext_i64_i32(computed_group_sizze_16120) + local_tid_20383;\n        \n        if (slt32(i_20507, sext_i64_i32(m_12334))) {\n            int64_t tmp_20508 = ((__local int64_t *) red_arr_mem_20472)[p_12335 - (int64_t) 1 + sext_i32_i64(i_20507) * p_12335];\n            \n            ((__local int64_t *) color_20304)[sext_i32_i64(i_20507)] = tmp_20508;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20509 = sdiv_up32(sext_i64_i32(m_12334), sext_i64_i32(computed_group_sizze_16120));\n    \n    for (int32_t chunk_i_20510 = 0; chunk_i_20510 < num_chunks_20509; chunk_i_20510++) {\n        int32_t i_20511 = chunk_i_20510 * sext_i64_i32(computed_group_sizze_16120) + local_tid_20383;\n        \n        if (slt32(i_20511, sext_i64_i32(m_12334))) {\n            int64_t tmp_20512 = ((__local int64_t *) red_arr_mem_20474)[p_12335 - (int64_t) 1 + sext_i32_i64(i_20511) * p_12335];\n            \n            ((__local int64_t *) color_20303)[sext_i32_i64(i_20511)] = tmp_20512;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t phys_tid_16933 = local_tid_20383;\n    int64_t gtid_16932 = sext_i32_i64(sext_i64_i32(ltid_pre_20387));\n    \n    if (slt64(gtid_16932, m_12334)) {\n        int6", "4_t defunc_0_f_res_16934 = ((__local int64_t *) color_20305)[gtid_16932];\n        int64_t defunc_0_f_res_16935 = ((__local int64_t *) color_20304)[gtid_16932];\n        int64_t defunc_0_f_res_16936 = ((__local int64_t *) color_20303)[gtid_16932];\n        int64_t x_16937 = mul64(defunc_0_f_res_16751, defunc_0_f_res_16934);\n        int64_t y_16938 = mul64(defunc_0_f_res_16753, defunc_0_f_res_16935);\n        int64_t x_16939 = sub64(x_16937, y_16938);\n        int64_t y_16940 = mul64(defunc_0_f_res_16752, defunc_0_f_res_16936);\n        int64_t mul_res_16941 = sub64(x_16939, y_16940);\n        int64_t x_16942 = mul64(defunc_0_f_res_16752, defunc_0_f_res_16934);\n        int64_t y_16943 = mul64(defunc_0_f_res_16751, defunc_0_f_res_16935);\n        int64_t x_16944 = add64(x_16942, y_16943);\n        int64_t y_16945 = mul64(defunc_0_f_res_16753, defunc_0_f_res_16936);\n        int64_t x_16946 = sub64(x_16944, y_16945);\n        int64_t x_16947 = add64(y_16938, x_16946);\n        int64_t mul_res_16948 = add64(y_16940, x_16947);\n        int64_t x_16949 = mul64(defunc_0_f_res_16753, defunc_0_f_res_16934);\n        int64_t y_16950 = mul64(defunc_0_f_res_16752, defunc_0_f_res_16935);\n        int64_t x_16951 = add64(x_16949, y_16950);\n        int64_t y_16952 = mul64(defunc_0_f_res_16751, defunc_0_f_res_16936);\n        int64_t x_16953 = add64(x_16951, y_16952);\n        int64_t mul_res_16954 = add64(y_16945, x_16953);\n        int64_t mem_20146[(int64_t) 3];\n        \n        mem_20146[(int64_t) 0] = mul_res_16941;\n        mem_20146[(int64_t) 1] = mul_res_16948;\n        mem_20146[(int64_t) 2] = mul_res_16954;\n        for (int64_t i_20513 = 0; i_20513 < (int64_t) 3; i_20513++) {\n            int64_t tmp_20514 = mem_20146[i_20513];\n            \n            ((__local int64_t *) color_20302)[gtid_16932 * (int64_t) 3 + i_20513] = tmp_20514;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t num_chunks_20515 = sdiv_up32(sext_i64_i32(m_12334) * 3, sext_i64_i32(computed_group_sizze_1612",
                                       "0));\n    \n    for (int32_t chunk_i_20516 = 0; chunk_i_20516 < num_chunks_20515; chunk_i_20516++) {\n        int32_t i_20517 = chunk_i_20516 * sext_i64_i32(computed_group_sizze_16120) + local_tid_20383;\n        \n        if (slt32(i_20517, sext_i64_i32(m_12334) * 3)) {\n            int64_t tmp_20518 = ((__local int64_t *) color_20302)[sext_i32_i64(squot32(i_20517, 3)) * (int64_t) 3 + sext_i32_i64(i_20517 - squot32(i_20517, 3) * 3)];\n            \n            ((__global int64_t *) mem_20155)[gtid_16745 * ((int64_t) 3 * m_12334) + sext_i32_i64(squot32(i_20517, 3)) * (int64_t) 3 + sext_i32_i64(i_20517 - squot32(i_20517, 3) * 3)] = tmp_20518;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_6:\n    return;\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614(__global int *global_failure, __local volatile int64_t *red_arr_mem_20568_backing_aligned_0, __local volatile int64_t *red_arr_mem_20566_backing_aligned_1, __local volatile int64_t *red_arr_mem_20564_backing_aligned_2, __local volatile int64_t *color_20308_backing_aligned_3, int64_t n_12333, int64_t m_12334, int64_t p_12335, __global unsigned char *zzinvs_mem_19926, __global unsigned char *eps_mem_19927, __global unsigned char *expsss_mem_19928, __global unsigned char *coefficientss_mem_19929, __global unsigned char *mem_20074)\n{\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_20568_backing_3 = (__local volatile unsigned char *) red_arr_mem_20568_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20566_backing_2 = (__local volatile unsigned char *) red_arr_mem_20566_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_20564_backing_1 = (__local volatile unsigned char *) red_arr_mem_20564_backing_aligned_2;\n    __local volatile unsigned char *restrict color_20308_backing_0 = (__local volatile unsigned char *) color_20308_backing_al", "igned_3;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20553;\n    int64_t group_sizze_20556;\n    int32_t wave_sizze_20555;\n    int32_t group_tid_20554;\n    \n    local_tid_20553 = get_local_id(0);\n    group_sizze_20556 = get_local_size(0);\n    wave_sizze_20555 = LOCKSTEP_WIDTH;\n    group_tid_20554 = get_group_id(0);\n    \n    int32_t global_tid_20552 = group_tid_20554 * group_sizze_20556 + local_tid_20553;\n    int32_t phys_tid_18614 = group_tid_20554;\n    int64_t slice_20558 = p_12335;\n    int64_t ltid_pre_20557 = sext_i32_i64(local_tid_20553);\n    int64_t remnant_20559 = sext_i32_i64(local_tid_20553) - ltid_pre_20557;\n    int64_t slice_20560 = m_12334;\n    int64_t slice_20561 = n_12333 * slice_20560;\n    int64_t gtid_18612 = squot64(sext_i32_i64(group_tid_20554), slice_20560);\n    int64_t remnant_20562 = sext_i32_i64(group_tid_20554) - gtid_18612 * slice_20560;\n    int64_t gtid_18613 = remnant_20562;\n    int64_t remnant_20563 = remnant_20562 - gtid_18613;\n    __local unsigned char *color_20308;\n    \n    color_20308 = (__local unsigned char *) color_20308_backing_0;\n    \n    int64_t defunc_0_f_res_18615 = ((__global int64_t *) zzinvs_mem_19926)[gtid_18612 * (int64_t) 3];\n    int64_t defunc_0_f_res_18616 = ((__global int64_t *) zzinvs_mem_19926)[gtid_18612 * (int64_t) 3 + (int64_t) 1];\n    int64_t defunc_0_f_res_18617 = ((__global int64_t *) zzinvs_mem_19926)[gtid_18612 * (int64_t) 3 + (int64_t) 2];\n    int64_t defunc_0_f_res_18632;\n    int64_t defunc_0_f_res_18633;\n    int64_t defunc_0_f_res_18634;\n    int32_t phys_tid_18636 = local_tid_20553;\n    __local unsigned char *red_arr_mem_20564;\n    \n    red_arr_mem_20564 = (__local unsigned char *) red_arr_mem_20564_backing_1;\n    \n    __local unsigned char *red_arr_mem_20566;\n    \n    red_arr_mem_20566 = (__local unsigned char *) red_arr_mem_20566_backing_2;\n    \n    __local unsigned char *red_arr_mem_20568;\n    \n    red_arr_mem_20568 = (__local unsigned char *) red_arr_mem_20568_backing_3;\n", "    \n    int64_t gtid_18635 = sext_i32_i64(sext_i64_i32(ltid_pre_20557));\n    int64_t x_18649 = ((__global int64_t *) coefficientss_mem_19929)[gtid_18613 * ((int64_t) 3 * p_12335) + gtid_18635 * (int64_t) 3];\n    int64_t x_18650 = ((__global int64_t *) coefficientss_mem_19929)[gtid_18613 * ((int64_t) 3 * p_12335) + gtid_18635 * (int64_t) 3 + (int64_t) 1];\n    int64_t x_18651 = ((__global int64_t *) coefficientss_mem_19929)[gtid_18613 * ((int64_t) 3 * p_12335) + gtid_18635 * (int64_t) 3 + (int64_t) 2];\n    int64_t defunc_0_f_res_18653;\n    int64_t defunc_0_f_res_18654;\n    int64_t defunc_0_f_res_18655;\n    int64_t redout_19909;\n    int64_t redout_19910;\n    int64_t redout_19911;\n    \n    redout_19909 = (int64_t) 1;\n    redout_19910 = (int64_t) 0;\n    redout_19911 = (int64_t) 0;\n    for (int64_t i_19912 = 0; i_19912 < m_12334; i_19912++) {\n        int64_t x_18680 = ((__global int64_t *) expsss_mem_19928)[gtid_18613 * (m_12334 * p_12335) + gtid_18635 * m_12334 + i_19912];\n        int64_t x_18681 = ((__global int64_t *) eps_mem_19927)[gtid_18612 * ((int64_t) 3 * m_12334) + i_19912 * (int64_t) 3];\n        int64_t x_18682 = ((__global int64_t *) eps_mem_19927)[gtid_18612 * ((int64_t) 3 * m_12334) + i_19912 * (int64_t) 3 + (int64_t) 1];\n        int64_t x_18683 = ((__global int64_t *) eps_mem_19927)[gtid_18612 * ((int64_t) 3 * m_12334) + i_19912 * (int64_t) 3 + (int64_t) 2];\n        bool loop_cond_18684 = ult64((int64_t) 0, x_18680);\n        bool mod_pow_u64_res_18685;\n        int64_t mod_pow_u64_res_18686;\n        int64_t mod_pow_u64_res_18687;\n        int64_t mod_pow_u64_res_18688;\n        int64_t mod_pow_u64_res_18689;\n        int64_t mod_pow_u64_res_18690;\n        int64_t mod_pow_u64_res_18691;\n        int64_t mod_pow_u64_res_18692;\n        bool loop_while_18693;\n        int64_t x_18694;\n        int64_t x_18695;\n        int64_t x_18696;\n        int64_t i_18697;\n        int64_t result_18698;\n        int64_t result_18699;\n        int64_t result_18700;\n        \n        loo",
                                       "p_while_18693 = loop_cond_18684;\n        x_18694 = x_18681;\n        x_18695 = x_18682;\n        x_18696 = x_18683;\n        i_18697 = x_18680;\n        result_18698 = (int64_t) 1;\n        result_18699 = (int64_t) 0;\n        result_18700 = (int64_t) 0;\n        while (loop_while_18693) {\n            int64_t x_18701 = umod64(i_18697, (int64_t) 2);\n            bool cond_18702 = x_18701 == (int64_t) 1;\n            int64_t loopres_18703;\n            int64_t loopres_18704;\n            int64_t loopres_18705;\n            int64_t loopres_18706;\n            int64_t loopres_18707;\n            int64_t loopres_18708;\n            int64_t loopres_18709;\n            \n            if (cond_18702 == 1) {\n                int64_t x_18710 = mul64(x_18694, x_18694);\n                int64_t y_18711 = mul64(x_18695, x_18696);\n                int64_t x_18712 = sub64(x_18710, y_18711);\n                int64_t mul_res_18713 = sub64(x_18712, y_18711);\n                int64_t x_18714 = mul64(x_18694, x_18695);\n                int64_t x_18715 = add64(x_18714, x_18714);\n                int64_t y_18716 = mul64(x_18696, x_18696);\n                int64_t x_18717 = sub64(x_18715, y_18716);\n                int64_t x_18718 = add64(y_18711, x_18717);\n                int64_t mul_res_18719 = add64(y_18711, x_18718);\n                int64_t x_18720 = mul64(x_18694, x_18696);\n                int64_t y_18721 = mul64(x_18695, x_18695);\n                int64_t x_18722 = add64(x_18720, y_18721);\n                int64_t x_18723 = add64(x_18720, x_18722);\n                int64_t mul_res_18724 = add64(y_18716, x_18723);\n                int64_t loopres_t_res_18725 = lshr64(i_18697, (int64_t) 1);\n                int64_t x_18726 = mul64(x_18694, result_18698);\n                int64_t y_18727 = mul64(x_18696, result_18699);\n                int64_t x_18728 = sub64(x_18726, y_18727);\n                int64_t y_18729 = mul64(x_18695, result_18700);\n                int64_t mul_res_18730 = sub64(x_18728, y_18729);\n              ", "  int64_t x_18731 = mul64(x_18695, result_18698);\n                int64_t y_18732 = mul64(x_18694, result_18699);\n                int64_t x_18733 = add64(x_18731, y_18732);\n                int64_t y_18734 = mul64(x_18696, result_18700);\n                int64_t x_18735 = sub64(x_18733, y_18734);\n                int64_t x_18736 = add64(y_18727, x_18735);\n                int64_t mul_res_18737 = add64(y_18729, x_18736);\n                int64_t x_18738 = mul64(x_18696, result_18698);\n                int64_t y_18739 = mul64(x_18695, result_18699);\n                int64_t x_18740 = add64(x_18738, y_18739);\n                int64_t y_18741 = mul64(x_18694, result_18700);\n                int64_t x_18742 = add64(x_18740, y_18741);\n                int64_t mul_res_18743 = add64(y_18734, x_18742);\n                \n                loopres_18703 = mul_res_18713;\n                loopres_18704 = mul_res_18719;\n                loopres_18705 = mul_res_18724;\n                loopres_18706 = loopres_t_res_18725;\n                loopres_18707 = mul_res_18730;\n                loopres_18708 = mul_res_18737;\n                loopres_18709 = mul_res_18743;\n            } else {\n                int64_t x_18744 = mul64(x_18694, x_18694);\n                int64_t y_18745 = mul64(x_18695, x_18696);\n                int64_t x_18746 = sub64(x_18744, y_18745);\n                int64_t mul_res_18747 = sub64(x_18746, y_18745);\n                int64_t x_18748 = mul64(x_18694, x_18695);\n                int64_t x_18749 = add64(x_18748, x_18748);\n                int64_t y_18750 = mul64(x_18696, x_18696);\n                int64_t x_18751 = sub64(x_18749, y_18750);\n                int64_t x_18752 = add64(y_18745, x_18751);\n                int64_t mul_res_18753 = add64(y_18745, x_18752);\n                int64_t x_18754 = mul64(x_18694, x_18696);\n                int64_t y_18755 = mul64(x_18695, x_18695);\n                int64_t x_18756 = add64(x_18754, y_18755);\n                int64_t x_18757 = add64(x_18754, x_18", "756);\n                int64_t mul_res_18758 = add64(y_18750, x_18757);\n                int64_t loopres_f_res_18759 = lshr64(i_18697, (int64_t) 1);\n                \n                loopres_18703 = mul_res_18747;\n                loopres_18704 = mul_res_18753;\n                loopres_18705 = mul_res_18758;\n                loopres_18706 = loopres_f_res_18759;\n                loopres_18707 = result_18698;\n                loopres_18708 = result_18699;\n                loopres_18709 = result_18700;\n            }\n            \n            bool loop_cond_18760 = ult64((int64_t) 0, loopres_18706);\n            bool loop_while_tmp_20573 = loop_cond_18760;\n            int64_t x_tmp_20574 = loopres_18703;\n            int64_t x_tmp_20575 = loopres_18704;\n            int64_t x_tmp_20576 = loopres_18705;\n            int64_t i_tmp_20577 = loopres_18706;\n            int64_t result_tmp_20578 = loopres_18707;\n            int64_t result_tmp_20579 = loopres_18708;\n            int64_t result_tmp_20580 = loopres_18709;\n            \n            loop_while_18693 = loop_while_tmp_20573;\n            x_18694 = x_tmp_20574;\n            x_18695 = x_tmp_20575;\n            x_18696 = x_tmp_20576;\n            i_18697 = i_tmp_20577;\n            result_18698 = result_tmp_20578;\n            result_18699 = result_tmp_20579;\n            result_18700 = result_tmp_20580;\n        }\n        mod_pow_u64_res_18685 = loop_while_18693;\n        mod_pow_u64_res_18686 = x_18694;\n        mod_pow_u64_res_18687 = x_18695;\n        mod_pow_u64_res_18688 = x_18696;\n        mod_pow_u64_res_18689 = i_18697;\n        mod_pow_u64_res_18690 = result_18698;\n        mod_pow_u64_res_18691 = result_18699;\n        mod_pow_u64_res_18692 = result_18700;\n        \n        int64_t x_18662 = mul64(mod_pow_u64_res_18690, redout_19909);\n        int64_t y_18663 = mul64(mod_pow_u64_res_18691, redout_19911);\n        int64_t x_18664 = sub64(x_18662, y_18663);\n        int64_t y_18665 = mul64(mod_pow_u64_res_18692, redout_19910);\n        int64_t def",
                                       "unc_1_op_res_18666 = sub64(x_18664, y_18665);\n        int64_t x_18667 = mul64(mod_pow_u64_res_18690, redout_19910);\n        int64_t y_18668 = mul64(mod_pow_u64_res_18691, redout_19909);\n        int64_t x_18669 = add64(x_18667, y_18668);\n        int64_t y_18670 = mul64(mod_pow_u64_res_18692, redout_19911);\n        int64_t x_18671 = sub64(x_18669, y_18670);\n        int64_t x_18672 = add64(y_18663, x_18671);\n        int64_t defunc_1_op_res_18673 = add64(y_18665, x_18672);\n        int64_t x_18674 = mul64(mod_pow_u64_res_18690, redout_19911);\n        int64_t y_18675 = mul64(mod_pow_u64_res_18691, redout_19910);\n        int64_t x_18676 = add64(x_18674, y_18675);\n        int64_t y_18677 = mul64(mod_pow_u64_res_18692, redout_19909);\n        int64_t x_18678 = add64(x_18676, y_18677);\n        int64_t defunc_1_op_res_18679 = add64(y_18670, x_18678);\n        int64_t redout_tmp_20570 = defunc_1_op_res_18666;\n        int64_t redout_tmp_20571 = defunc_1_op_res_18673;\n        int64_t redout_tmp_20572 = defunc_1_op_res_18679;\n        \n        redout_19909 = redout_tmp_20570;\n        redout_19910 = redout_tmp_20571;\n        redout_19911 = redout_tmp_20572;\n    }\n    defunc_0_f_res_18653 = redout_19909;\n    defunc_0_f_res_18654 = redout_19910;\n    defunc_0_f_res_18655 = redout_19911;\n    \n    int64_t x_18761 = mul64(x_18649, defunc_0_f_res_18653);\n    int64_t y_18762 = mul64(x_18651, defunc_0_f_res_18654);\n    int64_t x_18763 = sub64(x_18761, y_18762);\n    int64_t y_18764 = mul64(x_18650, defunc_0_f_res_18655);\n    int64_t mul_res_18765 = sub64(x_18763, y_18764);\n    int64_t x_18766 = mul64(x_18650, defunc_0_f_res_18653);\n    int64_t y_18767 = mul64(x_18649, defunc_0_f_res_18654);\n    int64_t x_18768 = add64(x_18766, y_18767);\n    int64_t y_18769 = mul64(x_18651, defunc_0_f_res_18655);\n    int64_t x_18770 = sub64(x_18768, y_18769);\n    int64_t x_18771 = add64(y_18762, x_18770);\n    int64_t mul_res_18772 = add64(y_18764, x_18771);\n    int64_t x_18773 = mul64(x_18651, defunc_0_f_res_186", "53);\n    int64_t y_18774 = mul64(x_18650, defunc_0_f_res_18654);\n    int64_t x_18775 = add64(x_18773, y_18774);\n    int64_t y_18776 = mul64(x_18649, defunc_0_f_res_18655);\n    int64_t x_18777 = add64(x_18775, y_18776);\n    int64_t mul_res_18778 = add64(y_18769, x_18777);\n    \n    ((__local int64_t *) red_arr_mem_20564)[gtid_18635] = mul_res_18765;\n    ((__local int64_t *) red_arr_mem_20566)[gtid_18635] = mul_res_18772;\n    ((__local int64_t *) red_arr_mem_20568)[gtid_18635] = mul_res_18778;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t offset_20581;\n    int32_t skip_waves_20582 = 1;\n    int64_t x_18637;\n    int64_t x_18638;\n    int64_t x_18639;\n    int64_t x_18640;\n    int64_t x_18641;\n    int64_t x_18642;\n    \n    offset_20581 = 0;\n    // participating threads read initial accumulator\n    {\n        if (slt32(local_tid_20553, sext_i64_i32(p_12335))) {\n            x_18637 = ((__local int64_t *) red_arr_mem_20564)[sext_i32_i64(local_tid_20553 + offset_20581)];\n            x_18638 = ((__local int64_t *) red_arr_mem_20566)[sext_i32_i64(local_tid_20553 + offset_20581)];\n            x_18639 = ((__local int64_t *) red_arr_mem_20568)[sext_i32_i64(local_tid_20553 + offset_20581)];\n        }\n    }\n    offset_20581 = 1;\n    while (slt32(offset_20581, wave_sizze_20555)) {\n        if (slt32(local_tid_20553 + offset_20581, sext_i64_i32(p_12335)) && ((local_tid_20553 - squot32(local_tid_20553, wave_sizze_20555) * wave_sizze_20555) & (2 * offset_20581 - 1)) == 0) {\n            // read array element\n            {\n                x_18640 = ((volatile __local int64_t *) red_arr_mem_20564)[sext_i32_i64(local_tid_20553 + offset_20581)];\n                x_18641 = ((volatile __local int64_t *) red_arr_mem_20566)[sext_i32_i64(local_tid_20553 + offset_20581)];\n                x_18642 = ((volatile __local int64_t *) red_arr_mem_20568)[sext_i32_i64(local_tid_20553 + offset_20581)];\n            }\n            // apply reduction operation\n            {\n                int64_t canonicalizze_", "arg_18643 = add64(x_18637, x_18640);\n                int64_t canonicalizze_res_18644 = umod64(canonicalizze_arg_18643, (int64_t) -4294967295);\n                int64_t canonicalizze_arg_18645 = add64(x_18638, x_18641);\n                int64_t canonicalizze_res_18646 = umod64(canonicalizze_arg_18645, (int64_t) -4294967295);\n                int64_t canonicalizze_arg_18647 = add64(x_18639, x_18642);\n                int64_t canonicalizze_res_18648 = umod64(canonicalizze_arg_18647, (int64_t) -4294967295);\n                \n                x_18637 = canonicalizze_res_18644;\n                x_18638 = canonicalizze_res_18646;\n                x_18639 = canonicalizze_res_18648;\n            }\n            // write result of operation\n            {\n                ((volatile __local int64_t *) red_arr_mem_20564)[sext_i32_i64(local_tid_20553)] = x_18637;\n                ((volatile __local int64_t *) red_arr_mem_20566)[sext_i32_i64(local_tid_20553)] = x_18638;\n                ((volatile __local int64_t *) red_arr_mem_20568)[sext_i32_i64(local_tid_20553)] = x_18639;\n            }\n        }\n        offset_20581 *= 2;\n    }\n    while (slt32(skip_waves_20582, squot32(sext_i64_i32(p_12335) + wave_sizze_20555 - 1, wave_sizze_20555))) {\n        barrier(CLK_LOCAL_MEM_FENCE);\n        offset_20581 = skip_waves_20582 * wave_sizze_20555;\n        if (slt32(local_tid_20553 + offset_20581, sext_i64_i32(p_12335)) && ((local_tid_20553 - squot32(local_tid_20553, wave_sizze_20555) * wave_sizze_20555) == 0 && (squot32(local_tid_20553, wave_sizze_20555) & (2 * skip_waves_20582 - 1)) == 0)) {\n            // read array element\n            {\n                x_18640 = ((__local int64_t *) red_arr_mem_20564)[sext_i32_i64(local_tid_20553 + offset_20581)];\n                x_18641 = ((__local int64_t *) red_arr_mem_20566)[sext_i32_i64(local_tid_20553 + offset_20581)];\n                x_18642 = ((__local int64_t *) red_arr_mem_20568)[sext_i32_i64(local_tid_20553 + offset_20581)];\n            }\n            // app",
                                       "ly reduction operation\n            {\n                int64_t canonicalizze_arg_18643 = add64(x_18637, x_18640);\n                int64_t canonicalizze_res_18644 = umod64(canonicalizze_arg_18643, (int64_t) -4294967295);\n                int64_t canonicalizze_arg_18645 = add64(x_18638, x_18641);\n                int64_t canonicalizze_res_18646 = umod64(canonicalizze_arg_18645, (int64_t) -4294967295);\n                int64_t canonicalizze_arg_18647 = add64(x_18639, x_18642);\n                int64_t canonicalizze_res_18648 = umod64(canonicalizze_arg_18647, (int64_t) -4294967295);\n                \n                x_18637 = canonicalizze_res_18644;\n                x_18638 = canonicalizze_res_18646;\n                x_18639 = canonicalizze_res_18648;\n            }\n            // write result of operation\n            {\n                ((__local int64_t *) red_arr_mem_20564)[sext_i32_i64(local_tid_20553)] = x_18637;\n                ((__local int64_t *) red_arr_mem_20566)[sext_i32_i64(local_tid_20553)] = x_18638;\n                ((__local int64_t *) red_arr_mem_20568)[sext_i32_i64(local_tid_20553)] = x_18639;\n            }\n        }\n        skip_waves_20582 *= 2;\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    defunc_0_f_res_18632 = ((__local int64_t *) red_arr_mem_20564)[(int64_t) 0];\n    defunc_0_f_res_18633 = ((__local int64_t *) red_arr_mem_20566)[(int64_t) 0];\n    defunc_0_f_res_18634 = ((__local int64_t *) red_arr_mem_20568)[(int64_t) 0];\n    \n    int64_t x_18779 = mul64(defunc_0_f_res_18615, defunc_0_f_res_18632);\n    int64_t y_18780 = mul64(defunc_0_f_res_18617, defunc_0_f_res_18633);\n    int64_t x_18781 = sub64(x_18779, y_18780);\n    int64_t y_18782 = mul64(defunc_0_f_res_18616, defunc_0_f_res_18634);\n    int64_t mul_res_18783 = sub64(x_18781, y_18782);\n    int64_t x_18784 = mul64(defunc_0_f_res_18616, defunc_0_f_res_18632);\n    int64_t y_18785 = mul64(defunc_0_f_res_18615, defunc_0_f_res_18633);\n    int64_t x_18786 = add64(x_18784, y_18785);\n    int64_t y_18787 = mul64(defu", "nc_0_f_res_18617, defunc_0_f_res_18634);\n    int64_t x_18788 = sub64(x_18786, y_18787);\n    int64_t x_18789 = add64(y_18780, x_18788);\n    int64_t mul_res_18790 = add64(y_18782, x_18789);\n    int64_t x_18791 = mul64(defunc_0_f_res_18617, defunc_0_f_res_18632);\n    int64_t y_18792 = mul64(defunc_0_f_res_18616, defunc_0_f_res_18633);\n    int64_t x_18793 = add64(x_18791, y_18792);\n    int64_t y_18794 = mul64(defunc_0_f_res_18615, defunc_0_f_res_18634);\n    int64_t x_18795 = add64(x_18793, y_18794);\n    int64_t mul_res_18796 = add64(y_18787, x_18795);\n    \n    ((__local int64_t *) color_20308)[(int64_t) 0] = mul_res_18783;\n    ((__local int64_t *) color_20308)[(int64_t) 1] = mul_res_18790;\n    ((__local int64_t *) color_20308)[(int64_t) 2] = mul_res_18796;\n    \n    int32_t num_chunks_20583 = sdiv_up32(3, sext_i64_i32(p_12335));\n    \n    for (int32_t chunk_i_20584 = 0; chunk_i_20584 < num_chunks_20583; chunk_i_20584++) {\n        int32_t i_20585 = chunk_i_20584 * sext_i64_i32(p_12335) + local_tid_20553;\n        \n        if (slt32(i_20585, 3)) {\n            int64_t tmp_20586 = ((__local int64_t *) color_20308)[sext_i32_i64(i_20585)];\n            \n            ((__global int64_t *) mem_20074)[gtid_18612 * ((int64_t) 3 * m_12334) + gtid_18613 * (int64_t) 3 + sext_i32_i64(i_20585)] = tmp_20586;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n  error_2:\n    return;\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186(__global int *global_failure, __local volatile int64_t *color_20312_backing_aligned_0, __local volatile int64_t *color_20311_backing_aligned_1, __local volatile int64_t *color_20310_backing_aligned_2, __local volatile int64_t *color_20309_backing_aligned_3, int64_t n_12333, int64_t m_12334, int64_t p_12335, int64_t computed_group_sizze_19187, int64_t ldim_19188, int64_t num_whole_tiles_19198, int64_t residual_input_19635, unsigned char cond_19636_bits, int64_t binop_x_19652, int64_t slice_offset_19694, __global unsigned char", " *eps_mem_19927, __global unsigned char *expsss_mem_19928, __global unsigned char *coefficientss_mem_19929, __global unsigned char *mem_20024, __global unsigned char *mem_20029, __global unsigned char *mem_20034)\n{\n    bool cond_19636 = cond_19636_bits;\n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict color_20312_backing_3 = (__local volatile unsigned char *) color_20312_backing_aligned_0;\n    __local volatile unsigned char *restrict color_20311_backing_2 = (__local volatile unsigned char *) color_20311_backing_aligned_1;\n    __local volatile unsigned char *restrict color_20310_backing_1 = (__local volatile unsigned char *) color_20310_backing_aligned_2;\n    __local volatile unsigned char *restrict color_20309_backing_0 = (__local volatile unsigned char *) color_20309_backing_aligned_3;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20590;\n    int64_t group_sizze_20593;\n    int32_t wave_sizze_20592;\n    int32_t group_tid_20591;\n    \n    local_tid_20590 = get_local_id(0);\n    group_sizze_20593 = get_local_size(0);\n    wave_sizze_20592 = LOCKSTEP_WIDTH;\n    group_tid_20591 = get_group_id(0);\n    \n    int32_t global_tid_20589 = group_tid_20591 * group_sizze_20593 + local_tid_20590;\n    int32_t gid_flat_19186 = group_tid_20591;\n    int64_t slice_20595 = computed_group_sizze_19187;\n    int64_t ltid_pre_20594 = sext_i32_i64(local_tid_20590);\n    int64_t remnant_20596 = sext_i32_i64(local_tid_20590) - ltid_pre_20594;\n    int64_t slice_20597 = ldim_19188;\n    int64_t slice_20598 = m_12334 * slice_20597;\n    int64_t slice_20599 = n_12333 * slice_20598;\n    int64_t gtid_18813 = squot64(sext_i32_i64(group_tid_20591), slice_20598);\n    int64_t remnant_20600 = sext_i32_i64(group_tid_20591) - gtid_18813 * slice_20598;\n    int64_t gtid_18814 = squot64(remnant_20600, slice_20597);\n    int64_t remnant_20601 = remnant_20600 - gtid_18814 * slice_20597;\n    int64_t gid_1",
                                       "9185 = remnant_20601;\n    int64_t remnant_20602 = remnant_20601 - gid_19185;\n    __local unsigned char *color_20309;\n    \n    color_20309 = (__local unsigned char *) color_20309_backing_0;\n    \n    __local unsigned char *color_20310;\n    \n    color_20310 = (__local unsigned char *) color_20310_backing_1;\n    \n    __local unsigned char *color_20311;\n    \n    color_20311 = (__local unsigned char *) color_20311_backing_2;\n    \n    __local unsigned char *color_20312;\n    \n    color_20312 = (__local unsigned char *) color_20312_backing_3;\n    \n    int64_t mem_19965[1];\n    int64_t mem_19967[1];\n    int64_t mem_19969[1];\n    int32_t ltid_flat_19200 = local_tid_20590;\n    int64_t ltid_19199 = sext_i32_i64(sext_i64_i32(ltid_pre_20594));\n    \n    mem_19965[(int64_t) 0] = (int64_t) 1;\n    mem_19967[(int64_t) 0] = (int64_t) 0;\n    mem_19969[(int64_t) 0] = (int64_t) 0;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t binop_x_19407 = gid_19185 * computed_group_sizze_19187;\n    int64_t mem_in_20279[1];\n    int64_t mem_19985[1];\n    int64_t mem_in_20283[1];\n    int64_t mem_19987[1];\n    int64_t mem_in_20287[1];\n    int64_t mem_19989[1];\n    int64_t tmp_20603 = mem_19965[(int64_t) 0];\n    \n    mem_in_20279[(int64_t) 0] = tmp_20603;\n    \n    int64_t tmp_20604 = mem_19967[(int64_t) 0];\n    \n    mem_in_20283[(int64_t) 0] = tmp_20604;\n    \n    int64_t tmp_20605 = mem_19969[(int64_t) 0];\n    \n    mem_in_20287[(int64_t) 0] = tmp_20605;\n    \n    int64_t ext_mem_19992[1];\n    int64_t ext_mem_unused_20280[1];\n    int64_t ext_mem_19991[1];\n    int64_t ext_mem_unused_20284[1];\n    int64_t ext_mem_19990[1];\n    int64_t ext_mem_unused_20288[1];\n    int64_t mem_param_19970[1];\n    int64_t mem_param_19971[1];\n    int64_t mem_param_19972[1];\n    int64_t mem_param_out_20281[1];\n    int64_t mem_param_out_20285[1];\n    int64_t mem_param_out_20289[1];\n    \n    for (int32_t i_4 = 0; i_4 < 1; i_4++)\n        mem_param_19970[i_4] = mem_in_20279[i_4];\n    for (int32_t i_5 = 0; i_5 < 1; i_5++)\n        mem", "_param_out_20281[i_5] = mem_19985[i_5];\n    for (int32_t i_6 = 0; i_6 < 1; i_6++)\n        mem_param_19971[i_6] = mem_in_20283[i_6];\n    for (int32_t i_7 = 0; i_7 < 1; i_7++)\n        mem_param_out_20285[i_7] = mem_19987[i_7];\n    for (int32_t i_8 = 0; i_8 < 1; i_8++)\n        mem_param_19972[i_8] = mem_in_20287[i_8];\n    for (int32_t i_9 = 0; i_9 < 1; i_9++)\n        mem_param_out_20289[i_9] = mem_19989[i_9];\n    for (int64_t tile_id_19210 = 0; tile_id_19210 < num_whole_tiles_19198; tile_id_19210++) {\n        int64_t binop_x_19387 = computed_group_sizze_19187 * tile_id_19210;\n        int32_t ltid_flat_19386 = local_tid_20590;\n        int64_t ltid_19385 = sext_i32_i64(sext_i64_i32(ltid_pre_20594));\n        int64_t j_19388 = ltid_19385 + binop_x_19387;\n        bool cond_19392 = slt64(j_19388, m_12334);\n        int64_t pre1d_19393;\n        int64_t pre1d_19394;\n        int64_t pre1d_19395;\n        \n        if (cond_19392 == 1) {\n            int64_t tile_elem_19396 = ((__global int64_t *) eps_mem_19927)[gtid_18813 * ((int64_t) 3 * m_12334) + j_19388 * (int64_t) 3];\n            int64_t tile_elem_19397 = ((__global int64_t *) eps_mem_19927)[gtid_18813 * ((int64_t) 3 * m_12334) + j_19388 * (int64_t) 3 + (int64_t) 1];\n            int64_t tile_elem_19398 = ((__global int64_t *) eps_mem_19927)[gtid_18813 * ((int64_t) 3 * m_12334) + j_19388 * (int64_t) 3 + (int64_t) 2];\n            \n            pre1d_19393 = tile_elem_19396;\n            pre1d_19394 = tile_elem_19397;\n            pre1d_19395 = tile_elem_19398;\n        } else {\n            pre1d_19393 = (int64_t) 0;\n            pre1d_19394 = (int64_t) 0;\n            pre1d_19395 = (int64_t) 0;\n        }\n        ((__local int64_t *) color_20312)[ltid_19385] = pre1d_19393;\n        ((__local int64_t *) color_20310)[ltid_19385] = pre1d_19394;\n        ((__local int64_t *) color_20309)[ltid_19385] = pre1d_19395;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t ltid_flat_19406 = local_tid_20590;\n        int64_t ltid_19405 = se", "xt_i32_i64(sext_i64_i32(ltid_pre_20594));\n        int64_t gtid_19408 = ltid_19405 + binop_x_19407;\n        int64_t acc_19410 = mem_param_19970[(int64_t) 0];\n        int64_t acc_19411 = mem_param_19971[(int64_t) 0];\n        int64_t acc_19412 = mem_param_19972[(int64_t) 0];\n        bool cond_19415 = slt64(gtid_19408, p_12335);\n        int64_t acc_19416;\n        int64_t acc_19417;\n        int64_t acc_19418;\n        \n        if (cond_19415 == 1) {\n            int64_t x_19419;\n            int64_t x_19420;\n            int64_t x_19421;\n            int64_t redout_19913;\n            int64_t redout_19914;\n            int64_t redout_19915;\n            \n            redout_19913 = acc_19410;\n            redout_19914 = acc_19411;\n            redout_19915 = acc_19412;\n            for (int64_t i_19916 = 0; i_19916 < computed_group_sizze_19187; i_19916++) {\n                int64_t slice_19925 = binop_x_19387 + i_19916;\n                int64_t x_19446 = ((__global int64_t *) expsss_mem_19928)[gtid_18814 * (m_12334 * p_12335) + gtid_19408 * m_12334 + slice_19925];\n                int64_t x_19447 = ((__local int64_t *) color_20312)[i_19916];\n                int64_t x_19448 = ((__local int64_t *) color_20310)[i_19916];\n                int64_t x_19449 = ((__local int64_t *) color_20309)[i_19916];\n                bool loop_cond_19450 = ult64((int64_t) 0, x_19446);\n                bool mod_pow_u64_res_19451;\n                int64_t mod_pow_u64_res_19452;\n                int64_t mod_pow_u64_res_19453;\n                int64_t mod_pow_u64_res_19454;\n                int64_t mod_pow_u64_res_19455;\n                int64_t mod_pow_u64_res_19456;\n                int64_t mod_pow_u64_res_19457;\n                int64_t mod_pow_u64_res_19458;\n                bool loop_while_19459;\n                int64_t x_19460;\n                int64_t x_19461;\n                int64_t x_19462;\n                int64_t i_19463;\n                int64_t result_19464;\n                int64_t result_19465;\n                ",
                                       "int64_t result_19466;\n                \n                loop_while_19459 = loop_cond_19450;\n                x_19460 = x_19447;\n                x_19461 = x_19448;\n                x_19462 = x_19449;\n                i_19463 = x_19446;\n                result_19464 = (int64_t) 1;\n                result_19465 = (int64_t) 0;\n                result_19466 = (int64_t) 0;\n                while (loop_while_19459) {\n                    int64_t x_19467 = umod64(i_19463, (int64_t) 2);\n                    bool cond_19468 = x_19467 == (int64_t) 1;\n                    int64_t loopres_19469;\n                    int64_t loopres_19470;\n                    int64_t loopres_19471;\n                    int64_t loopres_19472;\n                    int64_t loopres_19473;\n                    int64_t loopres_19474;\n                    int64_t loopres_19475;\n                    \n                    if (cond_19468 == 1) {\n                        int64_t x_19476 = mul64(x_19460, x_19460);\n                        int64_t y_19477 = mul64(x_19461, x_19462);\n                        int64_t x_19478 = sub64(x_19476, y_19477);\n                        int64_t mul_res_19479 = sub64(x_19478, y_19477);\n                        int64_t x_19480 = mul64(x_19460, x_19461);\n                        int64_t x_19481 = add64(x_19480, x_19480);\n                        int64_t y_19482 = mul64(x_19462, x_19462);\n                        int64_t x_19483 = sub64(x_19481, y_19482);\n                        int64_t x_19484 = add64(y_19477, x_19483);\n                        int64_t mul_res_19485 = add64(y_19477, x_19484);\n                        int64_t x_19486 = mul64(x_19460, x_19462);\n                        int64_t y_19487 = mul64(x_19461, x_19461);\n                        int64_t x_19488 = add64(x_19486, y_19487);\n                        int64_t x_19489 = add64(x_19486, x_19488);\n                        int64_t mul_res_19490 = add64(y_19482, x_19489);\n                        int64_t loopres_t_res_19491 = lshr64(i_19463, (int64", "_t) 1);\n                        int64_t x_19492 = mul64(x_19460, result_19464);\n                        int64_t y_19493 = mul64(x_19462, result_19465);\n                        int64_t x_19494 = sub64(x_19492, y_19493);\n                        int64_t y_19495 = mul64(x_19461, result_19466);\n                        int64_t mul_res_19496 = sub64(x_19494, y_19495);\n                        int64_t x_19497 = mul64(x_19461, result_19464);\n                        int64_t y_19498 = mul64(x_19460, result_19465);\n                        int64_t x_19499 = add64(x_19497, y_19498);\n                        int64_t y_19500 = mul64(x_19462, result_19466);\n                        int64_t x_19501 = sub64(x_19499, y_19500);\n                        int64_t x_19502 = add64(y_19493, x_19501);\n                        int64_t mul_res_19503 = add64(y_19495, x_19502);\n                        int64_t x_19504 = mul64(x_19462, result_19464);\n                        int64_t y_19505 = mul64(x_19461, result_19465);\n                        int64_t x_19506 = add64(x_19504, y_19505);\n                        int64_t y_19507 = mul64(x_19460, result_19466);\n                        int64_t x_19508 = add64(x_19506, y_19507);\n                        int64_t mul_res_19509 = add64(y_19500, x_19508);\n                        \n                        loopres_19469 = mul_res_19479;\n                        loopres_19470 = mul_res_19485;\n                        loopres_19471 = mul_res_19490;\n                        loopres_19472 = loopres_t_res_19491;\n                        loopres_19473 = mul_res_19496;\n                        loopres_19474 = mul_res_19503;\n                        loopres_19475 = mul_res_19509;\n                    } else {\n                        int64_t x_19510 = mul64(x_19460, x_19460);\n                        int64_t y_19511 = mul64(x_19461, x_19462);\n                        int64_t x_19512 = sub64(x_19510, y_19511);\n                        int64_t mul_res_19513 = sub64(x_19512, y_19511);\n    ", "                    int64_t x_19514 = mul64(x_19460, x_19461);\n                        int64_t x_19515 = add64(x_19514, x_19514);\n                        int64_t y_19516 = mul64(x_19462, x_19462);\n                        int64_t x_19517 = sub64(x_19515, y_19516);\n                        int64_t x_19518 = add64(y_19511, x_19517);\n                        int64_t mul_res_19519 = add64(y_19511, x_19518);\n                        int64_t x_19520 = mul64(x_19460, x_19462);\n                        int64_t y_19521 = mul64(x_19461, x_19461);\n                        int64_t x_19522 = add64(x_19520, y_19521);\n                        int64_t x_19523 = add64(x_19520, x_19522);\n                        int64_t mul_res_19524 = add64(y_19516, x_19523);\n                        int64_t loopres_f_res_19525 = lshr64(i_19463, (int64_t) 1);\n                        \n                        loopres_19469 = mul_res_19513;\n                        loopres_19470 = mul_res_19519;\n                        loopres_19471 = mul_res_19524;\n                        loopres_19472 = loopres_f_res_19525;\n                        loopres_19473 = result_19464;\n                        loopres_19474 = result_19465;\n                        loopres_19475 = result_19466;\n                    }\n                    \n                    bool loop_cond_19526 = ult64((int64_t) 0, loopres_19472);\n                    bool loop_while_tmp_20618 = loop_cond_19526;\n                    int64_t x_tmp_20619 = loopres_19469;\n                    int64_t x_tmp_20620 = loopres_19470;\n                    int64_t x_tmp_20621 = loopres_19471;\n                    int64_t i_tmp_20622 = loopres_19472;\n                    int64_t result_tmp_20623 = loopres_19473;\n                    int64_t result_tmp_20624 = loopres_19474;\n                    int64_t result_tmp_20625 = loopres_19475;\n                    \n                    loop_while_19459 = loop_while_tmp_20618;\n                    x_19460 = x_tmp_20619;\n                    x_19461 = x_t",
                                       "mp_20620;\n                    x_19462 = x_tmp_20621;\n                    i_19463 = i_tmp_20622;\n                    result_19464 = result_tmp_20623;\n                    result_19465 = result_tmp_20624;\n                    result_19466 = result_tmp_20625;\n                }\n                mod_pow_u64_res_19451 = loop_while_19459;\n                mod_pow_u64_res_19452 = x_19460;\n                mod_pow_u64_res_19453 = x_19461;\n                mod_pow_u64_res_19454 = x_19462;\n                mod_pow_u64_res_19455 = i_19463;\n                mod_pow_u64_res_19456 = result_19464;\n                mod_pow_u64_res_19457 = result_19465;\n                mod_pow_u64_res_19458 = result_19466;\n                \n                int64_t x_19428 = mul64(mod_pow_u64_res_19456, redout_19913);\n                int64_t y_19429 = mul64(mod_pow_u64_res_19457, redout_19915);\n                int64_t x_19430 = sub64(x_19428, y_19429);\n                int64_t y_19431 = mul64(mod_pow_u64_res_19458, redout_19914);\n                int64_t defunc_1_op_res_19432 = sub64(x_19430, y_19431);\n                int64_t x_19433 = mul64(mod_pow_u64_res_19456, redout_19914);\n                int64_t y_19434 = mul64(mod_pow_u64_res_19457, redout_19913);\n                int64_t x_19435 = add64(x_19433, y_19434);\n                int64_t y_19436 = mul64(mod_pow_u64_res_19458, redout_19915);\n                int64_t x_19437 = sub64(x_19435, y_19436);\n                int64_t x_19438 = add64(y_19429, x_19437);\n                int64_t defunc_1_op_res_19439 = add64(y_19431, x_19438);\n                int64_t x_19440 = mul64(mod_pow_u64_res_19456, redout_19915);\n                int64_t y_19441 = mul64(mod_pow_u64_res_19457, redout_19914);\n                int64_t x_19442 = add64(x_19440, y_19441);\n                int64_t y_19443 = mul64(mod_pow_u64_res_19458, redout_19913);\n                int64_t x_19444 = add64(x_19442, y_19443);\n                int64_t defunc_1_op_res_19445 = add64(y_19436, x_19444);\n                int", "64_t redout_tmp_20615 = defunc_1_op_res_19432;\n                int64_t redout_tmp_20616 = defunc_1_op_res_19439;\n                int64_t redout_tmp_20617 = defunc_1_op_res_19445;\n                \n                redout_19913 = redout_tmp_20615;\n                redout_19914 = redout_tmp_20616;\n                redout_19915 = redout_tmp_20617;\n            }\n            x_19419 = redout_19913;\n            x_19420 = redout_19914;\n            x_19421 = redout_19915;\n            acc_19416 = x_19419;\n            acc_19417 = x_19420;\n            acc_19418 = x_19421;\n        } else {\n            acc_19416 = acc_19410;\n            acc_19417 = acc_19411;\n            acc_19418 = acc_19412;\n        }\n        mem_param_out_20281[(int64_t) 0] = acc_19416;\n        mem_param_out_20285[(int64_t) 0] = acc_19417;\n        mem_param_out_20289[(int64_t) 0] = acc_19418;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t mem_param_tmp_20606[1];\n        \n        for (int32_t i_10 = 0; i_10 < 1; i_10++)\n            mem_param_tmp_20606[i_10] = mem_param_out_20281[i_10];\n        \n        int64_t mem_param_out_tmp_20607[1];\n        \n        for (int32_t i_11 = 0; i_11 < 1; i_11++)\n            mem_param_out_tmp_20607[i_11] = mem_param_19970[i_11];\n        \n        int64_t mem_param_tmp_20608[1];\n        \n        for (int32_t i_12 = 0; i_12 < 1; i_12++)\n            mem_param_tmp_20608[i_12] = mem_param_out_20285[i_12];\n        \n        int64_t mem_param_out_tmp_20609[1];\n        \n        for (int32_t i_13 = 0; i_13 < 1; i_13++)\n            mem_param_out_tmp_20609[i_13] = mem_param_19971[i_13];\n        \n        int64_t mem_param_tmp_20610[1];\n        \n        for (int32_t i_14 = 0; i_14 < 1; i_14++)\n            mem_param_tmp_20610[i_14] = mem_param_out_20289[i_14];\n        \n        int64_t mem_param_out_tmp_20611[1];\n        \n        for (int32_t i_15 = 0; i_15 < 1; i_15++)\n            mem_param_out_tmp_20611[i_15] = mem_param_19972[i_15];\n        for (int32_t i_16 = 0; i_16 < 1; i_16++)", "\n            mem_param_19970[i_16] = mem_param_tmp_20606[i_16];\n        for (int32_t i_17 = 0; i_17 < 1; i_17++)\n            mem_param_out_20281[i_17] = mem_param_out_tmp_20607[i_17];\n        for (int32_t i_18 = 0; i_18 < 1; i_18++)\n            mem_param_19971[i_18] = mem_param_tmp_20608[i_18];\n        for (int32_t i_19 = 0; i_19 < 1; i_19++)\n            mem_param_out_20285[i_19] = mem_param_out_tmp_20609[i_19];\n        for (int32_t i_20 = 0; i_20 < 1; i_20++)\n            mem_param_19972[i_20] = mem_param_tmp_20610[i_20];\n        for (int32_t i_21 = 0; i_21 < 1; i_21++)\n            mem_param_out_20289[i_21] = mem_param_out_tmp_20611[i_21];\n    }\n    for (int32_t i_22 = 0; i_22 < 1; i_22++)\n        ext_mem_19992[i_22] = mem_param_19970[i_22];\n    for (int32_t i_23 = 0; i_23 < 1; i_23++)\n        ext_mem_unused_20280[i_23] = mem_param_out_20281[i_23];\n    for (int32_t i_24 = 0; i_24 < 1; i_24++)\n        ext_mem_19991[i_24] = mem_param_19971[i_24];\n    for (int32_t i_25 = 0; i_25 < 1; i_25++)\n        ext_mem_unused_20284[i_25] = mem_param_out_20285[i_25];\n    for (int32_t i_26 = 0; i_26 < 1; i_26++)\n        ext_mem_19990[i_26] = mem_param_19972[i_26];\n    for (int32_t i_27 = 0; i_27 < 1; i_27++)\n        ext_mem_unused_20288[i_27] = mem_param_out_20289[i_27];\n    \n    int64_t mem_20244[1];\n    int64_t mem_20246[1];\n    int64_t mem_20248[1];\n    int64_t mem_20005[1];\n    int64_t mem_20007[1];\n    int64_t mem_20009[1];\n    \n    if (cond_19636 == 1) {\n        int64_t tmp_20626 = ext_mem_19992[(int64_t) 0];\n        \n        mem_20248[(int64_t) 0] = tmp_20626;\n        \n        int64_t tmp_20627 = ext_mem_19991[(int64_t) 0];\n        \n        mem_20246[(int64_t) 0] = tmp_20627;\n        \n        int64_t tmp_20628 = ext_mem_19990[(int64_t) 0];\n        \n        mem_20244[(int64_t) 0] = tmp_20628;\n    } else {\n        int32_t ltid_flat_19638 = local_tid_20590;\n        int64_t ltid_19637 = sext_i32_i64(sext_i64_i32(ltid_pre_20594));\n        int64_t j_19653 = ltid_19637 + binop_x_196",
                                       "52;\n        bool cond_19657 = slt64(j_19653, m_12334);\n        int64_t pre1d_19658;\n        int64_t pre1d_19659;\n        int64_t pre1d_19660;\n        \n        if (cond_19657 == 1) {\n            int64_t tile_elem_19661 = ((__global int64_t *) eps_mem_19927)[gtid_18813 * ((int64_t) 3 * m_12334) + j_19653 * (int64_t) 3];\n            int64_t tile_elem_19662 = ((__global int64_t *) eps_mem_19927)[gtid_18813 * ((int64_t) 3 * m_12334) + j_19653 * (int64_t) 3 + (int64_t) 1];\n            int64_t tile_elem_19663 = ((__global int64_t *) eps_mem_19927)[gtid_18813 * ((int64_t) 3 * m_12334) + j_19653 * (int64_t) 3 + (int64_t) 2];\n            \n            pre1d_19658 = tile_elem_19661;\n            pre1d_19659 = tile_elem_19662;\n            pre1d_19660 = tile_elem_19663;\n        } else {\n            pre1d_19658 = (int64_t) 0;\n            pre1d_19659 = (int64_t) 0;\n            pre1d_19660 = (int64_t) 0;\n        }\n        ((__local int64_t *) color_20311)[ltid_19637] = pre1d_19658;\n        ((__local int64_t *) color_20310)[ltid_19637] = pre1d_19659;\n        ((__local int64_t *) color_20309)[ltid_19637] = pre1d_19660;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t ltid_flat_19674 = local_tid_20590;\n        int64_t ltid_19673 = sext_i32_i64(sext_i64_i32(ltid_pre_20594));\n        int64_t gtid_19689 = binop_x_19407 + ltid_19673;\n        int64_t acc_19691 = ext_mem_19992[(int64_t) 0];\n        int64_t acc_19692 = ext_mem_19991[(int64_t) 0];\n        int64_t acc_19693 = ext_mem_19990[(int64_t) 0];\n        bool cond_19696 = slt64(gtid_19689, p_12335);\n        int64_t acc_19697;\n        int64_t acc_19698;\n        int64_t acc_19699;\n        \n        if (cond_19696 == 1) {\n            int64_t x_19700;\n            int64_t x_19701;\n            int64_t x_19702;\n            int64_t redout_19917;\n            int64_t redout_19918;\n            int64_t redout_19919;\n            \n            redout_19917 = acc_19691;\n            redout_19918 = acc_19692;\n            redout_19919 = acc_196", "93;\n            for (int64_t i_19920 = 0; i_19920 < residual_input_19635; i_19920++) {\n                int64_t slice_19924 = slice_offset_19694 + i_19920;\n                int64_t x_19727 = ((__global int64_t *) expsss_mem_19928)[gtid_18814 * (m_12334 * p_12335) + gtid_19689 * m_12334 + slice_19924];\n                int64_t x_19728 = ((__local int64_t *) color_20311)[i_19920];\n                int64_t x_19729 = ((__local int64_t *) color_20310)[i_19920];\n                int64_t x_19730 = ((__local int64_t *) color_20309)[i_19920];\n                bool loop_cond_19731 = ult64((int64_t) 0, x_19727);\n                bool mod_pow_u64_res_19732;\n                int64_t mod_pow_u64_res_19733;\n                int64_t mod_pow_u64_res_19734;\n                int64_t mod_pow_u64_res_19735;\n                int64_t mod_pow_u64_res_19736;\n                int64_t mod_pow_u64_res_19737;\n                int64_t mod_pow_u64_res_19738;\n                int64_t mod_pow_u64_res_19739;\n                bool loop_while_19740;\n                int64_t x_19741;\n                int64_t x_19742;\n                int64_t x_19743;\n                int64_t i_19744;\n                int64_t result_19745;\n                int64_t result_19746;\n                int64_t result_19747;\n                \n                loop_while_19740 = loop_cond_19731;\n                x_19741 = x_19728;\n                x_19742 = x_19729;\n                x_19743 = x_19730;\n                i_19744 = x_19727;\n                result_19745 = (int64_t) 1;\n                result_19746 = (int64_t) 0;\n                result_19747 = (int64_t) 0;\n                while (loop_while_19740) {\n                    int64_t x_19748 = umod64(i_19744, (int64_t) 2);\n                    bool cond_19749 = x_19748 == (int64_t) 1;\n                    int64_t loopres_19750;\n                    int64_t loopres_19751;\n                    int64_t loopres_19752;\n                    int64_t loopres_19753;\n                    int64_t loopres_19754;\n          ", "          int64_t loopres_19755;\n                    int64_t loopres_19756;\n                    \n                    if (cond_19749 == 1) {\n                        int64_t x_19757 = mul64(x_19741, x_19741);\n                        int64_t y_19758 = mul64(x_19742, x_19743);\n                        int64_t x_19759 = sub64(x_19757, y_19758);\n                        int64_t mul_res_19760 = sub64(x_19759, y_19758);\n                        int64_t x_19761 = mul64(x_19741, x_19742);\n                        int64_t x_19762 = add64(x_19761, x_19761);\n                        int64_t y_19763 = mul64(x_19743, x_19743);\n                        int64_t x_19764 = sub64(x_19762, y_19763);\n                        int64_t x_19765 = add64(y_19758, x_19764);\n                        int64_t mul_res_19766 = add64(y_19758, x_19765);\n                        int64_t x_19767 = mul64(x_19741, x_19743);\n                        int64_t y_19768 = mul64(x_19742, x_19742);\n                        int64_t x_19769 = add64(x_19767, y_19768);\n                        int64_t x_19770 = add64(x_19767, x_19769);\n                        int64_t mul_res_19771 = add64(y_19763, x_19770);\n                        int64_t loopres_t_res_19772 = lshr64(i_19744, (int64_t) 1);\n                        int64_t x_19773 = mul64(x_19741, result_19745);\n                        int64_t y_19774 = mul64(x_19743, result_19746);\n                        int64_t x_19775 = sub64(x_19773, y_19774);\n                        int64_t y_19776 = mul64(x_19742, result_19747);\n                        int64_t mul_res_19777 = sub64(x_19775, y_19776);\n                        int64_t x_19778 = mul64(x_19742, result_19745);\n                        int64_t y_19779 = mul64(x_19741, result_19746);\n                        int64_t x_19780 = add64(x_19778, y_19779);\n                        int64_t y_19781 = mul64(x_19743, result_19747);\n                        int64_t x_19782 = sub64(x_19780, y_19781);\n                        int64_t x_19783 = add64",
                                       "(y_19774, x_19782);\n                        int64_t mul_res_19784 = add64(y_19776, x_19783);\n                        int64_t x_19785 = mul64(x_19743, result_19745);\n                        int64_t y_19786 = mul64(x_19742, result_19746);\n                        int64_t x_19787 = add64(x_19785, y_19786);\n                        int64_t y_19788 = mul64(x_19741, result_19747);\n                        int64_t x_19789 = add64(x_19787, y_19788);\n                        int64_t mul_res_19790 = add64(y_19781, x_19789);\n                        \n                        loopres_19750 = mul_res_19760;\n                        loopres_19751 = mul_res_19766;\n                        loopres_19752 = mul_res_19771;\n                        loopres_19753 = loopres_t_res_19772;\n                        loopres_19754 = mul_res_19777;\n                        loopres_19755 = mul_res_19784;\n                        loopres_19756 = mul_res_19790;\n                    } else {\n                        int64_t x_19791 = mul64(x_19741, x_19741);\n                        int64_t y_19792 = mul64(x_19742, x_19743);\n                        int64_t x_19793 = sub64(x_19791, y_19792);\n                        int64_t mul_res_19794 = sub64(x_19793, y_19792);\n                        int64_t x_19795 = mul64(x_19741, x_19742);\n                        int64_t x_19796 = add64(x_19795, x_19795);\n                        int64_t y_19797 = mul64(x_19743, x_19743);\n                        int64_t x_19798 = sub64(x_19796, y_19797);\n                        int64_t x_19799 = add64(y_19792, x_19798);\n                        int64_t mul_res_19800 = add64(y_19792, x_19799);\n                        int64_t x_19801 = mul64(x_19741, x_19743);\n                        int64_t y_19802 = mul64(x_19742, x_19742);\n                        int64_t x_19803 = add64(x_19801, y_19802);\n                        int64_t x_19804 = add64(x_19801, x_19803);\n                        int64_t mul_res_19805 = add64(y_19797, x_19804);\n                ", "        int64_t loopres_f_res_19806 = lshr64(i_19744, (int64_t) 1);\n                        \n                        loopres_19750 = mul_res_19794;\n                        loopres_19751 = mul_res_19800;\n                        loopres_19752 = mul_res_19805;\n                        loopres_19753 = loopres_f_res_19806;\n                        loopres_19754 = result_19745;\n                        loopres_19755 = result_19746;\n                        loopres_19756 = result_19747;\n                    }\n                    \n                    bool loop_cond_19807 = ult64((int64_t) 0, loopres_19753);\n                    bool loop_while_tmp_20632 = loop_cond_19807;\n                    int64_t x_tmp_20633 = loopres_19750;\n                    int64_t x_tmp_20634 = loopres_19751;\n                    int64_t x_tmp_20635 = loopres_19752;\n                    int64_t i_tmp_20636 = loopres_19753;\n                    int64_t result_tmp_20637 = loopres_19754;\n                    int64_t result_tmp_20638 = loopres_19755;\n                    int64_t result_tmp_20639 = loopres_19756;\n                    \n                    loop_while_19740 = loop_while_tmp_20632;\n                    x_19741 = x_tmp_20633;\n                    x_19742 = x_tmp_20634;\n                    x_19743 = x_tmp_20635;\n                    i_19744 = i_tmp_20636;\n                    result_19745 = result_tmp_20637;\n                    result_19746 = result_tmp_20638;\n                    result_19747 = result_tmp_20639;\n                }\n                mod_pow_u64_res_19732 = loop_while_19740;\n                mod_pow_u64_res_19733 = x_19741;\n                mod_pow_u64_res_19734 = x_19742;\n                mod_pow_u64_res_19735 = x_19743;\n                mod_pow_u64_res_19736 = i_19744;\n                mod_pow_u64_res_19737 = result_19745;\n                mod_pow_u64_res_19738 = result_19746;\n                mod_pow_u64_res_19739 = result_19747;\n                \n                int64_t x_19709 = mul64(mod_pow_u64_res", "_19737, redout_19917);\n                int64_t y_19710 = mul64(mod_pow_u64_res_19738, redout_19919);\n                int64_t x_19711 = sub64(x_19709, y_19710);\n                int64_t y_19712 = mul64(mod_pow_u64_res_19739, redout_19918);\n                int64_t defunc_1_op_res_19713 = sub64(x_19711, y_19712);\n                int64_t x_19714 = mul64(mod_pow_u64_res_19737, redout_19918);\n                int64_t y_19715 = mul64(mod_pow_u64_res_19738, redout_19917);\n                int64_t x_19716 = add64(x_19714, y_19715);\n                int64_t y_19717 = mul64(mod_pow_u64_res_19739, redout_19919);\n                int64_t x_19718 = sub64(x_19716, y_19717);\n                int64_t x_19719 = add64(y_19710, x_19718);\n                int64_t defunc_1_op_res_19720 = add64(y_19712, x_19719);\n                int64_t x_19721 = mul64(mod_pow_u64_res_19737, redout_19919);\n                int64_t y_19722 = mul64(mod_pow_u64_res_19738, redout_19918);\n                int64_t x_19723 = add64(x_19721, y_19722);\n                int64_t y_19724 = mul64(mod_pow_u64_res_19739, redout_19917);\n                int64_t x_19725 = add64(x_19723, y_19724);\n                int64_t defunc_1_op_res_19726 = add64(y_19717, x_19725);\n                int64_t redout_tmp_20629 = defunc_1_op_res_19713;\n                int64_t redout_tmp_20630 = defunc_1_op_res_19720;\n                int64_t redout_tmp_20631 = defunc_1_op_res_19726;\n                \n                redout_19917 = redout_tmp_20629;\n                redout_19918 = redout_tmp_20630;\n                redout_19919 = redout_tmp_20631;\n            }\n            x_19700 = redout_19917;\n            x_19701 = redout_19918;\n            x_19702 = redout_19919;\n            acc_19697 = x_19700;\n            acc_19698 = x_19701;\n            acc_19699 = x_19702;\n        } else {\n            acc_19697 = acc_19691;\n            acc_19698 = acc_19692;\n            acc_19699 = acc_19693;\n        }\n        mem_20005[(int64_t) 0] = acc_19697;\n        mem_20007[(in",
                                       "t64_t) 0] = acc_19698;\n        mem_20009[(int64_t) 0] = acc_19699;\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int64_t tmp_20640 = mem_20005[(int64_t) 0];\n        \n        mem_20248[(int64_t) 0] = tmp_20640;\n        \n        int64_t tmp_20641 = mem_20007[(int64_t) 0];\n        \n        mem_20246[(int64_t) 0] = tmp_20641;\n        \n        int64_t tmp_20642 = mem_20009[(int64_t) 0];\n        \n        mem_20244[(int64_t) 0] = tmp_20642;\n    }\n    \n    int64_t mem_20015[1];\n    int64_t mem_20017[1];\n    int64_t mem_20019[1];\n    int32_t ltid_flat_19815 = local_tid_20590;\n    int64_t ltid_19814 = sext_i32_i64(sext_i64_i32(ltid_pre_20594));\n    int64_t gtid_19825 = binop_x_19407 + ltid_19814;\n    bool cond_19829 = slt64(gtid_19825, p_12335);\n    int64_t postlude_19830;\n    int64_t postlude_19831;\n    int64_t postlude_19832;\n    \n    if (cond_19829 == 1) {\n        int64_t defunc_0_f_res_19826 = mem_20248[(int64_t) 0];\n        int64_t defunc_0_f_res_19827 = mem_20246[(int64_t) 0];\n        int64_t defunc_0_f_res_19828 = mem_20244[(int64_t) 0];\n        int64_t x_19834 = ((__global int64_t *) coefficientss_mem_19929)[gtid_18814 * ((int64_t) 3 * p_12335) + gtid_19825 * (int64_t) 3];\n        int64_t x_19835 = ((__global int64_t *) coefficientss_mem_19929)[gtid_18814 * ((int64_t) 3 * p_12335) + gtid_19825 * (int64_t) 3 + (int64_t) 1];\n        int64_t x_19836 = ((__global int64_t *) coefficientss_mem_19929)[gtid_18814 * ((int64_t) 3 * p_12335) + gtid_19825 * (int64_t) 3 + (int64_t) 2];\n        int64_t x_19837 = mul64(defunc_0_f_res_19826, x_19834);\n        int64_t y_19838 = mul64(defunc_0_f_res_19827, x_19836);\n        int64_t x_19839 = sub64(x_19837, y_19838);\n        int64_t y_19840 = mul64(defunc_0_f_res_19828, x_19835);\n        int64_t mul_res_19841 = sub64(x_19839, y_19840);\n        int64_t x_19842 = mul64(defunc_0_f_res_19826, x_19835);\n        int64_t y_19843 = mul64(defunc_0_f_res_19827, x_19834);\n        int64_t x_19844 = add64(x_19842, y_19843);\n        int64_t ", "y_19845 = mul64(defunc_0_f_res_19828, x_19836);\n        int64_t x_19846 = sub64(x_19844, y_19845);\n        int64_t x_19847 = add64(y_19838, x_19846);\n        int64_t mul_res_19848 = add64(y_19840, x_19847);\n        int64_t x_19849 = mul64(defunc_0_f_res_19826, x_19836);\n        int64_t y_19850 = mul64(defunc_0_f_res_19827, x_19835);\n        int64_t x_19851 = add64(x_19849, y_19850);\n        int64_t y_19852 = mul64(defunc_0_f_res_19828, x_19834);\n        int64_t x_19853 = add64(x_19851, y_19852);\n        int64_t mul_res_19854 = add64(y_19845, x_19853);\n        \n        postlude_19830 = mul_res_19841;\n        postlude_19831 = mul_res_19848;\n        postlude_19832 = mul_res_19854;\n    } else {\n        postlude_19830 = (int64_t) 0;\n        postlude_19831 = (int64_t) 0;\n        postlude_19832 = (int64_t) 0;\n    }\n    mem_20015[(int64_t) 0] = postlude_19830;\n    mem_20017[(int64_t) 0] = postlude_19831;\n    mem_20019[(int64_t) 0] = postlude_19832;\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int64_t slice_20646 = computed_group_sizze_19187;\n    int64_t slice_20647 = slice_20646;\n    int64_t slice_20648 = slice_20647;\n    int64_t ltid_20643 = squot64(sext_i32_i64(local_tid_20590), slice_20647);\n    int64_t remnant_20649 = sext_i32_i64(local_tid_20590) - ltid_20643 * slice_20647;\n    int64_t ltid_20644 = squot64(remnant_20649, slice_20646);\n    int64_t remnant_20650 = remnant_20649 - ltid_20644 * slice_20646;\n    int64_t ltid_20645 = remnant_20650;\n    int64_t remnant_20651 = remnant_20650 - ltid_20645;\n    int64_t thread_out_index_20652 = gtid_18813 + ltid_20643;\n    int64_t thread_out_index_20653 = gtid_18814 + ltid_20644;\n    int64_t thread_out_index_20654 = gid_19185 * computed_group_sizze_19187 + ltid_20645;\n    \n    if ((slt64(thread_out_index_20652, n_12333) && slt64(thread_out_index_20653, m_12334)) && slt64(thread_out_index_20654, p_12335)) {\n        int64_t tmp_20655 = mem_20015[(int64_t) 0];\n        \n        ((__global int64_t *) mem_20024)[thread_out_index_20652 * ", "(p_12335 * m_12334) + thread_out_index_20653 * p_12335 + thread_out_index_20654] = tmp_20655;\n    }\n    \n    int64_t slice_20659 = computed_group_sizze_19187;\n    int64_t slice_20660 = slice_20659;\n    int64_t slice_20661 = slice_20660;\n    int64_t ltid_20656 = squot64(sext_i32_i64(local_tid_20590), slice_20660);\n    int64_t remnant_20662 = sext_i32_i64(local_tid_20590) - ltid_20656 * slice_20660;\n    int64_t ltid_20657 = squot64(remnant_20662, slice_20659);\n    int64_t remnant_20663 = remnant_20662 - ltid_20657 * slice_20659;\n    int64_t ltid_20658 = remnant_20663;\n    int64_t remnant_20664 = remnant_20663 - ltid_20658;\n    int64_t thread_out_index_20665 = gtid_18813 + ltid_20656;\n    int64_t thread_out_index_20666 = gtid_18814 + ltid_20657;\n    int64_t thread_out_index_20667 = gid_19185 * computed_group_sizze_19187 + ltid_20658;\n    \n    if ((slt64(thread_out_index_20665, n_12333) && slt64(thread_out_index_20666, m_12334)) && slt64(thread_out_index_20667, p_12335)) {\n        int64_t tmp_20668 = mem_20017[(int64_t) 0];\n        \n        ((__global int64_t *) mem_20029)[thread_out_index_20665 * (p_12335 * m_12334) + thread_out_index_20666 * p_12335 + thread_out_index_20667] = tmp_20668;\n    }\n    \n    int64_t slice_20672 = computed_group_sizze_19187;\n    int64_t slice_20673 = slice_20672;\n    int64_t slice_20674 = slice_20673;\n    int64_t ltid_20669 = squot64(sext_i32_i64(local_tid_20590), slice_20673);\n    int64_t remnant_20675 = sext_i32_i64(local_tid_20590) - ltid_20669 * slice_20673;\n    int64_t ltid_20670 = squot64(remnant_20675, slice_20672);\n    int64_t remnant_20676 = remnant_20675 - ltid_20670 * slice_20672;\n    int64_t ltid_20671 = remnant_20676;\n    int64_t remnant_20677 = remnant_20676 - ltid_20671;\n    int64_t thread_out_index_20678 = gtid_18813 + ltid_20669;\n    int64_t thread_out_index_20679 = gtid_18814 + ltid_20670;\n    int64_t thread_out_index_20680 = gid_19185 * computed_group_sizze_19187 + ltid_20671;\n    \n    if ((slt64(thread_out_index_20678, n_",
                                       "12333) && slt64(thread_out_index_20679, m_12334)) && slt64(thread_out_index_20680, p_12335)) {\n        int64_t tmp_20681 = mem_20019[(int64_t) 0];\n        \n        ((__global int64_t *) mem_20034)[thread_out_index_20678 * (p_12335 * m_12334) + thread_out_index_20679 * p_12335 + thread_out_index_20680] = tmp_20681;\n    }\n    \n  error_6:\n    return;\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegred_large_18964(__global int *global_failure, __local volatile int64_t *sync_arr_mem_20773_backing_aligned_0, __local volatile int64_t *red_arr_mem_20771_backing_aligned_1, __local volatile int64_t *red_arr_mem_20769_backing_aligned_2, __local volatile int64_t *red_arr_mem_20767_backing_aligned_3, int64_t n_12333, int64_t m_12334, int64_t p_12335, int64_t num_groups_18955, int64_t groups_per_segment_20749, int64_t elements_per_thread_20750, int64_t virt_num_groups_20751, __global unsigned char *eps_mem_19927, __global unsigned char *expsss_mem_19928, __global unsigned char *mem_19935, __global unsigned char *mem_19940, __global unsigned char *mem_19945, __global unsigned char *segred_tmp_mem_20754, __global unsigned char *segred_tmp_mem_20756, __global unsigned char *segred_tmp_mem_20758, __global unsigned char *make_transposed_quotient_codewords_non_opaquezicounter_mem_20760)\n{\n    #define segred_group_sizze_18954 (make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17661)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_20773_backing_3 = (__local volatile unsigned char *) sync_arr_mem_20773_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20771_backing_2 = (__local volatile unsigned char *) red_arr_mem_20771_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_20769_backing_1 = (__local volatile unsigned char *) red_arr_mem_20769_backing_aligned_2;\n    __local volatile unsigned char *restric", "t red_arr_mem_20767_backing_0 = (__local volatile unsigned char *) red_arr_mem_20767_backing_aligned_3;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20763;\n    int64_t group_sizze_20766;\n    int32_t wave_sizze_20765;\n    int32_t group_tid_20764;\n    \n    local_tid_20763 = get_local_id(0);\n    group_sizze_20766 = get_local_size(0);\n    wave_sizze_20765 = LOCKSTEP_WIDTH;\n    group_tid_20764 = get_group_id(0);\n    \n    int32_t global_tid_20762 = group_tid_20764 * group_sizze_20766 + local_tid_20763;\n    int32_t phys_tid_18964 = global_tid_20762;\n    __local unsigned char *red_arr_mem_20767;\n    \n    red_arr_mem_20767 = (__local unsigned char *) red_arr_mem_20767_backing_0;\n    \n    __local unsigned char *red_arr_mem_20769;\n    \n    red_arr_mem_20769 = (__local unsigned char *) red_arr_mem_20769_backing_1;\n    \n    __local unsigned char *red_arr_mem_20771;\n    \n    red_arr_mem_20771 = (__local unsigned char *) red_arr_mem_20771_backing_2;\n    \n    __local unsigned char *sync_arr_mem_20773;\n    \n    sync_arr_mem_20773 = (__local unsigned char *) sync_arr_mem_20773_backing_3;\n    \n    int32_t phys_group_id_20775;\n    \n    phys_group_id_20775 = get_group_id(0);\n    \n    int32_t iterations_20776 = sdiv_up32(sext_i64_i32(virt_num_groups_20751) - phys_group_id_20775, sext_i64_i32(num_groups_18955));\n    \n    for (int32_t i_20777 = 0; i_20777 < iterations_20776; i_20777++) {\n        int32_t virt_group_id_20778 = phys_group_id_20775 + i_20777 * sext_i64_i32(num_groups_18955);\n        int32_t flat_segment_id_20779 = squot32(virt_group_id_20778, sext_i64_i32(groups_per_segment_20749));\n        int64_t global_tid_20780 = srem64(sext_i32_i64(virt_group_id_20778) * segred_group_sizze_18954 + sext_i32_i64(local_tid_20763), segred_group_sizze_18954 * groups_per_segment_20749);\n        int64_t slice_20781 = p_12335;\n        int64_t slice_20782 = m_12334 * slice_20781;\n        int64_t slice_20783 = n_12333 * slice_20782;\n        int64_t gtid_18960 = squo", "t64(sext_i32_i64(flat_segment_id_20779), slice_20782);\n        int64_t remnant_20784 = sext_i32_i64(flat_segment_id_20779) - gtid_18960 * slice_20782;\n        int64_t gtid_18961 = squot64(remnant_20784, slice_20781);\n        int64_t remnant_20785 = remnant_20784 - gtid_18961 * slice_20781;\n        int64_t gtid_18962 = remnant_20785;\n        int64_t remnant_20786 = remnant_20785 - gtid_18962;\n        int64_t gtid_18963;\n        int64_t x_acc_20787;\n        int64_t x_acc_20788;\n        int64_t x_acc_20789;\n        int64_t chunk_sizze_20790;\n        int64_t starting_point_20791 = global_tid_20780 * elements_per_thread_20750;\n        int64_t remaining_elements_20792 = m_12334 - starting_point_20791;\n        \n        if (sle64(remaining_elements_20792, (int64_t) 0) || sle64(m_12334, starting_point_20791)) {\n            chunk_sizze_20790 = (int64_t) 0;\n        } else if (slt64(m_12334, (global_tid_20780 + (int64_t) 1) * elements_per_thread_20750)) {\n            chunk_sizze_20790 = m_12334 - global_tid_20780 * elements_per_thread_20750;\n        } else {\n            chunk_sizze_20790 = elements_per_thread_20750;\n        }\n        \n        int64_t x_18965;\n        int64_t x_18966;\n        int64_t x_18967;\n        int64_t x_18968;\n        int64_t x_18969;\n        int64_t x_18970;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_20787 = (int64_t) 1;\n            x_acc_20788 = (int64_t) 0;\n            x_acc_20789 = (int64_t) 0;\n        }\n        for (int64_t i_20817 = 0; i_20817 < elements_per_thread_20750; i_20817++) {\n            gtid_18963 = sext_i32_i64(local_tid_20763) + (squot64(global_tid_20780, segred_group_sizze_18954) * elements_per_thread_20750 + i_20817) * segred_group_sizze_18954;\n            if (slt64(gtid_18963, m_12334)) {\n                // apply map function\n                {\n                    int64_t x_18994 = ((__global int64_t *) expsss_mem_19928)[gtid_18961 * (m_12334 * p_12335) + gtid_18962 * m_12334 + gtid_18963];\n    ",
                                       "                int64_t x_18995 = ((__global int64_t *) eps_mem_19927)[gtid_18960 * ((int64_t) 3 * m_12334) + gtid_18963 * (int64_t) 3];\n                    int64_t x_18996 = ((__global int64_t *) eps_mem_19927)[gtid_18960 * ((int64_t) 3 * m_12334) + gtid_18963 * (int64_t) 3 + (int64_t) 1];\n                    int64_t x_18997 = ((__global int64_t *) eps_mem_19927)[gtid_18960 * ((int64_t) 3 * m_12334) + gtid_18963 * (int64_t) 3 + (int64_t) 2];\n                    bool loop_cond_18998 = ult64((int64_t) 0, x_18994);\n                    bool mod_pow_u64_res_18999;\n                    int64_t mod_pow_u64_res_19000;\n                    int64_t mod_pow_u64_res_19001;\n                    int64_t mod_pow_u64_res_19002;\n                    int64_t mod_pow_u64_res_19003;\n                    int64_t mod_pow_u64_res_19004;\n                    int64_t mod_pow_u64_res_19005;\n                    int64_t mod_pow_u64_res_19006;\n                    bool loop_while_19007;\n                    int64_t x_19008;\n                    int64_t x_19009;\n                    int64_t x_19010;\n                    int64_t i_19011;\n                    int64_t result_19012;\n                    int64_t result_19013;\n                    int64_t result_19014;\n                    \n                    loop_while_19007 = loop_cond_18998;\n                    x_19008 = x_18995;\n                    x_19009 = x_18996;\n                    x_19010 = x_18997;\n                    i_19011 = x_18994;\n                    result_19012 = (int64_t) 1;\n                    result_19013 = (int64_t) 0;\n                    result_19014 = (int64_t) 0;\n                    while (loop_while_19007) {\n                        int64_t x_19015 = umod64(i_19011, (int64_t) 2);\n                        bool cond_19016 = x_19015 == (int64_t) 1;\n                        int64_t loopres_19017;\n                        int64_t loopres_19018;\n                        int64_t loopres_19019;\n                        int64_t loopres_19020;\n         ", "               int64_t loopres_19021;\n                        int64_t loopres_19022;\n                        int64_t loopres_19023;\n                        \n                        if (cond_19016 == 1) {\n                            int64_t x_19024 = mul64(x_19008, x_19008);\n                            int64_t y_19025 = mul64(x_19009, x_19010);\n                            int64_t x_19026 = sub64(x_19024, y_19025);\n                            int64_t mul_res_19027 = sub64(x_19026, y_19025);\n                            int64_t x_19028 = mul64(x_19008, x_19009);\n                            int64_t x_19029 = add64(x_19028, x_19028);\n                            int64_t y_19030 = mul64(x_19010, x_19010);\n                            int64_t x_19031 = sub64(x_19029, y_19030);\n                            int64_t x_19032 = add64(y_19025, x_19031);\n                            int64_t mul_res_19033 = add64(y_19025, x_19032);\n                            int64_t x_19034 = mul64(x_19008, x_19010);\n                            int64_t y_19035 = mul64(x_19009, x_19009);\n                            int64_t x_19036 = add64(x_19034, y_19035);\n                            int64_t x_19037 = add64(x_19034, x_19036);\n                            int64_t mul_res_19038 = add64(y_19030, x_19037);\n                            int64_t loopres_t_res_19039 = lshr64(i_19011, (int64_t) 1);\n                            int64_t x_19040 = mul64(x_19008, result_19012);\n                            int64_t y_19041 = mul64(x_19010, result_19013);\n                            int64_t x_19042 = sub64(x_19040, y_19041);\n                            int64_t y_19043 = mul64(x_19009, result_19014);\n                            int64_t mul_res_19044 = sub64(x_19042, y_19043);\n                            int64_t x_19045 = mul64(x_19009, result_19012);\n                            int64_t y_19046 = mul64(x_19008, result_19013);\n                            int64_t x_19047 = add64(x_19045, y_19046);\n                          ", "  int64_t y_19048 = mul64(x_19010, result_19014);\n                            int64_t x_19049 = sub64(x_19047, y_19048);\n                            int64_t x_19050 = add64(y_19041, x_19049);\n                            int64_t mul_res_19051 = add64(y_19043, x_19050);\n                            int64_t x_19052 = mul64(x_19010, result_19012);\n                            int64_t y_19053 = mul64(x_19009, result_19013);\n                            int64_t x_19054 = add64(x_19052, y_19053);\n                            int64_t y_19055 = mul64(x_19008, result_19014);\n                            int64_t x_19056 = add64(x_19054, y_19055);\n                            int64_t mul_res_19057 = add64(y_19048, x_19056);\n                            \n                            loopres_19017 = mul_res_19027;\n                            loopres_19018 = mul_res_19033;\n                            loopres_19019 = mul_res_19038;\n                            loopres_19020 = loopres_t_res_19039;\n                            loopres_19021 = mul_res_19044;\n                            loopres_19022 = mul_res_19051;\n                            loopres_19023 = mul_res_19057;\n                        } else {\n                            int64_t x_19058 = mul64(x_19008, x_19008);\n                            int64_t y_19059 = mul64(x_19009, x_19010);\n                            int64_t x_19060 = sub64(x_19058, y_19059);\n                            int64_t mul_res_19061 = sub64(x_19060, y_19059);\n                            int64_t x_19062 = mul64(x_19008, x_19009);\n                            int64_t x_19063 = add64(x_19062, x_19062);\n                            int64_t y_19064 = mul64(x_19010, x_19010);\n                            int64_t x_19065 = sub64(x_19063, y_19064);\n                            int64_t x_19066 = add64(y_19059, x_19065);\n                            int64_t mul_res_19067 = add64(y_19059, x_19066);\n                            int64_t x_19068 = mul64(x_19008, x_19010);\n          ",
                                       "                  int64_t y_19069 = mul64(x_19009, x_19009);\n                            int64_t x_19070 = add64(x_19068, y_19069);\n                            int64_t x_19071 = add64(x_19068, x_19070);\n                            int64_t mul_res_19072 = add64(y_19064, x_19071);\n                            int64_t loopres_f_res_19073 = lshr64(i_19011, (int64_t) 1);\n                            \n                            loopres_19017 = mul_res_19061;\n                            loopres_19018 = mul_res_19067;\n                            loopres_19019 = mul_res_19072;\n                            loopres_19020 = loopres_f_res_19073;\n                            loopres_19021 = result_19012;\n                            loopres_19022 = result_19013;\n                            loopres_19023 = result_19014;\n                        }\n                        \n                        bool loop_cond_19074 = ult64((int64_t) 0, loopres_19020);\n                        bool loop_while_tmp_20818 = loop_cond_19074;\n                        int64_t x_tmp_20819 = loopres_19017;\n                        int64_t x_tmp_20820 = loopres_19018;\n                        int64_t x_tmp_20821 = loopres_19019;\n                        int64_t i_tmp_20822 = loopres_19020;\n                        int64_t result_tmp_20823 = loopres_19021;\n                        int64_t result_tmp_20824 = loopres_19022;\n                        int64_t result_tmp_20825 = loopres_19023;\n                        \n                        loop_while_19007 = loop_while_tmp_20818;\n                        x_19008 = x_tmp_20819;\n                        x_19009 = x_tmp_20820;\n                        x_19010 = x_tmp_20821;\n                        i_19011 = i_tmp_20822;\n                        result_19012 = result_tmp_20823;\n                        result_19013 = result_tmp_20824;\n                        result_19014 = result_tmp_20825;\n                    }\n                    mod_pow_u64_res_18999 = loop_while_19007;\n          ", "          mod_pow_u64_res_19000 = x_19008;\n                    mod_pow_u64_res_19001 = x_19009;\n                    mod_pow_u64_res_19002 = x_19010;\n                    mod_pow_u64_res_19003 = i_19011;\n                    mod_pow_u64_res_19004 = result_19012;\n                    mod_pow_u64_res_19005 = result_19013;\n                    mod_pow_u64_res_19006 = result_19014;\n                    // save map-out results\n                    { }\n                    // load accumulator\n                    {\n                        x_18965 = x_acc_20787;\n                        x_18966 = x_acc_20788;\n                        x_18967 = x_acc_20789;\n                    }\n                    // load new values\n                    {\n                        x_18968 = mod_pow_u64_res_19004;\n                        x_18969 = mod_pow_u64_res_19005;\n                        x_18970 = mod_pow_u64_res_19006;\n                    }\n                    // apply reduction operator\n                    {\n                        int64_t x_18971 = mul64(x_18965, x_18968);\n                        int64_t y_18972 = mul64(x_18967, x_18969);\n                        int64_t x_18973 = sub64(x_18971, y_18972);\n                        int64_t y_18974 = mul64(x_18966, x_18970);\n                        int64_t defunc_1_op_res_18975 = sub64(x_18973, y_18974);\n                        int64_t x_18976 = mul64(x_18966, x_18968);\n                        int64_t y_18977 = mul64(x_18965, x_18969);\n                        int64_t x_18978 = add64(x_18976, y_18977);\n                        int64_t y_18979 = mul64(x_18967, x_18970);\n                        int64_t x_18980 = sub64(x_18978, y_18979);\n                        int64_t x_18981 = add64(y_18972, x_18980);\n                        int64_t defunc_1_op_res_18982 = add64(y_18974, x_18981);\n                        int64_t x_18983 = mul64(x_18967, x_18968);\n                        int64_t y_18984 = mul64(x_18966, x_18969);\n                        int64_t x_18985 =", " add64(x_18983, y_18984);\n                        int64_t y_18986 = mul64(x_18965, x_18970);\n                        int64_t x_18987 = add64(x_18985, y_18986);\n                        int64_t defunc_1_op_res_18988 = add64(y_18979, x_18987);\n                        \n                        // store in accumulator\n                        {\n                            x_acc_20787 = defunc_1_op_res_18975;\n                            x_acc_20788 = defunc_1_op_res_18982;\n                            x_acc_20789 = defunc_1_op_res_18988;\n                        }\n                    }\n                }\n            }\n            // to reduce current chunk, first store our result in memory\n            {\n                x_18965 = x_acc_20787;\n                x_18966 = x_acc_20788;\n                x_18967 = x_acc_20789;\n                ((__local int64_t *) red_arr_mem_20767)[sext_i32_i64(local_tid_20763)] = x_18965;\n                ((__local int64_t *) red_arr_mem_20769)[sext_i32_i64(local_tid_20763)] = x_18966;\n                ((__local int64_t *) red_arr_mem_20771)[sext_i32_i64(local_tid_20763)] = x_18967;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int32_t offset_20826;\n            int32_t skip_waves_20827 = 1;\n            int64_t x_20793;\n            int64_t x_20794;\n            int64_t x_20795;\n            int64_t x_20796;\n            int64_t x_20797;\n            int64_t x_20798;\n            \n            offset_20826 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_20763, sext_i64_i32(segred_group_sizze_18954))) {\n                    x_20793 = ((__local int64_t *) red_arr_mem_20767)[sext_i32_i64(local_tid_20763 + offset_20826)];\n                    x_20794 = ((__local int64_t *) red_arr_mem_20769)[sext_i32_i64(local_tid_20763 + offset_20826)];\n                    x_20795 = ((__local int64_t *) red_arr_mem_20771)[sext_i32_i64(local_tid_20763 + offset_20826)];\n            ",
                                       "    }\n            }\n            offset_20826 = 1;\n            while (slt32(offset_20826, wave_sizze_20765)) {\n                if (slt32(local_tid_20763 + offset_20826, sext_i64_i32(segred_group_sizze_18954)) && ((local_tid_20763 - squot32(local_tid_20763, wave_sizze_20765) * wave_sizze_20765) & (2 * offset_20826 - 1)) == 0) {\n                    // read array element\n                    {\n                        x_20796 = ((volatile __local int64_t *) red_arr_mem_20767)[sext_i32_i64(local_tid_20763 + offset_20826)];\n                        x_20797 = ((volatile __local int64_t *) red_arr_mem_20769)[sext_i32_i64(local_tid_20763 + offset_20826)];\n                        x_20798 = ((volatile __local int64_t *) red_arr_mem_20771)[sext_i32_i64(local_tid_20763 + offset_20826)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t x_20799 = mul64(x_20793, x_20796);\n                        int64_t y_20800 = mul64(x_20795, x_20797);\n                        int64_t x_20801 = sub64(x_20799, y_20800);\n                        int64_t y_20802 = mul64(x_20794, x_20798);\n                        int64_t defunc_1_op_res_20803 = sub64(x_20801, y_20802);\n                        int64_t x_20804 = mul64(x_20794, x_20796);\n                        int64_t y_20805 = mul64(x_20793, x_20797);\n                        int64_t x_20806 = add64(x_20804, y_20805);\n                        int64_t y_20807 = mul64(x_20795, x_20798);\n                        int64_t x_20808 = sub64(x_20806, y_20807);\n                        int64_t x_20809 = add64(y_20800, x_20808);\n                        int64_t defunc_1_op_res_20810 = add64(y_20802, x_20809);\n                        int64_t x_20811 = mul64(x_20795, x_20796);\n                        int64_t y_20812 = mul64(x_20794, x_20797);\n                        int64_t x_20813 = add64(x_20811, y_20812);\n                        int64_t y_20814 = mul64(x_20793, x_20798);\n                        i", "nt64_t x_20815 = add64(x_20813, y_20814);\n                        int64_t defunc_1_op_res_20816 = add64(y_20807, x_20815);\n                        \n                        x_20793 = defunc_1_op_res_20803;\n                        x_20794 = defunc_1_op_res_20810;\n                        x_20795 = defunc_1_op_res_20816;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_mem_20767)[sext_i32_i64(local_tid_20763)] = x_20793;\n                        ((volatile __local int64_t *) red_arr_mem_20769)[sext_i32_i64(local_tid_20763)] = x_20794;\n                        ((volatile __local int64_t *) red_arr_mem_20771)[sext_i32_i64(local_tid_20763)] = x_20795;\n                    }\n                }\n                offset_20826 *= 2;\n            }\n            while (slt32(skip_waves_20827, squot32(sext_i64_i32(segred_group_sizze_18954) + wave_sizze_20765 - 1, wave_sizze_20765))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_20826 = skip_waves_20827 * wave_sizze_20765;\n                if (slt32(local_tid_20763 + offset_20826, sext_i64_i32(segred_group_sizze_18954)) && ((local_tid_20763 - squot32(local_tid_20763, wave_sizze_20765) * wave_sizze_20765) == 0 && (squot32(local_tid_20763, wave_sizze_20765) & (2 * skip_waves_20827 - 1)) == 0)) {\n                    // read array element\n                    {\n                        x_20796 = ((__local int64_t *) red_arr_mem_20767)[sext_i32_i64(local_tid_20763 + offset_20826)];\n                        x_20797 = ((__local int64_t *) red_arr_mem_20769)[sext_i32_i64(local_tid_20763 + offset_20826)];\n                        x_20798 = ((__local int64_t *) red_arr_mem_20771)[sext_i32_i64(local_tid_20763 + offset_20826)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t x_20799 = mul64(x_20793, x_20796);\n                        int64_t y_20800 = ", "mul64(x_20795, x_20797);\n                        int64_t x_20801 = sub64(x_20799, y_20800);\n                        int64_t y_20802 = mul64(x_20794, x_20798);\n                        int64_t defunc_1_op_res_20803 = sub64(x_20801, y_20802);\n                        int64_t x_20804 = mul64(x_20794, x_20796);\n                        int64_t y_20805 = mul64(x_20793, x_20797);\n                        int64_t x_20806 = add64(x_20804, y_20805);\n                        int64_t y_20807 = mul64(x_20795, x_20798);\n                        int64_t x_20808 = sub64(x_20806, y_20807);\n                        int64_t x_20809 = add64(y_20800, x_20808);\n                        int64_t defunc_1_op_res_20810 = add64(y_20802, x_20809);\n                        int64_t x_20811 = mul64(x_20795, x_20796);\n                        int64_t y_20812 = mul64(x_20794, x_20797);\n                        int64_t x_20813 = add64(x_20811, y_20812);\n                        int64_t y_20814 = mul64(x_20793, x_20798);\n                        int64_t x_20815 = add64(x_20813, y_20814);\n                        int64_t defunc_1_op_res_20816 = add64(y_20807, x_20815);\n                        \n                        x_20793 = defunc_1_op_res_20803;\n                        x_20794 = defunc_1_op_res_20810;\n                        x_20795 = defunc_1_op_res_20816;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_mem_20767)[sext_i32_i64(local_tid_20763)] = x_20793;\n                        ((__local int64_t *) red_arr_mem_20769)[sext_i32_i64(local_tid_20763)] = x_20794;\n                        ((__local int64_t *) red_arr_mem_20771)[sext_i32_i64(local_tid_20763)] = x_20795;\n                    }\n                }\n                skip_waves_20827 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread saves the result in accumulator\n            {\n                if (sext_i32_i64(local_tid_20",
                                       "763) == (int64_t) 0) {\n                    x_acc_20787 = x_20793;\n                    x_acc_20788 = x_20794;\n                    x_acc_20789 = x_20795;\n                }\n            }\n            // first thread keeps accumulator; others reset to neutral element\n            {\n                if (!(sext_i32_i64(local_tid_20763) == (int64_t) 0)) {\n                    x_acc_20787 = (int64_t) 1;\n                    x_acc_20788 = (int64_t) 0;\n                    x_acc_20789 = (int64_t) 0;\n                }\n            }\n        }\n        if (groups_per_segment_20749 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_20763 == 0) {\n                    ((__global int64_t *) mem_19935)[gtid_18960 * (p_12335 * m_12334) + gtid_18961 * p_12335 + gtid_18962] = x_acc_20787;\n                    ((__global int64_t *) mem_19940)[gtid_18960 * (p_12335 * m_12334) + gtid_18961 * p_12335 + gtid_18962] = x_acc_20788;\n                    ((__global int64_t *) mem_19945)[gtid_18960 * (p_12335 * m_12334) + gtid_18961 * p_12335 + gtid_18962] = x_acc_20789;\n                }\n            }\n        } else {\n            int32_t old_counter_20828;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_20763 == 0) {\n                    ((__global int64_t *) segred_tmp_mem_20754)[sext_i32_i64(virt_group_id_20778)] = x_acc_20787;\n                    ((__global int64_t *) segred_tmp_mem_20756)[sext_i32_i64(virt_group_id_20778)] = x_acc_20788;\n                    ((__global int64_t *) segred_tmp_mem_20758)[sext_i32_i64(virt_group_id_20778)] = x_acc_20789;\n                    mem_fence_global();\n                    old_counter_20828 = atomic_add_i32_global(&((volatile __global int *) make_transposed_quotient_codewords_non_opaquezicounter_mem_20760)[sext_i32_i64(srem32(flat_segment_id_20779, 10240))], (int) 1);\n                    ((__local bool *) sync_", "arr_mem_20773)[(int64_t) 0] = old_counter_20828 == groups_per_segment_20749 - (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_20829 = ((__local bool *) sync_arr_mem_20773)[(int64_t) 0];\n            \n            if (is_last_group_20829) {\n                if (local_tid_20763 == 0) {\n                    old_counter_20828 = atomic_add_i32_global(&((volatile __global int *) make_transposed_quotient_codewords_non_opaquezicounter_mem_20760)[sext_i32_i64(srem32(flat_segment_id_20779, 10240))], (int) ((int64_t) 0 - groups_per_segment_20749));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_20830 = sdiv_up64(groups_per_segment_20749, segred_group_sizze_18954);\n                    \n                    x_18965 = (int64_t) 1;\n                    x_18966 = (int64_t) 0;\n                    x_18967 = (int64_t) 0;\n                    for (int64_t i_20831 = 0; i_20831 < read_per_thread_20830; i_20831++) {\n                        int64_t group_res_id_20832 = sext_i32_i64(local_tid_20763) * read_per_thread_20830 + i_20831;\n                        int64_t index_of_group_res_20833 = sext_i32_i64(flat_segment_id_20779) * groups_per_segment_20749 + group_res_id_20832;\n                        \n                        if (slt64(group_res_id_20832, groups_per_segment_20749)) {\n                            x_18968 = ((__global int64_t *) segred_tmp_mem_20754)[index_of_group_res_20833];\n                            x_18969 = ((__global int64_t *) segred_tmp_mem_20756)[index_of_group_res_20833];\n                            x_18970 = ((__global int64_t *) segred_tmp_mem_20758)[index_of_group_res_20833];\n                            \n                            int64_t x_18971 = mul64(x_18965, x_18968);\n                            int64_t y_18972 = mul64(x_18967, x_18969);\n                            int64_t x_18973 ", "= sub64(x_18971, y_18972);\n                            int64_t y_18974 = mul64(x_18966, x_18970);\n                            int64_t defunc_1_op_res_18975 = sub64(x_18973, y_18974);\n                            int64_t x_18976 = mul64(x_18966, x_18968);\n                            int64_t y_18977 = mul64(x_18965, x_18969);\n                            int64_t x_18978 = add64(x_18976, y_18977);\n                            int64_t y_18979 = mul64(x_18967, x_18970);\n                            int64_t x_18980 = sub64(x_18978, y_18979);\n                            int64_t x_18981 = add64(y_18972, x_18980);\n                            int64_t defunc_1_op_res_18982 = add64(y_18974, x_18981);\n                            int64_t x_18983 = mul64(x_18967, x_18968);\n                            int64_t y_18984 = mul64(x_18966, x_18969);\n                            int64_t x_18985 = add64(x_18983, y_18984);\n                            int64_t y_18986 = mul64(x_18965, x_18970);\n                            int64_t x_18987 = add64(x_18985, y_18986);\n                            int64_t defunc_1_op_res_18988 = add64(y_18979, x_18987);\n                            \n                            x_18965 = defunc_1_op_res_18975;\n                            x_18966 = defunc_1_op_res_18982;\n                            x_18967 = defunc_1_op_res_18988;\n                        }\n                    }\n                }\n                ((__local int64_t *) red_arr_mem_20767)[sext_i32_i64(local_tid_20763)] = x_18965;\n                ((__local int64_t *) red_arr_mem_20769)[sext_i32_i64(local_tid_20763)] = x_18966;\n                ((__local int64_t *) red_arr_mem_20771)[sext_i32_i64(local_tid_20763)] = x_18967;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_20834;\n                    int32_t skip_waves_20835 = 1;\n                    int64_t x_20793;\n                    int64_t x_20794;\n                ",
                                       "    int64_t x_20795;\n                    int64_t x_20796;\n                    int64_t x_20797;\n                    int64_t x_20798;\n                    \n                    offset_20834 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_20763, sext_i64_i32(segred_group_sizze_18954))) {\n                            x_20793 = ((__local int64_t *) red_arr_mem_20767)[sext_i32_i64(local_tid_20763 + offset_20834)];\n                            x_20794 = ((__local int64_t *) red_arr_mem_20769)[sext_i32_i64(local_tid_20763 + offset_20834)];\n                            x_20795 = ((__local int64_t *) red_arr_mem_20771)[sext_i32_i64(local_tid_20763 + offset_20834)];\n                        }\n                    }\n                    offset_20834 = 1;\n                    while (slt32(offset_20834, wave_sizze_20765)) {\n                        if (slt32(local_tid_20763 + offset_20834, sext_i64_i32(segred_group_sizze_18954)) && ((local_tid_20763 - squot32(local_tid_20763, wave_sizze_20765) * wave_sizze_20765) & (2 * offset_20834 - 1)) == 0) {\n                            // read array element\n                            {\n                                x_20796 = ((volatile __local int64_t *) red_arr_mem_20767)[sext_i32_i64(local_tid_20763 + offset_20834)];\n                                x_20797 = ((volatile __local int64_t *) red_arr_mem_20769)[sext_i32_i64(local_tid_20763 + offset_20834)];\n                                x_20798 = ((volatile __local int64_t *) red_arr_mem_20771)[sext_i32_i64(local_tid_20763 + offset_20834)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t x_20799 = mul64(x_20793, x_20796);\n                                int64_t y_20800 = mul64(x_20795, x_20797);\n                                int64_t x_20801 = sub64(x_20799, y_20800);\n                                ", "int64_t y_20802 = mul64(x_20794, x_20798);\n                                int64_t defunc_1_op_res_20803 = sub64(x_20801, y_20802);\n                                int64_t x_20804 = mul64(x_20794, x_20796);\n                                int64_t y_20805 = mul64(x_20793, x_20797);\n                                int64_t x_20806 = add64(x_20804, y_20805);\n                                int64_t y_20807 = mul64(x_20795, x_20798);\n                                int64_t x_20808 = sub64(x_20806, y_20807);\n                                int64_t x_20809 = add64(y_20800, x_20808);\n                                int64_t defunc_1_op_res_20810 = add64(y_20802, x_20809);\n                                int64_t x_20811 = mul64(x_20795, x_20796);\n                                int64_t y_20812 = mul64(x_20794, x_20797);\n                                int64_t x_20813 = add64(x_20811, y_20812);\n                                int64_t y_20814 = mul64(x_20793, x_20798);\n                                int64_t x_20815 = add64(x_20813, y_20814);\n                                int64_t defunc_1_op_res_20816 = add64(y_20807, x_20815);\n                                \n                                x_20793 = defunc_1_op_res_20803;\n                                x_20794 = defunc_1_op_res_20810;\n                                x_20795 = defunc_1_op_res_20816;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int64_t *) red_arr_mem_20767)[sext_i32_i64(local_tid_20763)] = x_20793;\n                                ((volatile __local int64_t *) red_arr_mem_20769)[sext_i32_i64(local_tid_20763)] = x_20794;\n                                ((volatile __local int64_t *) red_arr_mem_20771)[sext_i32_i64(local_tid_20763)] = x_20795;\n                            }\n                        }\n                        offset_20834 *= 2;\n                    }\n                    while (slt", "32(skip_waves_20835, squot32(sext_i64_i32(segred_group_sizze_18954) + wave_sizze_20765 - 1, wave_sizze_20765))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_20834 = skip_waves_20835 * wave_sizze_20765;\n                        if (slt32(local_tid_20763 + offset_20834, sext_i64_i32(segred_group_sizze_18954)) && ((local_tid_20763 - squot32(local_tid_20763, wave_sizze_20765) * wave_sizze_20765) == 0 && (squot32(local_tid_20763, wave_sizze_20765) & (2 * skip_waves_20835 - 1)) == 0)) {\n                            // read array element\n                            {\n                                x_20796 = ((__local int64_t *) red_arr_mem_20767)[sext_i32_i64(local_tid_20763 + offset_20834)];\n                                x_20797 = ((__local int64_t *) red_arr_mem_20769)[sext_i32_i64(local_tid_20763 + offset_20834)];\n                                x_20798 = ((__local int64_t *) red_arr_mem_20771)[sext_i32_i64(local_tid_20763 + offset_20834)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t x_20799 = mul64(x_20793, x_20796);\n                                int64_t y_20800 = mul64(x_20795, x_20797);\n                                int64_t x_20801 = sub64(x_20799, y_20800);\n                                int64_t y_20802 = mul64(x_20794, x_20798);\n                                int64_t defunc_1_op_res_20803 = sub64(x_20801, y_20802);\n                                int64_t x_20804 = mul64(x_20794, x_20796);\n                                int64_t y_20805 = mul64(x_20793, x_20797);\n                                int64_t x_20806 = add64(x_20804, y_20805);\n                                int64_t y_20807 = mul64(x_20795, x_20798);\n                                int64_t x_20808 = sub64(x_20806, y_20807);\n                                int64_t x_20809 = add64(y_20800, x_20808);\n                                int64_t defunc_1_o",
                                       "p_res_20810 = add64(y_20802, x_20809);\n                                int64_t x_20811 = mul64(x_20795, x_20796);\n                                int64_t y_20812 = mul64(x_20794, x_20797);\n                                int64_t x_20813 = add64(x_20811, y_20812);\n                                int64_t y_20814 = mul64(x_20793, x_20798);\n                                int64_t x_20815 = add64(x_20813, y_20814);\n                                int64_t defunc_1_op_res_20816 = add64(y_20807, x_20815);\n                                \n                                x_20793 = defunc_1_op_res_20803;\n                                x_20794 = defunc_1_op_res_20810;\n                                x_20795 = defunc_1_op_res_20816;\n                            }\n                            // write result of operation\n                            {\n                                ((__local int64_t *) red_arr_mem_20767)[sext_i32_i64(local_tid_20763)] = x_20793;\n                                ((__local int64_t *) red_arr_mem_20769)[sext_i32_i64(local_tid_20763)] = x_20794;\n                                ((__local int64_t *) red_arr_mem_20771)[sext_i32_i64(local_tid_20763)] = x_20795;\n                            }\n                        }\n                        skip_waves_20835 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_20763 == 0) {\n                            ((__global int64_t *) mem_19935)[gtid_18960 * (p_12335 * m_12334) + gtid_18961 * p_12335 + gtid_18962] = x_20793;\n                            ((__global int64_t *) mem_19940)[gtid_18960 * (p_12335 * m_12334) + gtid_18961 * p_12335 + gtid_18962] = x_20794;\n                            ((__global int64_t *) mem_19945)[gtid_18960 * (p_12335 * m_12334) + gtid_18961 * p_12335 + gtid_18962] = x_20795;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_", "FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_18954\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegred_large_19126(__global int *global_failure, __local volatile int64_t *sync_arr_mem_20919_backing_aligned_0, __local volatile int64_t *red_arr_mem_20917_backing_aligned_1, __local volatile int64_t *red_arr_mem_20915_backing_aligned_2, __local volatile int64_t *red_arr_mem_20913_backing_aligned_3, int64_t n_12333, int64_t m_12334, int64_t p_12335, int64_t y_16342, int64_t num_groups_19118, int64_t groups_per_segment_20895, int64_t elements_per_thread_20896, int64_t virt_num_groups_20897, __global unsigned char *ext_mem_20042, __global unsigned char *ext_mem_20044, __global unsigned char *ext_mem_20046, __global unsigned char *mem_20051, __global unsigned char *mem_20055, __global unsigned char *mem_20059, __global unsigned char *segred_tmp_mem_20900, __global unsigned char *segred_tmp_mem_20902, __global unsigned char *segred_tmp_mem_20904, __global unsigned char *make_transposed_quotient_codewords_non_opaquezicounter_mem_20906)\n{\n    #define segred_group_sizze_19117 (make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17421)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_20919_backing_3 = (__local volatile unsigned char *) sync_arr_mem_20919_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20917_backing_2 = (__local volatile unsigned char *) red_arr_mem_20917_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_20915_backing_1 = (__local volatile unsigned char *) red_arr_mem_20915_backing_aligned_2;\n    __local volatile unsigned char *restrict red_arr_mem_20913_backing_0 = (__local volatile unsigned char *) red_arr_mem_20913_backing_aligned_3;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20909;\n    int6", "4_t group_sizze_20912;\n    int32_t wave_sizze_20911;\n    int32_t group_tid_20910;\n    \n    local_tid_20909 = get_local_id(0);\n    group_sizze_20912 = get_local_size(0);\n    wave_sizze_20911 = LOCKSTEP_WIDTH;\n    group_tid_20910 = get_group_id(0);\n    \n    int32_t global_tid_20908 = group_tid_20910 * group_sizze_20912 + local_tid_20909;\n    int32_t phys_tid_19126 = global_tid_20908;\n    __local unsigned char *red_arr_mem_20913;\n    \n    red_arr_mem_20913 = (__local unsigned char *) red_arr_mem_20913_backing_0;\n    \n    __local unsigned char *red_arr_mem_20915;\n    \n    red_arr_mem_20915 = (__local unsigned char *) red_arr_mem_20915_backing_1;\n    \n    __local unsigned char *red_arr_mem_20917;\n    \n    red_arr_mem_20917 = (__local unsigned char *) red_arr_mem_20917_backing_2;\n    \n    __local unsigned char *sync_arr_mem_20919;\n    \n    sync_arr_mem_20919 = (__local unsigned char *) sync_arr_mem_20919_backing_3;\n    \n    int32_t phys_group_id_20921;\n    \n    phys_group_id_20921 = get_group_id(0);\n    \n    int32_t iterations_20922 = sdiv_up32(sext_i64_i32(virt_num_groups_20897) - phys_group_id_20921, sext_i64_i32(num_groups_19118));\n    \n    for (int32_t i_20923 = 0; i_20923 < iterations_20922; i_20923++) {\n        int32_t virt_group_id_20924 = phys_group_id_20921 + i_20923 * sext_i64_i32(num_groups_19118);\n        int32_t flat_segment_id_20925 = squot32(virt_group_id_20924, sext_i64_i32(groups_per_segment_20895));\n        int64_t global_tid_20926 = srem64(sext_i32_i64(virt_group_id_20924) * segred_group_sizze_19117 + sext_i32_i64(local_tid_20909), segred_group_sizze_19117 * groups_per_segment_20895);\n        int64_t slice_20927 = m_12334;\n        int64_t slice_20928 = n_12333 * slice_20927;\n        int64_t gtid_19123 = squot64(sext_i32_i64(flat_segment_id_20925), slice_20927);\n        int64_t remnant_20929 = sext_i32_i64(flat_segment_id_20925) - gtid_19123 * slice_20927;\n        int64_t gtid_19124 = remnant_20929;\n        int64_t remnant_20930 = remnant_20929 - gtid_19",
                                       "124;\n        int64_t gtid_19125;\n        int64_t x_acc_20931;\n        int64_t x_acc_20932;\n        int64_t x_acc_20933;\n        int64_t chunk_sizze_20934;\n        int64_t starting_point_20935 = global_tid_20926 * elements_per_thread_20896;\n        int64_t remaining_elements_20936 = p_12335 - starting_point_20935;\n        \n        if (sle64(remaining_elements_20936, (int64_t) 0) || sle64(p_12335, starting_point_20935)) {\n            chunk_sizze_20934 = (int64_t) 0;\n        } else if (slt64(p_12335, (global_tid_20926 + (int64_t) 1) * elements_per_thread_20896)) {\n            chunk_sizze_20934 = p_12335 - global_tid_20926 * elements_per_thread_20896;\n        } else {\n            chunk_sizze_20934 = elements_per_thread_20896;\n        }\n        \n        int64_t x_19127;\n        int64_t x_19128;\n        int64_t x_19129;\n        int64_t x_19130;\n        int64_t x_19131;\n        int64_t x_19132;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_20931 = (int64_t) 0;\n            x_acc_20932 = (int64_t) 0;\n            x_acc_20933 = (int64_t) 0;\n        }\n        for (int64_t i_20949 = 0; i_20949 < elements_per_thread_20896; i_20949++) {\n            gtid_19125 = sext_i32_i64(local_tid_20909) + (squot64(global_tid_20926, segred_group_sizze_19117) * elements_per_thread_20896 + i_20949) * segred_group_sizze_19117;\n            if (slt64(gtid_19125, p_12335)) {\n                // apply map function\n                {\n                    int64_t x_19145 = ((__global int64_t *) ext_mem_20046)[gtid_19123 * y_16342 + gtid_19124 * p_12335 + gtid_19125];\n                    int64_t x_19146 = ((__global int64_t *) ext_mem_20044)[gtid_19123 * y_16342 + gtid_19124 * p_12335 + gtid_19125];\n                    int64_t x_19147 = ((__global int64_t *) ext_mem_20042)[gtid_19123 * y_16342 + gtid_19124 * p_12335 + gtid_19125];\n                    \n                    // save map-out results\n                    { }\n                    // load accumulator\n            ", "        {\n                        x_19127 = x_acc_20931;\n                        x_19128 = x_acc_20932;\n                        x_19129 = x_acc_20933;\n                    }\n                    // load new values\n                    {\n                        x_19130 = x_19145;\n                        x_19131 = x_19146;\n                        x_19132 = x_19147;\n                    }\n                    // apply reduction operator\n                    {\n                        int64_t canonicalizze_arg_19133 = add64(x_19127, x_19130);\n                        int64_t canonicalizze_res_19134 = umod64(canonicalizze_arg_19133, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_19135 = add64(x_19128, x_19131);\n                        int64_t canonicalizze_res_19136 = umod64(canonicalizze_arg_19135, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_19137 = add64(x_19129, x_19132);\n                        int64_t canonicalizze_res_19138 = umod64(canonicalizze_arg_19137, (int64_t) -4294967295);\n                        \n                        // store in accumulator\n                        {\n                            x_acc_20931 = canonicalizze_res_19134;\n                            x_acc_20932 = canonicalizze_res_19136;\n                            x_acc_20933 = canonicalizze_res_19138;\n                        }\n                    }\n                }\n            }\n            // to reduce current chunk, first store our result in memory\n            {\n                x_19127 = x_acc_20931;\n                x_19128 = x_acc_20932;\n                x_19129 = x_acc_20933;\n                ((__local int64_t *) red_arr_mem_20913)[sext_i32_i64(local_tid_20909)] = x_19127;\n                ((__local int64_t *) red_arr_mem_20915)[sext_i32_i64(local_tid_20909)] = x_19128;\n                ((__local int64_t *) red_arr_mem_20917)[sext_i32_i64(local_tid_20909)] = x_19129;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n       ", "     int32_t offset_20950;\n            int32_t skip_waves_20951 = 1;\n            int64_t x_20937;\n            int64_t x_20938;\n            int64_t x_20939;\n            int64_t x_20940;\n            int64_t x_20941;\n            int64_t x_20942;\n            \n            offset_20950 = 0;\n            // participating threads read initial accumulator\n            {\n                if (slt32(local_tid_20909, sext_i64_i32(segred_group_sizze_19117))) {\n                    x_20937 = ((__local int64_t *) red_arr_mem_20913)[sext_i32_i64(local_tid_20909 + offset_20950)];\n                    x_20938 = ((__local int64_t *) red_arr_mem_20915)[sext_i32_i64(local_tid_20909 + offset_20950)];\n                    x_20939 = ((__local int64_t *) red_arr_mem_20917)[sext_i32_i64(local_tid_20909 + offset_20950)];\n                }\n            }\n            offset_20950 = 1;\n            while (slt32(offset_20950, wave_sizze_20911)) {\n                if (slt32(local_tid_20909 + offset_20950, sext_i64_i32(segred_group_sizze_19117)) && ((local_tid_20909 - squot32(local_tid_20909, wave_sizze_20911) * wave_sizze_20911) & (2 * offset_20950 - 1)) == 0) {\n                    // read array element\n                    {\n                        x_20940 = ((volatile __local int64_t *) red_arr_mem_20913)[sext_i32_i64(local_tid_20909 + offset_20950)];\n                        x_20941 = ((volatile __local int64_t *) red_arr_mem_20915)[sext_i32_i64(local_tid_20909 + offset_20950)];\n                        x_20942 = ((volatile __local int64_t *) red_arr_mem_20917)[sext_i32_i64(local_tid_20909 + offset_20950)];\n                    }\n                    // apply reduction operation\n                    {\n                        int64_t canonicalizze_arg_20943 = add64(x_20937, x_20940);\n                        int64_t canonicalizze_res_20944 = umod64(canonicalizze_arg_20943, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_20945 = add64(x_20938, x_20941);\n                        int64_t ca",
                                       "nonicalizze_res_20946 = umod64(canonicalizze_arg_20945, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_20947 = add64(x_20939, x_20942);\n                        int64_t canonicalizze_res_20948 = umod64(canonicalizze_arg_20947, (int64_t) -4294967295);\n                        \n                        x_20937 = canonicalizze_res_20944;\n                        x_20938 = canonicalizze_res_20946;\n                        x_20939 = canonicalizze_res_20948;\n                    }\n                    // write result of operation\n                    {\n                        ((volatile __local int64_t *) red_arr_mem_20913)[sext_i32_i64(local_tid_20909)] = x_20937;\n                        ((volatile __local int64_t *) red_arr_mem_20915)[sext_i32_i64(local_tid_20909)] = x_20938;\n                        ((volatile __local int64_t *) red_arr_mem_20917)[sext_i32_i64(local_tid_20909)] = x_20939;\n                    }\n                }\n                offset_20950 *= 2;\n            }\n            while (slt32(skip_waves_20951, squot32(sext_i64_i32(segred_group_sizze_19117) + wave_sizze_20911 - 1, wave_sizze_20911))) {\n                barrier(CLK_LOCAL_MEM_FENCE);\n                offset_20950 = skip_waves_20951 * wave_sizze_20911;\n                if (slt32(local_tid_20909 + offset_20950, sext_i64_i32(segred_group_sizze_19117)) && ((local_tid_20909 - squot32(local_tid_20909, wave_sizze_20911) * wave_sizze_20911) == 0 && (squot32(local_tid_20909, wave_sizze_20911) & (2 * skip_waves_20951 - 1)) == 0)) {\n                    // read array element\n                    {\n                        x_20940 = ((__local int64_t *) red_arr_mem_20913)[sext_i32_i64(local_tid_20909 + offset_20950)];\n                        x_20941 = ((__local int64_t *) red_arr_mem_20915)[sext_i32_i64(local_tid_20909 + offset_20950)];\n                        x_20942 = ((__local int64_t *) red_arr_mem_20917)[sext_i32_i64(local_tid_20909 + offset_20950)];\n                    }\n                    ", "// apply reduction operation\n                    {\n                        int64_t canonicalizze_arg_20943 = add64(x_20937, x_20940);\n                        int64_t canonicalizze_res_20944 = umod64(canonicalizze_arg_20943, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_20945 = add64(x_20938, x_20941);\n                        int64_t canonicalizze_res_20946 = umod64(canonicalizze_arg_20945, (int64_t) -4294967295);\n                        int64_t canonicalizze_arg_20947 = add64(x_20939, x_20942);\n                        int64_t canonicalizze_res_20948 = umod64(canonicalizze_arg_20947, (int64_t) -4294967295);\n                        \n                        x_20937 = canonicalizze_res_20944;\n                        x_20938 = canonicalizze_res_20946;\n                        x_20939 = canonicalizze_res_20948;\n                    }\n                    // write result of operation\n                    {\n                        ((__local int64_t *) red_arr_mem_20913)[sext_i32_i64(local_tid_20909)] = x_20937;\n                        ((__local int64_t *) red_arr_mem_20915)[sext_i32_i64(local_tid_20909)] = x_20938;\n                        ((__local int64_t *) red_arr_mem_20917)[sext_i32_i64(local_tid_20909)] = x_20939;\n                    }\n                }\n                skip_waves_20951 *= 2;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            // first thread saves the result in accumulator\n            {\n                if (sext_i32_i64(local_tid_20909) == (int64_t) 0) {\n                    x_acc_20931 = x_20937;\n                    x_acc_20932 = x_20938;\n                    x_acc_20933 = x_20939;\n                }\n            }\n            // first thread keeps accumulator; others reset to neutral element\n            {\n                if (!(sext_i32_i64(local_tid_20909) == (int64_t) 0)) {\n                    x_acc_20931 = (int64_t) 0;\n                    x_acc_20932 = (int64_t) 0;\n                    x_acc_20933 = (int64_t) 0;\n  ", "              }\n            }\n        }\n        if (groups_per_segment_20895 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_20909 == 0) {\n                    ((__global int64_t *) mem_20051)[gtid_19123 * m_12334 + gtid_19124] = x_acc_20931;\n                    ((__global int64_t *) mem_20055)[gtid_19123 * m_12334 + gtid_19124] = x_acc_20932;\n                    ((__global int64_t *) mem_20059)[gtid_19123 * m_12334 + gtid_19124] = x_acc_20933;\n                }\n            }\n        } else {\n            int32_t old_counter_20952;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_20909 == 0) {\n                    ((__global int64_t *) segred_tmp_mem_20900)[sext_i32_i64(virt_group_id_20924)] = x_acc_20931;\n                    ((__global int64_t *) segred_tmp_mem_20902)[sext_i32_i64(virt_group_id_20924)] = x_acc_20932;\n                    ((__global int64_t *) segred_tmp_mem_20904)[sext_i32_i64(virt_group_id_20924)] = x_acc_20933;\n                    mem_fence_global();\n                    old_counter_20952 = atomic_add_i32_global(&((volatile __global int *) make_transposed_quotient_codewords_non_opaquezicounter_mem_20906)[sext_i32_i64(srem32(flat_segment_id_20925, 10240))], (int) 1);\n                    ((__local bool *) sync_arr_mem_20919)[(int64_t) 0] = old_counter_20952 == groups_per_segment_20895 - (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_20953 = ((__local bool *) sync_arr_mem_20919)[(int64_t) 0];\n            \n            if (is_last_group_20953) {\n                if (local_tid_20909 == 0) {\n                    old_counter_20952 = atomic_add_i32_global(&((volatile __global int *) make_transposed_quotient_codewords_non_opaquezicounter_mem_20906)[sext_i32_i64(srem32(flat_segment_id_20925, 10240))],",
                                       " (int) ((int64_t) 0 - groups_per_segment_20895));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_20954 = sdiv_up64(groups_per_segment_20895, segred_group_sizze_19117);\n                    \n                    x_19127 = (int64_t) 0;\n                    x_19128 = (int64_t) 0;\n                    x_19129 = (int64_t) 0;\n                    for (int64_t i_20955 = 0; i_20955 < read_per_thread_20954; i_20955++) {\n                        int64_t group_res_id_20956 = sext_i32_i64(local_tid_20909) * read_per_thread_20954 + i_20955;\n                        int64_t index_of_group_res_20957 = sext_i32_i64(flat_segment_id_20925) * groups_per_segment_20895 + group_res_id_20956;\n                        \n                        if (slt64(group_res_id_20956, groups_per_segment_20895)) {\n                            x_19130 = ((__global int64_t *) segred_tmp_mem_20900)[index_of_group_res_20957];\n                            x_19131 = ((__global int64_t *) segred_tmp_mem_20902)[index_of_group_res_20957];\n                            x_19132 = ((__global int64_t *) segred_tmp_mem_20904)[index_of_group_res_20957];\n                            \n                            int64_t canonicalizze_arg_19133 = add64(x_19127, x_19130);\n                            int64_t canonicalizze_res_19134 = umod64(canonicalizze_arg_19133, (int64_t) -4294967295);\n                            int64_t canonicalizze_arg_19135 = add64(x_19128, x_19131);\n                            int64_t canonicalizze_res_19136 = umod64(canonicalizze_arg_19135, (int64_t) -4294967295);\n                            int64_t canonicalizze_arg_19137 = add64(x_19129, x_19132);\n                            int64_t canonicalizze_res_19138 = umod64(canonicalizze_arg_19137, (int64_t) -4294967295);\n                            \n                            x_19127 = canonicalizze_res_19134;\n                            x_19128 = canonicalizze_res_19136;\n            ", "                x_19129 = canonicalizze_res_19138;\n                        }\n                    }\n                }\n                ((__local int64_t *) red_arr_mem_20913)[sext_i32_i64(local_tid_20909)] = x_19127;\n                ((__local int64_t *) red_arr_mem_20915)[sext_i32_i64(local_tid_20909)] = x_19128;\n                ((__local int64_t *) red_arr_mem_20917)[sext_i32_i64(local_tid_20909)] = x_19129;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_20958;\n                    int32_t skip_waves_20959 = 1;\n                    int64_t x_20937;\n                    int64_t x_20938;\n                    int64_t x_20939;\n                    int64_t x_20940;\n                    int64_t x_20941;\n                    int64_t x_20942;\n                    \n                    offset_20958 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_20909, sext_i64_i32(segred_group_sizze_19117))) {\n                            x_20937 = ((__local int64_t *) red_arr_mem_20913)[sext_i32_i64(local_tid_20909 + offset_20958)];\n                            x_20938 = ((__local int64_t *) red_arr_mem_20915)[sext_i32_i64(local_tid_20909 + offset_20958)];\n                            x_20939 = ((__local int64_t *) red_arr_mem_20917)[sext_i32_i64(local_tid_20909 + offset_20958)];\n                        }\n                    }\n                    offset_20958 = 1;\n                    while (slt32(offset_20958, wave_sizze_20911)) {\n                        if (slt32(local_tid_20909 + offset_20958, sext_i64_i32(segred_group_sizze_19117)) && ((local_tid_20909 - squot32(local_tid_20909, wave_sizze_20911) * wave_sizze_20911) & (2 * offset_20958 - 1)) == 0) {\n                            // read array element\n                            {\n                                x_20940 = ((volatile __local int64_t *) red_arr_mem", "_20913)[sext_i32_i64(local_tid_20909 + offset_20958)];\n                                x_20941 = ((volatile __local int64_t *) red_arr_mem_20915)[sext_i32_i64(local_tid_20909 + offset_20958)];\n                                x_20942 = ((volatile __local int64_t *) red_arr_mem_20917)[sext_i32_i64(local_tid_20909 + offset_20958)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t canonicalizze_arg_20943 = add64(x_20937, x_20940);\n                                int64_t canonicalizze_res_20944 = umod64(canonicalizze_arg_20943, (int64_t) -4294967295);\n                                int64_t canonicalizze_arg_20945 = add64(x_20938, x_20941);\n                                int64_t canonicalizze_res_20946 = umod64(canonicalizze_arg_20945, (int64_t) -4294967295);\n                                int64_t canonicalizze_arg_20947 = add64(x_20939, x_20942);\n                                int64_t canonicalizze_res_20948 = umod64(canonicalizze_arg_20947, (int64_t) -4294967295);\n                                \n                                x_20937 = canonicalizze_res_20944;\n                                x_20938 = canonicalizze_res_20946;\n                                x_20939 = canonicalizze_res_20948;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int64_t *) red_arr_mem_20913)[sext_i32_i64(local_tid_20909)] = x_20937;\n                                ((volatile __local int64_t *) red_arr_mem_20915)[sext_i32_i64(local_tid_20909)] = x_20938;\n                                ((volatile __local int64_t *) red_arr_mem_20917)[sext_i32_i64(local_tid_20909)] = x_20939;\n                            }\n                        }\n                        offset_20958 *= 2;\n                    }\n                    while (slt32(skip_waves_20959, squot32(sext_i64_i32(",
                                       "segred_group_sizze_19117) + wave_sizze_20911 - 1, wave_sizze_20911))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_20958 = skip_waves_20959 * wave_sizze_20911;\n                        if (slt32(local_tid_20909 + offset_20958, sext_i64_i32(segred_group_sizze_19117)) && ((local_tid_20909 - squot32(local_tid_20909, wave_sizze_20911) * wave_sizze_20911) == 0 && (squot32(local_tid_20909, wave_sizze_20911) & (2 * skip_waves_20959 - 1)) == 0)) {\n                            // read array element\n                            {\n                                x_20940 = ((__local int64_t *) red_arr_mem_20913)[sext_i32_i64(local_tid_20909 + offset_20958)];\n                                x_20941 = ((__local int64_t *) red_arr_mem_20915)[sext_i32_i64(local_tid_20909 + offset_20958)];\n                                x_20942 = ((__local int64_t *) red_arr_mem_20917)[sext_i32_i64(local_tid_20909 + offset_20958)];\n                            }\n                            // apply reduction operation\n                            {\n                                int64_t canonicalizze_arg_20943 = add64(x_20937, x_20940);\n                                int64_t canonicalizze_res_20944 = umod64(canonicalizze_arg_20943, (int64_t) -4294967295);\n                                int64_t canonicalizze_arg_20945 = add64(x_20938, x_20941);\n                                int64_t canonicalizze_res_20946 = umod64(canonicalizze_arg_20945, (int64_t) -4294967295);\n                                int64_t canonicalizze_arg_20947 = add64(x_20939, x_20942);\n                                int64_t canonicalizze_res_20948 = umod64(canonicalizze_arg_20947, (int64_t) -4294967295);\n                                \n                                x_20937 = canonicalizze_res_20944;\n                                x_20938 = canonicalizze_res_20946;\n                                x_20939 = canonicalizze_res_20948;\n                            }\n                            ", "// write result of operation\n                            {\n                                ((__local int64_t *) red_arr_mem_20913)[sext_i32_i64(local_tid_20909)] = x_20937;\n                                ((__local int64_t *) red_arr_mem_20915)[sext_i32_i64(local_tid_20909)] = x_20938;\n                                ((__local int64_t *) red_arr_mem_20917)[sext_i32_i64(local_tid_20909)] = x_20939;\n                            }\n                        }\n                        skip_waves_20959 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_20909 == 0) {\n                            ((__global int64_t *) mem_20051)[gtid_19123 * m_12334 + gtid_19124] = x_20937;\n                            ((__global int64_t *) mem_20055)[gtid_19123 * m_12334 + gtid_19124] = x_20938;\n                            ((__global int64_t *) mem_20059)[gtid_19123 * m_12334 + gtid_19124] = x_20939;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_19117\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegred_small_18964(__global int *global_failure, __local volatile int64_t *red_arr_mem_20693_backing_aligned_0, __local volatile int64_t *red_arr_mem_20691_backing_aligned_1, __local volatile int64_t *red_arr_mem_20689_backing_aligned_2, int64_t n_12333, int64_t m_12334, int64_t p_12335, int64_t num_groups_18955, int64_t segment_sizze_nonzzero_20682, __global unsigned char *eps_mem_19927, __global unsigned char *expsss_mem_19928, __global unsigned char *mem_19935, __global unsigned char *mem_19940, __global unsigned char *mem_19945)\n{\n    #define segred_group_sizze_18954 (make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17661)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int ", "block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_20693_backing_2 = (__local volatile unsigned char *) red_arr_mem_20693_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20691_backing_1 = (__local volatile unsigned char *) red_arr_mem_20691_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_20689_backing_0 = (__local volatile unsigned char *) red_arr_mem_20689_backing_aligned_2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20685;\n    int64_t group_sizze_20688;\n    int32_t wave_sizze_20687;\n    int32_t group_tid_20686;\n    \n    local_tid_20685 = get_local_id(0);\n    group_sizze_20688 = get_local_size(0);\n    wave_sizze_20687 = LOCKSTEP_WIDTH;\n    group_tid_20686 = get_group_id(0);\n    \n    int32_t global_tid_20684 = group_tid_20686 * group_sizze_20688 + local_tid_20685;\n    int32_t phys_tid_18964 = global_tid_20684;\n    __local unsigned char *red_arr_mem_20689;\n    \n    red_arr_mem_20689 = (__local unsigned char *) red_arr_mem_20689_backing_0;\n    \n    __local unsigned char *red_arr_mem_20691;\n    \n    red_arr_mem_20691 = (__local unsigned char *) red_arr_mem_20691_backing_1;\n    \n    __local unsigned char *red_arr_mem_20693;\n    \n    red_arr_mem_20693 = (__local unsigned char *) red_arr_mem_20693_backing_2;\n    \n    int32_t phys_group_id_20695;\n    \n    phys_group_id_20695 = get_group_id(0);\n    \n    int32_t iterations_20696 = sdiv_up32(sext_i64_i32(sdiv_up64(n_12333 * m_12334 * p_12335, squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682))) - phys_group_id_20695, sext_i64_i32(num_groups_18955));\n    \n    for (int32_t i_20697 = 0; i_20697 < iterations_20696; i_20697++) {\n        int32_t virt_group_id_20698 = phys_group_id_20695 + i_20697 * sext_i64_i32(num_groups_18955);\n        int64_t slice_20699 = p_12335;\n        int64_t slice_20700 = m_12334 * slice_20699;\n        int64_t slice_20701 = n_12333 * slice_20700;\n        int64_t gtid_18960 = squot64",
                                       "(squot64(sext_i32_i64(local_tid_20685), segment_sizze_nonzzero_20682) + sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682), slice_20700);\n        int64_t remnant_20702 = squot64(sext_i32_i64(local_tid_20685), segment_sizze_nonzzero_20682) + sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) - gtid_18960 * slice_20700;\n        int64_t gtid_18961 = squot64(remnant_20702, slice_20699);\n        int64_t remnant_20703 = remnant_20702 - gtid_18961 * slice_20699;\n        int64_t gtid_18962 = remnant_20703;\n        int64_t remnant_20704 = remnant_20703 - gtid_18962;\n        int64_t gtid_18963 = srem64(sext_i32_i64(local_tid_20685), m_12334);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, m_12334) && (((slt64(gtid_18960, n_12333) && slt64(gtid_18961, m_12334)) && slt64(gtid_18962, p_12335)) && slt64(sext_i32_i64(local_tid_20685), m_12334 * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682)))) {\n                int64_t x_18994 = ((__global int64_t *) expsss_mem_19928)[gtid_18961 * (m_12334 * p_12335) + gtid_18962 * m_12334 + gtid_18963];\n                int64_t x_18995 = ((__global int64_t *) eps_mem_19927)[gtid_18960 * ((int64_t) 3 * m_12334) + gtid_18963 * (int64_t) 3];\n                int64_t x_18996 = ((__global int64_t *) eps_mem_19927)[gtid_18960 * ((int64_t) 3 * m_12334) + gtid_18963 * (int64_t) 3 + (int64_t) 1];\n                int64_t x_18997 = ((__global int64_t *) eps_mem_19927)[gtid_18960 * ((int64_t) 3 * m_12334) + gtid_18963 * (int64_t) 3 + (int64_t) 2];\n                bool loop_cond_18998 = ult64((int64_t) 0, x_18994);\n                bool mod_pow_u64_res_18999;\n                int64_t mod_pow_u64_res_19000;\n                int64_t mod_pow_u64_res_19001;\n                int64_t mod_pow_u64_res_19002;\n                int64_t mod_pow_u64_res_19003;\n                int64_t mod_pow_u64_res_19004;\n          ", "      int64_t mod_pow_u64_res_19005;\n                int64_t mod_pow_u64_res_19006;\n                bool loop_while_19007;\n                int64_t x_19008;\n                int64_t x_19009;\n                int64_t x_19010;\n                int64_t i_19011;\n                int64_t result_19012;\n                int64_t result_19013;\n                int64_t result_19014;\n                \n                loop_while_19007 = loop_cond_18998;\n                x_19008 = x_18995;\n                x_19009 = x_18996;\n                x_19010 = x_18997;\n                i_19011 = x_18994;\n                result_19012 = (int64_t) 1;\n                result_19013 = (int64_t) 0;\n                result_19014 = (int64_t) 0;\n                while (loop_while_19007) {\n                    int64_t x_19015 = umod64(i_19011, (int64_t) 2);\n                    bool cond_19016 = x_19015 == (int64_t) 1;\n                    int64_t loopres_19017;\n                    int64_t loopres_19018;\n                    int64_t loopres_19019;\n                    int64_t loopres_19020;\n                    int64_t loopres_19021;\n                    int64_t loopres_19022;\n                    int64_t loopres_19023;\n                    \n                    if (cond_19016 == 1) {\n                        int64_t x_19024 = mul64(x_19008, x_19008);\n                        int64_t y_19025 = mul64(x_19009, x_19010);\n                        int64_t x_19026 = sub64(x_19024, y_19025);\n                        int64_t mul_res_19027 = sub64(x_19026, y_19025);\n                        int64_t x_19028 = mul64(x_19008, x_19009);\n                        int64_t x_19029 = add64(x_19028, x_19028);\n                        int64_t y_19030 = mul64(x_19010, x_19010);\n                        int64_t x_19031 = sub64(x_19029, y_19030);\n                        int64_t x_19032 = add64(y_19025, x_19031);\n                        int64_t mul_res_19033 = add64(y_19025, x_19032);\n                        int64_t x_19034 = mul64(x_19008, x_19010);\n   ", "                     int64_t y_19035 = mul64(x_19009, x_19009);\n                        int64_t x_19036 = add64(x_19034, y_19035);\n                        int64_t x_19037 = add64(x_19034, x_19036);\n                        int64_t mul_res_19038 = add64(y_19030, x_19037);\n                        int64_t loopres_t_res_19039 = lshr64(i_19011, (int64_t) 1);\n                        int64_t x_19040 = mul64(x_19008, result_19012);\n                        int64_t y_19041 = mul64(x_19010, result_19013);\n                        int64_t x_19042 = sub64(x_19040, y_19041);\n                        int64_t y_19043 = mul64(x_19009, result_19014);\n                        int64_t mul_res_19044 = sub64(x_19042, y_19043);\n                        int64_t x_19045 = mul64(x_19009, result_19012);\n                        int64_t y_19046 = mul64(x_19008, result_19013);\n                        int64_t x_19047 = add64(x_19045, y_19046);\n                        int64_t y_19048 = mul64(x_19010, result_19014);\n                        int64_t x_19049 = sub64(x_19047, y_19048);\n                        int64_t x_19050 = add64(y_19041, x_19049);\n                        int64_t mul_res_19051 = add64(y_19043, x_19050);\n                        int64_t x_19052 = mul64(x_19010, result_19012);\n                        int64_t y_19053 = mul64(x_19009, result_19013);\n                        int64_t x_19054 = add64(x_19052, y_19053);\n                        int64_t y_19055 = mul64(x_19008, result_19014);\n                        int64_t x_19056 = add64(x_19054, y_19055);\n                        int64_t mul_res_19057 = add64(y_19048, x_19056);\n                        \n                        loopres_19017 = mul_res_19027;\n                        loopres_19018 = mul_res_19033;\n                        loopres_19019 = mul_res_19038;\n                        loopres_19020 = loopres_t_res_19039;\n                        loopres_19021 = mul_res_19044;\n                        loopres_19022 = mul_res_19051;\n               ",
                                       "         loopres_19023 = mul_res_19057;\n                    } else {\n                        int64_t x_19058 = mul64(x_19008, x_19008);\n                        int64_t y_19059 = mul64(x_19009, x_19010);\n                        int64_t x_19060 = sub64(x_19058, y_19059);\n                        int64_t mul_res_19061 = sub64(x_19060, y_19059);\n                        int64_t x_19062 = mul64(x_19008, x_19009);\n                        int64_t x_19063 = add64(x_19062, x_19062);\n                        int64_t y_19064 = mul64(x_19010, x_19010);\n                        int64_t x_19065 = sub64(x_19063, y_19064);\n                        int64_t x_19066 = add64(y_19059, x_19065);\n                        int64_t mul_res_19067 = add64(y_19059, x_19066);\n                        int64_t x_19068 = mul64(x_19008, x_19010);\n                        int64_t y_19069 = mul64(x_19009, x_19009);\n                        int64_t x_19070 = add64(x_19068, y_19069);\n                        int64_t x_19071 = add64(x_19068, x_19070);\n                        int64_t mul_res_19072 = add64(y_19064, x_19071);\n                        int64_t loopres_f_res_19073 = lshr64(i_19011, (int64_t) 1);\n                        \n                        loopres_19017 = mul_res_19061;\n                        loopres_19018 = mul_res_19067;\n                        loopres_19019 = mul_res_19072;\n                        loopres_19020 = loopres_f_res_19073;\n                        loopres_19021 = result_19012;\n                        loopres_19022 = result_19013;\n                        loopres_19023 = result_19014;\n                    }\n                    \n                    bool loop_cond_19074 = ult64((int64_t) 0, loopres_19020);\n                    bool loop_while_tmp_20705 = loop_cond_19074;\n                    int64_t x_tmp_20706 = loopres_19017;\n                    int64_t x_tmp_20707 = loopres_19018;\n                    int64_t x_tmp_20708 = loopres_19019;\n                    int64_t i_tmp_20709 = loopres_1902", "0;\n                    int64_t result_tmp_20710 = loopres_19021;\n                    int64_t result_tmp_20711 = loopres_19022;\n                    int64_t result_tmp_20712 = loopres_19023;\n                    \n                    loop_while_19007 = loop_while_tmp_20705;\n                    x_19008 = x_tmp_20706;\n                    x_19009 = x_tmp_20707;\n                    x_19010 = x_tmp_20708;\n                    i_19011 = i_tmp_20709;\n                    result_19012 = result_tmp_20710;\n                    result_19013 = result_tmp_20711;\n                    result_19014 = result_tmp_20712;\n                }\n                mod_pow_u64_res_18999 = loop_while_19007;\n                mod_pow_u64_res_19000 = x_19008;\n                mod_pow_u64_res_19001 = x_19009;\n                mod_pow_u64_res_19002 = x_19010;\n                mod_pow_u64_res_19003 = i_19011;\n                mod_pow_u64_res_19004 = result_19012;\n                mod_pow_u64_res_19005 = result_19013;\n                mod_pow_u64_res_19006 = result_19014;\n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local int64_t *) red_arr_mem_20689)[sext_i32_i64(local_tid_20685)] = mod_pow_u64_res_19004;\n                    ((__local int64_t *) red_arr_mem_20691)[sext_i32_i64(local_tid_20685)] = mod_pow_u64_res_19005;\n                    ((__local int64_t *) red_arr_mem_20693)[sext_i32_i64(local_tid_20685)] = mod_pow_u64_res_19006;\n                }\n            } else {\n                ((__local int64_t *) red_arr_mem_20689)[sext_i32_i64(local_tid_20685)] = (int64_t) 1;\n                ((__local int64_t *) red_arr_mem_20691)[sext_i32_i64(local_tid_20685)] = (int64_t) 0;\n                ((__local int64_t *) red_arr_mem_20693)[sext_i32_i64(local_tid_20685)] = (int64_t) 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, m_12334)) {\n            // perform segmented scan to i", "mitate reduction\n            {\n                int64_t x_18965;\n                int64_t x_18966;\n                int64_t x_18967;\n                int64_t x_18968;\n                int64_t x_18969;\n                int64_t x_18970;\n                int64_t x_20713;\n                int64_t x_20714;\n                int64_t x_20715;\n                int64_t x_20716;\n                int64_t x_20717;\n                int64_t x_20718;\n                bool ltid_in_bounds_20737 = slt64(sext_i32_i64(local_tid_20685), m_12334 * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682));\n                int32_t skip_threads_20738;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_20737) {\n                        x_18968 = ((volatile __local int64_t *) red_arr_mem_20689)[sext_i32_i64(local_tid_20685)];\n                        x_18969 = ((volatile __local int64_t *) red_arr_mem_20691)[sext_i32_i64(local_tid_20685)];\n                        x_18970 = ((volatile __local int64_t *) red_arr_mem_20693)[sext_i32_i64(local_tid_20685)];\n                        if ((local_tid_20685 - squot32(local_tid_20685, 32) * 32) == 0) {\n                            x_18965 = x_18968;\n                            x_18966 = x_18969;\n                            x_18967 = x_18970;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_20738 = 1;\n                    while (slt32(skip_threads_20738, 32)) {\n                        bool thread_active_20739 = sle32(skip_threads_20738, local_tid_20685 - squot32(local_tid_20685, 32) * 32) && ltid_in_bounds_20737;\n                        \n                        if (thread_active_20739) {\n                            // read operands\n                            {\n                                x_18965 = ((volatile __local int64_t *) red_arr_mem_20689)[sext_i32_i64(loc",
                                       "al_tid_20685) - sext_i32_i64(skip_threads_20738)];\n                                x_18966 = ((volatile __local int64_t *) red_arr_mem_20691)[sext_i32_i64(local_tid_20685) - sext_i32_i64(skip_threads_20738)];\n                                x_18967 = ((volatile __local int64_t *) red_arr_mem_20693)[sext_i32_i64(local_tid_20685) - sext_i32_i64(skip_threads_20738)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_20740 = slt64(srem64(sext_i32_i64(local_tid_20685), m_12334), sext_i32_i64(local_tid_20685) - sext_i32_i64(local_tid_20685 - skip_threads_20738));\n                            \n                            if (thread_active_20739 && inactive_20740) {\n                                x_18965 = x_18968;\n                                x_18966 = x_18969;\n                                x_18967 = x_18970;\n                            }\n                            if (thread_active_20739) {\n                                if (!inactive_20740) {\n                                    int64_t x_18971 = mul64(x_18965, x_18968);\n                                    int64_t y_18972 = mul64(x_18967, x_18969);\n                                    int64_t x_18973 = sub64(x_18971, y_18972);\n                                    int64_t y_18974 = mul64(x_18966, x_18970);\n                                    int64_t defunc_1_op_res_18975 = sub64(x_18973, y_18974);\n                                    int64_t x_18976 = mul64(x_18966, x_18968);\n                                    int64_t y_18977 = mul64(x_18965, x_18969);\n                                    int64_t x_18978 = add64(x_18976, y_18977);\n                                    int64_t y_18979 = mul64(x_18967, x_18970);\n                                    int64_t x_18980 = sub64(x_18978, y_18979);\n                                    int64_t x_18981 = add64(y_18972, x_18980);\n                                    int", "64_t defunc_1_op_res_18982 = add64(y_18974, x_18981);\n                                    int64_t x_18983 = mul64(x_18967, x_18968);\n                                    int64_t y_18984 = mul64(x_18966, x_18969);\n                                    int64_t x_18985 = add64(x_18983, y_18984);\n                                    int64_t y_18986 = mul64(x_18965, x_18970);\n                                    int64_t x_18987 = add64(x_18985, y_18986);\n                                    int64_t defunc_1_op_res_18988 = add64(y_18979, x_18987);\n                                    \n                                    x_18965 = defunc_1_op_res_18975;\n                                    x_18966 = defunc_1_op_res_18982;\n                                    x_18967 = defunc_1_op_res_18988;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_20687, skip_threads_20738)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_20739) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) red_arr_mem_20689)[sext_i32_i64(local_tid_20685)] = x_18965;\n                                x_18968 = x_18965;\n                                ((volatile __local int64_t *) red_arr_mem_20691)[sext_i32_i64(local_tid_20685)] = x_18966;\n                                x_18969 = x_18966;\n                                ((volatile __local int64_t *) red_arr_mem_20693)[sext_i32_i64(local_tid_20685)] = x_18967;\n                                x_18970 = x_18967;\n                            }\n                        }\n                        if (sle32(wave_sizze_20687, skip_threads_20738)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_20738 *= 2;\n                    }\n                }\n              ", "  barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_20685 - squot32(local_tid_20685, 32) * 32) == 31 && ltid_in_bounds_20737) {\n                        ((volatile __local int64_t *) red_arr_mem_20689)[sext_i32_i64(squot32(local_tid_20685, 32))] = x_18965;\n                        ((volatile __local int64_t *) red_arr_mem_20691)[sext_i32_i64(squot32(local_tid_20685, 32))] = x_18966;\n                        ((volatile __local int64_t *) red_arr_mem_20693)[sext_i32_i64(squot32(local_tid_20685, 32))] = x_18967;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_20741;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_20685, 32) == 0 && ltid_in_bounds_20737) {\n                            x_20716 = ((volatile __local int64_t *) red_arr_mem_20689)[sext_i32_i64(local_tid_20685)];\n                            x_20717 = ((volatile __local int64_t *) red_arr_mem_20691)[sext_i32_i64(local_tid_20685)];\n                            x_20718 = ((volatile __local int64_t *) red_arr_mem_20693)[sext_i32_i64(local_tid_20685)];\n                            if ((local_tid_20685 - squot32(local_tid_20685, 32) * 32) == 0) {\n                                x_20713 = x_20716;\n                                x_20714 = x_20717;\n                                x_20715 = x_20718;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_20741 = 1;\n                        while (slt32(skip_threads_20741, 32)) {\n                            bool thread_active_20742 = sle32(",
                                       "skip_threads_20741, local_tid_20685 - squot32(local_tid_20685, 32) * 32) && (squot32(local_tid_20685, 32) == 0 && ltid_in_bounds_20737);\n                            \n                            if (thread_active_20742) {\n                                // read operands\n                                {\n                                    x_20713 = ((volatile __local int64_t *) red_arr_mem_20689)[sext_i32_i64(local_tid_20685) - sext_i32_i64(skip_threads_20741)];\n                                    x_20714 = ((volatile __local int64_t *) red_arr_mem_20691)[sext_i32_i64(local_tid_20685) - sext_i32_i64(skip_threads_20741)];\n                                    x_20715 = ((volatile __local int64_t *) red_arr_mem_20693)[sext_i32_i64(local_tid_20685) - sext_i32_i64(skip_threads_20741)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_20743 = slt64(srem64(sext_i32_i64(local_tid_20685 * 32 + 32 - 1), m_12334), sext_i32_i64(local_tid_20685 * 32 + 32 - 1) - sext_i32_i64((local_tid_20685 - skip_threads_20741) * 32 + 32 - 1));\n                                \n                                if (thread_active_20742 && inactive_20743) {\n                                    x_20713 = x_20716;\n                                    x_20714 = x_20717;\n                                    x_20715 = x_20718;\n                                }\n                                if (thread_active_20742) {\n                                    if (!inactive_20743) {\n                                        int64_t x_20719 = mul64(x_20713, x_20716);\n                                        int64_t y_20720 = mul64(x_20715, x_20717);\n                                        int64_t x_20721 = sub64(x_20719, y_20720);\n                                        int64_t y_20722 = mul64(x_20714, x_20718);\n                                        int64_t defunc_1_op_res_20723 =", " sub64(x_20721, y_20722);\n                                        int64_t x_20724 = mul64(x_20714, x_20716);\n                                        int64_t y_20725 = mul64(x_20713, x_20717);\n                                        int64_t x_20726 = add64(x_20724, y_20725);\n                                        int64_t y_20727 = mul64(x_20715, x_20718);\n                                        int64_t x_20728 = sub64(x_20726, y_20727);\n                                        int64_t x_20729 = add64(y_20720, x_20728);\n                                        int64_t defunc_1_op_res_20730 = add64(y_20722, x_20729);\n                                        int64_t x_20731 = mul64(x_20715, x_20716);\n                                        int64_t y_20732 = mul64(x_20714, x_20717);\n                                        int64_t x_20733 = add64(x_20731, y_20732);\n                                        int64_t y_20734 = mul64(x_20713, x_20718);\n                                        int64_t x_20735 = add64(x_20733, y_20734);\n                                        int64_t defunc_1_op_res_20736 = add64(y_20727, x_20735);\n                                        \n                                        x_20713 = defunc_1_op_res_20723;\n                                        x_20714 = defunc_1_op_res_20730;\n                                        x_20715 = defunc_1_op_res_20736;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_20687, skip_threads_20741)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_20742) {\n                                // write result\n                                {\n                                    ((volatile __local int64_t *) red_arr_mem_20689)[sext_i32_i64(local_tid_20685)] = x_20713;\n                                    x_20716 = x_20713;\n               ", "                     ((volatile __local int64_t *) red_arr_mem_20691)[sext_i32_i64(local_tid_20685)] = x_20714;\n                                    x_20717 = x_20714;\n                                    ((volatile __local int64_t *) red_arr_mem_20693)[sext_i32_i64(local_tid_20685)] = x_20715;\n                                    x_20718 = x_20715;\n                                }\n                            }\n                            if (sle32(wave_sizze_20687, skip_threads_20741)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_20741 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_20744 = squot32(local_tid_20685, 32) == 0 || !ltid_in_bounds_20737;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_20744) {\n                            x_18968 = x_18965;\n                            x_18969 = x_18966;\n                            x_18970 = x_18967;\n                            x_18965 = ((__local int64_t *) red_arr_mem_20689)[sext_i32_i64(squot32(local_tid_20685, 32)) - (int64_t) 1];\n                            x_18966 = ((__local int64_t *) red_arr_mem_20691)[sext_i32_i64(squot32(local_tid_20685, 32)) - (int64_t) 1];\n                            x_18967 = ((__local int64_t *) red_arr_mem_20693)[sext_i32_i64(squot32(local_tid_20685, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_20745 = slt64(srem64(sext_i32_i64(local_tid_20685), m_12334), sext_i32_i64(local_tid_20685) - sext_i32_i64(squot32(local_tid_20685, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_20744) {\n    ",
                                       "                        if (inactive_20745) {\n                                x_18965 = x_18968;\n                                x_18966 = x_18969;\n                                x_18967 = x_18970;\n                            }\n                        }\n                        if (!no_carry_in_20744) {\n                            if (!inactive_20745) {\n                                int64_t x_18971 = mul64(x_18965, x_18968);\n                                int64_t y_18972 = mul64(x_18967, x_18969);\n                                int64_t x_18973 = sub64(x_18971, y_18972);\n                                int64_t y_18974 = mul64(x_18966, x_18970);\n                                int64_t defunc_1_op_res_18975 = sub64(x_18973, y_18974);\n                                int64_t x_18976 = mul64(x_18966, x_18968);\n                                int64_t y_18977 = mul64(x_18965, x_18969);\n                                int64_t x_18978 = add64(x_18976, y_18977);\n                                int64_t y_18979 = mul64(x_18967, x_18970);\n                                int64_t x_18980 = sub64(x_18978, y_18979);\n                                int64_t x_18981 = add64(y_18972, x_18980);\n                                int64_t defunc_1_op_res_18982 = add64(y_18974, x_18981);\n                                int64_t x_18983 = mul64(x_18967, x_18968);\n                                int64_t y_18984 = mul64(x_18966, x_18969);\n                                int64_t x_18985 = add64(x_18983, y_18984);\n                                int64_t y_18986 = mul64(x_18965, x_18970);\n                                int64_t x_18987 = add64(x_18985, y_18986);\n                                int64_t defunc_1_op_res_18988 = add64(y_18979, x_18987);\n                                \n                                x_18965 = defunc_1_op_res_18975;\n                                x_18966 = defunc_1_op_res_18982;\n                                x_18967 = defunc_1_op_res_18988;\n                        ", "    }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_20744) {\n                            ((__local int64_t *) red_arr_mem_20689)[sext_i32_i64(local_tid_20685)] = x_18965;\n                            ((__local int64_t *) red_arr_mem_20691)[sext_i32_i64(local_tid_20685)] = x_18966;\n                            ((__local int64_t *) red_arr_mem_20693)[sext_i32_i64(local_tid_20685)] = x_18967;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_20685, 32) == 0 && ltid_in_bounds_20737) {\n                        ((__local int64_t *) red_arr_mem_20689)[sext_i32_i64(local_tid_20685)] = x_18968;\n                        ((__local int64_t *) red_arr_mem_20691)[sext_i32_i64(local_tid_20685)] = x_18969;\n                        ((__local int64_t *) red_arr_mem_20693)[sext_i32_i64(local_tid_20685)] = x_18970;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685), n_12333 * m_12334 * p_12335) && slt64(sext_i32_i64(local_tid_20685), squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682))) {\n                int64_t tmp_20746 = ((__local int64_t *) red_arr_mem_20689)[(sext_i32_i64(local_tid_20685) + (int64_t) 1) * segment_sizze_nonzzero_20682 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_19935)[squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685), m_12334 * p_12335) * (p_12335 * m_12334) + s", "quot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685) - squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685), m_12334 * p_12335) * (m_12334 * p_12335), p_12335) * p_12335 + (sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685) - squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685), m_12334 * p_12335) * (m_12334 * p_12335) - squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685) - squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685), m_12334 * p_12335) * (m_12334 * p_12335), p_12335) * p_12335)] = tmp_20746;\n                \n                int64_t tmp_20747 = ((__local int64_t *) red_arr_mem_20691)[(sext_i32_i64(local_tid_20685) + (int64_t) 1) * segment_sizze_nonzzero_20682 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_19940)[squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685), m_12334 * p_12335) * (p_12335 * m_12334) + squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685) - squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685), m_12334 * p_12335) * (m_12334 * p_12335), p_12335) * p_12335 + (sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685) - squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_g",
                                       "roup_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685), m_12334 * p_12335) * (m_12334 * p_12335) - squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685) - squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685), m_12334 * p_12335) * (m_12334 * p_12335), p_12335) * p_12335)] = tmp_20747;\n                \n                int64_t tmp_20748 = ((__local int64_t *) red_arr_mem_20693)[(sext_i32_i64(local_tid_20685) + (int64_t) 1) * segment_sizze_nonzzero_20682 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_19945)[squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685), m_12334 * p_12335) * (p_12335 * m_12334) + squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685) - squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685), m_12334 * p_12335) * (m_12334 * p_12335), p_12335) * p_12335 + (sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685) - squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685), m_12334 * p_12335) * (m_12334 * p_12335) - squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685) - squot64(sext_i32_i64(virt_group_id_20698) * squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682) + sext_i32_i64(local_tid_20685), m_12334 * p_12335) * (m_12334 * p_12335), p_12335) * p_12335)] = tmp_20748;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FEN", "CE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_18954\n}\n__kernel void make_transposed_quotient_codewords_non_opaquezisegred_small_19126(__global int *global_failure, __local volatile int64_t *red_arr_mem_20861_backing_aligned_0, __local volatile int64_t *red_arr_mem_20859_backing_aligned_1, __local volatile int64_t *red_arr_mem_20857_backing_aligned_2, int64_t n_12333, int64_t m_12334, int64_t p_12335, int64_t y_16342, int64_t num_groups_19118, int64_t segment_sizze_nonzzero_20850, __global unsigned char *ext_mem_20042, __global unsigned char *ext_mem_20044, __global unsigned char *ext_mem_20046, __global unsigned char *mem_20051, __global unsigned char *mem_20055, __global unsigned char *mem_20059)\n{\n    #define segred_group_sizze_19117 (make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17421)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_20861_backing_2 = (__local volatile unsigned char *) red_arr_mem_20861_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20859_backing_1 = (__local volatile unsigned char *) red_arr_mem_20859_backing_aligned_1;\n    __local volatile unsigned char *restrict red_arr_mem_20857_backing_0 = (__local volatile unsigned char *) red_arr_mem_20857_backing_aligned_2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20853;\n    int64_t group_sizze_20856;\n    int32_t wave_sizze_20855;\n    int32_t group_tid_20854;\n    \n    local_tid_20853 = get_local_id(0);\n    group_sizze_20856 = get_local_size(0);\n    wave_sizze_20855 = LOCKSTEP_WIDTH;\n    group_tid_20854 = get_group_id(0);\n    \n    int32_t global_tid_20852 = group_tid_20854 * group_sizze_20856 + local_tid_20853;\n    int32_t phys_tid_19126 = global_tid_20852;\n    __local unsigned char *red_arr_mem_20857;\n    \n    red_arr_mem_20857 = (__loca", "l unsigned char *) red_arr_mem_20857_backing_0;\n    \n    __local unsigned char *red_arr_mem_20859;\n    \n    red_arr_mem_20859 = (__local unsigned char *) red_arr_mem_20859_backing_1;\n    \n    __local unsigned char *red_arr_mem_20861;\n    \n    red_arr_mem_20861 = (__local unsigned char *) red_arr_mem_20861_backing_2;\n    \n    int32_t phys_group_id_20863;\n    \n    phys_group_id_20863 = get_group_id(0);\n    \n    int32_t iterations_20864 = sdiv_up32(sext_i64_i32(sdiv_up64(n_12333 * m_12334, squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850))) - phys_group_id_20863, sext_i64_i32(num_groups_19118));\n    \n    for (int32_t i_20865 = 0; i_20865 < iterations_20864; i_20865++) {\n        int32_t virt_group_id_20866 = phys_group_id_20863 + i_20865 * sext_i64_i32(num_groups_19118);\n        int64_t slice_20867 = m_12334;\n        int64_t slice_20868 = n_12333 * slice_20867;\n        int64_t gtid_19123 = squot64(squot64(sext_i32_i64(local_tid_20853), segment_sizze_nonzzero_20850) + sext_i32_i64(virt_group_id_20866) * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850), slice_20867);\n        int64_t remnant_20869 = squot64(sext_i32_i64(local_tid_20853), segment_sizze_nonzzero_20850) + sext_i32_i64(virt_group_id_20866) * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850) - gtid_19123 * slice_20867;\n        int64_t gtid_19124 = remnant_20869;\n        int64_t remnant_20870 = remnant_20869 - gtid_19124;\n        int64_t gtid_19125 = srem64(sext_i32_i64(local_tid_20853), p_12335);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, p_12335) && ((slt64(gtid_19123, n_12333) && slt64(gtid_19124, m_12334)) && slt64(sext_i32_i64(local_tid_20853), p_12335 * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850)))) {\n                int64_t x_19145 = ((__global int64_t *) ext_mem_20046)[gtid_19123 * y_16342 + gtid_19124 * p_12335 + gtid_19125];\n                int64_t x_19146 = ((__global int64_t *) ext_mem",
                                       "_20044)[gtid_19123 * y_16342 + gtid_19124 * p_12335 + gtid_19125];\n                int64_t x_19147 = ((__global int64_t *) ext_mem_20042)[gtid_19123 * y_16342 + gtid_19124 * p_12335 + gtid_19125];\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local int64_t *) red_arr_mem_20857)[sext_i32_i64(local_tid_20853)] = x_19145;\n                    ((__local int64_t *) red_arr_mem_20859)[sext_i32_i64(local_tid_20853)] = x_19146;\n                    ((__local int64_t *) red_arr_mem_20861)[sext_i32_i64(local_tid_20853)] = x_19147;\n                }\n            } else {\n                ((__local int64_t *) red_arr_mem_20857)[sext_i32_i64(local_tid_20853)] = (int64_t) 0;\n                ((__local int64_t *) red_arr_mem_20859)[sext_i32_i64(local_tid_20853)] = (int64_t) 0;\n                ((__local int64_t *) red_arr_mem_20861)[sext_i32_i64(local_tid_20853)] = (int64_t) 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, p_12335)) {\n            // perform segmented scan to imitate reduction\n            {\n                int64_t x_19127;\n                int64_t x_19128;\n                int64_t x_19129;\n                int64_t x_19130;\n                int64_t x_19131;\n                int64_t x_19132;\n                int64_t x_20871;\n                int64_t x_20872;\n                int64_t x_20873;\n                int64_t x_20874;\n                int64_t x_20875;\n                int64_t x_20876;\n                bool ltid_in_bounds_20883 = slt64(sext_i32_i64(local_tid_20853), p_12335 * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850));\n                int32_t skip_threads_20884;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_20883) {\n                        x_19130 = ((volatile __local int64_t *) red_arr_mem_20857)[sext_i32_i64(local_tid", "_20853)];\n                        x_19131 = ((volatile __local int64_t *) red_arr_mem_20859)[sext_i32_i64(local_tid_20853)];\n                        x_19132 = ((volatile __local int64_t *) red_arr_mem_20861)[sext_i32_i64(local_tid_20853)];\n                        if ((local_tid_20853 - squot32(local_tid_20853, 32) * 32) == 0) {\n                            x_19127 = x_19130;\n                            x_19128 = x_19131;\n                            x_19129 = x_19132;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_20884 = 1;\n                    while (slt32(skip_threads_20884, 32)) {\n                        bool thread_active_20885 = sle32(skip_threads_20884, local_tid_20853 - squot32(local_tid_20853, 32) * 32) && ltid_in_bounds_20883;\n                        \n                        if (thread_active_20885) {\n                            // read operands\n                            {\n                                x_19127 = ((volatile __local int64_t *) red_arr_mem_20857)[sext_i32_i64(local_tid_20853) - sext_i32_i64(skip_threads_20884)];\n                                x_19128 = ((volatile __local int64_t *) red_arr_mem_20859)[sext_i32_i64(local_tid_20853) - sext_i32_i64(skip_threads_20884)];\n                                x_19129 = ((volatile __local int64_t *) red_arr_mem_20861)[sext_i32_i64(local_tid_20853) - sext_i32_i64(skip_threads_20884)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_20886 = slt64(srem64(sext_i32_i64(local_tid_20853), p_12335), sext_i32_i64(local_tid_20853) - sext_i32_i64(local_tid_20853 - skip_threads_20884));\n                            \n                            if (thread_active_20885 && inactive_20886) {\n                                x_19127 = x_19130;\n                            ", "    x_19128 = x_19131;\n                                x_19129 = x_19132;\n                            }\n                            if (thread_active_20885) {\n                                if (!inactive_20886) {\n                                    int64_t canonicalizze_arg_19133 = add64(x_19127, x_19130);\n                                    int64_t canonicalizze_res_19134 = umod64(canonicalizze_arg_19133, (int64_t) -4294967295);\n                                    int64_t canonicalizze_arg_19135 = add64(x_19128, x_19131);\n                                    int64_t canonicalizze_res_19136 = umod64(canonicalizze_arg_19135, (int64_t) -4294967295);\n                                    int64_t canonicalizze_arg_19137 = add64(x_19129, x_19132);\n                                    int64_t canonicalizze_res_19138 = umod64(canonicalizze_arg_19137, (int64_t) -4294967295);\n                                    \n                                    x_19127 = canonicalizze_res_19134;\n                                    x_19128 = canonicalizze_res_19136;\n                                    x_19129 = canonicalizze_res_19138;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_20855, skip_threads_20884)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_20885) {\n                            // write result\n                            {\n                                ((volatile __local int64_t *) red_arr_mem_20857)[sext_i32_i64(local_tid_20853)] = x_19127;\n                                x_19130 = x_19127;\n                                ((volatile __local int64_t *) red_arr_mem_20859)[sext_i32_i64(local_tid_20853)] = x_19128;\n                                x_19131 = x_19128;\n                                ((volatile __local int64_t *) red_arr_mem_20861)[sext_i32_i64(local_tid_20853)] = x_19129;\n                            ",
                                       "    x_19132 = x_19129;\n                            }\n                        }\n                        if (sle32(wave_sizze_20855, skip_threads_20884)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_20884 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_20853 - squot32(local_tid_20853, 32) * 32) == 31 && ltid_in_bounds_20883) {\n                        ((volatile __local int64_t *) red_arr_mem_20857)[sext_i32_i64(squot32(local_tid_20853, 32))] = x_19127;\n                        ((volatile __local int64_t *) red_arr_mem_20859)[sext_i32_i64(squot32(local_tid_20853, 32))] = x_19128;\n                        ((volatile __local int64_t *) red_arr_mem_20861)[sext_i32_i64(squot32(local_tid_20853, 32))] = x_19129;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_20887;\n                    \n                    // read input for in-block scan\n                    {\n                        if (squot32(local_tid_20853, 32) == 0 && ltid_in_bounds_20883) {\n                            x_20874 = ((volatile __local int64_t *) red_arr_mem_20857)[sext_i32_i64(local_tid_20853)];\n                            x_20875 = ((volatile __local int64_t *) red_arr_mem_20859)[sext_i32_i64(local_tid_20853)];\n                            x_20876 = ((volatile __local int64_t *) red_arr_mem_20861)[sext_i32_i64(local_tid_20853)];\n                            if ((local_tid_20853 - squot32(local_tid_20853, 32) * 32) == 0) {\n                                x_20871 = x_20874;\n                                x_20872 = x_20875;\n                                x_20873 = x_20876;\n", "                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_20887 = 1;\n                        while (slt32(skip_threads_20887, 32)) {\n                            bool thread_active_20888 = sle32(skip_threads_20887, local_tid_20853 - squot32(local_tid_20853, 32) * 32) && (squot32(local_tid_20853, 32) == 0 && ltid_in_bounds_20883);\n                            \n                            if (thread_active_20888) {\n                                // read operands\n                                {\n                                    x_20871 = ((volatile __local int64_t *) red_arr_mem_20857)[sext_i32_i64(local_tid_20853) - sext_i32_i64(skip_threads_20887)];\n                                    x_20872 = ((volatile __local int64_t *) red_arr_mem_20859)[sext_i32_i64(local_tid_20853) - sext_i32_i64(skip_threads_20887)];\n                                    x_20873 = ((volatile __local int64_t *) red_arr_mem_20861)[sext_i32_i64(local_tid_20853) - sext_i32_i64(skip_threads_20887)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_20889 = slt64(srem64(sext_i32_i64(local_tid_20853 * 32 + 32 - 1), p_12335), sext_i32_i64(local_tid_20853 * 32 + 32 - 1) - sext_i32_i64((local_tid_20853 - skip_threads_20887) * 32 + 32 - 1));\n                                \n                                if (thread_active_20888 && inactive_20889) {\n                                    x_20871 = x_20874;\n                                    x_20872 = x_20875;\n                                    x_20873 = x_20876;\n                                }\n                                if (thread_active_20888) {\n                                    if (!inactive_20889) {\n                                        int64_t canonicalizze_", "arg_20877 = add64(x_20871, x_20874);\n                                        int64_t canonicalizze_res_20878 = umod64(canonicalizze_arg_20877, (int64_t) -4294967295);\n                                        int64_t canonicalizze_arg_20879 = add64(x_20872, x_20875);\n                                        int64_t canonicalizze_res_20880 = umod64(canonicalizze_arg_20879, (int64_t) -4294967295);\n                                        int64_t canonicalizze_arg_20881 = add64(x_20873, x_20876);\n                                        int64_t canonicalizze_res_20882 = umod64(canonicalizze_arg_20881, (int64_t) -4294967295);\n                                        \n                                        x_20871 = canonicalizze_res_20878;\n                                        x_20872 = canonicalizze_res_20880;\n                                        x_20873 = canonicalizze_res_20882;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_20855, skip_threads_20887)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_20888) {\n                                // write result\n                                {\n                                    ((volatile __local int64_t *) red_arr_mem_20857)[sext_i32_i64(local_tid_20853)] = x_20871;\n                                    x_20874 = x_20871;\n                                    ((volatile __local int64_t *) red_arr_mem_20859)[sext_i32_i64(local_tid_20853)] = x_20872;\n                                    x_20875 = x_20872;\n                                    ((volatile __local int64_t *) red_arr_mem_20861)[sext_i32_i64(local_tid_20853)] = x_20873;\n                                    x_20876 = x_20873;\n                                }\n                            }\n                            if (sle32(wave_sizze_20855, skip_threads_20887)) {\n          ",
                                       "                      barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_20887 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_20890 = squot32(local_tid_20853, 32) == 0 || !ltid_in_bounds_20883;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_20890) {\n                            x_19130 = x_19127;\n                            x_19131 = x_19128;\n                            x_19132 = x_19129;\n                            x_19127 = ((__local int64_t *) red_arr_mem_20857)[sext_i32_i64(squot32(local_tid_20853, 32)) - (int64_t) 1];\n                            x_19128 = ((__local int64_t *) red_arr_mem_20859)[sext_i32_i64(squot32(local_tid_20853, 32)) - (int64_t) 1];\n                            x_19129 = ((__local int64_t *) red_arr_mem_20861)[sext_i32_i64(squot32(local_tid_20853, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_20891 = slt64(srem64(sext_i32_i64(local_tid_20853), p_12335), sext_i32_i64(local_tid_20853) - sext_i32_i64(squot32(local_tid_20853, 32) * 32 - 1));\n                        \n                        if (!no_carry_in_20890) {\n                            if (inactive_20891) {\n                                x_19127 = x_19130;\n                                x_19128 = x_19131;\n                                x_19129 = x_19132;\n                            }\n                        }\n                        if (!no_carry_in_20890) {\n                            if (!inactive_20891) {\n                                int64_t canonicalizze_arg_19133 = add64(x_19127, x_19130);\n                                int64_t canonicalizze_r", "es_19134 = umod64(canonicalizze_arg_19133, (int64_t) -4294967295);\n                                int64_t canonicalizze_arg_19135 = add64(x_19128, x_19131);\n                                int64_t canonicalizze_res_19136 = umod64(canonicalizze_arg_19135, (int64_t) -4294967295);\n                                int64_t canonicalizze_arg_19137 = add64(x_19129, x_19132);\n                                int64_t canonicalizze_res_19138 = umod64(canonicalizze_arg_19137, (int64_t) -4294967295);\n                                \n                                x_19127 = canonicalizze_res_19134;\n                                x_19128 = canonicalizze_res_19136;\n                                x_19129 = canonicalizze_res_19138;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_20890) {\n                            ((__local int64_t *) red_arr_mem_20857)[sext_i32_i64(local_tid_20853)] = x_19127;\n                            ((__local int64_t *) red_arr_mem_20859)[sext_i32_i64(local_tid_20853)] = x_19128;\n                            ((__local int64_t *) red_arr_mem_20861)[sext_i32_i64(local_tid_20853)] = x_19129;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_20853, 32) == 0 && ltid_in_bounds_20883) {\n                        ((__local int64_t *) red_arr_mem_20857)[sext_i32_i64(local_tid_20853)] = x_19130;\n                        ((__local int64_t *) red_arr_mem_20859)[sext_i32_i64(local_tid_20853)] = x_19131;\n                        ((__local int64_t *) red_arr_mem_20861)[sext_i32_i64(local_tid_20853)] = x_19132;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // s", "ave final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_20866) * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850) + sext_i32_i64(local_tid_20853), n_12333 * m_12334) && slt64(sext_i32_i64(local_tid_20853), squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850))) {\n                int64_t tmp_20892 = ((__local int64_t *) red_arr_mem_20857)[(sext_i32_i64(local_tid_20853) + (int64_t) 1) * segment_sizze_nonzzero_20850 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_20051)[squot64(sext_i32_i64(virt_group_id_20866) * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850) + sext_i32_i64(local_tid_20853), m_12334) * m_12334 + (sext_i32_i64(virt_group_id_20866) * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850) + sext_i32_i64(local_tid_20853) - squot64(sext_i32_i64(virt_group_id_20866) * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850) + sext_i32_i64(local_tid_20853), m_12334) * m_12334)] = tmp_20892;\n                \n                int64_t tmp_20893 = ((__local int64_t *) red_arr_mem_20859)[(sext_i32_i64(local_tid_20853) + (int64_t) 1) * segment_sizze_nonzzero_20850 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_20055)[squot64(sext_i32_i64(virt_group_id_20866) * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850) + sext_i32_i64(local_tid_20853), m_12334) * m_12334 + (sext_i32_i64(virt_group_id_20866) * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850) + sext_i32_i64(local_tid_20853) - squot64(sext_i32_i64(virt_group_id_20866) * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850) + sext_i32_i64(local_tid_20853), m_12334) * m_12334)] = tmp_20893;\n                \n                int64_t tmp_20894 = ((__local int64_t *) red_arr_mem_20861)[(sext_i32_i64(local_tid_20853) + (int64_t) 1) * segment_sizze_nonzzero_20850 - (int64_t) 1];\n                \n                ((__global int64_t *) mem_200",
                                       "59)[squot64(sext_i32_i64(virt_group_id_20866) * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850) + sext_i32_i64(local_tid_20853), m_12334) * m_12334 + (sext_i32_i64(virt_group_id_20866) * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850) + sext_i32_i64(local_tid_20853) - squot64(sext_i32_i64(virt_group_id_20866) * squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850) + sext_i32_i64(local_tid_20853), m_12334) * m_12334)] = tmp_20894;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_19117\n}\n__kernel void matmulzisegmap_15939(__global int *global_failure, int64_t nz2080U_9823, int64_t pz2081U_9824, int64_t mz2082U_9825, int64_t num_groups_15935, int64_t num_threads_20313, int32_t virt_num_groups_20333, __global unsigned char *yss_mem_19927, __global unsigned char *mem_20048, __global unsigned char *mem_20065, __global unsigned char *color_20294)\n{\n    #define segmap_group_sizze_15934 (matmulzisegmap_group_sizze_15916)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20335;\n    int64_t group_sizze_20338;\n    int32_t wave_sizze_20337;\n    int32_t group_tid_20336;\n    \n    local_tid_20335 = get_local_id(0);\n    group_sizze_20338 = get_local_size(0);\n    wave_sizze_20337 = LOCKSTEP_WIDTH;\n    group_tid_20336 = get_group_id(0);\n    \n    int32_t global_tid_20334 = group_tid_20336 * group_sizze_20338 + local_tid_20335;\n    int32_t phys_tid_15939 = global_tid_20334;\n    int32_t phys_group_id_20339;\n    \n    phys_group_id_20339 = get_group_id(0);\n    \n    int32_t iterations_20340 = sdiv_up32(virt_num_groups_20333 - phys_group_id_20339, sext_i64_i32(num_groups_15935));\n    \n    for (int32_t i_20341 = 0; i_20341 < iterations_20340; i_20341++) {\n        int32_t virt_group_id_20342 = ph", "ys_group_id_20339 + i_20341 * sext_i64_i32(num_groups_15935);\n        int64_t global_tid_20343 = sext_i32_i64(virt_group_id_20342) * segmap_group_sizze_15934 + sext_i32_i64(local_tid_20335);\n        int64_t slice_20344 = nz2080U_9823;\n        int64_t gtid_15938 = global_tid_20343;\n        int64_t remnant_20345 = global_tid_20343 - gtid_15938;\n        \n        if (slt64(gtid_15938, nz2080U_9823)) {\n            for (int64_t i_19881 = 0; i_19881 < mz2082U_9825; i_19881++) {\n                int32_t defunc_2_reduce_res_15943;\n                int32_t redout_19883 = 0;\n                \n                for (int64_t i_19884 = 0; i_19884 < pz2081U_9824; i_19884++) {\n                    int32_t x_15947 = ((__global int32_t *) mem_20048)[i_19884 * nz2080U_9823 + gtid_15938];\n                    int32_t x_15948 = ((__global int32_t *) yss_mem_19927)[i_19884 * mz2082U_9825 + i_19881];\n                    int32_t defunc_1_f_res_15949 = mul32(x_15947, x_15948);\n                    int32_t defunc_1_op_res_15946 = add32(defunc_1_f_res_15949, redout_19883);\n                    int32_t redout_tmp_20347 = defunc_1_op_res_15946;\n                    \n                    redout_19883 = redout_tmp_20347;\n                }\n                defunc_2_reduce_res_15943 = redout_19883;\n                ((__global int32_t *) color_20294)[phys_tid_15939 + i_19881 * num_threads_20313] = defunc_2_reduce_res_15943;\n            }\n            for (int64_t i_20348 = 0; i_20348 < mz2082U_9825; i_20348++) {\n                int32_t tmp_20349 = ((__global int32_t *) color_20294)[phys_tid_15939 + i_20348 * num_threads_20313];\n                \n                ((__global int32_t *) mem_20065)[gtid_15938 + i_20348 * nz2080U_9823] = tmp_20349;\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_0:\n    return;\n    #undef segmap_group_sizze_15934\n}\n__kernel void matmulzisegmap_intragroup_19215(__global int *global_failure, __local volatile int64_t *color_20296_backi", "ng_aligned_0, __local volatile int64_t *color_20295_backing_aligned_1, int64_t nz2080U_9823, int64_t pz2081U_9824, int64_t mz2082U_9825, int64_t gridDim_x_19209, int64_t gridDim_y_19210, int64_t full_tiles_19243, int64_t kk_19441, __global unsigned char *xss_mem_19926, __global unsigned char *yss_mem_19927, __global unsigned char *mem_20044)\n{\n    #define Ty_19190 (matmulziTy_19187)\n    #define Ry_19191 (matmulziRy_19189)\n    #define Tx_19192 (matmulziTx_19186)\n    #define Rx_19193 (matmulziRx_19188)\n    #define Tk_19194 (matmulziTk_19185)\n    #define tk_div_tx_19195 (sdiv_up64(matmulziTk_19185, matmulziTx_19186))\n    #define TxRx_19197 (matmulziTx_19186 * matmulziRx_19188)\n    #define TyRy_19198 (matmulziTy_19187 * matmulziRy_19189)\n    #define a_loc_szz_19203 (matmulziTk_19185 * (matmulziTy_19187 * matmulziRy_19189) + smax64(matmulziTk_19185, matmulziTy_19187 * matmulziRy_19189))\n    #define b_loc_szz_19208 (smax64(matmulziTk_19185, matmulziTy_19187 * matmulziRy_19189) + matmulziTk_19185 * (matmulziTx_19186 * matmulziRx_19188))\n    #define binop_y_19371 ((int64_t) 1 + matmulziTk_19185)\n    #define binop_y_19382 ((int64_t) 1 + matmulziTx_19186 * matmulziRx_19188)\n    #define loop_nonempty_19869 (slt64((int64_t) 0, matmulziRx_19188))\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict color_20296_backing_1 = (__local volatile unsigned char *) color_20296_backing_aligned_0;\n    __local volatile unsigned char *restrict color_20295_backing_0 = (__local volatile unsigned char *) color_20295_backing_aligned_1;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20354;\n    int64_t group_sizze_20357;\n    int32_t wave_sizze_20356;\n    int32_t group_tid_20355;\n    \n    local_tid_20354 = get_local_id(0);\n    group_sizze_20357 = get_local_size(0);\n    wave_sizze_20356 = LOCKSTEP_WIDTH;\n    group_tid_20355 = get_group_id(0);\n    \n    int32_t global_tid_20353 = group",
                                       "_tid_20355 * group_sizze_20357 + local_tid_20354;\n    int32_t gid_flat_19215 = group_tid_20355;\n    int64_t slice_20360 = Tx_19192;\n    int64_t slice_20361 = Ty_19190 * slice_20360;\n    int64_t ltid_pre_20358 = squot64(sext_i32_i64(local_tid_20354), slice_20360);\n    int64_t remnant_20362 = sext_i32_i64(local_tid_20354) - ltid_pre_20358 * slice_20360;\n    int64_t ltid_pre_20359 = remnant_20362;\n    int64_t remnant_20363 = remnant_20362 - ltid_pre_20359;\n    int64_t slice_20366 = Tx_19192;\n    int64_t slice_20367 = Tx_19192 * slice_20366;\n    int64_t ltid_pre_20364 = squot64(sext_i32_i64(local_tid_20354), slice_20366);\n    int64_t remnant_20368 = sext_i32_i64(local_tid_20354) - ltid_pre_20364 * slice_20366;\n    int64_t ltid_pre_20365 = remnant_20368;\n    int64_t remnant_20369 = remnant_20368 - ltid_pre_20365;\n    int64_t slice_20370 = gridDim_x_19209;\n    int64_t slice_20371 = gridDim_y_19210 * slice_20370;\n    int64_t gid_y_19213 = squot64(sext_i32_i64(group_tid_20355), slice_20370);\n    int64_t remnant_20372 = sext_i32_i64(group_tid_20355) - gid_y_19213 * slice_20370;\n    int64_t gid_x_19214 = remnant_20372;\n    int64_t remnant_20373 = remnant_20372 - gid_x_19214;\n    __local unsigned char *color_20295;\n    \n    color_20295 = (__local unsigned char *) color_20295_backing_0;\n    \n    __local unsigned char *color_20296;\n    \n    color_20296 = (__local unsigned char *) color_20296_backing_1;\n    \n    int64_t iii_19216 = TyRy_19198 * gid_y_19213;\n    int64_t jjj_19217 = TxRx_19197 * gid_x_19214;\n    int32_t mem_19949[Ry_19191 * Rx_19193];\n    int32_t ltid_flat_19231 = local_tid_20354;\n    int64_t ltid_y_19230 = sext_i32_i64(sext_i64_i32(ltid_pre_20358));\n    int64_t ltid_x_19229 = sext_i32_i64(sext_i64_i32(ltid_pre_20359));\n    int32_t mem_19940[Ry_19191 * Rx_19193];\n    \n    for (int64_t i_19234 = 0; i_19234 < Ry_19191; i_19234++) {\n        for (int64_t i_19237 = 0; i_19237 < Rx_19193; i_19237++) {\n            mem_19940[i_19234 * Rx_19193 + i_19237] = 0;\n        }\n   ", " }\n    for (int64_t i_20376 = 0; i_20376 < Ry_19191; i_20376++) {\n        for (int64_t i_20377 = 0; i_20377 < Rx_19193; i_20377++) {\n            int32_t tmp_20378 = mem_19940[i_20376 * Rx_19193 + i_20377];\n            \n            mem_19949[i_20376 * Rx_19193 + i_20377] = tmp_20378;\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t mem_19982[Rx_19193];\n    int32_t mem_19986[Rx_19193];\n    int32_t ext_mem_20008[Ry_19191 * Rx_19193];\n    int32_t mem_param_19956[Ry_19191 * Rx_19193];\n    \n    for (int32_t i_2 = 0; i_2 < Ry_19191 * Rx_19193; i_2++)\n        mem_param_19956[i_2] = mem_19949[i_2];\n    for (int64_t i_19244 = 0; i_19244 < full_tiles_19243; i_19244++) {\n        int64_t kk_19248 = Tk_19194 * i_19244;\n        int32_t ltid_flat_19269 = local_tid_20354;\n        \n        for (int64_t nest_i_20383 = 0; nest_i_20383 < Rx_19193; nest_i_20383++) {\n            for (int64_t nest_i_20384 = 0; nest_i_20384 < tk_div_tx_19195; nest_i_20384++) {\n                int64_t ltid_seq_19272 = nest_i_20383;\n                int64_t ltid_seq_19273 = nest_i_20384;\n                int64_t ltid_y_19270 = sext_i32_i64(sext_i64_i32(ltid_pre_20364));\n                int64_t ltid_x_19271 = sext_i32_i64(sext_i64_i32(ltid_pre_20365));\n                int64_t binop_y_19274 = Tx_19192 * ltid_seq_19273;\n                int64_t k_19275 = ltid_x_19271 + binop_y_19274;\n                int64_t binop_y_19276 = Tx_19192 * ltid_seq_19272;\n                int64_t i_19277 = ltid_y_19270 + binop_y_19276;\n                int64_t gtid_19278 = iii_19216 + i_19277;\n                int64_t as_transformed_row_seqdim_idx_19279 = kk_19248 + k_19275;\n                bool cond_19280 = slt64(gtid_19278, nz2080U_9823);\n                int32_t as_transformed_row_elem_19281;\n                \n                if (cond_19280 == 1) {\n                    int32_t A_elem_19283 = ((__global int32_t *) xss_mem_19926)[gtid_19278 * pz2081U_9824 + as_transformed_row_seqdim_idx_19279];\n                    \n         ", "           as_transformed_row_elem_19281 = A_elem_19283;\n                } else {\n                    as_transformed_row_elem_19281 = 0;\n                }\n                \n                bool cond_19285 = slt64(k_19275, Tk_19194);\n                int64_t as_transformed_row_loc_ind_19286;\n                \n                if (cond_19285 == 1) {\n                    int64_t binop_y_19287 = (int64_t) 1 + Tk_19194;\n                    int64_t binop_y_19288 = i_19277 * binop_y_19287;\n                    int64_t x_19289 = k_19275 + binop_y_19288;\n                    \n                    as_transformed_row_loc_ind_19286 = x_19289;\n                } else {\n                    as_transformed_row_loc_ind_19286 = (int64_t) -1;\n                }\n                if (sle64((int64_t) 0, as_transformed_row_loc_ind_19286) && slt64(as_transformed_row_loc_ind_19286, a_loc_szz_19203)) {\n                    ((__local int32_t *) color_20296)[as_transformed_row_loc_ind_19286] = as_transformed_row_elem_19281;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t ltid_flat_19312 = local_tid_20354;\n        \n        for (int64_t nest_i_20385 = 0; nest_i_20385 < Rx_19193; nest_i_20385++) {\n            for (int64_t nest_i_20386 = 0; nest_i_20386 < tk_div_tx_19195; nest_i_20386++) {\n                int64_t ltid_seq_19315 = nest_i_20385;\n                int64_t ltid_seq_19316 = nest_i_20386;\n                int64_t ltid_y_19313 = sext_i32_i64(sext_i64_i32(ltid_pre_20364));\n                int64_t ltid_x_19314 = sext_i32_i64(sext_i64_i32(ltid_pre_20365));\n                int64_t binop_y_19317 = Tx_19192 * ltid_seq_19316;\n                int64_t k_19318 = ltid_y_19313 + binop_y_19317;\n                int64_t binop_y_19319 = Tx_19192 * ltid_seq_19315;\n                int64_t i_19320 = ltid_x_19314 + binop_y_19319;\n                int64_t gtid_19321 = jjj_19217 + i_19320;\n                int64_t as_transformed_row_seqdim_idx_19322 = kk_19248 + k_19318",
                                       ";\n                bool cond_19323 = slt64(gtid_19321, mz2082U_9825);\n                int32_t as_transformed_row_elem_19324;\n                \n                if (cond_19323 == 1) {\n                    int32_t A_elem_19326 = ((__global int32_t *) yss_mem_19927)[as_transformed_row_seqdim_idx_19322 * mz2082U_9825 + gtid_19321];\n                    \n                    as_transformed_row_elem_19324 = A_elem_19326;\n                } else {\n                    as_transformed_row_elem_19324 = 0;\n                }\n                \n                bool cond_19328 = slt64(k_19318, Tk_19194);\n                int64_t as_transformed_row_loc_ind_19329;\n                \n                if (cond_19328 == 1) {\n                    int64_t binop_y_19330 = (int64_t) 1 + TxRx_19197;\n                    int64_t binop_y_19331 = k_19318 * binop_y_19330;\n                    int64_t x_19332 = i_19320 + binop_y_19331;\n                    \n                    as_transformed_row_loc_ind_19329 = x_19332;\n                } else {\n                    as_transformed_row_loc_ind_19329 = (int64_t) -1;\n                }\n                if (sle64((int64_t) 0, as_transformed_row_loc_ind_19329) && slt64(as_transformed_row_loc_ind_19329, b_loc_szz_19208)) {\n                    ((__local int32_t *) color_20295)[as_transformed_row_loc_ind_19329] = as_transformed_row_elem_19324;\n                }\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t mem_param_in_20282[Ry_19191 * Rx_19193];\n        int32_t mem_19996[Ry_19191 * Rx_19193];\n        \n        for (int64_t i_20387 = 0; i_20387 < Ry_19191; i_20387++) {\n            for (int64_t i_20388 = 0; i_20388 < Rx_19193; i_20388++) {\n                int32_t tmp_20389 = mem_param_19956[i_20387 * Rx_19193 + i_20388];\n                \n                mem_param_in_20282[i_20387 * Rx_19193 + i_20388] = tmp_20389;\n            }\n        }\n        \n        int32_t ext_mem_19997[Ry_19191 * Rx_19193];\n        int32_t ext_mem_unused_20283[R", "y_19191 * Rx_19193];\n        int32_t mem_param_19969[Ry_19191 * Rx_19193];\n        int32_t mem_param_out_20284[Ry_19191 * Rx_19193];\n        \n        for (int32_t i_3 = 0; i_3 < Ry_19191 * Rx_19193; i_3++)\n            mem_param_19969[i_3] = mem_param_in_20282[i_3];\n        for (int32_t i_4 = 0; i_4 < Ry_19191 * Rx_19193; i_4++)\n            mem_param_out_20284[i_4] = mem_19996[i_4];\n        for (int64_t i_19335 = 0; i_19335 < Tk_19194; i_19335++) {\n            int64_t binop_y_19383 = i_19335 * binop_y_19382;\n            int32_t ltid_flat_19364 = local_tid_20354;\n            int64_t ltid_y_19363 = sext_i32_i64(sext_i64_i32(ltid_pre_20358));\n            int64_t ltid_x_19362 = sext_i32_i64(sext_i64_i32(ltid_pre_20359));\n            int32_t mem_19972[Rx_19193];\n            int64_t binop_x_19369 = Rx_19193 * ltid_y_19363;\n            \n            for (int64_t i_19367 = 0; i_19367 < Rx_19193; i_19367++) {\n                int64_t binop_x_19370 = i_19367 + binop_x_19369;\n                int64_t binop_y_19372 = binop_x_19370 * binop_y_19371;\n                int64_t as_transformed_row_loc_ind_19373 = i_19335 + binop_y_19372;\n                \n                for (int64_t i_20394 = 0; i_20394 < (int64_t) 1; i_20394++) {\n                    int32_t tmp_20395 = ((__local int32_t *) color_20296)[as_transformed_row_loc_ind_19373 + i_20394];\n                    \n                    mem_19972[i_19367 + i_20394] = tmp_20395;\n                }\n            }\n            \n            int32_t mem_19976[Rx_19193];\n            int64_t binop_y_19380 = Rx_19193 * ltid_x_19362;\n            \n            for (int64_t i_19378 = 0; i_19378 < Rx_19193; i_19378++) {\n                int64_t binop_x_19381 = i_19378 + binop_y_19380;\n                int64_t as_transformed_row_loc_ind_19384 = binop_x_19381 + binop_y_19383;\n                \n                for (int64_t i_20397 = 0; i_20397 < (int64_t) 1; i_20397++) {\n                    int32_t tmp_20398 = ((__local int32_t *) color_20295)[as_transformed_r", "ow_loc_ind_19384 + i_20397];\n                    \n                    mem_19976[i_19378 + i_20397] = tmp_20398;\n                }\n            }\n            for (int64_t i_20399 = 0; i_20399 < Rx_19193; i_20399++) {\n                int32_t tmp_20400 = mem_19972[i_20399];\n                \n                mem_19982[i_20399] = tmp_20400;\n            }\n            for (int64_t i_20401 = 0; i_20401 < Rx_19193; i_20401++) {\n                int32_t tmp_20402 = mem_19976[i_20401];\n                \n                mem_19986[i_20401] = tmp_20402;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int32_t ltid_flat_19414 = local_tid_20354;\n            int64_t ltid_y_19413 = sext_i32_i64(sext_i64_i32(ltid_pre_20358));\n            int64_t ltid_x_19412 = sext_i32_i64(sext_i64_i32(ltid_pre_20359));\n            \n            for (int64_t i_19419 = 0; i_19419 < Ry_19191; i_19419++) {\n                int32_t a_19425;\n                \n                if (loop_nonempty_19869 == 1) {\n                    int32_t x_19870 = mem_19982[i_19419];\n                    \n                    a_19425 = x_19870;\n                } else {\n                    a_19425 = 0;\n                }\n                for (int64_t i_19422 = 0; i_19422 < Rx_19193; i_19422++) {\n                    int32_t b_19426 = mem_19986[i_19422];\n                    int32_t c_19427 = mem_param_19969[i_19419 * Rx_19193 + i_19422];\n                    int32_t defunc_1_f_res_19430 = mul32(a_19425, b_19426);\n                    int32_t defunc_1_op_res_19433 = add32(c_19427, defunc_1_f_res_19430);\n                    \n                    mem_param_19969[i_19419 * Rx_19193 + i_19422] = defunc_1_op_res_19433;\n                }\n            }\n            for (int64_t i_20405 = 0; i_20405 < Ry_19191; i_20405++) {\n                for (int64_t i_20406 = 0; i_20406 < Rx_19193; i_20406++) {\n                    int32_t tmp_20407 = mem_param_19969[i_20405 * Rx_19193 + i_20406];\n                    \n                  ",
                                       "  mem_param_out_20284[i_20405 * Rx_19193 + i_20406] = tmp_20407;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            int32_t mem_param_tmp_20390[Ry_19191 * Rx_19193];\n            \n            for (int32_t i_5 = 0; i_5 < Ry_19191 * Rx_19193; i_5++)\n                mem_param_tmp_20390[i_5] = mem_param_out_20284[i_5];\n            \n            int32_t mem_param_out_tmp_20391[Ry_19191 * Rx_19193];\n            \n            for (int32_t i_6 = 0; i_6 < Ry_19191 * Rx_19193; i_6++)\n                mem_param_out_tmp_20391[i_6] = mem_param_19969[i_6];\n            for (int32_t i_7 = 0; i_7 < Ry_19191 * Rx_19193; i_7++)\n                mem_param_19969[i_7] = mem_param_tmp_20390[i_7];\n            for (int32_t i_8 = 0; i_8 < Ry_19191 * Rx_19193; i_8++)\n                mem_param_out_20284[i_8] = mem_param_out_tmp_20391[i_8];\n        }\n        for (int32_t i_9 = 0; i_9 < Ry_19191 * Rx_19193; i_9++)\n            ext_mem_19997[i_9] = mem_param_19969[i_9];\n        for (int32_t i_10 = 0; i_10 < Ry_19191 * Rx_19193; i_10++)\n            ext_mem_unused_20283[i_10] = mem_param_out_20284[i_10];\n        \n        int32_t mem_param_tmp_20379[Ry_19191 * Rx_19193];\n        \n        for (int32_t i_11 = 0; i_11 < Ry_19191 * Rx_19193; i_11++)\n            mem_param_tmp_20379[i_11] = ext_mem_19997[i_11];\n        for (int32_t i_12 = 0; i_12 < Ry_19191 * Rx_19193; i_12++)\n            mem_param_19956[i_12] = mem_param_tmp_20379[i_12];\n    }\n    for (int32_t i_13 = 0; i_13 < Ry_19191 * Rx_19193; i_13++)\n        ext_mem_20008[i_13] = mem_param_19956[i_13];\n    \n    int32_t ltid_flat_19464 = local_tid_20354;\n    \n    for (int64_t nest_i_20408 = 0; nest_i_20408 < Rx_19193; nest_i_20408++) {\n        for (int64_t nest_i_20409 = 0; nest_i_20409 < tk_div_tx_19195; nest_i_20409++) {\n            int64_t ltid_seq_19467 = nest_i_20408;\n            int64_t ltid_seq_19468 = nest_i_20409;\n            int64_t ltid_y_19465 = sext_i32_i64(sext_i64_i32(ltid_pre_20364));\n        ", "    int64_t ltid_x_19466 = sext_i32_i64(sext_i64_i32(ltid_pre_20365));\n            int64_t binop_y_19469 = Tx_19192 * ltid_seq_19468;\n            int64_t k_19470 = ltid_x_19466 + binop_y_19469;\n            int64_t binop_y_19471 = Tx_19192 * ltid_seq_19467;\n            int64_t i_19472 = ltid_y_19465 + binop_y_19471;\n            int64_t gtid_19473 = iii_19216 + i_19472;\n            int64_t as_transformed_row_seqdim_idx_19474 = kk_19441 + k_19470;\n            bool binop_x_19475 = slt64(gtid_19473, nz2080U_9823);\n            bool binop_y_19476 = slt64(as_transformed_row_seqdim_idx_19474, pz2081U_9824);\n            bool cond_19477 = binop_x_19475 && binop_y_19476;\n            int32_t as_transformed_row_elem_19478;\n            \n            if (cond_19477 == 1) {\n                int32_t A_elem_19480 = ((__global int32_t *) xss_mem_19926)[gtid_19473 * pz2081U_9824 + as_transformed_row_seqdim_idx_19474];\n                \n                as_transformed_row_elem_19478 = A_elem_19480;\n            } else {\n                as_transformed_row_elem_19478 = 0;\n            }\n            \n            bool cond_19482 = slt64(k_19470, Tk_19194);\n            int64_t as_transformed_row_loc_ind_19483;\n            \n            if (cond_19482 == 1) {\n                int64_t binop_y_19484 = (int64_t) 1 + Tk_19194;\n                int64_t binop_y_19485 = i_19472 * binop_y_19484;\n                int64_t x_19486 = k_19470 + binop_y_19485;\n                \n                as_transformed_row_loc_ind_19483 = x_19486;\n            } else {\n                as_transformed_row_loc_ind_19483 = (int64_t) -1;\n            }\n            if (sle64((int64_t) 0, as_transformed_row_loc_ind_19483) && slt64(as_transformed_row_loc_ind_19483, a_loc_szz_19203)) {\n                ((__local int32_t *) color_20296)[as_transformed_row_loc_ind_19483] = as_transformed_row_elem_19478;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t ltid_flat_19511 = local_tid_20354;\n    \n    for (int64_t nes", "t_i_20410 = 0; nest_i_20410 < Rx_19193; nest_i_20410++) {\n        for (int64_t nest_i_20411 = 0; nest_i_20411 < tk_div_tx_19195; nest_i_20411++) {\n            int64_t ltid_seq_19514 = nest_i_20410;\n            int64_t ltid_seq_19515 = nest_i_20411;\n            int64_t ltid_y_19512 = sext_i32_i64(sext_i64_i32(ltid_pre_20364));\n            int64_t ltid_x_19513 = sext_i32_i64(sext_i64_i32(ltid_pre_20365));\n            int64_t binop_y_19516 = Tx_19192 * ltid_seq_19515;\n            int64_t k_19517 = ltid_y_19512 + binop_y_19516;\n            int64_t binop_y_19518 = Tx_19192 * ltid_seq_19514;\n            int64_t i_19519 = ltid_x_19513 + binop_y_19518;\n            int64_t gtid_19520 = jjj_19217 + i_19519;\n            int64_t as_transformed_row_seqdim_idx_19521 = kk_19441 + k_19517;\n            bool binop_x_19522 = slt64(gtid_19520, mz2082U_9825);\n            bool binop_y_19523 = slt64(as_transformed_row_seqdim_idx_19521, pz2081U_9824);\n            bool cond_19524 = binop_x_19522 && binop_y_19523;\n            int32_t as_transformed_row_elem_19525;\n            \n            if (cond_19524 == 1) {\n                int32_t A_elem_19527 = ((__global int32_t *) yss_mem_19927)[as_transformed_row_seqdim_idx_19521 * mz2082U_9825 + gtid_19520];\n                \n                as_transformed_row_elem_19525 = A_elem_19527;\n            } else {\n                as_transformed_row_elem_19525 = 0;\n            }\n            \n            bool cond_19529 = slt64(k_19517, Tk_19194);\n            int64_t as_transformed_row_loc_ind_19530;\n            \n            if (cond_19529 == 1) {\n                int64_t binop_y_19531 = (int64_t) 1 + TxRx_19197;\n                int64_t binop_y_19532 = k_19517 * binop_y_19531;\n                int64_t x_19533 = i_19519 + binop_y_19532;\n                \n                as_transformed_row_loc_ind_19530 = x_19533;\n            } else {\n                as_transformed_row_loc_ind_19530 = (int64_t) -1;\n            }\n            if (sle64((int64_t) 0, as_transformed_ro",
                                       "w_loc_ind_19530) && slt64(as_transformed_row_loc_ind_19530, b_loc_szz_19208)) {\n                ((__local int32_t *) color_20295)[as_transformed_row_loc_ind_19530] = as_transformed_row_elem_19525;\n            }\n        }\n    }\n    barrier(CLK_LOCAL_MEM_FENCE);\n    \n    int32_t mem_20024[Rx_19193];\n    int32_t mem_20028[Rx_19193];\n    int32_t mem_20038[Ry_19191 * Rx_19193];\n    int32_t ext_mem_in_20290[Ry_19191 * Rx_19193];\n    int32_t mem_20247[Ry_19191 * Rx_19193];\n    \n    for (int64_t i_20412 = 0; i_20412 < Ry_19191; i_20412++) {\n        for (int64_t i_20413 = 0; i_20413 < Rx_19193; i_20413++) {\n            int32_t tmp_20414 = ext_mem_20008[i_20412 * Rx_19193 + i_20413];\n            \n            ext_mem_in_20290[i_20412 * Rx_19193 + i_20413] = tmp_20414;\n        }\n    }\n    \n    int32_t ext_mem_20040[Ry_19191 * Rx_19193];\n    int32_t ext_mem_unused_20291[Ry_19191 * Rx_19193];\n    int32_t mem_param_20011[Ry_19191 * Rx_19193];\n    int32_t mem_param_out_20292[Ry_19191 * Rx_19193];\n    \n    for (int32_t i_14 = 0; i_14 < Ry_19191 * Rx_19193; i_14++)\n        mem_param_20011[i_14] = ext_mem_in_20290[i_14];\n    for (int32_t i_15 = 0; i_15 < Ry_19191 * Rx_19193; i_15++)\n        mem_param_out_20292[i_15] = mem_20247[i_15];\n    for (int64_t i_19536 = 0; i_19536 < Tk_19194; i_19536++) {\n        int64_t cmpop_x_19538 = kk_19441 + i_19536;\n        bool cond_19539 = slt64(cmpop_x_19538, pz2081U_9824);\n        \n        if (cond_19539 == 1) {\n            int64_t binop_y_19574 = (int64_t) 1 + Tk_19194;\n            int64_t binop_y_19585 = (int64_t) 1 + TxRx_19197;\n            int64_t binop_y_19586 = i_19536 * binop_y_19585;\n            int32_t ltid_flat_19567 = local_tid_20354;\n            int64_t ltid_y_19566 = sext_i32_i64(sext_i64_i32(ltid_pre_20358));\n            int64_t ltid_x_19565 = sext_i32_i64(sext_i64_i32(ltid_pre_20359));\n            int32_t mem_20014[Rx_19193];\n            int64_t binop_x_19572 = Rx_19193 * ltid_y_19566;\n            \n            for (int64_t i_19570 = 0", "; i_19570 < Rx_19193; i_19570++) {\n                int64_t binop_x_19573 = i_19570 + binop_x_19572;\n                int64_t binop_y_19575 = binop_x_19573 * binop_y_19574;\n                int64_t as_transformed_row_loc_ind_19576 = i_19536 + binop_y_19575;\n                \n                for (int64_t i_20419 = 0; i_20419 < (int64_t) 1; i_20419++) {\n                    int32_t tmp_20420 = ((__local int32_t *) color_20296)[as_transformed_row_loc_ind_19576 + i_20419];\n                    \n                    mem_20014[i_19570 + i_20419] = tmp_20420;\n                }\n            }\n            \n            int32_t mem_20018[Rx_19193];\n            int64_t binop_y_19583 = Rx_19193 * ltid_x_19565;\n            \n            for (int64_t i_19581 = 0; i_19581 < Rx_19193; i_19581++) {\n                int64_t binop_x_19584 = i_19581 + binop_y_19583;\n                int64_t as_transformed_row_loc_ind_19587 = binop_x_19584 + binop_y_19586;\n                \n                for (int64_t i_20422 = 0; i_20422 < (int64_t) 1; i_20422++) {\n                    int32_t tmp_20423 = ((__local int32_t *) color_20295)[as_transformed_row_loc_ind_19587 + i_20422];\n                    \n                    mem_20018[i_19581 + i_20422] = tmp_20423;\n                }\n            }\n            for (int64_t i_20424 = 0; i_20424 < Rx_19193; i_20424++) {\n                int32_t tmp_20425 = mem_20014[i_20424];\n                \n                mem_20024[i_20424] = tmp_20425;\n            }\n            for (int64_t i_20426 = 0; i_20426 < Rx_19193; i_20426++) {\n                int32_t tmp_20427 = mem_20018[i_20426];\n                \n                mem_20028[i_20426] = tmp_20427;\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            \n            bool loop_nonempty_19864 = slt64((int64_t) 0, Rx_19193);\n            int32_t ltid_flat_19617 = local_tid_20354;\n            int64_t ltid_y_19616 = sext_i32_i64(sext_i64_i32(ltid_pre_20358));\n            int64_t ltid_x_19615 = sext_i32_i64(sext_i64_i32(lt", "id_pre_20359));\n            \n            for (int64_t i_19622 = 0; i_19622 < Ry_19191; i_19622++) {\n                int32_t a_19628;\n                \n                if (loop_nonempty_19864 == 1) {\n                    int32_t x_19865 = mem_20024[i_19622];\n                    \n                    a_19628 = x_19865;\n                } else {\n                    a_19628 = 0;\n                }\n                for (int64_t i_19625 = 0; i_19625 < Rx_19193; i_19625++) {\n                    int32_t b_19629 = mem_20028[i_19625];\n                    int32_t c_19630 = mem_param_20011[i_19622 * Rx_19193 + i_19625];\n                    int32_t defunc_1_f_res_19633 = mul32(a_19628, b_19629);\n                    int32_t defunc_1_op_res_19636 = add32(c_19630, defunc_1_f_res_19633);\n                    \n                    mem_param_20011[i_19622 * Rx_19193 + i_19625] = defunc_1_op_res_19636;\n                }\n            }\n            for (int64_t i_20430 = 0; i_20430 < Ry_19191; i_20430++) {\n                for (int64_t i_20431 = 0; i_20431 < Rx_19193; i_20431++) {\n                    int32_t tmp_20432 = mem_param_20011[i_20430 * Rx_19193 + i_20431];\n                    \n                    mem_20038[i_20430 * Rx_19193 + i_20431] = tmp_20432;\n                }\n            }\n            barrier(CLK_LOCAL_MEM_FENCE);\n            for (int64_t i_20433 = 0; i_20433 < Ry_19191; i_20433++) {\n                for (int64_t i_20434 = 0; i_20434 < Rx_19193; i_20434++) {\n                    int32_t tmp_20435 = mem_20038[i_20433 * Rx_19193 + i_20434];\n                    \n                    mem_param_out_20292[i_20433 * Rx_19193 + i_20434] = tmp_20435;\n                }\n            }\n        } else {\n            for (int64_t i_20436 = 0; i_20436 < Ry_19191; i_20436++) {\n                for (int64_t i_20437 = 0; i_20437 < Rx_19193; i_20437++) {\n                    int32_t tmp_20438 = mem_param_20011[i_20436 * Rx_19193 + i_20437];\n                    \n                    mem_param_out_20292[i_204",
                                       "36 * Rx_19193 + i_20437] = tmp_20438;\n                }\n            }\n        }\n        \n        int32_t mem_param_tmp_20415[Ry_19191 * Rx_19193];\n        \n        for (int32_t i_16 = 0; i_16 < Ry_19191 * Rx_19193; i_16++)\n            mem_param_tmp_20415[i_16] = mem_param_out_20292[i_16];\n        \n        int32_t mem_param_out_tmp_20416[Ry_19191 * Rx_19193];\n        \n        for (int32_t i_17 = 0; i_17 < Ry_19191 * Rx_19193; i_17++)\n            mem_param_out_tmp_20416[i_17] = mem_param_20011[i_17];\n        for (int32_t i_18 = 0; i_18 < Ry_19191 * Rx_19193; i_18++)\n            mem_param_20011[i_18] = mem_param_tmp_20415[i_18];\n        for (int32_t i_19 = 0; i_19 < Ry_19191 * Rx_19193; i_19++)\n            mem_param_out_20292[i_19] = mem_param_out_tmp_20416[i_19];\n    }\n    for (int32_t i_20 = 0; i_20 < Ry_19191 * Rx_19193; i_20++)\n        ext_mem_20040[i_20] = mem_param_20011[i_20];\n    for (int32_t i_21 = 0; i_21 < Ry_19191 * Rx_19193; i_21++)\n        ext_mem_unused_20291[i_21] = mem_param_out_20292[i_21];\n    \n    int64_t slice_20441 = Tx_19192;\n    int64_t slice_20442 = Ty_19190 * slice_20441;\n    int64_t reg_tile_i_20439 = squot64(sext_i32_i64(local_tid_20354), slice_20441);\n    int64_t remnant_20443 = sext_i32_i64(local_tid_20354) - reg_tile_i_20439 * slice_20441;\n    int64_t reg_tile_i_20440 = remnant_20443;\n    int64_t remnant_20444 = remnant_20443 - reg_tile_i_20440;\n    int64_t tile_dim_start_20445 = Ry_19191 * (Ty_19190 * gid_y_19213 + reg_tile_i_20439);\n    int64_t tile_dim_start_20446 = Rx_19193 * (Tx_19192 * gid_x_19214 + reg_tile_i_20440);\n    \n    for (int64_t nest_i_20447 = 0; nest_i_20447 < Ry_19191; nest_i_20447++) {\n        for (int64_t nest_i_20448 = 0; nest_i_20448 < Rx_19193; nest_i_20448++) {\n            if (slt64(tile_dim_start_20445 + nest_i_20447, nz2080U_9823) && slt64(tile_dim_start_20446 + nest_i_20448, mz2082U_9825)) {\n                int32_t tmp_20449 = ext_mem_20040[nest_i_20447 * Rx_19193 + nest_i_20448];\n                \n             ", "   ((__global int32_t *) mem_20044)[(tile_dim_start_20445 + nest_i_20447) * mz2082U_9825 + (tile_dim_start_20446 + nest_i_20448)] = tmp_20449;\n            }\n        }\n    }\n    \n  error_9:\n    return;\n    #undef Ty_19190\n    #undef Ry_19191\n    #undef Tx_19192\n    #undef Rx_19193\n    #undef Tk_19194\n    #undef tk_div_tx_19195\n    #undef TxRx_19197\n    #undef TyRy_19198\n    #undef a_loc_szz_19203\n    #undef b_loc_szz_19208\n    #undef binop_y_19371\n    #undef binop_y_19382\n    #undef loop_nonempty_19869\n}\n__kernel void matmulzisegred_large_16049(__global int *global_failure, __local volatile int64_t *sync_arr_mem_20496_backing_aligned_0, __local volatile int64_t *red_arr_mem_20494_backing_aligned_1, int64_t nz2080U_9823, int64_t pz2081U_9824, int64_t mz2082U_9825, int64_t num_groups_16043, int64_t groups_per_segment_20480, int64_t elements_per_thread_20481, int64_t virt_num_groups_20482, int64_t threads_per_segment_20484, __global unsigned char *xss_mem_19926, __global unsigned char *mem_19930, __global unsigned char *mem_19935, __global unsigned char *segred_tmp_mem_20485, __global unsigned char *matmulzicounter_mem_20487)\n{\n    #define segred_group_sizze_16042 (matmulzisegred_group_sizze_15979)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict sync_arr_mem_20496_backing_1 = (__local volatile unsigned char *) sync_arr_mem_20496_backing_aligned_0;\n    __local volatile unsigned char *restrict red_arr_mem_20494_backing_0 = (__local volatile unsigned char *) red_arr_mem_20494_backing_aligned_1;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20490;\n    int64_t group_sizze_20493;\n    int32_t wave_sizze_20492;\n    int32_t group_tid_20491;\n    \n    local_tid_20490 = get_local_id(0);\n    group_sizze_20493 = get_local_size(0);\n    wave_sizze_20492 = LOCKSTEP_WIDTH;\n    group_tid_20491 = get_group_id(0);\n    \n    int32_t global_tid_20489 = group_tid_20491 * g", "roup_sizze_20493 + local_tid_20490;\n    int32_t phys_tid_16049 = global_tid_20489;\n    __local unsigned char *red_arr_mem_20494;\n    \n    red_arr_mem_20494 = (__local unsigned char *) red_arr_mem_20494_backing_0;\n    \n    __local unsigned char *sync_arr_mem_20496;\n    \n    sync_arr_mem_20496 = (__local unsigned char *) sync_arr_mem_20496_backing_1;\n    \n    int32_t phys_group_id_20498;\n    \n    phys_group_id_20498 = get_group_id(0);\n    \n    int32_t iterations_20499 = sdiv_up32(sext_i64_i32(virt_num_groups_20482) - phys_group_id_20498, sext_i64_i32(num_groups_16043));\n    \n    for (int32_t i_20500 = 0; i_20500 < iterations_20499; i_20500++) {\n        int32_t virt_group_id_20501 = phys_group_id_20498 + i_20500 * sext_i64_i32(num_groups_16043);\n        int32_t flat_segment_id_20502 = squot32(virt_group_id_20501, sext_i64_i32(groups_per_segment_20480));\n        int64_t global_tid_20503 = srem64(sext_i32_i64(virt_group_id_20501) * segred_group_sizze_16042 + sext_i32_i64(local_tid_20490), segred_group_sizze_16042 * groups_per_segment_20480);\n        int64_t slice_20504 = mz2082U_9825;\n        int64_t slice_20505 = nz2080U_9823 * slice_20504;\n        int64_t gtid_16046 = squot64(sext_i32_i64(flat_segment_id_20502), slice_20504);\n        int64_t remnant_20506 = sext_i32_i64(flat_segment_id_20502) - gtid_16046 * slice_20504;\n        int64_t gtid_16047 = remnant_20506;\n        int64_t remnant_20507 = remnant_20506 - gtid_16047;\n        int64_t gtid_16048;\n        int32_t x_acc_20508;\n        int64_t chunk_sizze_20509 = smin64(elements_per_thread_20481, sdiv_up64(pz2081U_9824 - global_tid_20503, threads_per_segment_20484));\n        int32_t x_16050;\n        int32_t x_16051;\n        \n        // neutral-initialise the accumulators\n        {\n            x_acc_20508 = 0;\n        }\n        for (int64_t i_20513 = 0; i_20513 < chunk_sizze_20509; i_20513++) {\n            gtid_16048 = global_tid_20503 + threads_per_segment_20484 * i_20513;\n            // apply map function\n            ",
                                       "{\n                int32_t x_16055 = ((__global int32_t *) xss_mem_19926)[gtid_16046 * pz2081U_9824 + gtid_16048];\n                int32_t x_16056 = ((__global int32_t *) mem_19930)[gtid_16047 * pz2081U_9824 + gtid_16048];\n                int32_t defunc_1_f_res_16057 = mul32(x_16055, x_16056);\n                \n                // save map-out results\n                { }\n                // load accumulator\n                {\n                    x_16050 = x_acc_20508;\n                }\n                // load new values\n                {\n                    x_16051 = defunc_1_f_res_16057;\n                }\n                // apply reduction operator\n                {\n                    int32_t defunc_1_op_res_16052 = add32(x_16050, x_16051);\n                    \n                    // store in accumulator\n                    {\n                        x_acc_20508 = defunc_1_op_res_16052;\n                    }\n                }\n            }\n        }\n        // to reduce current chunk, first store our result in memory\n        {\n            x_16050 = x_acc_20508;\n            ((__local int32_t *) red_arr_mem_20494)[sext_i32_i64(local_tid_20490)] = x_16050;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        \n        int32_t offset_20514;\n        int32_t skip_waves_20515 = 1;\n        int32_t x_20510;\n        int32_t x_20511;\n        \n        offset_20514 = 0;\n        // participating threads read initial accumulator\n        {\n            if (slt32(local_tid_20490, sext_i64_i32(segred_group_sizze_16042))) {\n                x_20510 = ((__local int32_t *) red_arr_mem_20494)[sext_i32_i64(local_tid_20490 + offset_20514)];\n            }\n        }\n        offset_20514 = 1;\n        while (slt32(offset_20514, wave_sizze_20492)) {\n            if (slt32(local_tid_20490 + offset_20514, sext_i64_i32(segred_group_sizze_16042)) && ((local_tid_20490 - squot32(local_tid_20490, wave_sizze_20492) * wave_sizze_20492) & (2 * offset_20514 - 1)) == 0) {\n                // read array element\n ", "               {\n                    x_20511 = ((volatile __local int32_t *) red_arr_mem_20494)[sext_i32_i64(local_tid_20490 + offset_20514)];\n                }\n                // apply reduction operation\n                {\n                    int32_t defunc_1_op_res_20512 = add32(x_20510, x_20511);\n                    \n                    x_20510 = defunc_1_op_res_20512;\n                }\n                // write result of operation\n                {\n                    ((volatile __local int32_t *) red_arr_mem_20494)[sext_i32_i64(local_tid_20490)] = x_20510;\n                }\n            }\n            offset_20514 *= 2;\n        }\n        while (slt32(skip_waves_20515, squot32(sext_i64_i32(segred_group_sizze_16042) + wave_sizze_20492 - 1, wave_sizze_20492))) {\n            barrier(CLK_LOCAL_MEM_FENCE);\n            offset_20514 = skip_waves_20515 * wave_sizze_20492;\n            if (slt32(local_tid_20490 + offset_20514, sext_i64_i32(segred_group_sizze_16042)) && ((local_tid_20490 - squot32(local_tid_20490, wave_sizze_20492) * wave_sizze_20492) == 0 && (squot32(local_tid_20490, wave_sizze_20492) & (2 * skip_waves_20515 - 1)) == 0)) {\n                // read array element\n                {\n                    x_20511 = ((__local int32_t *) red_arr_mem_20494)[sext_i32_i64(local_tid_20490 + offset_20514)];\n                }\n                // apply reduction operation\n                {\n                    int32_t defunc_1_op_res_20512 = add32(x_20510, x_20511);\n                    \n                    x_20510 = defunc_1_op_res_20512;\n                }\n                // write result of operation\n                {\n                    ((__local int32_t *) red_arr_mem_20494)[sext_i32_i64(local_tid_20490)] = x_20510;\n                }\n            }\n            skip_waves_20515 *= 2;\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // first thread saves the result in accumulator\n        {\n            if (sext_i32_i64(local_tid_20490) == (int64_t) 0) {\n                x_", "acc_20508 = x_20510;\n            }\n        }\n        if (groups_per_segment_20480 == (int64_t) 1) {\n            // first thread in group saves final result to memory\n            {\n                if (local_tid_20490 == 0) {\n                    ((__global int32_t *) mem_19935)[gtid_16046 * mz2082U_9825 + gtid_16047] = x_acc_20508;\n                }\n            }\n        } else {\n            int32_t old_counter_20516;\n            \n            // first thread in group saves group result to global memory\n            {\n                if (local_tid_20490 == 0) {\n                    ((__global int32_t *) segred_tmp_mem_20485)[sext_i32_i64(virt_group_id_20501)] = x_acc_20508;\n                    mem_fence_global();\n                    old_counter_20516 = atomic_add_i32_global(&((volatile __global int *) matmulzicounter_mem_20487)[sext_i32_i64(srem32(flat_segment_id_20502, 10240))], (int) 1);\n                    ((__local bool *) sync_arr_mem_20496)[(int64_t) 0] = old_counter_20516 == groups_per_segment_20480 - (int64_t) 1;\n                }\n            }\n            barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n            \n            bool is_last_group_20517 = ((__local bool *) sync_arr_mem_20496)[(int64_t) 0];\n            \n            if (is_last_group_20517) {\n                if (local_tid_20490 == 0) {\n                    old_counter_20516 = atomic_add_i32_global(&((volatile __global int *) matmulzicounter_mem_20487)[sext_i32_i64(srem32(flat_segment_id_20502, 10240))], (int) ((int64_t) 0 - groups_per_segment_20480));\n                }\n                // read in the per-group-results\n                {\n                    int64_t read_per_thread_20518 = sdiv_up64(groups_per_segment_20480, segred_group_sizze_16042);\n                    \n                    x_16050 = 0;\n                    for (int64_t i_20519 = 0; i_20519 < read_per_thread_20518; i_20519++) {\n                        int64_t group_res_id_20520 = sext_i32_i64(local_tid_20490) * read_per_thread_20518",
                                       " + i_20519;\n                        int64_t index_of_group_res_20521 = sext_i32_i64(flat_segment_id_20502) * groups_per_segment_20480 + group_res_id_20520;\n                        \n                        if (slt64(group_res_id_20520, groups_per_segment_20480)) {\n                            x_16051 = ((__global int32_t *) segred_tmp_mem_20485)[index_of_group_res_20521];\n                            \n                            int32_t defunc_1_op_res_16052 = add32(x_16050, x_16051);\n                            \n                            x_16050 = defunc_1_op_res_16052;\n                        }\n                    }\n                }\n                ((__local int32_t *) red_arr_mem_20494)[sext_i32_i64(local_tid_20490)] = x_16050;\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // reduce the per-group results\n                {\n                    int32_t offset_20522;\n                    int32_t skip_waves_20523 = 1;\n                    int32_t x_20510;\n                    int32_t x_20511;\n                    \n                    offset_20522 = 0;\n                    // participating threads read initial accumulator\n                    {\n                        if (slt32(local_tid_20490, sext_i64_i32(segred_group_sizze_16042))) {\n                            x_20510 = ((__local int32_t *) red_arr_mem_20494)[sext_i32_i64(local_tid_20490 + offset_20522)];\n                        }\n                    }\n                    offset_20522 = 1;\n                    while (slt32(offset_20522, wave_sizze_20492)) {\n                        if (slt32(local_tid_20490 + offset_20522, sext_i64_i32(segred_group_sizze_16042)) && ((local_tid_20490 - squot32(local_tid_20490, wave_sizze_20492) * wave_sizze_20492) & (2 * offset_20522 - 1)) == 0) {\n                            // read array element\n                            {\n                                x_20511 = ((volatile __local int32_t *) red_arr_mem_20494)[sext_i32_i64(local_tid_20490 + offset_20522)];\n             ", "               }\n                            // apply reduction operation\n                            {\n                                int32_t defunc_1_op_res_20512 = add32(x_20510, x_20511);\n                                \n                                x_20510 = defunc_1_op_res_20512;\n                            }\n                            // write result of operation\n                            {\n                                ((volatile __local int32_t *) red_arr_mem_20494)[sext_i32_i64(local_tid_20490)] = x_20510;\n                            }\n                        }\n                        offset_20522 *= 2;\n                    }\n                    while (slt32(skip_waves_20523, squot32(sext_i64_i32(segred_group_sizze_16042) + wave_sizze_20492 - 1, wave_sizze_20492))) {\n                        barrier(CLK_LOCAL_MEM_FENCE);\n                        offset_20522 = skip_waves_20523 * wave_sizze_20492;\n                        if (slt32(local_tid_20490 + offset_20522, sext_i64_i32(segred_group_sizze_16042)) && ((local_tid_20490 - squot32(local_tid_20490, wave_sizze_20492) * wave_sizze_20492) == 0 && (squot32(local_tid_20490, wave_sizze_20492) & (2 * skip_waves_20523 - 1)) == 0)) {\n                            // read array element\n                            {\n                                x_20511 = ((__local int32_t *) red_arr_mem_20494)[sext_i32_i64(local_tid_20490 + offset_20522)];\n                            }\n                            // apply reduction operation\n                            {\n                                int32_t defunc_1_op_res_20512 = add32(x_20510, x_20511);\n                                \n                                x_20510 = defunc_1_op_res_20512;\n                            }\n                            // write result of operation\n                            {\n                                ((__local int32_t *) red_arr_mem_20494)[sext_i32_i64(local_tid_20490)] = x_20510;\n                            }\n                 ", "       }\n                        skip_waves_20523 *= 2;\n                    }\n                    // and back to memory with the final result\n                    {\n                        if (local_tid_20490 == 0) {\n                            ((__global int32_t *) mem_19935)[gtid_16046 * mz2082U_9825 + gtid_16047] = x_20510;\n                        }\n                    }\n                }\n            }\n        }\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_16042\n}\n__kernel void matmulzisegred_small_16049(__global int *global_failure, __local volatile int64_t *red_arr_mem_20457_backing_aligned_0, int64_t nz2080U_9823, int64_t pz2081U_9824, int64_t mz2082U_9825, int64_t num_groups_16043, int64_t segment_sizze_nonzzero_20450, __global unsigned char *xss_mem_19926, __global unsigned char *mem_19930, __global unsigned char *mem_19935)\n{\n    #define segred_group_sizze_16042 (matmulzisegred_group_sizze_15979)\n    \n    const int block_dim0 = 0;\n    const int block_dim1 = 1;\n    const int block_dim2 = 2;\n    __local volatile unsigned char *restrict red_arr_mem_20457_backing_0 = (__local volatile unsigned char *) red_arr_mem_20457_backing_aligned_0;\n    \n    if (*global_failure >= 0)\n        return;\n    \n    int32_t local_tid_20453;\n    int64_t group_sizze_20456;\n    int32_t wave_sizze_20455;\n    int32_t group_tid_20454;\n    \n    local_tid_20453 = get_local_id(0);\n    group_sizze_20456 = get_local_size(0);\n    wave_sizze_20455 = LOCKSTEP_WIDTH;\n    group_tid_20454 = get_group_id(0);\n    \n    int32_t global_tid_20452 = group_tid_20454 * group_sizze_20456 + local_tid_20453;\n    int32_t phys_tid_16049 = global_tid_20452;\n    __local unsigned char *red_arr_mem_20457;\n    \n    red_arr_mem_20457 = (__local unsigned char *) red_arr_mem_20457_backing_0;\n    \n    int32_t phys_group_id_20459;\n    \n    phys_group_id_20459 = get_group_id(0);\n    \n    int32_t iterations_20460 = sdiv_up32(sext_i64_i32(sdiv_up",
                                       "64(nz2080U_9823 * mz2082U_9825, squot64(segred_group_sizze_16042, segment_sizze_nonzzero_20450))) - phys_group_id_20459, sext_i64_i32(num_groups_16043));\n    \n    for (int32_t i_20461 = 0; i_20461 < iterations_20460; i_20461++) {\n        int32_t virt_group_id_20462 = phys_group_id_20459 + i_20461 * sext_i64_i32(num_groups_16043);\n        int64_t slice_20463 = mz2082U_9825;\n        int64_t slice_20464 = nz2080U_9823 * slice_20463;\n        int64_t gtid_16046 = squot64(squot64(sext_i32_i64(local_tid_20453), segment_sizze_nonzzero_20450) + sext_i32_i64(virt_group_id_20462) * squot64(segred_group_sizze_16042, segment_sizze_nonzzero_20450), slice_20463);\n        int64_t remnant_20465 = squot64(sext_i32_i64(local_tid_20453), segment_sizze_nonzzero_20450) + sext_i32_i64(virt_group_id_20462) * squot64(segred_group_sizze_16042, segment_sizze_nonzzero_20450) - gtid_16046 * slice_20463;\n        int64_t gtid_16047 = remnant_20465;\n        int64_t remnant_20466 = remnant_20465 - gtid_16047;\n        int64_t gtid_16048 = srem64(sext_i32_i64(local_tid_20453), pz2081U_9824);\n        \n        // apply map function if in bounds\n        {\n            if (slt64((int64_t) 0, pz2081U_9824) && ((slt64(gtid_16046, nz2080U_9823) && slt64(gtid_16047, mz2082U_9825)) && slt64(sext_i32_i64(local_tid_20453), pz2081U_9824 * squot64(segred_group_sizze_16042, segment_sizze_nonzzero_20450)))) {\n                int32_t x_16055 = ((__global int32_t *) xss_mem_19926)[gtid_16046 * pz2081U_9824 + gtid_16048];\n                int32_t x_16056 = ((__global int32_t *) mem_19930)[gtid_16047 * pz2081U_9824 + gtid_16048];\n                int32_t defunc_1_f_res_16057 = mul32(x_16055, x_16056);\n                \n                // save map-out results\n                { }\n                // save results to be reduced\n                {\n                    ((__local int32_t *) red_arr_mem_20457)[sext_i32_i64(local_tid_20453)] = defunc_1_f_res_16057;\n                }\n            } else {\n                ((__local int32", "_t *) red_arr_mem_20457)[sext_i32_i64(local_tid_20453)] = 0;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        if (slt64((int64_t) 0, pz2081U_9824)) {\n            // perform segmented scan to imitate reduction\n            {\n                int32_t x_16050;\n                int32_t x_16051;\n                int32_t x_20467;\n                int32_t x_20468;\n                bool ltid_in_bounds_20470 = slt64(sext_i32_i64(local_tid_20453), pz2081U_9824 * squot64(segred_group_sizze_16042, segment_sizze_nonzzero_20450));\n                int32_t skip_threads_20471;\n                \n                // read input for in-block scan\n                {\n                    if (ltid_in_bounds_20470) {\n                        x_16051 = ((volatile __local int32_t *) red_arr_mem_20457)[sext_i32_i64(local_tid_20453)];\n                        if ((local_tid_20453 - squot32(local_tid_20453, 32) * 32) == 0) {\n                            x_16050 = x_16051;\n                        }\n                    }\n                }\n                // in-block scan (hopefully no barriers needed)\n                {\n                    skip_threads_20471 = 1;\n                    while (slt32(skip_threads_20471, 32)) {\n                        bool thread_active_20472 = sle32(skip_threads_20471, local_tid_20453 - squot32(local_tid_20453, 32) * 32) && ltid_in_bounds_20470;\n                        \n                        if (thread_active_20472) {\n                            // read operands\n                            {\n                                x_16050 = ((volatile __local int32_t *) red_arr_mem_20457)[sext_i32_i64(local_tid_20453) - sext_i32_i64(skip_threads_20471)];\n                            }\n                        }\n                        // perform operation\n                        {\n                            bool inactive_20473 = slt64(srem64(sext_i32_i64(local_tid_20453), pz2081U_9824), sext_i32_i64(local_tid_20453) - sext_i32_i64(local_tid_20453 - skip_threads_20471))", ";\n                            \n                            if (thread_active_20472 && inactive_20473) {\n                                x_16050 = x_16051;\n                            }\n                            if (thread_active_20472) {\n                                if (!inactive_20473) {\n                                    int32_t defunc_1_op_res_16052 = add32(x_16050, x_16051);\n                                    \n                                    x_16050 = defunc_1_op_res_16052;\n                                }\n                            }\n                        }\n                        if (sle32(wave_sizze_20455, skip_threads_20471)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        if (thread_active_20472) {\n                            // write result\n                            {\n                                ((volatile __local int32_t *) red_arr_mem_20457)[sext_i32_i64(local_tid_20453)] = x_16050;\n                                x_16051 = x_16050;\n                            }\n                        }\n                        if (sle32(wave_sizze_20455, skip_threads_20471)) {\n                            barrier(CLK_LOCAL_MEM_FENCE);\n                        }\n                        skip_threads_20471 *= 2;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // last thread of block 'i' writes its result to offset 'i'\n                {\n                    if ((local_tid_20453 - squot32(local_tid_20453, 32) * 32) == 31 && ltid_in_bounds_20470) {\n                        ((volatile __local int32_t *) red_arr_mem_20457)[sext_i32_i64(squot32(local_tid_20453, 32))] = x_16050;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // scan the first block, after which offset 'i' contains carry-in for block 'i+1'\n                {\n                    int32_t skip_threads_20474;\n                    \n    ",
                                       "                // read input for in-block scan\n                    {\n                        if (squot32(local_tid_20453, 32) == 0 && ltid_in_bounds_20470) {\n                            x_20468 = ((volatile __local int32_t *) red_arr_mem_20457)[sext_i32_i64(local_tid_20453)];\n                            if ((local_tid_20453 - squot32(local_tid_20453, 32) * 32) == 0) {\n                                x_20467 = x_20468;\n                            }\n                        }\n                    }\n                    // in-block scan (hopefully no barriers needed)\n                    {\n                        skip_threads_20474 = 1;\n                        while (slt32(skip_threads_20474, 32)) {\n                            bool thread_active_20475 = sle32(skip_threads_20474, local_tid_20453 - squot32(local_tid_20453, 32) * 32) && (squot32(local_tid_20453, 32) == 0 && ltid_in_bounds_20470);\n                            \n                            if (thread_active_20475) {\n                                // read operands\n                                {\n                                    x_20467 = ((volatile __local int32_t *) red_arr_mem_20457)[sext_i32_i64(local_tid_20453) - sext_i32_i64(skip_threads_20474)];\n                                }\n                            }\n                            // perform operation\n                            {\n                                bool inactive_20476 = slt64(srem64(sext_i32_i64(local_tid_20453 * 32 + 32 - 1), pz2081U_9824), sext_i32_i64(local_tid_20453 * 32 + 32 - 1) - sext_i32_i64((local_tid_20453 - skip_threads_20474) * 32 + 32 - 1));\n                                \n                                if (thread_active_20475 && inactive_20476) {\n                                    x_20467 = x_20468;\n                                }\n                                if (thread_active_20475) {\n                                    if (!inactive_20476) {\n                                        int32_t defunc_1_op_res_2046", "9 = add32(x_20467, x_20468);\n                                        \n                                        x_20467 = defunc_1_op_res_20469;\n                                    }\n                                }\n                            }\n                            if (sle32(wave_sizze_20455, skip_threads_20474)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            if (thread_active_20475) {\n                                // write result\n                                {\n                                    ((volatile __local int32_t *) red_arr_mem_20457)[sext_i32_i64(local_tid_20453)] = x_20467;\n                                    x_20468 = x_20467;\n                                }\n                            }\n                            if (sle32(wave_sizze_20455, skip_threads_20474)) {\n                                barrier(CLK_LOCAL_MEM_FENCE);\n                            }\n                            skip_threads_20474 *= 2;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                \n                bool no_carry_in_20477 = squot32(local_tid_20453, 32) == 0 || !ltid_in_bounds_20470;\n                \n                // carry-in for every block except the first\n                {\n                    // read operands\n                    {\n                        if (!no_carry_in_20477) {\n                            x_16051 = x_16050;\n                            x_16050 = ((__local int32_t *) red_arr_mem_20457)[sext_i32_i64(squot32(local_tid_20453, 32)) - (int64_t) 1];\n                        }\n                    }\n                    // perform operation\n                    {\n                        bool inactive_20478 = slt64(srem64(sext_i32_i64(local_tid_20453), pz2081U_9824), sext_i32_i64(local_tid_20453) - sext_i32_i64(squot32(local_tid_20453, 32) * 32 - 1));\n                        \n                        if (!no", "_carry_in_20477) {\n                            if (inactive_20478) {\n                                x_16050 = x_16051;\n                            }\n                        }\n                        if (!no_carry_in_20477) {\n                            if (!inactive_20478) {\n                                int32_t defunc_1_op_res_16052 = add32(x_16050, x_16051);\n                                \n                                x_16050 = defunc_1_op_res_16052;\n                            }\n                        }\n                    }\n                    // write final result\n                    {\n                        if (!no_carry_in_20477) {\n                            ((__local int32_t *) red_arr_mem_20457)[sext_i32_i64(local_tid_20453)] = x_16050;\n                        }\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n                // restore correct values for first block\n                {\n                    if (squot32(local_tid_20453, 32) == 0 && ltid_in_bounds_20470) {\n                        ((__local int32_t *) red_arr_mem_20457)[sext_i32_i64(local_tid_20453)] = x_16051;\n                    }\n                }\n                barrier(CLK_LOCAL_MEM_FENCE);\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        // save final values of segments\n        {\n            if (slt64(sext_i32_i64(virt_group_id_20462) * squot64(segred_group_sizze_16042, segment_sizze_nonzzero_20450) + sext_i32_i64(local_tid_20453), nz2080U_9823 * mz2082U_9825) && slt64(sext_i32_i64(local_tid_20453), squot64(segred_group_sizze_16042, segment_sizze_nonzzero_20450))) {\n                int32_t tmp_20479 = ((__local int32_t *) red_arr_mem_20457)[(sext_i32_i64(local_tid_20453) + (int64_t) 1) * segment_sizze_nonzzero_20450 - (int64_t) 1];\n                \n                ((__global int32_t *) mem_19935)[squot64(sext_i32_i64(virt_group_id_20462) * squot64(segred_group_sizze_16042, segment_sizze_nonzzero_20450) + sext_i32_i64(local_", "tid_20453), mz2082U_9825) * mz2082U_9825 + (sext_i32_i64(virt_group_id_20462) * squot64(segred_group_sizze_16042, segment_sizze_nonzzero_20450) + sext_i32_i64(local_tid_20453) - squot64(sext_i32_i64(virt_group_id_20462) * squot64(segred_group_sizze_16042, segment_sizze_nonzzero_20450) + sext_i32_i64(local_tid_20453), mz2082U_9825) * mz2082U_9825)] = tmp_20479;\n            }\n        }\n        barrier(CLK_LOCAL_MEM_FENCE);\n        barrier(CLK_GLOBAL_MEM_FENCE | CLK_LOCAL_MEM_FENCE);\n    }\n    \n  error_1:\n    return;\n    #undef segred_group_sizze_16042\n}\n", NULL};
static const char *tuning_param_names[] = {"make_transposed_quotient_codewords_non_opaque.segmap_group_size_16363", "make_transposed_quotient_codewords_non_opaque.segmap_group_size_16967", "make_transposed_quotient_codewords_non_opaque.segmap_group_size_17377", "make_transposed_quotient_codewords_non_opaque.segmap_group_size_17460", "make_transposed_quotient_codewords_non_opaque.segmap_group_size_17623", "make_transposed_quotient_codewords_non_opaque.segmap_num_groups_16365", "make_transposed_quotient_codewords_non_opaque.segmap_num_groups_16969", "make_transposed_quotient_codewords_non_opaque.segmap_num_groups_17379", "make_transposed_quotient_codewords_non_opaque.segred_group_size_17421", "make_transposed_quotient_codewords_non_opaque.segred_group_size_17661", "make_transposed_quotient_codewords_non_opaque.segred_num_groups_17423", "make_transposed_quotient_codewords_non_opaque.segred_num_groups_17663", "make_transposed_quotient_codewords_non_opaque.suff_intra_par_1", "make_transposed_quotient_codewords_non_opaque.suff_intra_par_3", "make_transposed_quotient_codewords_non_opaque.suff_outer_par_0", "make_transposed_quotient_codewords_non_opaque.suff_outer_par_2", "make_transposed_quotient_codewords_non_opaque.suff_outer_par_4", "matmul.Rx_19188", "matmul.Ry_19189", "matmul.Tk_19185", "matmul.Tx_19186", "matmul.Ty_19187", "matmul.segmap_group_size_15916", "matmul.segmap_num_groups_15918", "matmul.segred_group_size_15979", "matmul.segred_num_groups_15981", "matmul.suff_outer_par_0", "matmul.suff_outer_par_1"};
static const char *tuning_param_vars[] = {"make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16363", "make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16967", "make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17377", "make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17460", "make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17623", "make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16365", "make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16969", "make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_17379", "make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17421", "make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17661", "make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17423", "make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17663", "make_transposed_quotient_codewords_non_opaquezisuff_intra_par_1", "make_transposed_quotient_codewords_non_opaquezisuff_intra_par_3", "make_transposed_quotient_codewords_non_opaquezisuff_outer_par_0", "make_transposed_quotient_codewords_non_opaquezisuff_outer_par_2", "make_transposed_quotient_codewords_non_opaquezisuff_outer_par_4", "matmulziRx_19188", "matmulziRy_19189", "matmulziTk_19185", "matmulziTx_19186", "matmulziTy_19187", "matmulzisegmap_group_sizze_15916", "matmulzisegmap_num_groups_15918", "matmulzisegred_group_sizze_15979", "matmulzisegred_num_groups_15981", "matmulzisuff_outer_par_0", "matmulzisuff_outer_par_1"};
static const char *tuning_param_classes[] = {"group_size", "group_size", "group_size", "group_size", "group_size", "num_groups", "num_groups", "num_groups", "group_size", "group_size", "num_groups", "num_groups", "threshold(32, !make_transposed_quotient_codewords_non_opaque.suff_outer_par_0)", "threshold(32, !make_transposed_quotient_codewords_non_opaque.suff_outer_par_2 !make_transposed_quotient_codewords_non_opaque.suff_outer_par_0 !make_transposed_quotient_codewords_non_opaque.suff_intra_par_1)", "threshold(def, )", "threshold(def, !make_transposed_quotient_codewords_non_opaque.suff_outer_par_0 !make_transposed_quotient_codewords_non_opaque.suff_intra_par_1)", "threshold(def, !make_transposed_quotient_codewords_non_opaque.suff_outer_par_2 !make_transposed_quotient_codewords_non_opaque.suff_intra_par_3 !make_transposed_quotient_codewords_non_opaque.suff_outer_par_0 !make_transposed_quotient_codewords_non_opaque.suff_intra_par_1)", "reg_tile_size", "reg_tile_size", "tile_size", "tile_size", "tile_size", "group_size", "num_groups", "group_size", "num_groups", "threshold(def, )", "threshold(def, !matmul.suff_outer_par_0)"};
struct tuning_params {
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16363;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16967;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17377;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17460;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17623;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16365;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16969;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_17379;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17421;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17661;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17423;
    int64_t *make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17663;
    int64_t *make_transposed_quotient_codewords_non_opaquezisuff_intra_par_1;
    int64_t *make_transposed_quotient_codewords_non_opaquezisuff_intra_par_3;
    int64_t *make_transposed_quotient_codewords_non_opaquezisuff_outer_par_0;
    int64_t *make_transposed_quotient_codewords_non_opaquezisuff_outer_par_2;
    int64_t *make_transposed_quotient_codewords_non_opaquezisuff_outer_par_4;
    int64_t *matmulziRx_19188;
    int64_t *matmulziRy_19189;
    int64_t *matmulziTk_19185;
    int64_t *matmulziTx_19186;
    int64_t *matmulziTy_19187;
    int64_t *matmulzisegmap_group_sizze_15916;
    int64_t *matmulzisegmap_num_groups_15918;
    int64_t *matmulzisegred_group_sizze_15979;
    int64_t *matmulzisegred_num_groups_15981;
    int64_t *matmulzisuff_outer_par_0;
    int64_t *matmulzisuff_outer_par_1;
};
=======
>>>>>>> d23c9a2 (ispc)
struct futhark_context_config {
    int in_use;
    int debugging;
    int profiling;
    int num_threads;
    const char *cache_fname;
};
struct futhark_context_config *futhark_context_config_new(void)
{
    struct futhark_context_config *cfg = (struct futhark_context_config *) malloc(sizeof(struct futhark_context_config));
    
    if (cfg == NULL)
        return NULL;
    cfg->in_use = 0;
    cfg->debugging = 0;
    cfg->profiling = 0;
    cfg->cache_fname = NULL;
    cfg->num_threads = 0;
    return cfg;
}
void futhark_context_config_free(struct futhark_context_config *cfg)
{
    assert(!cfg->in_use);
    free(cfg);
}
void futhark_context_config_set_debugging(struct futhark_context_config *cfg, int detail)
{
    cfg->debugging = detail;
}
void futhark_context_config_set_profiling(struct futhark_context_config *cfg, int flag)
{
    cfg->profiling = flag;
}
void futhark_context_config_set_logging(struct futhark_context_config *cfg, int detail)
{
    // Does nothing for this backend.
    (void) cfg;
    (void) detail;
}
void futhark_context_config_set_num_threads(struct futhark_context_config *cfg, int n)
{
    cfg->num_threads = n;
}
struct futhark_context {
    struct futhark_context_config *cfg;
    struct scheduler scheduler;
    int detail_memory;
    int debugging;
    int profiling;
    int profiling_paused;
    int logging;
    lock_t lock;
    char *error;
    lock_t error_lock;
    FILE *log;
    int total_runs;
    long total_runtime;
    int64_t peak_mem_usage_default;
    int64_t cur_mem_usage_default;
    struct {
        int dummy;
    } constants;
<<<<<<< HEAD
    struct memblock_device make_transposed_quotient_codewords_non_opaquezicounter_mem_20779;
    struct memblock_device make_transposed_quotient_codewords_non_opaquezicounter_mem_20925;
    struct memblock_device matmulzicounter_mem_20506;
    int total_runs;
    long total_runtime;
    cl_kernel gpu_map_transpose_i32;
    cl_kernel gpu_map_transpose_i32_low_height;
    cl_kernel gpu_map_transpose_i32_low_width;
    cl_kernel gpu_map_transpose_i32_small;
    cl_kernel gpu_map_transpose_i64;
    cl_kernel gpu_map_transpose_i64_low_height;
    cl_kernel gpu_map_transpose_i64_low_width;
    cl_kernel gpu_map_transpose_i64_small;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_16576;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_18454;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_19105;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_19175;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegred_large_18983;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegred_large_19145;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegred_small_18983;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegred_small_19145;
    cl_kernel matmulzisegmap_15956;
    cl_kernel matmulzisegmap_intragroup_19234;
    cl_kernel matmulzisegred_large_16066;
    cl_kernel matmulzisegred_small_16066;
    int64_t copy_dev_to_dev_total_runtime;
    int copy_dev_to_dev_runs;
    int64_t copy_dev_to_host_total_runtime;
    int copy_dev_to_host_runs;
    int64_t copy_host_to_dev_total_runtime;
    int copy_host_to_dev_runs;
    int64_t copy_scalar_to_dev_total_runtime;
    int copy_scalar_to_dev_runs;
    int64_t copy_scalar_from_dev_total_runtime;
    int copy_scalar_from_dev_runs;
    int64_t gpu_map_transpose_i32_total_runtime;
    int gpu_map_transpose_i32_runs;
    int64_t gpu_map_transpose_i32_low_height_total_runtime;
    int gpu_map_transpose_i32_low_height_runs;
    int64_t gpu_map_transpose_i32_low_width_total_runtime;
    int gpu_map_transpose_i32_low_width_runs;
    int64_t gpu_map_transpose_i32_small_total_runtime;
    int gpu_map_transpose_i32_small_runs;
    int64_t gpu_map_transpose_i64_total_runtime;
    int gpu_map_transpose_i64_runs;
    int64_t gpu_map_transpose_i64_low_height_total_runtime;
    int gpu_map_transpose_i64_low_height_runs;
    int64_t gpu_map_transpose_i64_low_width_total_runtime;
    int gpu_map_transpose_i64_low_width_runs;
    int64_t gpu_map_transpose_i64_small_total_runtime;
    int gpu_map_transpose_i64_small_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_16576_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_16576_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_18454_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_18454_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_19105_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_19105_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_19175_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_19175_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegred_large_18983_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegred_large_18983_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegred_large_19145_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegred_large_19145_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegred_small_18983_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegred_small_18983_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegred_small_19145_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegred_small_19145_runs;
    int64_t matmulzisegmap_15956_total_runtime;
    int matmulzisegmap_15956_runs;
    int64_t matmulzisegmap_intragroup_19234_total_runtime;
    int matmulzisegmap_intragroup_19234_runs;
    int64_t matmulzisegred_large_16066_total_runtime;
    int matmulzisegred_large_16066_runs;
    int64_t matmulzisegred_small_16066_total_runtime;
    int matmulzisegred_small_16066_runs;
    cl_mem global_failure;
    cl_mem global_failure_args;
    struct opencl_context opencl;
    struct tuning_params tuning_params;
    cl_int failure_is_an_option;
||||||| parent of d23c9a2 (ispc)
    struct memblock_device make_transposed_quotient_codewords_non_opaquezicounter_mem_20760;
    struct memblock_device make_transposed_quotient_codewords_non_opaquezicounter_mem_20906;
    struct memblock_device matmulzicounter_mem_20487;
    int total_runs;
    long total_runtime;
    cl_kernel gpu_map_transpose_i32;
    cl_kernel gpu_map_transpose_i32_low_height;
    cl_kernel gpu_map_transpose_i32_low_width;
    cl_kernel gpu_map_transpose_i32_small;
    cl_kernel gpu_map_transpose_i64;
    cl_kernel gpu_map_transpose_i64_low_height;
    cl_kernel gpu_map_transpose_i64_low_width;
    cl_kernel gpu_map_transpose_i64_small;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_16557;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_18435;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_19086;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_19156;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegred_large_18964;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegred_large_19126;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegred_small_18964;
    cl_kernel make_transposed_quotient_codewords_non_opaquezisegred_small_19126;
    cl_kernel matmulzisegmap_15939;
    cl_kernel matmulzisegmap_intragroup_19215;
    cl_kernel matmulzisegred_large_16049;
    cl_kernel matmulzisegred_small_16049;
    int64_t copy_dev_to_dev_total_runtime;
    int copy_dev_to_dev_runs;
    int64_t copy_dev_to_host_total_runtime;
    int copy_dev_to_host_runs;
    int64_t copy_host_to_dev_total_runtime;
    int copy_host_to_dev_runs;
    int64_t copy_scalar_to_dev_total_runtime;
    int copy_scalar_to_dev_runs;
    int64_t copy_scalar_from_dev_total_runtime;
    int copy_scalar_from_dev_runs;
    int64_t gpu_map_transpose_i32_total_runtime;
    int gpu_map_transpose_i32_runs;
    int64_t gpu_map_transpose_i32_low_height_total_runtime;
    int gpu_map_transpose_i32_low_height_runs;
    int64_t gpu_map_transpose_i32_low_width_total_runtime;
    int gpu_map_transpose_i32_low_width_runs;
    int64_t gpu_map_transpose_i32_small_total_runtime;
    int gpu_map_transpose_i32_small_runs;
    int64_t gpu_map_transpose_i64_total_runtime;
    int gpu_map_transpose_i64_runs;
    int64_t gpu_map_transpose_i64_low_height_total_runtime;
    int gpu_map_transpose_i64_low_height_runs;
    int64_t gpu_map_transpose_i64_low_width_total_runtime;
    int gpu_map_transpose_i64_low_width_runs;
    int64_t gpu_map_transpose_i64_small_total_runtime;
    int gpu_map_transpose_i64_small_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_16557_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_16557_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_18435_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_18435_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_19086_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_19086_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_19156_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_19156_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegred_large_18964_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegred_large_18964_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegred_large_19126_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegred_large_19126_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegred_small_18964_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegred_small_18964_runs;
    int64_t make_transposed_quotient_codewords_non_opaquezisegred_small_19126_total_runtime;
    int make_transposed_quotient_codewords_non_opaquezisegred_small_19126_runs;
    int64_t matmulzisegmap_15939_total_runtime;
    int matmulzisegmap_15939_runs;
    int64_t matmulzisegmap_intragroup_19215_total_runtime;
    int matmulzisegmap_intragroup_19215_runs;
    int64_t matmulzisegred_large_16049_total_runtime;
    int matmulzisegred_large_16049_runs;
    int64_t matmulzisegred_small_16049_total_runtime;
    int matmulzisegred_small_16049_runs;
    cl_mem global_failure;
    cl_mem global_failure_args;
    struct opencl_context opencl;
    struct tuning_params tuning_params;
    cl_int failure_is_an_option;
=======
    int64_t *futhark_mc_segmap_parloop_18434_total_runtime;
    int *futhark_mc_segmap_parloop_18434_runs;
    int64_t *futhark_mc_segmap_parloop_18434_iter;
    int64_t futhark_mc_segmap_parloop_18434_total_total_runtime;
    int futhark_mc_segmap_parloop_18434_total_runs;
    int64_t futhark_mc_segmap_parloop_18434_total_iter;
    int64_t *futhark_mc_segmap_task_18432_total_runtime;
    int *futhark_mc_segmap_task_18432_runs;
    int64_t *futhark_mc_segmap_task_18432_iter;
    int64_t futhark_mc_segmap_task_18432_total_time;
    int64_t futhark_mc_segmap_task_18432_total_iter;
    int64_t *futhark_mc_segmap_parloop_18471_total_runtime;
    int *futhark_mc_segmap_parloop_18471_runs;
    int64_t *futhark_mc_segmap_parloop_18471_iter;
    int64_t futhark_mc_segmap_parloop_18471_total_total_runtime;
    int futhark_mc_segmap_parloop_18471_total_runs;
    int64_t futhark_mc_segmap_parloop_18471_total_iter;
    int64_t *futhark_mc_segmap_task_18469_total_runtime;
    int *futhark_mc_segmap_task_18469_runs;
    int64_t *futhark_mc_segmap_task_18469_iter;
    int64_t futhark_mc_segmap_task_18469_total_time;
    int64_t futhark_mc_segmap_task_18469_total_iter;
    int64_t *futhark_mc_segmap_parloop_18455_total_runtime;
    int *futhark_mc_segmap_parloop_18455_runs;
    int64_t *futhark_mc_segmap_parloop_18455_iter;
    int64_t futhark_mc_segmap_parloop_18455_total_total_runtime;
    int futhark_mc_segmap_parloop_18455_total_runs;
    int64_t futhark_mc_segmap_parloop_18455_total_iter;
    int64_t *futhark_mc_segmap_nested_task_18453_total_runtime;
    int *futhark_mc_segmap_nested_task_18453_runs;
    int64_t *futhark_mc_segmap_nested_task_18453_iter;
    int64_t *futhark_mc_segmap_parloop_18494_total_runtime;
    int *futhark_mc_segmap_parloop_18494_runs;
    int64_t *futhark_mc_segmap_parloop_18494_iter;
    int64_t futhark_mc_segmap_parloop_18494_total_total_runtime;
    int futhark_mc_segmap_parloop_18494_total_runs;
    int64_t futhark_mc_segmap_parloop_18494_total_iter;
    int64_t *futhark_mc_segmap_task_18492_total_runtime;
    int *futhark_mc_segmap_task_18492_runs;
    int64_t *futhark_mc_segmap_task_18492_iter;
    int64_t futhark_mc_segmap_task_18492_total_time;
    int64_t futhark_mc_segmap_task_18492_total_iter;
    int64_t *futhark_mc_segmap_parloop_18543_total_runtime;
    int *futhark_mc_segmap_parloop_18543_runs;
    int64_t *futhark_mc_segmap_parloop_18543_iter;
    int64_t futhark_mc_segmap_parloop_18543_total_total_runtime;
    int futhark_mc_segmap_parloop_18543_total_runs;
    int64_t futhark_mc_segmap_parloop_18543_total_iter;
    int64_t *futhark_mc_segmap_task_18541_total_runtime;
    int *futhark_mc_segmap_task_18541_runs;
    int64_t *futhark_mc_segmap_task_18541_iter;
    int64_t futhark_mc_segmap_task_18541_total_time;
    int64_t futhark_mc_segmap_task_18541_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_18584_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_18584_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_18584_iter;
    int64_t futhark_mc_segred_stage_1_parloop_18584_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_18584_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_18584_total_iter;
    int64_t *futhark_mc_segred_task_18579_total_runtime;
    int *futhark_mc_segred_task_18579_runs;
    int64_t *futhark_mc_segred_task_18579_iter;
    int64_t futhark_mc_segred_task_18579_total_time;
    int64_t futhark_mc_segred_task_18579_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_18617_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_18617_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_18617_iter;
    int64_t futhark_mc_segred_stage_1_parloop_18617_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_18617_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_18617_total_iter;
    int64_t *futhark_mc_segred_task_18612_total_runtime;
    int *futhark_mc_segred_task_18612_runs;
    int64_t *futhark_mc_segred_task_18612_iter;
    int64_t futhark_mc_segred_task_18612_total_time;
    int64_t futhark_mc_segred_task_18612_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_18600_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_18600_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_18600_iter;
    int64_t futhark_mc_segred_stage_1_parloop_18600_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_18600_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_18600_total_iter;
    int64_t *futhark_mc_segred_nested_task_18595_total_runtime;
    int *futhark_mc_segred_nested_task_18595_runs;
    int64_t *futhark_mc_segred_nested_task_18595_iter;
    int64_t *futhark_mc_segmap_parloop_18567_total_runtime;
    int *futhark_mc_segmap_parloop_18567_runs;
    int64_t *futhark_mc_segmap_parloop_18567_iter;
    int64_t futhark_mc_segmap_parloop_18567_total_total_runtime;
    int futhark_mc_segmap_parloop_18567_total_runs;
    int64_t futhark_mc_segmap_parloop_18567_total_iter;
    int64_t *futhark_mc_segmap_nested_task_18565_total_runtime;
    int *futhark_mc_segmap_nested_task_18565_runs;
    int64_t *futhark_mc_segmap_nested_task_18565_iter;
    int64_t *futhark_mc_segmap_parloop_18528_total_runtime;
    int *futhark_mc_segmap_parloop_18528_runs;
    int64_t *futhark_mc_segmap_parloop_18528_iter;
    int64_t futhark_mc_segmap_parloop_18528_total_total_runtime;
    int futhark_mc_segmap_parloop_18528_total_runs;
    int64_t futhark_mc_segmap_parloop_18528_total_iter;
    int64_t *futhark_mc_segmap_nested_task_18526_total_runtime;
    int *futhark_mc_segmap_nested_task_18526_runs;
    int64_t *futhark_mc_segmap_nested_task_18526_iter;
    int64_t *futhark_mc_segmap_parloop_18668_total_runtime;
    int *futhark_mc_segmap_parloop_18668_runs;
    int64_t *futhark_mc_segmap_parloop_18668_iter;
    int64_t futhark_mc_segmap_parloop_18668_total_total_runtime;
    int futhark_mc_segmap_parloop_18668_total_runs;
    int64_t futhark_mc_segmap_parloop_18668_total_iter;
    int64_t *futhark_mc_segmap_task_18666_total_runtime;
    int *futhark_mc_segmap_task_18666_runs;
    int64_t *futhark_mc_segmap_task_18666_iter;
    int64_t futhark_mc_segmap_task_18666_total_time;
    int64_t futhark_mc_segmap_task_18666_total_iter;
    int64_t *futhark_mc_segmap_parloop_18694_total_runtime;
    int *futhark_mc_segmap_parloop_18694_runs;
    int64_t *futhark_mc_segmap_parloop_18694_iter;
    int64_t futhark_mc_segmap_parloop_18694_total_total_runtime;
    int futhark_mc_segmap_parloop_18694_total_runs;
    int64_t futhark_mc_segmap_parloop_18694_total_iter;
    int64_t *futhark_mc_segmap_task_18692_total_runtime;
    int *futhark_mc_segmap_task_18692_runs;
    int64_t *futhark_mc_segmap_task_18692_iter;
    int64_t futhark_mc_segmap_task_18692_total_time;
    int64_t futhark_mc_segmap_task_18692_total_iter;
    int64_t *futhark_mc_segred_stage_1_parloop_18712_total_runtime;
    int *futhark_mc_segred_stage_1_parloop_18712_runs;
    int64_t *futhark_mc_segred_stage_1_parloop_18712_iter;
    int64_t futhark_mc_segred_stage_1_parloop_18712_total_total_runtime;
    int futhark_mc_segred_stage_1_parloop_18712_total_runs;
    int64_t futhark_mc_segred_stage_1_parloop_18712_total_iter;
    int64_t *futhark_mc_segred_task_18709_total_runtime;
    int *futhark_mc_segred_task_18709_runs;
    int64_t *futhark_mc_segred_task_18709_iter;
    int64_t futhark_mc_segred_task_18709_total_time;
    int64_t futhark_mc_segred_task_18709_total_iter;
    int64_t *futhark_mc_segmap_parloop_18702_total_runtime;
    int *futhark_mc_segmap_parloop_18702_runs;
    int64_t *futhark_mc_segmap_parloop_18702_iter;
    int64_t futhark_mc_segmap_parloop_18702_total_total_runtime;
    int futhark_mc_segmap_parloop_18702_total_runs;
    int64_t futhark_mc_segmap_parloop_18702_total_iter;
    int64_t *futhark_mc_segmap_nested_task_18700_total_runtime;
    int *futhark_mc_segmap_nested_task_18700_runs;
    int64_t *futhark_mc_segmap_nested_task_18700_iter;
    int64_t *futhark_mc_segmap_parloop_18683_total_runtime;
    int *futhark_mc_segmap_parloop_18683_runs;
    int64_t *futhark_mc_segmap_parloop_18683_iter;
    int64_t futhark_mc_segmap_parloop_18683_total_total_runtime;
    int futhark_mc_segmap_parloop_18683_total_runs;
    int64_t futhark_mc_segmap_parloop_18683_total_iter;
    int64_t *futhark_mc_segmap_nested_task_18681_total_runtime;
    int *futhark_mc_segmap_nested_task_18681_runs;
    int64_t *futhark_mc_segmap_nested_task_18681_iter;
    int64_t tuning_timing;
    int64_t tuning_iter;
>>>>>>> d23c9a2 (ispc)
};
<<<<<<< HEAD
void post_opencl_setup(struct opencl_context *ctx, struct opencl_device_option *option)
{
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name, "NVIDIA CUDA") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->lockstep_width = 32;
    }
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name, "AMD Accelerated Parallel Processing") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->lockstep_width = 32;
    }
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->lockstep_width = 1;
    }
    if ((ctx->cfg.default_num_groups == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        size_t MAX_COMPUTE_UNITS_val = 0;
        
        clGetDeviceInfo(ctx->device, CL_DEVICE_MAX_COMPUTE_UNITS, sizeof(MAX_COMPUTE_UNITS_val), &MAX_COMPUTE_UNITS_val, NULL);
        ctx->cfg.default_num_groups = 4 * MAX_COMPUTE_UNITS_val;
    }
    if ((ctx->cfg.default_group_size == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_group_size = 256;
    }
    if ((ctx->cfg.default_tile_size == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_tile_size = 16;
    }
    if ((ctx->cfg.default_reg_tile_size == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_reg_tile_size = 4;
    }
    if ((ctx->cfg.default_threshold == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_threshold = 32768;
    }
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        ctx->lockstep_width = 1;
    }
    if ((ctx->cfg.default_num_groups == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        size_t MAX_COMPUTE_UNITS_val = 0;
        
        clGetDeviceInfo(ctx->device, CL_DEVICE_MAX_COMPUTE_UNITS, sizeof(MAX_COMPUTE_UNITS_val), &MAX_COMPUTE_UNITS_val, NULL);
        ctx->cfg.default_num_groups = MAX_COMPUTE_UNITS_val;
    }
    if ((ctx->cfg.default_group_size == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        ctx->cfg.default_group_size = 32;
    }
    if ((ctx->cfg.default_tile_size == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        ctx->cfg.default_tile_size = 4;
    }
    if ((ctx->cfg.default_reg_tile_size == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        ctx->cfg.default_reg_tile_size = 1;
    }
    if ((ctx->cfg.default_threshold == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        size_t MAX_COMPUTE_UNITS_val = 0;
        
        clGetDeviceInfo(ctx->device, CL_DEVICE_MAX_COMPUTE_UNITS, sizeof(MAX_COMPUTE_UNITS_val), &MAX_COMPUTE_UNITS_val, NULL);
        ctx->cfg.default_threshold = MAX_COMPUTE_UNITS_val;
    }
}
static void init_context_early(struct futhark_context_config *cfg, struct futhark_context *ctx)
{
    ctx->opencl.cfg = cfg->opencl;
    ctx->detail_memory = cfg->opencl.debugging;
    ctx->debugging = cfg->opencl.debugging;
    ctx->profiling = cfg->opencl.profiling;
    ctx->profiling_paused = 0;
    ctx->logging = cfg->opencl.logging;
    ctx->error = NULL;
    create_lock(&ctx->error_lock);
    ctx->log = stderr;
    ctx->opencl.profiling_records_capacity = 200;
    ctx->opencl.profiling_records_used = 0;
    ctx->opencl.profiling_records = malloc(ctx->opencl.profiling_records_capacity * sizeof(struct profiling_record));
    create_lock(&ctx->lock);
    ctx->failure_is_an_option = 0;
    ctx->peak_mem_usage_device = 0;
    ctx->cur_mem_usage_device = 0;
    ctx->peak_mem_usage_default = 0;
    ctx->cur_mem_usage_default = 0;
    ctx->total_runs = 0;
    ctx->total_runtime = 0;
    ctx->copy_dev_to_dev_total_runtime = 0;
    ctx->copy_dev_to_dev_runs = 0;
    ctx->copy_dev_to_host_total_runtime = 0;
    ctx->copy_dev_to_host_runs = 0;
    ctx->copy_host_to_dev_total_runtime = 0;
    ctx->copy_host_to_dev_runs = 0;
    ctx->copy_scalar_to_dev_total_runtime = 0;
    ctx->copy_scalar_to_dev_runs = 0;
    ctx->copy_scalar_from_dev_total_runtime = 0;
    ctx->copy_scalar_from_dev_runs = 0;
    ctx->gpu_map_transpose_i32_total_runtime = 0;
    ctx->gpu_map_transpose_i32_runs = 0;
    ctx->gpu_map_transpose_i32_low_height_total_runtime = 0;
    ctx->gpu_map_transpose_i32_low_height_runs = 0;
    ctx->gpu_map_transpose_i32_low_width_total_runtime = 0;
    ctx->gpu_map_transpose_i32_low_width_runs = 0;
    ctx->gpu_map_transpose_i32_small_total_runtime = 0;
    ctx->gpu_map_transpose_i32_small_runs = 0;
    ctx->gpu_map_transpose_i64_total_runtime = 0;
    ctx->gpu_map_transpose_i64_runs = 0;
    ctx->gpu_map_transpose_i64_low_height_total_runtime = 0;
    ctx->gpu_map_transpose_i64_low_height_runs = 0;
    ctx->gpu_map_transpose_i64_low_width_total_runtime = 0;
    ctx->gpu_map_transpose_i64_low_width_runs = 0;
    ctx->gpu_map_transpose_i64_small_total_runtime = 0;
    ctx->gpu_map_transpose_i64_small_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145_runs = 0;
    ctx->matmulzisegmap_15956_total_runtime = 0;
    ctx->matmulzisegmap_15956_runs = 0;
    ctx->matmulzisegmap_intragroup_19234_total_runtime = 0;
    ctx->matmulzisegmap_intragroup_19234_runs = 0;
    ctx->matmulzisegred_large_16066_total_runtime = 0;
    ctx->matmulzisegred_large_16066_runs = 0;
    ctx->matmulzisegred_small_16066_total_runtime = 0;
    ctx->matmulzisegred_small_16066_runs = 0;
}
static int init_context_late(struct futhark_context_config *cfg, struct futhark_context *ctx, cl_program prog)
{
    cl_int error;
    cl_int no_error = -1;
    
    ctx->global_failure = clCreateBuffer(ctx->opencl.ctx, CL_MEM_READ_WRITE | CL_MEM_COPY_HOST_PTR, sizeof(cl_int), &no_error, &error);
    OPENCL_SUCCEED_OR_RETURN(error);
    // The +1 is to avoid zero-byte allocations.
    ctx->global_failure_args = clCreateBuffer(ctx->opencl.ctx, CL_MEM_READ_WRITE, sizeof(int64_t) * (0 + 1), NULL, &error);
    OPENCL_SUCCEED_OR_RETURN(error);
    {
        ctx->gpu_map_transpose_i32 = clCreateKernel(prog, "gpu_map_transpose_i32", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i32");
    }
    {
        ctx->gpu_map_transpose_i32_low_height = clCreateKernel(prog, "gpu_map_transpose_i32_low_height", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i32_low_height");
    }
    {
        ctx->gpu_map_transpose_i32_low_width = clCreateKernel(prog, "gpu_map_transpose_i32_low_width", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i32_low_width");
    }
    {
        ctx->gpu_map_transpose_i32_small = clCreateKernel(prog, "gpu_map_transpose_i32_small", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i32_small");
    }
    {
        ctx->gpu_map_transpose_i64 = clCreateKernel(prog, "gpu_map_transpose_i64", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i64");
    }
    {
        ctx->gpu_map_transpose_i64_low_height = clCreateKernel(prog, "gpu_map_transpose_i64_low_height", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i64_low_height");
    }
    {
        ctx->gpu_map_transpose_i64_low_width = clCreateKernel(prog, "gpu_map_transpose_i64_low_width", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i64_low_width");
    }
    {
        ctx->gpu_map_transpose_i64_small = clCreateKernel(prog, "gpu_map_transpose_i64_small", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i64_small");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_16576", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_16576");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_18454", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_18454");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_19105", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_19105");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_19175", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_19175");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_16765");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_18633");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_19205");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegred_large_18983", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segred_large_18983");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegred_large_19145", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segred_large_19145");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegred_small_18983", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segred_small_18983");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegred_small_19145", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segred_small_19145");
    }
    {
        ctx->matmulzisegmap_15956 = clCreateKernel(prog, "matmulzisegmap_15956", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->matmulzisegmap_15956, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "matmul.segmap_15956");
    }
    {
        ctx->matmulzisegmap_intragroup_19234 = clCreateKernel(prog, "matmulzisegmap_intragroup_19234", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->matmulzisegmap_intragroup_19234, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "matmul.segmap_intragroup_19234");
    }
    {
        ctx->matmulzisegred_large_16066 = clCreateKernel(prog, "matmulzisegred_large_16066", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->matmulzisegred_large_16066, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "matmul.segred_large_16066");
    }
    {
        ctx->matmulzisegred_small_16066 = clCreateKernel(prog, "matmulzisegred_small_16066", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->matmulzisegred_small_16066, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "matmul.segred_small_16066");
    }
    {
        cl_int success;
        
        ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20779.references = NULL;
        ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20779.size = 0;
        ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20779.mem = clCreateBuffer(ctx->opencl.ctx, CL_MEM_READ_WRITE, (10240 > 0 ? 10240 : 1) * sizeof(int32_t), NULL, &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20779.mem, CL_TRUE, 0, 10240 * sizeof(int32_t), make_transposed_quotient_codewords_non_opaquezicounter_mem_realtype_21071, 0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20925.references = NULL;
        ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20925.size = 0;
        ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20925.mem = clCreateBuffer(ctx->opencl.ctx, CL_MEM_READ_WRITE, (10240 > 0 ? 10240 : 1) * sizeof(int32_t), NULL, &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20925.mem, CL_TRUE, 0, 10240 * sizeof(int32_t), make_transposed_quotient_codewords_non_opaquezicounter_mem_realtype_21087, 0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->matmulzicounter_mem_20506.references = NULL;
        ctx->matmulzicounter_mem_20506.size = 0;
        ctx->matmulzicounter_mem_20506.mem = clCreateBuffer(ctx->opencl.ctx, CL_MEM_READ_WRITE, (10240 > 0 ? 10240 : 1) * sizeof(int32_t), NULL, &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue, ctx->matmulzicounter_mem_20506.mem, CL_TRUE, 0, 10240 * sizeof(int32_t), matmulzicounter_mem_realtype_21114, 0, NULL, NULL));
    }
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16382 = &cfg->tuning_params[0];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16986 = &cfg->tuning_params[1];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17396 = &cfg->tuning_params[2];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17479 = &cfg->tuning_params[3];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17642 = &cfg->tuning_params[4];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16384 = &cfg->tuning_params[5];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16988 = &cfg->tuning_params[6];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_17398 = &cfg->tuning_params[7];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17440 = &cfg->tuning_params[8];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17680 = &cfg->tuning_params[9];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17442 = &cfg->tuning_params[10];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17682 = &cfg->tuning_params[11];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_intra_par_1 = &cfg->tuning_params[12];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_intra_par_3 = &cfg->tuning_params[13];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_outer_par_0 = &cfg->tuning_params[14];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_outer_par_2 = &cfg->tuning_params[15];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_outer_par_4 = &cfg->tuning_params[16];
    ctx->tuning_params.matmulziRx_19207 = &cfg->tuning_params[17];
    ctx->tuning_params.matmulziRy_19208 = &cfg->tuning_params[18];
    ctx->tuning_params.matmulziTk_19204 = &cfg->tuning_params[19];
    ctx->tuning_params.matmulziTx_19205 = &cfg->tuning_params[20];
    ctx->tuning_params.matmulziTy_19206 = &cfg->tuning_params[21];
    ctx->tuning_params.matmulzisegmap_group_sizze_15933 = &cfg->tuning_params[22];
    ctx->tuning_params.matmulzisegmap_num_groups_15935 = &cfg->tuning_params[23];
    ctx->tuning_params.matmulzisegred_group_sizze_15996 = &cfg->tuning_params[24];
    ctx->tuning_params.matmulzisegred_num_groups_15998 = &cfg->tuning_params[25];
    ctx->tuning_params.matmulzisuff_outer_par_0 = &cfg->tuning_params[26];
    ctx->tuning_params.matmulzisuff_outer_par_1 = &cfg->tuning_params[27];
    init_constants(ctx);
    // Clear the free list of any deallocations that occurred while initialising constants.
    OPENCL_SUCCEED_OR_RETURN(opencl_free_all(&ctx->opencl));
    // The program will be properly freed after all the kernels have also been freed.
    OPENCL_SUCCEED_OR_RETURN(clReleaseProgram(prog));
    return futhark_context_sync(ctx);
}
||||||| parent of d23c9a2 (ispc)
void post_opencl_setup(struct opencl_context *ctx, struct opencl_device_option *option)
{
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name, "NVIDIA CUDA") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->lockstep_width = 32;
    }
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name, "AMD Accelerated Parallel Processing") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->lockstep_width = 32;
    }
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->lockstep_width = 1;
    }
    if ((ctx->cfg.default_num_groups == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        size_t MAX_COMPUTE_UNITS_val = 0;
        
        clGetDeviceInfo(ctx->device, CL_DEVICE_MAX_COMPUTE_UNITS, sizeof(MAX_COMPUTE_UNITS_val), &MAX_COMPUTE_UNITS_val, NULL);
        ctx->cfg.default_num_groups = 4 * MAX_COMPUTE_UNITS_val;
    }
    if ((ctx->cfg.default_group_size == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_group_size = 256;
    }
    if ((ctx->cfg.default_tile_size == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_tile_size = 16;
    }
    if ((ctx->cfg.default_reg_tile_size == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_reg_tile_size = 4;
    }
    if ((ctx->cfg.default_threshold == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_GPU) == CL_DEVICE_TYPE_GPU) {
        ctx->cfg.default_threshold = 32768;
    }
    if ((ctx->lockstep_width == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        ctx->lockstep_width = 1;
    }
    if ((ctx->cfg.default_num_groups == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        size_t MAX_COMPUTE_UNITS_val = 0;
        
        clGetDeviceInfo(ctx->device, CL_DEVICE_MAX_COMPUTE_UNITS, sizeof(MAX_COMPUTE_UNITS_val), &MAX_COMPUTE_UNITS_val, NULL);
        ctx->cfg.default_num_groups = MAX_COMPUTE_UNITS_val;
    }
    if ((ctx->cfg.default_group_size == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        ctx->cfg.default_group_size = 32;
    }
    if ((ctx->cfg.default_tile_size == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        ctx->cfg.default_tile_size = 4;
    }
    if ((ctx->cfg.default_reg_tile_size == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        ctx->cfg.default_reg_tile_size = 1;
    }
    if ((ctx->cfg.default_threshold == 0 && strstr(option->platform_name, "") != NULL) && (option->device_type & CL_DEVICE_TYPE_CPU) == CL_DEVICE_TYPE_CPU) {
        size_t MAX_COMPUTE_UNITS_val = 0;
        
        clGetDeviceInfo(ctx->device, CL_DEVICE_MAX_COMPUTE_UNITS, sizeof(MAX_COMPUTE_UNITS_val), &MAX_COMPUTE_UNITS_val, NULL);
        ctx->cfg.default_threshold = MAX_COMPUTE_UNITS_val;
    }
}
static void init_context_early(struct futhark_context_config *cfg, struct futhark_context *ctx)
{
    ctx->opencl.cfg = cfg->opencl;
    ctx->detail_memory = cfg->opencl.debugging;
    ctx->debugging = cfg->opencl.debugging;
    ctx->profiling = cfg->opencl.profiling;
    ctx->profiling_paused = 0;
    ctx->logging = cfg->opencl.logging;
    ctx->error = NULL;
    create_lock(&ctx->error_lock);
    ctx->log = stderr;
    ctx->opencl.profiling_records_capacity = 200;
    ctx->opencl.profiling_records_used = 0;
    ctx->opencl.profiling_records = malloc(ctx->opencl.profiling_records_capacity * sizeof(struct profiling_record));
    create_lock(&ctx->lock);
    ctx->failure_is_an_option = 0;
    ctx->peak_mem_usage_device = 0;
    ctx->cur_mem_usage_device = 0;
    ctx->peak_mem_usage_default = 0;
    ctx->cur_mem_usage_default = 0;
    ctx->total_runs = 0;
    ctx->total_runtime = 0;
    ctx->copy_dev_to_dev_total_runtime = 0;
    ctx->copy_dev_to_dev_runs = 0;
    ctx->copy_dev_to_host_total_runtime = 0;
    ctx->copy_dev_to_host_runs = 0;
    ctx->copy_host_to_dev_total_runtime = 0;
    ctx->copy_host_to_dev_runs = 0;
    ctx->copy_scalar_to_dev_total_runtime = 0;
    ctx->copy_scalar_to_dev_runs = 0;
    ctx->copy_scalar_from_dev_total_runtime = 0;
    ctx->copy_scalar_from_dev_runs = 0;
    ctx->gpu_map_transpose_i32_total_runtime = 0;
    ctx->gpu_map_transpose_i32_runs = 0;
    ctx->gpu_map_transpose_i32_low_height_total_runtime = 0;
    ctx->gpu_map_transpose_i32_low_height_runs = 0;
    ctx->gpu_map_transpose_i32_low_width_total_runtime = 0;
    ctx->gpu_map_transpose_i32_low_width_runs = 0;
    ctx->gpu_map_transpose_i32_small_total_runtime = 0;
    ctx->gpu_map_transpose_i32_small_runs = 0;
    ctx->gpu_map_transpose_i64_total_runtime = 0;
    ctx->gpu_map_transpose_i64_runs = 0;
    ctx->gpu_map_transpose_i64_low_height_total_runtime = 0;
    ctx->gpu_map_transpose_i64_low_height_runs = 0;
    ctx->gpu_map_transpose_i64_low_width_total_runtime = 0;
    ctx->gpu_map_transpose_i64_low_width_runs = 0;
    ctx->gpu_map_transpose_i64_small_total_runtime = 0;
    ctx->gpu_map_transpose_i64_small_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964_runs = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126_total_runtime = 0;
    ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126_runs = 0;
    ctx->matmulzisegmap_15939_total_runtime = 0;
    ctx->matmulzisegmap_15939_runs = 0;
    ctx->matmulzisegmap_intragroup_19215_total_runtime = 0;
    ctx->matmulzisegmap_intragroup_19215_runs = 0;
    ctx->matmulzisegred_large_16049_total_runtime = 0;
    ctx->matmulzisegred_large_16049_runs = 0;
    ctx->matmulzisegred_small_16049_total_runtime = 0;
    ctx->matmulzisegred_small_16049_runs = 0;
}
static int init_context_late(struct futhark_context_config *cfg, struct futhark_context *ctx, cl_program prog)
{
    cl_int error;
    cl_int no_error = -1;
    
    ctx->global_failure = clCreateBuffer(ctx->opencl.ctx, CL_MEM_READ_WRITE | CL_MEM_COPY_HOST_PTR, sizeof(cl_int), &no_error, &error);
    OPENCL_SUCCEED_OR_RETURN(error);
    // The +1 is to avoid zero-byte allocations.
    ctx->global_failure_args = clCreateBuffer(ctx->opencl.ctx, CL_MEM_READ_WRITE, sizeof(int64_t) * (0 + 1), NULL, &error);
    OPENCL_SUCCEED_OR_RETURN(error);
    {
        ctx->gpu_map_transpose_i32 = clCreateKernel(prog, "gpu_map_transpose_i32", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i32");
    }
    {
        ctx->gpu_map_transpose_i32_low_height = clCreateKernel(prog, "gpu_map_transpose_i32_low_height", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i32_low_height");
    }
    {
        ctx->gpu_map_transpose_i32_low_width = clCreateKernel(prog, "gpu_map_transpose_i32_low_width", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i32_low_width");
    }
    {
        ctx->gpu_map_transpose_i32_small = clCreateKernel(prog, "gpu_map_transpose_i32_small", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i32_small");
    }
    {
        ctx->gpu_map_transpose_i64 = clCreateKernel(prog, "gpu_map_transpose_i64", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i64");
    }
    {
        ctx->gpu_map_transpose_i64_low_height = clCreateKernel(prog, "gpu_map_transpose_i64_low_height", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i64_low_height");
    }
    {
        ctx->gpu_map_transpose_i64_low_width = clCreateKernel(prog, "gpu_map_transpose_i64_low_width", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i64_low_width");
    }
    {
        ctx->gpu_map_transpose_i64_small = clCreateKernel(prog, "gpu_map_transpose_i64_small", &error);
        OPENCL_SUCCEED_FATAL(error);
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "gpu_map_transpose_i64_small");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_16557", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_16557");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_18435", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_18435");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_19086", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_19086");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_19156", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_19156");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_16746");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_18614");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_19186");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegred_large_18964", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segred_large_18964");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegred_large_19126", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segred_large_19126");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegred_small_18964", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segred_small_18964");
    }
    {
        ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126 = clCreateKernel(prog, "make_transposed_quotient_codewords_non_opaquezisegred_small_19126", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "make_transposed_quotient_codewords_non_opaque.segred_small_19126");
    }
    {
        ctx->matmulzisegmap_15939 = clCreateKernel(prog, "matmulzisegmap_15939", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->matmulzisegmap_15939, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "matmul.segmap_15939");
    }
    {
        ctx->matmulzisegmap_intragroup_19215 = clCreateKernel(prog, "matmulzisegmap_intragroup_19215", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->matmulzisegmap_intragroup_19215, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "matmul.segmap_intragroup_19215");
    }
    {
        ctx->matmulzisegred_large_16049 = clCreateKernel(prog, "matmulzisegred_large_16049", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->matmulzisegred_large_16049, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "matmul.segred_large_16049");
    }
    {
        ctx->matmulzisegred_small_16049 = clCreateKernel(prog, "matmulzisegred_small_16049", &error);
        OPENCL_SUCCEED_FATAL(error);
        OPENCL_SUCCEED_FATAL(clSetKernelArg(ctx->matmulzisegred_small_16049, 0, sizeof(cl_mem), &ctx->global_failure));
        if (ctx->debugging)
            fprintf(ctx->log, "Created kernel %s.\n", "matmul.segred_small_16049");
    }
    {
        cl_int success;
        
        ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20760.references = NULL;
        ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20760.size = 0;
        ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20760.mem = clCreateBuffer(ctx->opencl.ctx, CL_MEM_READ_WRITE, (10240 > 0 ? 10240 : 1) * sizeof(int32_t), NULL, &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20760.mem, CL_TRUE, 0, 10240 * sizeof(int32_t), make_transposed_quotient_codewords_non_opaquezicounter_mem_realtype_21052, 0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20906.references = NULL;
        ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20906.size = 0;
        ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20906.mem = clCreateBuffer(ctx->opencl.ctx, CL_MEM_READ_WRITE, (10240 > 0 ? 10240 : 1) * sizeof(int32_t), NULL, &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20906.mem, CL_TRUE, 0, 10240 * sizeof(int32_t), make_transposed_quotient_codewords_non_opaquezicounter_mem_realtype_21068, 0, NULL, NULL));
    }
    {
        cl_int success;
        
        ctx->matmulzicounter_mem_20487.references = NULL;
        ctx->matmulzicounter_mem_20487.size = 0;
        ctx->matmulzicounter_mem_20487.mem = clCreateBuffer(ctx->opencl.ctx, CL_MEM_READ_WRITE, (10240 > 0 ? 10240 : 1) * sizeof(int32_t), NULL, &success);
        OPENCL_SUCCEED_OR_RETURN(success);
        if (10240 > 0)
            OPENCL_SUCCEED_OR_RETURN(clEnqueueWriteBuffer(ctx->opencl.queue, ctx->matmulzicounter_mem_20487.mem, CL_TRUE, 0, 10240 * sizeof(int32_t), matmulzicounter_mem_realtype_21095, 0, NULL, NULL));
    }
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16363 = &cfg->tuning_params[0];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16967 = &cfg->tuning_params[1];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17377 = &cfg->tuning_params[2];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17460 = &cfg->tuning_params[3];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17623 = &cfg->tuning_params[4];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16365 = &cfg->tuning_params[5];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16969 = &cfg->tuning_params[6];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_17379 = &cfg->tuning_params[7];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17421 = &cfg->tuning_params[8];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17661 = &cfg->tuning_params[9];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17423 = &cfg->tuning_params[10];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17663 = &cfg->tuning_params[11];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_intra_par_1 = &cfg->tuning_params[12];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_intra_par_3 = &cfg->tuning_params[13];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_outer_par_0 = &cfg->tuning_params[14];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_outer_par_2 = &cfg->tuning_params[15];
    ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_outer_par_4 = &cfg->tuning_params[16];
    ctx->tuning_params.matmulziRx_19188 = &cfg->tuning_params[17];
    ctx->tuning_params.matmulziRy_19189 = &cfg->tuning_params[18];
    ctx->tuning_params.matmulziTk_19185 = &cfg->tuning_params[19];
    ctx->tuning_params.matmulziTx_19186 = &cfg->tuning_params[20];
    ctx->tuning_params.matmulziTy_19187 = &cfg->tuning_params[21];
    ctx->tuning_params.matmulzisegmap_group_sizze_15916 = &cfg->tuning_params[22];
    ctx->tuning_params.matmulzisegmap_num_groups_15918 = &cfg->tuning_params[23];
    ctx->tuning_params.matmulzisegred_group_sizze_15979 = &cfg->tuning_params[24];
    ctx->tuning_params.matmulzisegred_num_groups_15981 = &cfg->tuning_params[25];
    ctx->tuning_params.matmulzisuff_outer_par_0 = &cfg->tuning_params[26];
    ctx->tuning_params.matmulzisuff_outer_par_1 = &cfg->tuning_params[27];
    init_constants(ctx);
    // Clear the free list of any deallocations that occurred while initialising constants.
    OPENCL_SUCCEED_OR_RETURN(opencl_free_all(&ctx->opencl));
    // The program will be properly freed after all the kernels have also been freed.
    OPENCL_SUCCEED_OR_RETURN(clReleaseProgram(prog));
    return futhark_context_sync(ctx);
}
=======
>>>>>>> d23c9a2 (ispc)
struct futhark_context *futhark_context_new(struct futhark_context_config *cfg)
{
    assert(!cfg->in_use);
    
    struct futhark_context *ctx = (struct futhark_context *) malloc(sizeof(struct futhark_context));
    
    if (ctx == NULL)
        return NULL;
    ctx->cfg = cfg;
    ctx->cfg->in_use = 1;
    // Initialize rand()
    fast_srand(time(0));
    ctx->detail_memory = cfg->debugging;
    ctx->debugging = cfg->debugging;
    ctx->profiling = cfg->profiling;
    ctx->profiling_paused = 0;
    ctx->logging = 0;
    ctx->error = NULL;
    create_lock(&ctx->error_lock);
    ctx->log = stderr;
    create_lock(&ctx->lock);
    
    int tune_kappa = 0;
    double kappa = 5.1f * 1000;
    
    if (tune_kappa) {
        if (determine_kappa(&kappa) != 0)
            return NULL;
    }
    if (scheduler_init(&ctx->scheduler, cfg->num_threads > 0 ? cfg->num_threads : num_processors(), kappa) != 0)
        return NULL;
    ctx->peak_mem_usage_default = 0;
    ctx->cur_mem_usage_default = 0;
    ctx->futhark_mc_segmap_parloop_18434_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18434_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18434_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18434_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_18434_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_18434_total_iter = 0;
    ctx->futhark_mc_segmap_task_18432_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18432_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18432_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18432_total_time = 0;
    ctx->futhark_mc_segmap_task_18432_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_18471_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18471_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18471_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18471_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_18471_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_18471_total_iter = 0;
    ctx->futhark_mc_segmap_task_18469_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18469_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18469_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18469_total_time = 0;
    ctx->futhark_mc_segmap_task_18469_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_18455_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18455_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18455_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18455_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_18455_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_18455_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_18453_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_18453_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_18453_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18494_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18494_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18494_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18494_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_18494_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_18494_total_iter = 0;
    ctx->futhark_mc_segmap_task_18492_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18492_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18492_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18492_total_time = 0;
    ctx->futhark_mc_segmap_task_18492_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_18543_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18543_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18543_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18543_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_18543_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_18543_total_iter = 0;
    ctx->futhark_mc_segmap_task_18541_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18541_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18541_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18541_total_time = 0;
    ctx->futhark_mc_segmap_task_18541_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_18584_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_18584_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_18584_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_18584_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_18584_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_18584_total_iter = 0;
    ctx->futhark_mc_segred_task_18579_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_18579_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_18579_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_18579_total_time = 0;
    ctx->futhark_mc_segred_task_18579_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_18617_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_18617_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_18617_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_18617_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_18617_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_18617_total_iter = 0;
    ctx->futhark_mc_segred_task_18612_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_18612_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_18612_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_18612_total_time = 0;
    ctx->futhark_mc_segred_task_18612_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_18600_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_18600_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_18600_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_18600_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_18600_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_18600_total_iter = 0;
    ctx->futhark_mc_segred_nested_task_18595_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_nested_task_18595_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_nested_task_18595_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18567_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18567_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18567_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18567_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_18567_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_18567_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_18565_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_18565_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_18565_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18528_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18528_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18528_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18528_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_18528_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_18528_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_18526_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_18526_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_18526_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18668_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18668_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18668_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18668_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_18668_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_18668_total_iter = 0;
    ctx->futhark_mc_segmap_task_18666_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18666_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18666_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18666_total_time = 0;
    ctx->futhark_mc_segmap_task_18666_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_18694_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18694_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18694_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18694_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_18694_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_18694_total_iter = 0;
    ctx->futhark_mc_segmap_task_18692_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18692_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18692_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_task_18692_total_time = 0;
    ctx->futhark_mc_segmap_task_18692_total_iter = 0;
    ctx->futhark_mc_segred_stage_1_parloop_18712_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_18712_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_18712_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_stage_1_parloop_18712_total_total_runtime = 0;
    ctx->futhark_mc_segred_stage_1_parloop_18712_total_runs = 0;
    ctx->futhark_mc_segred_stage_1_parloop_18712_total_iter = 0;
    ctx->futhark_mc_segred_task_18709_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_18709_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_18709_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segred_task_18709_total_time = 0;
    ctx->futhark_mc_segred_task_18709_total_iter = 0;
    ctx->futhark_mc_segmap_parloop_18702_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18702_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18702_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18702_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_18702_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_18702_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_18700_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_18700_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_18700_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18683_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18683_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18683_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_parloop_18683_total_total_runtime = 0;
    ctx->futhark_mc_segmap_parloop_18683_total_runs = 0;
    ctx->futhark_mc_segmap_parloop_18683_total_iter = 0;
    ctx->futhark_mc_segmap_nested_task_18681_total_runtime = calloc(sizeof(int64_t), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_18681_runs = calloc(sizeof(int), ctx->scheduler.num_threads);
    ctx->futhark_mc_segmap_nested_task_18681_iter = calloc(sizeof(sizeof(int64_t)), ctx->scheduler.num_threads);
    init_constants(ctx);
    return ctx;
}
void futhark_context_free(struct futhark_context *ctx)
{
<<<<<<< HEAD
    OPENCL_SUCCEED_FATAL(clReleaseMemObject(ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20779.mem));
    OPENCL_SUCCEED_FATAL(clReleaseMemObject(ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20925.mem));
    OPENCL_SUCCEED_FATAL(clReleaseMemObject(ctx->matmulzicounter_mem_20506.mem));
||||||| parent of d23c9a2 (ispc)
    OPENCL_SUCCEED_FATAL(clReleaseMemObject(ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20760.mem));
    OPENCL_SUCCEED_FATAL(clReleaseMemObject(ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20906.mem));
    OPENCL_SUCCEED_FATAL(clReleaseMemObject(ctx->matmulzicounter_mem_20487.mem));
=======
    free(ctx->futhark_mc_segmap_parloop_18434_total_runtime);
    free(ctx->futhark_mc_segmap_parloop_18434_runs);
    free(ctx->futhark_mc_segmap_parloop_18434_iter);
    free(ctx->futhark_mc_segmap_task_18432_total_runtime);
    free(ctx->futhark_mc_segmap_task_18432_runs);
    free(ctx->futhark_mc_segmap_task_18432_iter);
    free(ctx->futhark_mc_segmap_parloop_18471_total_runtime);
    free(ctx->futhark_mc_segmap_parloop_18471_runs);
    free(ctx->futhark_mc_segmap_parloop_18471_iter);
    free(ctx->futhark_mc_segmap_task_18469_total_runtime);
    free(ctx->futhark_mc_segmap_task_18469_runs);
    free(ctx->futhark_mc_segmap_task_18469_iter);
    free(ctx->futhark_mc_segmap_parloop_18455_total_runtime);
    free(ctx->futhark_mc_segmap_parloop_18455_runs);
    free(ctx->futhark_mc_segmap_parloop_18455_iter);
    free(ctx->futhark_mc_segmap_nested_task_18453_total_runtime);
    free(ctx->futhark_mc_segmap_nested_task_18453_runs);
    free(ctx->futhark_mc_segmap_nested_task_18453_iter);
    free(ctx->futhark_mc_segmap_parloop_18494_total_runtime);
    free(ctx->futhark_mc_segmap_parloop_18494_runs);
    free(ctx->futhark_mc_segmap_parloop_18494_iter);
    free(ctx->futhark_mc_segmap_task_18492_total_runtime);
    free(ctx->futhark_mc_segmap_task_18492_runs);
    free(ctx->futhark_mc_segmap_task_18492_iter);
    free(ctx->futhark_mc_segmap_parloop_18543_total_runtime);
    free(ctx->futhark_mc_segmap_parloop_18543_runs);
    free(ctx->futhark_mc_segmap_parloop_18543_iter);
    free(ctx->futhark_mc_segmap_task_18541_total_runtime);
    free(ctx->futhark_mc_segmap_task_18541_runs);
    free(ctx->futhark_mc_segmap_task_18541_iter);
    free(ctx->futhark_mc_segred_stage_1_parloop_18584_total_runtime);
    free(ctx->futhark_mc_segred_stage_1_parloop_18584_runs);
    free(ctx->futhark_mc_segred_stage_1_parloop_18584_iter);
    free(ctx->futhark_mc_segred_task_18579_total_runtime);
    free(ctx->futhark_mc_segred_task_18579_runs);
    free(ctx->futhark_mc_segred_task_18579_iter);
    free(ctx->futhark_mc_segred_stage_1_parloop_18617_total_runtime);
    free(ctx->futhark_mc_segred_stage_1_parloop_18617_runs);
    free(ctx->futhark_mc_segred_stage_1_parloop_18617_iter);
    free(ctx->futhark_mc_segred_task_18612_total_runtime);
    free(ctx->futhark_mc_segred_task_18612_runs);
    free(ctx->futhark_mc_segred_task_18612_iter);
    free(ctx->futhark_mc_segred_stage_1_parloop_18600_total_runtime);
    free(ctx->futhark_mc_segred_stage_1_parloop_18600_runs);
    free(ctx->futhark_mc_segred_stage_1_parloop_18600_iter);
    free(ctx->futhark_mc_segred_nested_task_18595_total_runtime);
    free(ctx->futhark_mc_segred_nested_task_18595_runs);
    free(ctx->futhark_mc_segred_nested_task_18595_iter);
    free(ctx->futhark_mc_segmap_parloop_18567_total_runtime);
    free(ctx->futhark_mc_segmap_parloop_18567_runs);
    free(ctx->futhark_mc_segmap_parloop_18567_iter);
    free(ctx->futhark_mc_segmap_nested_task_18565_total_runtime);
    free(ctx->futhark_mc_segmap_nested_task_18565_runs);
    free(ctx->futhark_mc_segmap_nested_task_18565_iter);
    free(ctx->futhark_mc_segmap_parloop_18528_total_runtime);
    free(ctx->futhark_mc_segmap_parloop_18528_runs);
    free(ctx->futhark_mc_segmap_parloop_18528_iter);
    free(ctx->futhark_mc_segmap_nested_task_18526_total_runtime);
    free(ctx->futhark_mc_segmap_nested_task_18526_runs);
    free(ctx->futhark_mc_segmap_nested_task_18526_iter);
    free(ctx->futhark_mc_segmap_parloop_18668_total_runtime);
    free(ctx->futhark_mc_segmap_parloop_18668_runs);
    free(ctx->futhark_mc_segmap_parloop_18668_iter);
    free(ctx->futhark_mc_segmap_task_18666_total_runtime);
    free(ctx->futhark_mc_segmap_task_18666_runs);
    free(ctx->futhark_mc_segmap_task_18666_iter);
    free(ctx->futhark_mc_segmap_parloop_18694_total_runtime);
    free(ctx->futhark_mc_segmap_parloop_18694_runs);
    free(ctx->futhark_mc_segmap_parloop_18694_iter);
    free(ctx->futhark_mc_segmap_task_18692_total_runtime);
    free(ctx->futhark_mc_segmap_task_18692_runs);
    free(ctx->futhark_mc_segmap_task_18692_iter);
    free(ctx->futhark_mc_segred_stage_1_parloop_18712_total_runtime);
    free(ctx->futhark_mc_segred_stage_1_parloop_18712_runs);
    free(ctx->futhark_mc_segred_stage_1_parloop_18712_iter);
    free(ctx->futhark_mc_segred_task_18709_total_runtime);
    free(ctx->futhark_mc_segred_task_18709_runs);
    free(ctx->futhark_mc_segred_task_18709_iter);
    free(ctx->futhark_mc_segmap_parloop_18702_total_runtime);
    free(ctx->futhark_mc_segmap_parloop_18702_runs);
    free(ctx->futhark_mc_segmap_parloop_18702_iter);
    free(ctx->futhark_mc_segmap_nested_task_18700_total_runtime);
    free(ctx->futhark_mc_segmap_nested_task_18700_runs);
    free(ctx->futhark_mc_segmap_nested_task_18700_iter);
    free(ctx->futhark_mc_segmap_parloop_18683_total_runtime);
    free(ctx->futhark_mc_segmap_parloop_18683_runs);
    free(ctx->futhark_mc_segmap_parloop_18683_iter);
    free(ctx->futhark_mc_segmap_nested_task_18681_total_runtime);
    free(ctx->futhark_mc_segmap_nested_task_18681_runs);
    free(ctx->futhark_mc_segmap_nested_task_18681_iter);
>>>>>>> d23c9a2 (ispc)
    free_constants(ctx);
    (void) scheduler_destroy(&ctx->scheduler);
    free_lock(&ctx->lock);
<<<<<<< HEAD
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i32));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i32_low_height));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i32_low_width));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i32_small));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i64));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i64_low_height));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i64_low_width));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i64_small));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->matmulzisegmap_15956));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->matmulzisegmap_intragroup_19234));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->matmulzisegred_large_16066));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->matmulzisegred_small_16066));
    OPENCL_SUCCEED_FATAL(clReleaseMemObject(ctx->global_failure));
    OPENCL_SUCCEED_FATAL(clReleaseMemObject(ctx->global_failure_args));
    teardown_opencl(&ctx->opencl);
||||||| parent of d23c9a2 (ispc)
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i32));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i32_low_height));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i32_low_width));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i32_small));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i64));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i64_low_height));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i64_low_width));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->gpu_map_transpose_i64_small));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->matmulzisegmap_15939));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->matmulzisegmap_intragroup_19215));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->matmulzisegred_large_16049));
    OPENCL_SUCCEED_FATAL(clReleaseKernel(ctx->matmulzisegred_small_16049));
    OPENCL_SUCCEED_FATAL(clReleaseMemObject(ctx->global_failure));
    OPENCL_SUCCEED_FATAL(clReleaseMemObject(ctx->global_failure_args));
    teardown_opencl(&ctx->opencl);
=======
>>>>>>> d23c9a2 (ispc)
    ctx->cfg->in_use = 0;
    free(ctx);
}
int futhark_context_sync(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
static const char *tuning_param_names[0];
static const char *tuning_param_vars[0];
static const char *tuning_param_classes[0];
int futhark_context_config_set_tuning_param(struct futhark_context_config *cfg, const char *param_name, size_t param_value)
{
    (void) cfg;
    (void) param_name;
    (void) param_value;
    return 1;
}
int memblock_unref(struct futhark_context *ctx, struct memblock *block, const char *desc)
{
    if (block->references != NULL) {
        *block->references -= 1;
        if (ctx->detail_memory)
            fprintf(ctx->log, "Unreferencing block %s (allocated as %s) in %s: %d references remaining.\n", desc, block->desc, "default space", *block->references);
        if (*block->references == 0) {
            ctx->cur_mem_usage_default -= block->size;
            free(block->mem);
            free(block->references);
            if (ctx->detail_memory)
                fprintf(ctx->log, "%lld bytes freed (now allocated: %lld bytes)\n", (long long) block->size, (long long) ctx->cur_mem_usage_default);
        }
        block->references = NULL;
    }
    return 0;
}
int memblock_alloc(struct futhark_context *ctx, struct memblock *block, int64_t size, const char *desc)
{
    if (size < 0)
        futhark_panic(1, "Negative allocation of %lld bytes attempted for %s in %s.\n", (long long) size, desc, "default space", ctx->cur_mem_usage_default);
    
    int ret = memblock_unref(ctx, block, desc);
    
    if (ret != FUTHARK_SUCCESS)
        return ret;
    if (ctx->detail_memory)
        fprintf(ctx->log, "Allocating %lld bytes for %s in %s (then allocated: %lld bytes)", (long long) size, desc, "default space", (long long) ctx->cur_mem_usage_default + size);
    if (ctx->cur_mem_usage_default > ctx->peak_mem_usage_default) {
        ctx->peak_mem_usage_default = ctx->cur_mem_usage_default;
        if (ctx->detail_memory)
            fprintf(ctx->log, " (new peak).\n");
    } else if (ctx->detail_memory)
        fprintf(ctx->log, ".\n");
    block->mem = (unsigned char *) malloc((size_t) size);
    if (ctx->error == NULL) {
        block->references = (int *) malloc(sizeof(int));
        *block->references = 1;
        block->size = size;
        block->desc = desc;
        ctx->cur_mem_usage_default += size;
        return FUTHARK_SUCCESS;
    } else {
        // We are naively assuming that any memory allocation error is due to OOM.
        lock_lock(&ctx->error_lock);
        
        char *old_error = ctx->error;
        
        ctx->error = msgprintf("Failed to allocate memory in %s.\nAttempted allocation: %12lld bytes\nCurrently allocated:  %12lld bytes\n%s", "default space", (long long) size, (long long) ctx->cur_mem_usage_default, old_error);
        free(old_error);
        lock_unlock(&ctx->error_lock);
        return FUTHARK_OUT_OF_MEMORY;
    }
}
int memblock_set(struct futhark_context *ctx, struct memblock *lhs, struct memblock *rhs, const char *lhs_desc)
{
    int ret = memblock_unref(ctx, lhs, lhs_desc);
    
    if (rhs->references != NULL)
        (*rhs->references)++;
    *lhs = *rhs;
    return ret;
}
void futhark_context_config_set_cache_file(struct futhark_context_config *cfg, const char *f)
{
    cfg->cache_fname = f;
}
int futhark_get_tuning_param_count(void)
{
    return sizeof(tuning_param_names) / sizeof(tuning_param_names[0]);
}
const char *futhark_get_tuning_param_name(int i)
{
    return tuning_param_names[i];
}
const char *futhark_get_tuning_param_class(int i)
{
    return tuning_param_classes[i];
}
char *futhark_context_report(struct futhark_context *ctx)
{
    if (futhark_context_sync(ctx) != 0)
        return NULL;
    
    struct str_builder builder;
    
    str_builder_init(&builder);
    { }
    if (ctx->profiling) {
<<<<<<< HEAD
        OPENCL_SUCCEED_FATAL(opencl_tally_profiling_records(&ctx->opencl));
        str_builder(&builder, "copy_dev_to_dev                                                       ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->copy_dev_to_dev_runs, (long) ctx->copy_dev_to_dev_total_runtime / (ctx->copy_dev_to_dev_runs != 0 ? ctx->copy_dev_to_dev_runs : 1), (long) ctx->copy_dev_to_dev_total_runtime);
        ctx->total_runtime += ctx->copy_dev_to_dev_total_runtime;
        ctx->total_runs += ctx->copy_dev_to_dev_runs;
        str_builder(&builder, "copy_dev_to_host                                                      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->copy_dev_to_host_runs, (long) ctx->copy_dev_to_host_total_runtime / (ctx->copy_dev_to_host_runs != 0 ? ctx->copy_dev_to_host_runs : 1), (long) ctx->copy_dev_to_host_total_runtime);
        ctx->total_runtime += ctx->copy_dev_to_host_total_runtime;
        ctx->total_runs += ctx->copy_dev_to_host_runs;
        str_builder(&builder, "copy_host_to_dev                                                      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->copy_host_to_dev_runs, (long) ctx->copy_host_to_dev_total_runtime / (ctx->copy_host_to_dev_runs != 0 ? ctx->copy_host_to_dev_runs : 1), (long) ctx->copy_host_to_dev_total_runtime);
        ctx->total_runtime += ctx->copy_host_to_dev_total_runtime;
        ctx->total_runs += ctx->copy_host_to_dev_runs;
        str_builder(&builder, "copy_scalar_to_dev                                                    ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->copy_scalar_to_dev_runs, (long) ctx->copy_scalar_to_dev_total_runtime / (ctx->copy_scalar_to_dev_runs != 0 ? ctx->copy_scalar_to_dev_runs : 1), (long) ctx->copy_scalar_to_dev_total_runtime);
        ctx->total_runtime += ctx->copy_scalar_to_dev_total_runtime;
        ctx->total_runs += ctx->copy_scalar_to_dev_runs;
        str_builder(&builder, "copy_scalar_from_dev                                                  ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->copy_scalar_from_dev_runs, (long) ctx->copy_scalar_from_dev_total_runtime / (ctx->copy_scalar_from_dev_runs != 0 ? ctx->copy_scalar_from_dev_runs : 1), (long) ctx->copy_scalar_from_dev_total_runtime);
        ctx->total_runtime += ctx->copy_scalar_from_dev_total_runtime;
        ctx->total_runs += ctx->copy_scalar_from_dev_runs;
        str_builder(&builder, "gpu_map_transpose_i32                                                 ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i32_runs, (long) ctx->gpu_map_transpose_i32_total_runtime / (ctx->gpu_map_transpose_i32_runs != 0 ? ctx->gpu_map_transpose_i32_runs : 1), (long) ctx->gpu_map_transpose_i32_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i32_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i32_runs;
        str_builder(&builder, "gpu_map_transpose_i32_low_height                                      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i32_low_height_runs, (long) ctx->gpu_map_transpose_i32_low_height_total_runtime / (ctx->gpu_map_transpose_i32_low_height_runs != 0 ? ctx->gpu_map_transpose_i32_low_height_runs : 1), (long) ctx->gpu_map_transpose_i32_low_height_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i32_low_height_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i32_low_height_runs;
        str_builder(&builder, "gpu_map_transpose_i32_low_width                                       ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i32_low_width_runs, (long) ctx->gpu_map_transpose_i32_low_width_total_runtime / (ctx->gpu_map_transpose_i32_low_width_runs != 0 ? ctx->gpu_map_transpose_i32_low_width_runs : 1), (long) ctx->gpu_map_transpose_i32_low_width_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i32_low_width_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i32_low_width_runs;
        str_builder(&builder, "gpu_map_transpose_i32_small                                           ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i32_small_runs, (long) ctx->gpu_map_transpose_i32_small_total_runtime / (ctx->gpu_map_transpose_i32_small_runs != 0 ? ctx->gpu_map_transpose_i32_small_runs : 1), (long) ctx->gpu_map_transpose_i32_small_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i32_small_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i32_small_runs;
        str_builder(&builder, "gpu_map_transpose_i64                                                 ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i64_runs, (long) ctx->gpu_map_transpose_i64_total_runtime / (ctx->gpu_map_transpose_i64_runs != 0 ? ctx->gpu_map_transpose_i64_runs : 1), (long) ctx->gpu_map_transpose_i64_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i64_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i64_runs;
        str_builder(&builder, "gpu_map_transpose_i64_low_height                                      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i64_low_height_runs, (long) ctx->gpu_map_transpose_i64_low_height_total_runtime / (ctx->gpu_map_transpose_i64_low_height_runs != 0 ? ctx->gpu_map_transpose_i64_low_height_runs : 1), (long) ctx->gpu_map_transpose_i64_low_height_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i64_low_height_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i64_low_height_runs;
        str_builder(&builder, "gpu_map_transpose_i64_low_width                                       ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i64_low_width_runs, (long) ctx->gpu_map_transpose_i64_low_width_total_runtime / (ctx->gpu_map_transpose_i64_low_width_runs != 0 ? ctx->gpu_map_transpose_i64_low_width_runs : 1), (long) ctx->gpu_map_transpose_i64_low_width_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i64_low_width_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i64_low_width_runs;
        str_builder(&builder, "gpu_map_transpose_i64_small                                           ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i64_small_runs, (long) ctx->gpu_map_transpose_i64_small_total_runtime / (ctx->gpu_map_transpose_i64_small_runs != 0 ? ctx->gpu_map_transpose_i64_small_runs : 1), (long) ctx->gpu_map_transpose_i64_small_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i64_small_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i64_small_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_16576            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_18454            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_19105            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_19175            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_16765 ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_18633 ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_19205 ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segred_large_18983      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segred_large_19145      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segred_small_18983      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segred_small_19145      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145_runs;
        str_builder(&builder, "matmul.segmap_15956                                                   ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->matmulzisegmap_15956_runs, (long) ctx->matmulzisegmap_15956_total_runtime / (ctx->matmulzisegmap_15956_runs != 0 ? ctx->matmulzisegmap_15956_runs : 1), (long) ctx->matmulzisegmap_15956_total_runtime);
        ctx->total_runtime += ctx->matmulzisegmap_15956_total_runtime;
        ctx->total_runs += ctx->matmulzisegmap_15956_runs;
        str_builder(&builder, "matmul.segmap_intragroup_19234                                        ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->matmulzisegmap_intragroup_19234_runs, (long) ctx->matmulzisegmap_intragroup_19234_total_runtime / (ctx->matmulzisegmap_intragroup_19234_runs != 0 ? ctx->matmulzisegmap_intragroup_19234_runs : 1), (long) ctx->matmulzisegmap_intragroup_19234_total_runtime);
        ctx->total_runtime += ctx->matmulzisegmap_intragroup_19234_total_runtime;
        ctx->total_runs += ctx->matmulzisegmap_intragroup_19234_runs;
        str_builder(&builder, "matmul.segred_large_16066                                             ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->matmulzisegred_large_16066_runs, (long) ctx->matmulzisegred_large_16066_total_runtime / (ctx->matmulzisegred_large_16066_runs != 0 ? ctx->matmulzisegred_large_16066_runs : 1), (long) ctx->matmulzisegred_large_16066_total_runtime);
        ctx->total_runtime += ctx->matmulzisegred_large_16066_total_runtime;
        ctx->total_runs += ctx->matmulzisegred_large_16066_runs;
        str_builder(&builder, "matmul.segred_small_16066                                             ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->matmulzisegred_small_16066_runs, (long) ctx->matmulzisegred_small_16066_total_runtime / (ctx->matmulzisegred_small_16066_runs != 0 ? ctx->matmulzisegred_small_16066_runs : 1), (long) ctx->matmulzisegred_small_16066_total_runtime);
        ctx->total_runtime += ctx->matmulzisegred_small_16066_total_runtime;
        ctx->total_runs += ctx->matmulzisegred_small_16066_runs;
        str_builder(&builder, "%d operations with cumulative runtime: %6ldus\n", ctx->total_runs, ctx->total_runtime);
||||||| parent of d23c9a2 (ispc)
        OPENCL_SUCCEED_FATAL(opencl_tally_profiling_records(&ctx->opencl));
        str_builder(&builder, "copy_dev_to_dev                                                       ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->copy_dev_to_dev_runs, (long) ctx->copy_dev_to_dev_total_runtime / (ctx->copy_dev_to_dev_runs != 0 ? ctx->copy_dev_to_dev_runs : 1), (long) ctx->copy_dev_to_dev_total_runtime);
        ctx->total_runtime += ctx->copy_dev_to_dev_total_runtime;
        ctx->total_runs += ctx->copy_dev_to_dev_runs;
        str_builder(&builder, "copy_dev_to_host                                                      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->copy_dev_to_host_runs, (long) ctx->copy_dev_to_host_total_runtime / (ctx->copy_dev_to_host_runs != 0 ? ctx->copy_dev_to_host_runs : 1), (long) ctx->copy_dev_to_host_total_runtime);
        ctx->total_runtime += ctx->copy_dev_to_host_total_runtime;
        ctx->total_runs += ctx->copy_dev_to_host_runs;
        str_builder(&builder, "copy_host_to_dev                                                      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->copy_host_to_dev_runs, (long) ctx->copy_host_to_dev_total_runtime / (ctx->copy_host_to_dev_runs != 0 ? ctx->copy_host_to_dev_runs : 1), (long) ctx->copy_host_to_dev_total_runtime);
        ctx->total_runtime += ctx->copy_host_to_dev_total_runtime;
        ctx->total_runs += ctx->copy_host_to_dev_runs;
        str_builder(&builder, "copy_scalar_to_dev                                                    ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->copy_scalar_to_dev_runs, (long) ctx->copy_scalar_to_dev_total_runtime / (ctx->copy_scalar_to_dev_runs != 0 ? ctx->copy_scalar_to_dev_runs : 1), (long) ctx->copy_scalar_to_dev_total_runtime);
        ctx->total_runtime += ctx->copy_scalar_to_dev_total_runtime;
        ctx->total_runs += ctx->copy_scalar_to_dev_runs;
        str_builder(&builder, "copy_scalar_from_dev                                                  ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->copy_scalar_from_dev_runs, (long) ctx->copy_scalar_from_dev_total_runtime / (ctx->copy_scalar_from_dev_runs != 0 ? ctx->copy_scalar_from_dev_runs : 1), (long) ctx->copy_scalar_from_dev_total_runtime);
        ctx->total_runtime += ctx->copy_scalar_from_dev_total_runtime;
        ctx->total_runs += ctx->copy_scalar_from_dev_runs;
        str_builder(&builder, "gpu_map_transpose_i32                                                 ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i32_runs, (long) ctx->gpu_map_transpose_i32_total_runtime / (ctx->gpu_map_transpose_i32_runs != 0 ? ctx->gpu_map_transpose_i32_runs : 1), (long) ctx->gpu_map_transpose_i32_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i32_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i32_runs;
        str_builder(&builder, "gpu_map_transpose_i32_low_height                                      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i32_low_height_runs, (long) ctx->gpu_map_transpose_i32_low_height_total_runtime / (ctx->gpu_map_transpose_i32_low_height_runs != 0 ? ctx->gpu_map_transpose_i32_low_height_runs : 1), (long) ctx->gpu_map_transpose_i32_low_height_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i32_low_height_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i32_low_height_runs;
        str_builder(&builder, "gpu_map_transpose_i32_low_width                                       ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i32_low_width_runs, (long) ctx->gpu_map_transpose_i32_low_width_total_runtime / (ctx->gpu_map_transpose_i32_low_width_runs != 0 ? ctx->gpu_map_transpose_i32_low_width_runs : 1), (long) ctx->gpu_map_transpose_i32_low_width_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i32_low_width_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i32_low_width_runs;
        str_builder(&builder, "gpu_map_transpose_i32_small                                           ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i32_small_runs, (long) ctx->gpu_map_transpose_i32_small_total_runtime / (ctx->gpu_map_transpose_i32_small_runs != 0 ? ctx->gpu_map_transpose_i32_small_runs : 1), (long) ctx->gpu_map_transpose_i32_small_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i32_small_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i32_small_runs;
        str_builder(&builder, "gpu_map_transpose_i64                                                 ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i64_runs, (long) ctx->gpu_map_transpose_i64_total_runtime / (ctx->gpu_map_transpose_i64_runs != 0 ? ctx->gpu_map_transpose_i64_runs : 1), (long) ctx->gpu_map_transpose_i64_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i64_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i64_runs;
        str_builder(&builder, "gpu_map_transpose_i64_low_height                                      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i64_low_height_runs, (long) ctx->gpu_map_transpose_i64_low_height_total_runtime / (ctx->gpu_map_transpose_i64_low_height_runs != 0 ? ctx->gpu_map_transpose_i64_low_height_runs : 1), (long) ctx->gpu_map_transpose_i64_low_height_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i64_low_height_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i64_low_height_runs;
        str_builder(&builder, "gpu_map_transpose_i64_low_width                                       ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i64_low_width_runs, (long) ctx->gpu_map_transpose_i64_low_width_total_runtime / (ctx->gpu_map_transpose_i64_low_width_runs != 0 ? ctx->gpu_map_transpose_i64_low_width_runs : 1), (long) ctx->gpu_map_transpose_i64_low_width_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i64_low_width_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i64_low_width_runs;
        str_builder(&builder, "gpu_map_transpose_i64_small                                           ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->gpu_map_transpose_i64_small_runs, (long) ctx->gpu_map_transpose_i64_small_total_runtime / (ctx->gpu_map_transpose_i64_small_runs != 0 ? ctx->gpu_map_transpose_i64_small_runs : 1), (long) ctx->gpu_map_transpose_i64_small_total_runtime);
        ctx->total_runtime += ctx->gpu_map_transpose_i64_small_total_runtime;
        ctx->total_runs += ctx->gpu_map_transpose_i64_small_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_16557            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_18435            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_19086            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_19156            ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_16746 ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_18614 ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_19186 ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segred_large_18964      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segred_large_19126      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segred_small_18964      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964_runs;
        str_builder(&builder, "make_transposed_quotient_codewords_non_opaque.segred_small_19126      ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126_runs, (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126_total_runtime / (ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126_runs != 0 ? ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126_runs : 1), (long) ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126_total_runtime);
        ctx->total_runtime += ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126_total_runtime;
        ctx->total_runs += ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126_runs;
        str_builder(&builder, "matmul.segmap_15939                                                   ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->matmulzisegmap_15939_runs, (long) ctx->matmulzisegmap_15939_total_runtime / (ctx->matmulzisegmap_15939_runs != 0 ? ctx->matmulzisegmap_15939_runs : 1), (long) ctx->matmulzisegmap_15939_total_runtime);
        ctx->total_runtime += ctx->matmulzisegmap_15939_total_runtime;
        ctx->total_runs += ctx->matmulzisegmap_15939_runs;
        str_builder(&builder, "matmul.segmap_intragroup_19215                                        ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->matmulzisegmap_intragroup_19215_runs, (long) ctx->matmulzisegmap_intragroup_19215_total_runtime / (ctx->matmulzisegmap_intragroup_19215_runs != 0 ? ctx->matmulzisegmap_intragroup_19215_runs : 1), (long) ctx->matmulzisegmap_intragroup_19215_total_runtime);
        ctx->total_runtime += ctx->matmulzisegmap_intragroup_19215_total_runtime;
        ctx->total_runs += ctx->matmulzisegmap_intragroup_19215_runs;
        str_builder(&builder, "matmul.segred_large_16049                                             ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->matmulzisegred_large_16049_runs, (long) ctx->matmulzisegred_large_16049_total_runtime / (ctx->matmulzisegred_large_16049_runs != 0 ? ctx->matmulzisegred_large_16049_runs : 1), (long) ctx->matmulzisegred_large_16049_total_runtime);
        ctx->total_runtime += ctx->matmulzisegred_large_16049_total_runtime;
        ctx->total_runs += ctx->matmulzisegred_large_16049_runs;
        str_builder(&builder, "matmul.segred_small_16049                                             ran %5d times; avg: %8ldus; total: %8ldus\n", ctx->matmulzisegred_small_16049_runs, (long) ctx->matmulzisegred_small_16049_total_runtime / (ctx->matmulzisegred_small_16049_runs != 0 ? ctx->matmulzisegred_small_16049_runs : 1), (long) ctx->matmulzisegred_small_16049_total_runtime);
        ctx->total_runtime += ctx->matmulzisegred_small_16049_total_runtime;
        ctx->total_runs += ctx->matmulzisegred_small_16049_runs;
        str_builder(&builder, "%d operations with cumulative runtime: %6ldus\n", ctx->total_runs, ctx->total_runtime);
=======
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_parloop_18434          ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_parloop_18434_runs[i], (long) ctx->futhark_mc_segmap_parloop_18434_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18434_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18434_runs[i] : 1), (long) ctx->futhark_mc_segmap_parloop_18434_total_runtime[i], (double) ctx->futhark_mc_segmap_parloop_18434_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18434_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18434_iter[i]), (long) ctx->futhark_mc_segmap_parloop_18434_iter[i], (long) ctx->futhark_mc_segmap_parloop_18434_iter[i] / (ctx->futhark_mc_segmap_parloop_18434_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18434_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segmap_parloop_18434_total    ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segmap_parloop_18434_total_runs, (long) ctx->futhark_mc_segmap_parloop_18434_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18434_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18434_total_runs : 1), (long) ctx->futhark_mc_segmap_parloop_18434_total_total_runtime, (double) ctx->futhark_mc_segmap_parloop_18434_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18434_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18434_total_iter), (long) ctx->futhark_mc_segmap_parloop_18434_total_iter, (long) ctx->futhark_mc_segmap_parloop_18434_total_iter / (ctx->futhark_mc_segmap_parloop_18434_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18434_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segmap_parloop_18434_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_18434_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_parloop_18471          ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_parloop_18471_runs[i], (long) ctx->futhark_mc_segmap_parloop_18471_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18471_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18471_runs[i] : 1), (long) ctx->futhark_mc_segmap_parloop_18471_total_runtime[i], (double) ctx->futhark_mc_segmap_parloop_18471_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18471_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18471_iter[i]), (long) ctx->futhark_mc_segmap_parloop_18471_iter[i], (long) ctx->futhark_mc_segmap_parloop_18471_iter[i] / (ctx->futhark_mc_segmap_parloop_18471_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18471_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segmap_parloop_18471_total    ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segmap_parloop_18471_total_runs, (long) ctx->futhark_mc_segmap_parloop_18471_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18471_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18471_total_runs : 1), (long) ctx->futhark_mc_segmap_parloop_18471_total_total_runtime, (double) ctx->futhark_mc_segmap_parloop_18471_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18471_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18471_total_iter), (long) ctx->futhark_mc_segmap_parloop_18471_total_iter, (long) ctx->futhark_mc_segmap_parloop_18471_total_iter / (ctx->futhark_mc_segmap_parloop_18471_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18471_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segmap_parloop_18471_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_18471_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_task_18469             ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_task_18469_runs[i], (long) ctx->futhark_mc_segmap_task_18469_total_runtime[i] / (ctx->futhark_mc_segmap_task_18469_runs[i] != 0 ? ctx->futhark_mc_segmap_task_18469_runs[i] : 1), (long) ctx->futhark_mc_segmap_task_18469_total_runtime[i], (double) ctx->futhark_mc_segmap_task_18469_total_runtime[i] / (ctx->futhark_mc_segmap_task_18469_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_task_18469_iter[i]), (long) ctx->futhark_mc_segmap_task_18469_iter[i], (long) ctx->futhark_mc_segmap_task_18469_iter[i] / (ctx->futhark_mc_segmap_task_18469_runs[i] != 0 ? ctx->futhark_mc_segmap_task_18469_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_parloop_18455          ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_parloop_18455_runs[i], (long) ctx->futhark_mc_segmap_parloop_18455_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18455_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18455_runs[i] : 1), (long) ctx->futhark_mc_segmap_parloop_18455_total_runtime[i], (double) ctx->futhark_mc_segmap_parloop_18455_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18455_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18455_iter[i]), (long) ctx->futhark_mc_segmap_parloop_18455_iter[i], (long) ctx->futhark_mc_segmap_parloop_18455_iter[i] / (ctx->futhark_mc_segmap_parloop_18455_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18455_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segmap_parloop_18455_total    ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segmap_parloop_18455_total_runs, (long) ctx->futhark_mc_segmap_parloop_18455_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18455_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18455_total_runs : 1), (long) ctx->futhark_mc_segmap_parloop_18455_total_total_runtime, (double) ctx->futhark_mc_segmap_parloop_18455_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18455_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18455_total_iter), (long) ctx->futhark_mc_segmap_parloop_18455_total_iter, (long) ctx->futhark_mc_segmap_parloop_18455_total_iter / (ctx->futhark_mc_segmap_parloop_18455_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18455_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segmap_parloop_18455_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_18455_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_task_18432             ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_task_18432_runs[i], (long) ctx->futhark_mc_segmap_task_18432_total_runtime[i] / (ctx->futhark_mc_segmap_task_18432_runs[i] != 0 ? ctx->futhark_mc_segmap_task_18432_runs[i] : 1), (long) ctx->futhark_mc_segmap_task_18432_total_runtime[i], (double) ctx->futhark_mc_segmap_task_18432_total_runtime[i] / (ctx->futhark_mc_segmap_task_18432_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_task_18432_iter[i]), (long) ctx->futhark_mc_segmap_task_18432_iter[i], (long) ctx->futhark_mc_segmap_task_18432_iter[i] / (ctx->futhark_mc_segmap_task_18432_runs[i] != 0 ? ctx->futhark_mc_segmap_task_18432_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_nested_task_18453      ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_nested_task_18453_runs[i], (long) ctx->futhark_mc_segmap_nested_task_18453_total_runtime[i] / (ctx->futhark_mc_segmap_nested_task_18453_runs[i] != 0 ? ctx->futhark_mc_segmap_nested_task_18453_runs[i] : 1), (long) ctx->futhark_mc_segmap_nested_task_18453_total_runtime[i], (double) ctx->futhark_mc_segmap_nested_task_18453_total_runtime[i] / (ctx->futhark_mc_segmap_nested_task_18453_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_18453_iter[i]), (long) ctx->futhark_mc_segmap_nested_task_18453_iter[i], (long) ctx->futhark_mc_segmap_nested_task_18453_iter[i] / (ctx->futhark_mc_segmap_nested_task_18453_runs[i] != 0 ? ctx->futhark_mc_segmap_nested_task_18453_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_parloop_18494          ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_parloop_18494_runs[i], (long) ctx->futhark_mc_segmap_parloop_18494_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18494_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18494_runs[i] : 1), (long) ctx->futhark_mc_segmap_parloop_18494_total_runtime[i], (double) ctx->futhark_mc_segmap_parloop_18494_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18494_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18494_iter[i]), (long) ctx->futhark_mc_segmap_parloop_18494_iter[i], (long) ctx->futhark_mc_segmap_parloop_18494_iter[i] / (ctx->futhark_mc_segmap_parloop_18494_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18494_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segmap_parloop_18494_total    ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segmap_parloop_18494_total_runs, (long) ctx->futhark_mc_segmap_parloop_18494_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18494_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18494_total_runs : 1), (long) ctx->futhark_mc_segmap_parloop_18494_total_total_runtime, (double) ctx->futhark_mc_segmap_parloop_18494_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18494_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18494_total_iter), (long) ctx->futhark_mc_segmap_parloop_18494_total_iter, (long) ctx->futhark_mc_segmap_parloop_18494_total_iter / (ctx->futhark_mc_segmap_parloop_18494_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18494_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segmap_parloop_18494_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_18494_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_parloop_18543          ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_parloop_18543_runs[i], (long) ctx->futhark_mc_segmap_parloop_18543_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18543_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18543_runs[i] : 1), (long) ctx->futhark_mc_segmap_parloop_18543_total_runtime[i], (double) ctx->futhark_mc_segmap_parloop_18543_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18543_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18543_iter[i]), (long) ctx->futhark_mc_segmap_parloop_18543_iter[i], (long) ctx->futhark_mc_segmap_parloop_18543_iter[i] / (ctx->futhark_mc_segmap_parloop_18543_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18543_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segmap_parloop_18543_total    ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segmap_parloop_18543_total_runs, (long) ctx->futhark_mc_segmap_parloop_18543_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18543_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18543_total_runs : 1), (long) ctx->futhark_mc_segmap_parloop_18543_total_total_runtime, (double) ctx->futhark_mc_segmap_parloop_18543_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18543_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18543_total_iter), (long) ctx->futhark_mc_segmap_parloop_18543_total_iter, (long) ctx->futhark_mc_segmap_parloop_18543_total_iter / (ctx->futhark_mc_segmap_parloop_18543_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18543_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segmap_parloop_18543_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_18543_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segred_stage_1_parloop_18584  ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segred_stage_1_parloop_18584_runs[i], (long) ctx->futhark_mc_segred_stage_1_parloop_18584_total_runtime[i] / (ctx->futhark_mc_segred_stage_1_parloop_18584_runs[i] != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18584_runs[i] : 1), (long) ctx->futhark_mc_segred_stage_1_parloop_18584_total_runtime[i], (double) ctx->futhark_mc_segred_stage_1_parloop_18584_total_runtime[i] / (ctx->futhark_mc_segred_stage_1_parloop_18584_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_18584_iter[i]), (long) ctx->futhark_mc_segred_stage_1_parloop_18584_iter[i], (long) ctx->futhark_mc_segred_stage_1_parloop_18584_iter[i] / (ctx->futhark_mc_segred_stage_1_parloop_18584_runs[i] != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18584_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segred_stage_1_parloop_18584_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segred_stage_1_parloop_18584_total_runs, (long) ctx->futhark_mc_segred_stage_1_parloop_18584_total_total_runtime / (ctx->futhark_mc_segred_stage_1_parloop_18584_total_runs != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18584_total_runs : 1), (long) ctx->futhark_mc_segred_stage_1_parloop_18584_total_total_runtime, (double) ctx->futhark_mc_segred_stage_1_parloop_18584_total_total_runtime / (ctx->futhark_mc_segred_stage_1_parloop_18584_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_18584_total_iter), (long) ctx->futhark_mc_segred_stage_1_parloop_18584_total_iter, (long) ctx->futhark_mc_segred_stage_1_parloop_18584_total_iter / (ctx->futhark_mc_segred_stage_1_parloop_18584_total_runs != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18584_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segred_stage_1_parloop_18584_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segred_stage_1_parloop_18584_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segred_stage_1_parloop_18617  ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segred_stage_1_parloop_18617_runs[i], (long) ctx->futhark_mc_segred_stage_1_parloop_18617_total_runtime[i] / (ctx->futhark_mc_segred_stage_1_parloop_18617_runs[i] != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18617_runs[i] : 1), (long) ctx->futhark_mc_segred_stage_1_parloop_18617_total_runtime[i], (double) ctx->futhark_mc_segred_stage_1_parloop_18617_total_runtime[i] / (ctx->futhark_mc_segred_stage_1_parloop_18617_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_18617_iter[i]), (long) ctx->futhark_mc_segred_stage_1_parloop_18617_iter[i], (long) ctx->futhark_mc_segred_stage_1_parloop_18617_iter[i] / (ctx->futhark_mc_segred_stage_1_parloop_18617_runs[i] != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18617_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segred_stage_1_parloop_18617_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segred_stage_1_parloop_18617_total_runs, (long) ctx->futhark_mc_segred_stage_1_parloop_18617_total_total_runtime / (ctx->futhark_mc_segred_stage_1_parloop_18617_total_runs != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18617_total_runs : 1), (long) ctx->futhark_mc_segred_stage_1_parloop_18617_total_total_runtime, (double) ctx->futhark_mc_segred_stage_1_parloop_18617_total_total_runtime / (ctx->futhark_mc_segred_stage_1_parloop_18617_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_18617_total_iter), (long) ctx->futhark_mc_segred_stage_1_parloop_18617_total_iter, (long) ctx->futhark_mc_segred_stage_1_parloop_18617_total_iter / (ctx->futhark_mc_segred_stage_1_parloop_18617_total_runs != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18617_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segred_stage_1_parloop_18617_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segred_stage_1_parloop_18617_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segred_task_18612             ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segred_task_18612_runs[i], (long) ctx->futhark_mc_segred_task_18612_total_runtime[i] / (ctx->futhark_mc_segred_task_18612_runs[i] != 0 ? ctx->futhark_mc_segred_task_18612_runs[i] : 1), (long) ctx->futhark_mc_segred_task_18612_total_runtime[i], (double) ctx->futhark_mc_segred_task_18612_total_runtime[i] / (ctx->futhark_mc_segred_task_18612_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segred_task_18612_iter[i]), (long) ctx->futhark_mc_segred_task_18612_iter[i], (long) ctx->futhark_mc_segred_task_18612_iter[i] / (ctx->futhark_mc_segred_task_18612_runs[i] != 0 ? ctx->futhark_mc_segred_task_18612_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segred_stage_1_parloop_18600  ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segred_stage_1_parloop_18600_runs[i], (long) ctx->futhark_mc_segred_stage_1_parloop_18600_total_runtime[i] / (ctx->futhark_mc_segred_stage_1_parloop_18600_runs[i] != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18600_runs[i] : 1), (long) ctx->futhark_mc_segred_stage_1_parloop_18600_total_runtime[i], (double) ctx->futhark_mc_segred_stage_1_parloop_18600_total_runtime[i] / (ctx->futhark_mc_segred_stage_1_parloop_18600_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_18600_iter[i]), (long) ctx->futhark_mc_segred_stage_1_parloop_18600_iter[i], (long) ctx->futhark_mc_segred_stage_1_parloop_18600_iter[i] / (ctx->futhark_mc_segred_stage_1_parloop_18600_runs[i] != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18600_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segred_stage_1_parloop_18600_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segred_stage_1_parloop_18600_total_runs, (long) ctx->futhark_mc_segred_stage_1_parloop_18600_total_total_runtime / (ctx->futhark_mc_segred_stage_1_parloop_18600_total_runs != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18600_total_runs : 1), (long) ctx->futhark_mc_segred_stage_1_parloop_18600_total_total_runtime, (double) ctx->futhark_mc_segred_stage_1_parloop_18600_total_total_runtime / (ctx->futhark_mc_segred_stage_1_parloop_18600_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_18600_total_iter), (long) ctx->futhark_mc_segred_stage_1_parloop_18600_total_iter, (long) ctx->futhark_mc_segred_stage_1_parloop_18600_total_iter / (ctx->futhark_mc_segred_stage_1_parloop_18600_total_runs != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18600_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segred_stage_1_parloop_18600_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segred_stage_1_parloop_18600_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segred_task_18579             ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segred_task_18579_runs[i], (long) ctx->futhark_mc_segred_task_18579_total_runtime[i] / (ctx->futhark_mc_segred_task_18579_runs[i] != 0 ? ctx->futhark_mc_segred_task_18579_runs[i] : 1), (long) ctx->futhark_mc_segred_task_18579_total_runtime[i], (double) ctx->futhark_mc_segred_task_18579_total_runtime[i] / (ctx->futhark_mc_segred_task_18579_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segred_task_18579_iter[i]), (long) ctx->futhark_mc_segred_task_18579_iter[i], (long) ctx->futhark_mc_segred_task_18579_iter[i] / (ctx->futhark_mc_segred_task_18579_runs[i] != 0 ? ctx->futhark_mc_segred_task_18579_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segred_nested_task_18595      ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segred_nested_task_18595_runs[i], (long) ctx->futhark_mc_segred_nested_task_18595_total_runtime[i] / (ctx->futhark_mc_segred_nested_task_18595_runs[i] != 0 ? ctx->futhark_mc_segred_nested_task_18595_runs[i] : 1), (long) ctx->futhark_mc_segred_nested_task_18595_total_runtime[i], (double) ctx->futhark_mc_segred_nested_task_18595_total_runtime[i] / (ctx->futhark_mc_segred_nested_task_18595_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segred_nested_task_18595_iter[i]), (long) ctx->futhark_mc_segred_nested_task_18595_iter[i], (long) ctx->futhark_mc_segred_nested_task_18595_iter[i] / (ctx->futhark_mc_segred_nested_task_18595_runs[i] != 0 ? ctx->futhark_mc_segred_nested_task_18595_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_parloop_18567          ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_parloop_18567_runs[i], (long) ctx->futhark_mc_segmap_parloop_18567_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18567_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18567_runs[i] : 1), (long) ctx->futhark_mc_segmap_parloop_18567_total_runtime[i], (double) ctx->futhark_mc_segmap_parloop_18567_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18567_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18567_iter[i]), (long) ctx->futhark_mc_segmap_parloop_18567_iter[i], (long) ctx->futhark_mc_segmap_parloop_18567_iter[i] / (ctx->futhark_mc_segmap_parloop_18567_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18567_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segmap_parloop_18567_total    ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segmap_parloop_18567_total_runs, (long) ctx->futhark_mc_segmap_parloop_18567_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18567_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18567_total_runs : 1), (long) ctx->futhark_mc_segmap_parloop_18567_total_total_runtime, (double) ctx->futhark_mc_segmap_parloop_18567_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18567_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18567_total_iter), (long) ctx->futhark_mc_segmap_parloop_18567_total_iter, (long) ctx->futhark_mc_segmap_parloop_18567_total_iter / (ctx->futhark_mc_segmap_parloop_18567_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18567_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segmap_parloop_18567_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_18567_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_task_18541             ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_task_18541_runs[i], (long) ctx->futhark_mc_segmap_task_18541_total_runtime[i] / (ctx->futhark_mc_segmap_task_18541_runs[i] != 0 ? ctx->futhark_mc_segmap_task_18541_runs[i] : 1), (long) ctx->futhark_mc_segmap_task_18541_total_runtime[i], (double) ctx->futhark_mc_segmap_task_18541_total_runtime[i] / (ctx->futhark_mc_segmap_task_18541_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_task_18541_iter[i]), (long) ctx->futhark_mc_segmap_task_18541_iter[i], (long) ctx->futhark_mc_segmap_task_18541_iter[i] / (ctx->futhark_mc_segmap_task_18541_runs[i] != 0 ? ctx->futhark_mc_segmap_task_18541_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_nested_task_18565      ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_nested_task_18565_runs[i], (long) ctx->futhark_mc_segmap_nested_task_18565_total_runtime[i] / (ctx->futhark_mc_segmap_nested_task_18565_runs[i] != 0 ? ctx->futhark_mc_segmap_nested_task_18565_runs[i] : 1), (long) ctx->futhark_mc_segmap_nested_task_18565_total_runtime[i], (double) ctx->futhark_mc_segmap_nested_task_18565_total_runtime[i] / (ctx->futhark_mc_segmap_nested_task_18565_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_18565_iter[i]), (long) ctx->futhark_mc_segmap_nested_task_18565_iter[i], (long) ctx->futhark_mc_segmap_nested_task_18565_iter[i] / (ctx->futhark_mc_segmap_nested_task_18565_runs[i] != 0 ? ctx->futhark_mc_segmap_nested_task_18565_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_parloop_18528          ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_parloop_18528_runs[i], (long) ctx->futhark_mc_segmap_parloop_18528_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18528_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18528_runs[i] : 1), (long) ctx->futhark_mc_segmap_parloop_18528_total_runtime[i], (double) ctx->futhark_mc_segmap_parloop_18528_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18528_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18528_iter[i]), (long) ctx->futhark_mc_segmap_parloop_18528_iter[i], (long) ctx->futhark_mc_segmap_parloop_18528_iter[i] / (ctx->futhark_mc_segmap_parloop_18528_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18528_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segmap_parloop_18528_total    ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segmap_parloop_18528_total_runs, (long) ctx->futhark_mc_segmap_parloop_18528_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18528_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18528_total_runs : 1), (long) ctx->futhark_mc_segmap_parloop_18528_total_total_runtime, (double) ctx->futhark_mc_segmap_parloop_18528_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18528_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18528_total_iter), (long) ctx->futhark_mc_segmap_parloop_18528_total_iter, (long) ctx->futhark_mc_segmap_parloop_18528_total_iter / (ctx->futhark_mc_segmap_parloop_18528_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18528_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segmap_parloop_18528_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_18528_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_task_18492             ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_task_18492_runs[i], (long) ctx->futhark_mc_segmap_task_18492_total_runtime[i] / (ctx->futhark_mc_segmap_task_18492_runs[i] != 0 ? ctx->futhark_mc_segmap_task_18492_runs[i] : 1), (long) ctx->futhark_mc_segmap_task_18492_total_runtime[i], (double) ctx->futhark_mc_segmap_task_18492_total_runtime[i] / (ctx->futhark_mc_segmap_task_18492_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_task_18492_iter[i]), (long) ctx->futhark_mc_segmap_task_18492_iter[i], (long) ctx->futhark_mc_segmap_task_18492_iter[i] / (ctx->futhark_mc_segmap_task_18492_runs[i] != 0 ? ctx->futhark_mc_segmap_task_18492_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_nested_task_18526      ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_nested_task_18526_runs[i], (long) ctx->futhark_mc_segmap_nested_task_18526_total_runtime[i] / (ctx->futhark_mc_segmap_nested_task_18526_runs[i] != 0 ? ctx->futhark_mc_segmap_nested_task_18526_runs[i] : 1), (long) ctx->futhark_mc_segmap_nested_task_18526_total_runtime[i], (double) ctx->futhark_mc_segmap_nested_task_18526_total_runtime[i] / (ctx->futhark_mc_segmap_nested_task_18526_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_18526_iter[i]), (long) ctx->futhark_mc_segmap_nested_task_18526_iter[i], (long) ctx->futhark_mc_segmap_nested_task_18526_iter[i] / (ctx->futhark_mc_segmap_nested_task_18526_runs[i] != 0 ? ctx->futhark_mc_segmap_nested_task_18526_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_parloop_18668          ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_parloop_18668_runs[i], (long) ctx->futhark_mc_segmap_parloop_18668_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18668_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18668_runs[i] : 1), (long) ctx->futhark_mc_segmap_parloop_18668_total_runtime[i], (double) ctx->futhark_mc_segmap_parloop_18668_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18668_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18668_iter[i]), (long) ctx->futhark_mc_segmap_parloop_18668_iter[i], (long) ctx->futhark_mc_segmap_parloop_18668_iter[i] / (ctx->futhark_mc_segmap_parloop_18668_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18668_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segmap_parloop_18668_total    ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segmap_parloop_18668_total_runs, (long) ctx->futhark_mc_segmap_parloop_18668_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18668_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18668_total_runs : 1), (long) ctx->futhark_mc_segmap_parloop_18668_total_total_runtime, (double) ctx->futhark_mc_segmap_parloop_18668_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18668_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18668_total_iter), (long) ctx->futhark_mc_segmap_parloop_18668_total_iter, (long) ctx->futhark_mc_segmap_parloop_18668_total_iter / (ctx->futhark_mc_segmap_parloop_18668_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18668_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segmap_parloop_18668_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_18668_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_parloop_18694          ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_parloop_18694_runs[i], (long) ctx->futhark_mc_segmap_parloop_18694_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18694_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18694_runs[i] : 1), (long) ctx->futhark_mc_segmap_parloop_18694_total_runtime[i], (double) ctx->futhark_mc_segmap_parloop_18694_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18694_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18694_iter[i]), (long) ctx->futhark_mc_segmap_parloop_18694_iter[i], (long) ctx->futhark_mc_segmap_parloop_18694_iter[i] / (ctx->futhark_mc_segmap_parloop_18694_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18694_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segmap_parloop_18694_total    ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segmap_parloop_18694_total_runs, (long) ctx->futhark_mc_segmap_parloop_18694_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18694_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18694_total_runs : 1), (long) ctx->futhark_mc_segmap_parloop_18694_total_total_runtime, (double) ctx->futhark_mc_segmap_parloop_18694_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18694_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18694_total_iter), (long) ctx->futhark_mc_segmap_parloop_18694_total_iter, (long) ctx->futhark_mc_segmap_parloop_18694_total_iter / (ctx->futhark_mc_segmap_parloop_18694_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18694_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segmap_parloop_18694_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_18694_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segred_stage_1_parloop_18712  ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segred_stage_1_parloop_18712_runs[i], (long) ctx->futhark_mc_segred_stage_1_parloop_18712_total_runtime[i] / (ctx->futhark_mc_segred_stage_1_parloop_18712_runs[i] != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18712_runs[i] : 1), (long) ctx->futhark_mc_segred_stage_1_parloop_18712_total_runtime[i], (double) ctx->futhark_mc_segred_stage_1_parloop_18712_total_runtime[i] / (ctx->futhark_mc_segred_stage_1_parloop_18712_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_18712_iter[i]), (long) ctx->futhark_mc_segred_stage_1_parloop_18712_iter[i], (long) ctx->futhark_mc_segred_stage_1_parloop_18712_iter[i] / (ctx->futhark_mc_segred_stage_1_parloop_18712_runs[i] != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18712_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segred_stage_1_parloop_18712_total ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segred_stage_1_parloop_18712_total_runs, (long) ctx->futhark_mc_segred_stage_1_parloop_18712_total_total_runtime / (ctx->futhark_mc_segred_stage_1_parloop_18712_total_runs != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18712_total_runs : 1), (long) ctx->futhark_mc_segred_stage_1_parloop_18712_total_total_runtime, (double) ctx->futhark_mc_segred_stage_1_parloop_18712_total_total_runtime / (ctx->futhark_mc_segred_stage_1_parloop_18712_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segred_stage_1_parloop_18712_total_iter), (long) ctx->futhark_mc_segred_stage_1_parloop_18712_total_iter, (long) ctx->futhark_mc_segred_stage_1_parloop_18712_total_iter / (ctx->futhark_mc_segred_stage_1_parloop_18712_total_runs != 0 ? ctx->futhark_mc_segred_stage_1_parloop_18712_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segred_stage_1_parloop_18712_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segred_stage_1_parloop_18712_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segred_task_18709             ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segred_task_18709_runs[i], (long) ctx->futhark_mc_segred_task_18709_total_runtime[i] / (ctx->futhark_mc_segred_task_18709_runs[i] != 0 ? ctx->futhark_mc_segred_task_18709_runs[i] : 1), (long) ctx->futhark_mc_segred_task_18709_total_runtime[i], (double) ctx->futhark_mc_segred_task_18709_total_runtime[i] / (ctx->futhark_mc_segred_task_18709_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segred_task_18709_iter[i]), (long) ctx->futhark_mc_segred_task_18709_iter[i], (long) ctx->futhark_mc_segred_task_18709_iter[i] / (ctx->futhark_mc_segred_task_18709_runs[i] != 0 ? ctx->futhark_mc_segred_task_18709_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_parloop_18702          ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_parloop_18702_runs[i], (long) ctx->futhark_mc_segmap_parloop_18702_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18702_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18702_runs[i] : 1), (long) ctx->futhark_mc_segmap_parloop_18702_total_runtime[i], (double) ctx->futhark_mc_segmap_parloop_18702_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18702_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18702_iter[i]), (long) ctx->futhark_mc_segmap_parloop_18702_iter[i], (long) ctx->futhark_mc_segmap_parloop_18702_iter[i] / (ctx->futhark_mc_segmap_parloop_18702_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18702_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segmap_parloop_18702_total    ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segmap_parloop_18702_total_runs, (long) ctx->futhark_mc_segmap_parloop_18702_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18702_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18702_total_runs : 1), (long) ctx->futhark_mc_segmap_parloop_18702_total_total_runtime, (double) ctx->futhark_mc_segmap_parloop_18702_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18702_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18702_total_iter), (long) ctx->futhark_mc_segmap_parloop_18702_total_iter, (long) ctx->futhark_mc_segmap_parloop_18702_total_iter / (ctx->futhark_mc_segmap_parloop_18702_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18702_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segmap_parloop_18702_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_18702_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_task_18692             ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_task_18692_runs[i], (long) ctx->futhark_mc_segmap_task_18692_total_runtime[i] / (ctx->futhark_mc_segmap_task_18692_runs[i] != 0 ? ctx->futhark_mc_segmap_task_18692_runs[i] : 1), (long) ctx->futhark_mc_segmap_task_18692_total_runtime[i], (double) ctx->futhark_mc_segmap_task_18692_total_runtime[i] / (ctx->futhark_mc_segmap_task_18692_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_task_18692_iter[i]), (long) ctx->futhark_mc_segmap_task_18692_iter[i], (long) ctx->futhark_mc_segmap_task_18692_iter[i] / (ctx->futhark_mc_segmap_task_18692_runs[i] != 0 ? ctx->futhark_mc_segmap_task_18692_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_nested_task_18700      ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_nested_task_18700_runs[i], (long) ctx->futhark_mc_segmap_nested_task_18700_total_runtime[i] / (ctx->futhark_mc_segmap_nested_task_18700_runs[i] != 0 ? ctx->futhark_mc_segmap_nested_task_18700_runs[i] : 1), (long) ctx->futhark_mc_segmap_nested_task_18700_total_runtime[i], (double) ctx->futhark_mc_segmap_nested_task_18700_total_runtime[i] / (ctx->futhark_mc_segmap_nested_task_18700_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_18700_iter[i]), (long) ctx->futhark_mc_segmap_nested_task_18700_iter[i], (long) ctx->futhark_mc_segmap_nested_task_18700_iter[i] / (ctx->futhark_mc_segmap_nested_task_18700_runs[i] != 0 ? ctx->futhark_mc_segmap_nested_task_18700_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_parloop_18683          ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_parloop_18683_runs[i], (long) ctx->futhark_mc_segmap_parloop_18683_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18683_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18683_runs[i] : 1), (long) ctx->futhark_mc_segmap_parloop_18683_total_runtime[i], (double) ctx->futhark_mc_segmap_parloop_18683_total_runtime[i] / (ctx->futhark_mc_segmap_parloop_18683_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18683_iter[i]), (long) ctx->futhark_mc_segmap_parloop_18683_iter[i], (long) ctx->futhark_mc_segmap_parloop_18683_iter[i] / (ctx->futhark_mc_segmap_parloop_18683_runs[i] != 0 ? ctx->futhark_mc_segmap_parloop_18683_runs[i] : 1));
        fprintf(ctx->log, "         futhark_mc_segmap_parloop_18683_total    ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", ctx->futhark_mc_segmap_parloop_18683_total_runs, (long) ctx->futhark_mc_segmap_parloop_18683_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18683_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18683_total_runs : 1), (long) ctx->futhark_mc_segmap_parloop_18683_total_total_runtime, (double) ctx->futhark_mc_segmap_parloop_18683_total_total_runtime / (ctx->futhark_mc_segmap_parloop_18683_total_iter == 0 ? 1 : (double) ctx->futhark_mc_segmap_parloop_18683_total_iter), (long) ctx->futhark_mc_segmap_parloop_18683_total_iter, (long) ctx->futhark_mc_segmap_parloop_18683_total_iter / (ctx->futhark_mc_segmap_parloop_18683_total_runs != 0 ? ctx->futhark_mc_segmap_parloop_18683_total_runs : 1));
        ctx->total_runtime += ctx->futhark_mc_segmap_parloop_18683_total_total_runtime;
        ctx->total_runs += ctx->futhark_mc_segmap_parloop_18683_total_runs;
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_task_18666             ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_task_18666_runs[i], (long) ctx->futhark_mc_segmap_task_18666_total_runtime[i] / (ctx->futhark_mc_segmap_task_18666_runs[i] != 0 ? ctx->futhark_mc_segmap_task_18666_runs[i] : 1), (long) ctx->futhark_mc_segmap_task_18666_total_runtime[i], (double) ctx->futhark_mc_segmap_task_18666_total_runtime[i] / (ctx->futhark_mc_segmap_task_18666_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_task_18666_iter[i]), (long) ctx->futhark_mc_segmap_task_18666_iter[i], (long) ctx->futhark_mc_segmap_task_18666_iter[i] / (ctx->futhark_mc_segmap_task_18666_runs[i] != 0 ? ctx->futhark_mc_segmap_task_18666_runs[i] : 1));
        for (int i = 0; i < ctx->scheduler.num_threads; i++)
            fprintf(ctx->log, "tid %2d - futhark_mc_segmap_nested_task_18681      ran %10d times; avg: %10ldus; total: %10ldus; time pr. iter %9.6f; iters %9ld; avg %ld\n", i, ctx->futhark_mc_segmap_nested_task_18681_runs[i], (long) ctx->futhark_mc_segmap_nested_task_18681_total_runtime[i] / (ctx->futhark_mc_segmap_nested_task_18681_runs[i] != 0 ? ctx->futhark_mc_segmap_nested_task_18681_runs[i] : 1), (long) ctx->futhark_mc_segmap_nested_task_18681_total_runtime[i], (double) ctx->futhark_mc_segmap_nested_task_18681_total_runtime[i] / (ctx->futhark_mc_segmap_nested_task_18681_iter[i] == 0 ? 1 : (double) ctx->futhark_mc_segmap_nested_task_18681_iter[i]), (long) ctx->futhark_mc_segmap_nested_task_18681_iter[i], (long) ctx->futhark_mc_segmap_nested_task_18681_iter[i] / (ctx->futhark_mc_segmap_nested_task_18681_runs[i] != 0 ? ctx->futhark_mc_segmap_nested_task_18681_runs[i] : 1));
>>>>>>> d23c9a2 (ispc)
    }
    return builder.str;
}
char *futhark_context_get_error(struct futhark_context *ctx)
{
    char *error = ctx->error;
    
    ctx->error = NULL;
    return error;
}
void futhark_context_set_logging_file(struct futhark_context *ctx, FILE *f)
{
    ctx->log = f;
}
void futhark_context_pause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 1;
}
void futhark_context_unpause_profiling(struct futhark_context *ctx)
{
    ctx->profiling_paused = 0;
}
int futhark_context_clear_caches(struct futhark_context *ctx)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    ctx->peak_mem_usage_default = 0;
    lock_unlock(&ctx->lock);
    return ctx->error != NULL;
}

// Start of context.h

// Eventually it would be nice to move the context definition in here
// instead of generating it in the compiler.  For now it defines
// various helper functions that must be available.

// Internal functions.

static void set_error(struct futhark_context* ctx, char *error) {
  lock_lock(&ctx->error_lock);
  if (ctx->error == NULL) {
    ctx->error = error;
  } else {
    free(error);
  }
  lock_unlock(&ctx->error_lock);
}

// XXX: should be static, but used in ispc_util.h
void lexical_realloc_error(struct futhark_context* ctx, size_t new_size) {
  set_error(ctx,
            msgprintf("Failed to allocate memory.\nAttempted allocation: %12lld bytes\n",
                      (long long) new_size));
}

static int lexical_realloc(struct futhark_context *ctx,
                           unsigned char **ptr,
                           int64_t *old_size,
                           int64_t new_size) {
  unsigned char *new = realloc(*ptr, (size_t)new_size);
  if (new == NULL) {
    lexical_realloc_error(ctx, new_size);
    return FUTHARK_OUT_OF_MEMORY;
  } else {
    *ptr = new;
    *old_size = new_size;
    return FUTHARK_SUCCESS;
  }
}

// End of context.h

<<<<<<< HEAD
static int futrts_builtinzhgpu_map_transpose_i32(struct futhark_context *ctx, struct memblock_device destmem_0, int32_t destoffset_1, struct memblock_device srcmem_2, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6);
static int futrts_builtinzhgpu_map_transpose_i64(struct futhark_context *ctx, struct memblock_device destmem_0, int32_t destoffset_1, struct memblock_device srcmem_2, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6);
static int futrts_entry_make_transposed_quotient_codewords_non_opaque(struct futhark_context *ctx, struct memblock_device *mem_out_p_21040, struct memblock_device zzinvs_mem_19945, struct memblock_device eps_mem_19946, struct memblock_device expsss_mem_19947, struct memblock_device coefficientss_mem_19948, int64_t n_12351, int64_t m_12352, int64_t p_12353, int64_t q_12354);
static int futrts_entry_matmul(struct futhark_context *ctx, struct memblock_device *mem_out_p_21098, struct memblock_device xss_mem_19945, struct memblock_device yss_mem_19946, int64_t nz2080U_9828, int64_t pz2081U_9829, int64_t mz2082U_9830);
||||||| parent of d23c9a2 (ispc)
static int futrts_builtinzhgpu_map_transpose_i32(struct futhark_context *ctx, struct memblock_device destmem_0, int32_t destoffset_1, struct memblock_device srcmem_2, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6);
static int futrts_builtinzhgpu_map_transpose_i64(struct futhark_context *ctx, struct memblock_device destmem_0, int32_t destoffset_1, struct memblock_device srcmem_2, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6);
static int futrts_entry_make_transposed_quotient_codewords_non_opaque(struct futhark_context *ctx, struct memblock_device *mem_out_p_21021, struct memblock_device zzinvs_mem_19926, struct memblock_device eps_mem_19927, struct memblock_device expsss_mem_19928, struct memblock_device coefficientss_mem_19929, int64_t n_12333, int64_t m_12334, int64_t p_12335);
static int futrts_entry_matmul(struct futhark_context *ctx, struct memblock_device *mem_out_p_21079, struct memblock_device xss_mem_19926, struct memblock_device yss_mem_19927, int64_t nz2080U_9823, int64_t pz2081U_9824, int64_t mz2082U_9825);
=======
static int futrts_entry_make_transposed_quotient_codewords_non_opaque(struct futhark_context *ctx, struct memblock *mem_out_p_18427, struct memblock zzinvs_mem_17006, struct memblock eps_mem_17007, struct memblock expsss_mem_17008, struct memblock coefficientss_mem_17009, int64_t n_12333, int64_t m_12334, int64_t p_12335);
static int futrts_entry_matmul(struct futhark_context *ctx, struct memblock *mem_out_p_18664, struct memblock xss_mem_17006, struct memblock yss_mem_17007, int64_t nz2080U_9823, int64_t pz2081U_9824, int64_t mz2082U_9825);
>>>>>>> d23c9a2 (ispc)

static int init_constants(struct futhark_context *ctx)
{
    (void) ctx;
    
    int err = 0;
    
    
  cleanup:
    return err;
}
static int free_constants(struct futhark_context *ctx)
{
    (void) ctx;
    return 0;
}
struct futhark_mc_segmap_parloop_struct_18433 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    unsigned char *free_coefficientss_mem_17009;
    int64_t free_bytes_17011;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
};
char *futhark_mc_strlit_shim_18443()
{
    return "coefficientss_mem_17009";
}
char *futhark_mc_strlit_shim_18444()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18445()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18446()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18449()
{
    return "coefficientss_mem_17009";
}
char *futhark_mc_strlit_shim_18450()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18451()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18452()
{
    return "mem_17069";
}
static int futhark_mc_segmap_parloop_18434(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_18433 *futhark_mc_segmap_parloop_struct_18433 = (struct futhark_mc_segmap_parloop_struct_18433 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_18433->ctx;
    uint64_t futhark_mc_segmap_parloop_18434_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18434_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_segmap_parloop_struct_18433->free_m_12334;
    int64_t p_12335 = futhark_mc_segmap_parloop_struct_18433->free_p_12335;
    struct memblock coefficientss_mem_17009 = {.desc ="coefficientss_mem_17009", .mem =futhark_mc_segmap_parloop_struct_18433->free_coefficientss_mem_17009, .size =0, .references =NULL};
    int64_t bytes_17011 = futhark_mc_segmap_parloop_struct_18433->free_bytes_17011;
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_segmap_parloop_struct_18433->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_segmap_parloop_struct_18433->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_segmap_parloop_struct_18433->free_mem_17069, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t mem_17021_cached_sizze_18435 = 0;
    unsigned char *mem_17021 = NULL;
    int64_t mem_17024_cached_sizze_18436 = 0;
    unsigned char *mem_17024 = NULL;
    int64_t mem_17027_cached_sizze_18437 = 0;
    unsigned char *mem_17027 = NULL;
    int64_t flat_tid_15959;
    
    flat_tid_15959 = subtask_id;
    
    struct futhark_mc_param_struct_18438 futhark_mc_param_struct_18438_;
    
    futhark_mc_param_struct_18438_.ctx = ctx;
    futhark_mc_param_struct_18438_.free_m_12334 = m_12334;
    futhark_mc_param_struct_18438_.free_p_12335 = p_12335;
    futhark_mc_param_struct_18438_.free_coefficientss_mem_17009 = coefficientss_mem_17009.mem;
    futhark_mc_param_struct_18438_.free_bytes_17011 = bytes_17011;
    futhark_mc_param_struct_18438_.free_mem_17061 = mem_17061.mem;
    futhark_mc_param_struct_18438_.free_mem_17065 = mem_17065.mem;
    futhark_mc_param_struct_18438_.free_mem_17069 = mem_17069.mem;
    err = futhark_mc_loop_ispc_18439(start, end, &futhark_mc_param_struct_18438_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    {
        free(mem_17021);
        free(mem_17024);
        free(mem_17027);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18434_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18434_end - futhark_mc_segmap_parloop_18434_start;
        
        ctx->futhark_mc_segmap_parloop_18434_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_18434_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_18434_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_18432(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18431 *futhark_mc_task_18431 = (struct futhark_mc_task_18431 *) args;
    struct futhark_context *ctx = futhark_mc_task_18431->ctx;
    uint64_t futhark_mc_segmap_task_18432_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_18432_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_task_18431->free_m_12334;
    int64_t p_12335 = futhark_mc_task_18431->free_p_12335;
    struct memblock coefficientss_mem_17009 = {.desc ="coefficientss_mem_17009", .mem =futhark_mc_task_18431->free_coefficientss_mem_17009, .size =0, .references =NULL};
    int64_t bytes_17011 = futhark_mc_task_18431->free_bytes_17011;
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_task_18431->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_task_18431->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_task_18431->free_mem_17069, .size =0, .references =NULL};
    int32_t nsubtasks_17145;
    
    nsubtasks_17145 = info.nsubtasks;
    
    struct futhark_mc_segmap_parloop_struct_18433 futhark_mc_segmap_parloop_struct_18433_;
    
    futhark_mc_segmap_parloop_struct_18433_.ctx = ctx;
    futhark_mc_segmap_parloop_struct_18433_.free_m_12334 = m_12334;
    futhark_mc_segmap_parloop_struct_18433_.free_p_12335 = p_12335;
    futhark_mc_segmap_parloop_struct_18433_.free_coefficientss_mem_17009 = coefficientss_mem_17009.mem;
    futhark_mc_segmap_parloop_struct_18433_.free_bytes_17011 = bytes_17011;
    futhark_mc_segmap_parloop_struct_18433_.free_mem_17061 = mem_17061.mem;
    futhark_mc_segmap_parloop_struct_18433_.free_mem_17065 = mem_17065.mem;
    futhark_mc_segmap_parloop_struct_18433_.free_mem_17069 = mem_17069.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_18434_task;
    
    futhark_mc_segmap_parloop_18434_task.name = "futhark_mc_segmap_parloop_18434";
    futhark_mc_segmap_parloop_18434_task.fn = futhark_mc_segmap_parloop_18434;
    futhark_mc_segmap_parloop_18434_task.args = &futhark_mc_segmap_parloop_struct_18433_;
    futhark_mc_segmap_parloop_18434_task.iterations = iterations;
    futhark_mc_segmap_parloop_18434_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_18434_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18434_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_18434_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segmap_parloop_18434_task);
    
    if (futhark_mc_segmap_parloop_18434_err != 0) {
        err = futhark_mc_segmap_parloop_18434_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18434_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18434_total_end - futhark_mc_segmap_parloop_18434_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18434_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18434_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18434_total_iter, iterations, __ATOMIC_RELAXED);
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_18432_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_18432_end - futhark_mc_segmap_task_18432_start;
        
        ctx->futhark_mc_segmap_task_18432_runs[tid]++;
        ctx->futhark_mc_segmap_task_18432_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_18432_iter[tid] += iterations;
    }
    if (err == 0) { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_18454 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    unsigned char *free_coefficientss_mem_17009;
    int64_t free_bytes_17011;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
};
char *futhark_mc_strlit_shim_18461()
{
    return "coefficientss_mem_17009";
}
char *futhark_mc_strlit_shim_18462()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18463()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18464()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18465()
{
    return "mem_17012";
}
char *futhark_mc_strlit_shim_18466()
{
    return "mem_17015";
}
char *futhark_mc_strlit_shim_18467()
{
    return "mem_17018";
}
struct futhark_mc_segmap_parloop_struct_18470 {
    struct futhark_context *ctx;
    int64_t free_p_12335;
    int64_t free_gtid_15966;
    unsigned char *free_coefficientss_mem_17009;
    unsigned char *free_mem_17012;
    unsigned char *free_mem_17015;
    unsigned char *free_mem_17018;
};
char *futhark_mc_strlit_shim_18474()
{
    return "coefficientss_mem_17009";
}
char *futhark_mc_strlit_shim_18475()
{
    return "mem_17012";
}
char *futhark_mc_strlit_shim_18476()
{
    return "mem_17015";
}
char *futhark_mc_strlit_shim_18477()
{
    return "mem_17018";
}
static int futhark_mc_segmap_parloop_18471(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_18470 *futhark_mc_segmap_parloop_struct_18470 = (struct futhark_mc_segmap_parloop_struct_18470 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_18470->ctx;
    uint64_t futhark_mc_segmap_parloop_18471_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18471_start = get_wall_time();
    
    int64_t p_12335 = futhark_mc_segmap_parloop_struct_18470->free_p_12335;
    int64_t gtid_15966 = futhark_mc_segmap_parloop_struct_18470->free_gtid_15966;
    struct memblock coefficientss_mem_17009 = {.desc ="coefficientss_mem_17009", .mem =futhark_mc_segmap_parloop_struct_18470->free_coefficientss_mem_17009, .size =0, .references =NULL};
    struct memblock mem_17012 = {.desc ="mem_17012", .mem =futhark_mc_segmap_parloop_struct_18470->free_mem_17012, .size =0, .references =NULL};
    struct memblock mem_17015 = {.desc ="mem_17015", .mem =futhark_mc_segmap_parloop_struct_18470->free_mem_17015, .size =0, .references =NULL};
    struct memblock mem_17018 = {.desc ="mem_17018", .mem =futhark_mc_segmap_parloop_struct_18470->free_mem_17018, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t flat_tid_17166;
    
    flat_tid_17166 = subtask_id;
    
    struct futhark_mc_param_struct_18472 futhark_mc_param_struct_18472_;
    
    futhark_mc_param_struct_18472_.ctx = ctx;
    futhark_mc_param_struct_18472_.free_p_12335 = p_12335;
    futhark_mc_param_struct_18472_.free_gtid_15966 = gtid_15966;
    futhark_mc_param_struct_18472_.free_coefficientss_mem_17009 = coefficientss_mem_17009.mem;
    futhark_mc_param_struct_18472_.free_mem_17012 = mem_17012.mem;
    futhark_mc_param_struct_18472_.free_mem_17015 = mem_17015.mem;
    futhark_mc_param_struct_18472_.free_mem_17018 = mem_17018.mem;
    err = futhark_mc_loop_ispc_18473(start, end, &futhark_mc_param_struct_18472_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18471_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18471_end - futhark_mc_segmap_parloop_18471_start;
        
        ctx->futhark_mc_segmap_parloop_18471_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_18471_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_18471_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_18469(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18468 *futhark_mc_task_18468 = (struct futhark_mc_task_18468 *) args;
    struct futhark_context *ctx = futhark_mc_task_18468->ctx;
    uint64_t futhark_mc_segmap_task_18469_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_18469_start = get_wall_time();
    
    int64_t p_12335 = futhark_mc_task_18468->free_p_12335;
    int64_t gtid_15966 = futhark_mc_task_18468->free_gtid_15966;
    struct memblock coefficientss_mem_17009 = {.desc ="coefficientss_mem_17009", .mem =futhark_mc_task_18468->free_coefficientss_mem_17009, .size =0, .references =NULL};
    struct memblock mem_17012 = {.desc ="mem_17012", .mem =futhark_mc_task_18468->free_mem_17012, .size =0, .references =NULL};
    struct memblock mem_17015 = {.desc ="mem_17015", .mem =futhark_mc_task_18468->free_mem_17015, .size =0, .references =NULL};
    struct memblock mem_17018 = {.desc ="mem_17018", .mem =futhark_mc_task_18468->free_mem_17018, .size =0, .references =NULL};
    int32_t nsubtasks_17177;
    
    nsubtasks_17177 = info.nsubtasks;
    
    struct futhark_mc_segmap_parloop_struct_18470 futhark_mc_segmap_parloop_struct_18470_;
    
    futhark_mc_segmap_parloop_struct_18470_.ctx = ctx;
    futhark_mc_segmap_parloop_struct_18470_.free_p_12335 = p_12335;
    futhark_mc_segmap_parloop_struct_18470_.free_gtid_15966 = gtid_15966;
    futhark_mc_segmap_parloop_struct_18470_.free_coefficientss_mem_17009 = coefficientss_mem_17009.mem;
    futhark_mc_segmap_parloop_struct_18470_.free_mem_17012 = mem_17012.mem;
    futhark_mc_segmap_parloop_struct_18470_.free_mem_17015 = mem_17015.mem;
    futhark_mc_segmap_parloop_struct_18470_.free_mem_17018 = mem_17018.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_18471_task;
    
    futhark_mc_segmap_parloop_18471_task.name = "futhark_mc_segmap_parloop_18471";
    futhark_mc_segmap_parloop_18471_task.fn = futhark_mc_segmap_parloop_18471;
    futhark_mc_segmap_parloop_18471_task.args = &futhark_mc_segmap_parloop_struct_18470_;
    futhark_mc_segmap_parloop_18471_task.iterations = iterations;
    futhark_mc_segmap_parloop_18471_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_18471_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18471_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_18471_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segmap_parloop_18471_task);
    
    if (futhark_mc_segmap_parloop_18471_err != 0) {
        err = futhark_mc_segmap_parloop_18471_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18471_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18471_total_end - futhark_mc_segmap_parloop_18471_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18471_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18471_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18471_total_iter, iterations, __ATOMIC_RELAXED);
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_18469_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_18469_end - futhark_mc_segmap_task_18469_start;
        
        ctx->futhark_mc_segmap_task_18469_runs[tid]++;
        ctx->futhark_mc_segmap_task_18469_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_18469_iter[tid] += iterations;
    }
    if (err == 0) { }
    return err;
}
int futhark_mc_schedule_shim_18478(struct futhark_context *ctx, void *args, int64_t iterations)
{
    struct scheduler_segop futhark_mc_task_18468_task;
    
    futhark_mc_task_18468_task.args = args;
    futhark_mc_task_18468_task.top_level_fn = futhark_mc_segmap_task_18469;
    futhark_mc_task_18468_task.name = "futhark_mc_segmap_task_18469";
    futhark_mc_task_18468_task.iterations = iterations;
    futhark_mc_task_18468_task.task_time = &ctx->futhark_mc_segmap_task_18469_total_time;
    futhark_mc_task_18468_task.task_iter = &ctx->futhark_mc_segmap_task_18469_total_iter;
    futhark_mc_task_18468_task.sched = STATIC;
    futhark_mc_task_18468_task.nested_fn = NULL;
    return scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_18468_task);
}
char *futhark_mc_strlit_shim_18482()
{
    return "coefficientss_mem_17009";
}
char *futhark_mc_strlit_shim_18483()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18484()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18485()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18486()
{
    return "mem_17018";
}
char *futhark_mc_strlit_shim_18487()
{
    return "mem_17015";
}
char *futhark_mc_strlit_shim_18488()
{
    return "mem_17012";
}
static int futhark_mc_segmap_parloop_18455(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_18454 *futhark_mc_segmap_parloop_struct_18454 = (struct futhark_mc_segmap_parloop_struct_18454 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_18454->ctx;
    uint64_t futhark_mc_segmap_parloop_18455_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18455_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_segmap_parloop_struct_18454->free_m_12334;
    int64_t p_12335 = futhark_mc_segmap_parloop_struct_18454->free_p_12335;
    struct memblock coefficientss_mem_17009 = {.desc ="coefficientss_mem_17009", .mem =futhark_mc_segmap_parloop_struct_18454->free_coefficientss_mem_17009, .size =0, .references =NULL};
    int64_t bytes_17011 = futhark_mc_segmap_parloop_struct_18454->free_bytes_17011;
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_segmap_parloop_struct_18454->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_segmap_parloop_struct_18454->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_segmap_parloop_struct_18454->free_mem_17069, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t mem_17012_cached_sizze_18456 = 0;
    unsigned char *mem_17012 = NULL;
    int64_t mem_17015_cached_sizze_18457 = 0;
    unsigned char *mem_17015 = NULL;
    int64_t mem_17018_cached_sizze_18458 = 0;
    unsigned char *mem_17018 = NULL;
    int64_t flat_tid_15965;
    
    flat_tid_15965 = subtask_id;
    
    struct futhark_mc_param_struct_18459 futhark_mc_param_struct_18459_;
    
    futhark_mc_param_struct_18459_.ctx = ctx;
    futhark_mc_param_struct_18459_.free_m_12334 = m_12334;
    futhark_mc_param_struct_18459_.free_p_12335 = p_12335;
    futhark_mc_param_struct_18459_.free_coefficientss_mem_17009 = coefficientss_mem_17009.mem;
    futhark_mc_param_struct_18459_.free_bytes_17011 = bytes_17011;
    futhark_mc_param_struct_18459_.free_mem_17061 = mem_17061.mem;
    futhark_mc_param_struct_18459_.free_mem_17065 = mem_17065.mem;
    futhark_mc_param_struct_18459_.free_mem_17069 = mem_17069.mem;
    err = futhark_mc_loop_ispc_18460(start, end, &futhark_mc_param_struct_18459_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    {
        free(mem_17012);
        free(mem_17015);
        free(mem_17018);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18455_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18455_end - futhark_mc_segmap_parloop_18455_start;
        
        ctx->futhark_mc_segmap_parloop_18455_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_18455_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_18455_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_18453(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18431 *futhark_mc_task_18431 = (struct futhark_mc_task_18431 *) args;
    struct futhark_context *ctx = futhark_mc_task_18431->ctx;
    uint64_t futhark_mc_segmap_nested_task_18453_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_18453_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_task_18431->free_m_12334;
    int64_t p_12335 = futhark_mc_task_18431->free_p_12335;
    struct memblock coefficientss_mem_17009 = {.desc ="coefficientss_mem_17009", .mem =futhark_mc_task_18431->free_coefficientss_mem_17009, .size =0, .references =NULL};
    int64_t bytes_17011 = futhark_mc_task_18431->free_bytes_17011;
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_task_18431->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_task_18431->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_task_18431->free_mem_17069, .size =0, .references =NULL};
    int32_t nsubtasks_17165;
    
    nsubtasks_17165 = info.nsubtasks;
    
    struct futhark_mc_segmap_parloop_struct_18454 futhark_mc_segmap_parloop_struct_18454_;
    
    futhark_mc_segmap_parloop_struct_18454_.ctx = ctx;
    futhark_mc_segmap_parloop_struct_18454_.free_m_12334 = m_12334;
    futhark_mc_segmap_parloop_struct_18454_.free_p_12335 = p_12335;
    futhark_mc_segmap_parloop_struct_18454_.free_coefficientss_mem_17009 = coefficientss_mem_17009.mem;
    futhark_mc_segmap_parloop_struct_18454_.free_bytes_17011 = bytes_17011;
    futhark_mc_segmap_parloop_struct_18454_.free_mem_17061 = mem_17061.mem;
    futhark_mc_segmap_parloop_struct_18454_.free_mem_17065 = mem_17065.mem;
    futhark_mc_segmap_parloop_struct_18454_.free_mem_17069 = mem_17069.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_18455_task;
    
    futhark_mc_segmap_parloop_18455_task.name = "futhark_mc_segmap_parloop_18455";
    futhark_mc_segmap_parloop_18455_task.fn = futhark_mc_segmap_parloop_18455;
    futhark_mc_segmap_parloop_18455_task.args = &futhark_mc_segmap_parloop_struct_18454_;
    futhark_mc_segmap_parloop_18455_task.iterations = iterations;
    futhark_mc_segmap_parloop_18455_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_18455_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18455_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_18455_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segmap_parloop_18455_task);
    
    if (futhark_mc_segmap_parloop_18455_err != 0) {
        err = futhark_mc_segmap_parloop_18455_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18455_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18455_total_end - futhark_mc_segmap_parloop_18455_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18455_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18455_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18455_total_iter, iterations, __ATOMIC_RELAXED);
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_18453_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_18453_end - futhark_mc_segmap_nested_task_18453_start;
        
        ctx->futhark_mc_segmap_nested_task_18453_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_18453_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_18453_iter[tid] += iterations;
    }
    if (err == 0) { }
    return err;
}
int futhark_mc_schedule_shim_18489(struct futhark_context *ctx, void *args, int64_t iterations)
{
    struct scheduler_segop futhark_mc_task_18431_task;
    
    futhark_mc_task_18431_task.args = args;
    futhark_mc_task_18431_task.top_level_fn = futhark_mc_segmap_task_18432;
    futhark_mc_task_18431_task.name = "futhark_mc_segmap_task_18432";
    futhark_mc_task_18431_task.iterations = iterations;
    futhark_mc_task_18431_task.task_time = &ctx->futhark_mc_segmap_task_18432_total_time;
    futhark_mc_task_18431_task.task_iter = &ctx->futhark_mc_segmap_task_18432_total_iter;
    futhark_mc_task_18431_task.sched = STATIC;
    futhark_mc_task_18431_task.nested_fn = futhark_mc_segmap_nested_task_18453;
    return scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_18431_task);
}
struct futhark_mc_segmap_parloop_struct_18493 {
    struct futhark_context *ctx;
    int64_t free_n_12333;
    int64_t free_m_12334;
    int64_t free_p_12335;
    unsigned char *free_zzinvs_mem_17006;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    int64_t free_bytes_17076;
    int64_t free_bytes_17079;
    unsigned char *free_mem_17143;
};
char *futhark_mc_strlit_shim_18507()
{
    return "zinvs_mem_17006";
}
char *futhark_mc_strlit_shim_18508()
{
    return "eps_mem_17007";
}
char *futhark_mc_strlit_shim_18509()
{
    return "expsss_mem_17008";
}
char *futhark_mc_strlit_shim_18510()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18511()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18512()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18513()
{
    return "mem_17143";
}
char *futhark_mc_strlit_shim_18519()
{
    return "zinvs_mem_17006";
}
char *futhark_mc_strlit_shim_18520()
{
    return "eps_mem_17007";
}
char *futhark_mc_strlit_shim_18521()
{
    return "expsss_mem_17008";
}
char *futhark_mc_strlit_shim_18522()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18523()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18524()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18525()
{
    return "mem_17143";
}
static int futhark_mc_segmap_parloop_18494(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_18493 *futhark_mc_segmap_parloop_struct_18493 = (struct futhark_mc_segmap_parloop_struct_18493 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_18493->ctx;
    uint64_t futhark_mc_segmap_parloop_18494_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18494_start = get_wall_time();
    
    int64_t n_12333 = futhark_mc_segmap_parloop_struct_18493->free_n_12333;
    int64_t m_12334 = futhark_mc_segmap_parloop_struct_18493->free_m_12334;
    int64_t p_12335 = futhark_mc_segmap_parloop_struct_18493->free_p_12335;
    struct memblock zzinvs_mem_17006 = {.desc ="zinvs_mem_17006", .mem =futhark_mc_segmap_parloop_struct_18493->free_zzinvs_mem_17006, .size =0, .references =NULL};
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_segmap_parloop_struct_18493->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_segmap_parloop_struct_18493->free_expsss_mem_17008, .size =0, .references =NULL};
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_segmap_parloop_struct_18493->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_segmap_parloop_struct_18493->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_segmap_parloop_struct_18493->free_mem_17069, .size =0, .references =NULL};
    int64_t bytes_17076 = futhark_mc_segmap_parloop_struct_18493->free_bytes_17076;
    int64_t bytes_17079 = futhark_mc_segmap_parloop_struct_18493->free_bytes_17079;
    struct memblock mem_17143 = {.desc ="mem_17143", .mem =futhark_mc_segmap_parloop_struct_18493->free_mem_17143, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t mem_17080_cached_sizze_18495 = 0;
    unsigned char *mem_17080 = NULL;
    int64_t mem_17083_cached_sizze_18496 = 0;
    unsigned char *mem_17083 = NULL;
    int64_t mem_17086_cached_sizze_18497 = 0;
    unsigned char *mem_17086 = NULL;
    int64_t mem_17120_cached_sizze_18498 = 0;
    unsigned char *mem_17120 = NULL;
    int64_t mem_17130_cached_sizze_18499 = 0;
    unsigned char *mem_17130 = NULL;
    int64_t flat_tid_15977;
    
    flat_tid_15977 = subtask_id;
    
    struct futhark_mc_param_struct_18500 futhark_mc_param_struct_18500_;
    
    futhark_mc_param_struct_18500_.ctx = ctx;
    futhark_mc_param_struct_18500_.free_n_12333 = n_12333;
    futhark_mc_param_struct_18500_.free_m_12334 = m_12334;
    futhark_mc_param_struct_18500_.free_p_12335 = p_12335;
    futhark_mc_param_struct_18500_.free_zzinvs_mem_17006 = zzinvs_mem_17006.mem;
    futhark_mc_param_struct_18500_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_param_struct_18500_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_param_struct_18500_.free_mem_17061 = mem_17061.mem;
    futhark_mc_param_struct_18500_.free_mem_17065 = mem_17065.mem;
    futhark_mc_param_struct_18500_.free_mem_17069 = mem_17069.mem;
    futhark_mc_param_struct_18500_.free_bytes_17076 = bytes_17076;
    futhark_mc_param_struct_18500_.free_bytes_17079 = bytes_17079;
    futhark_mc_param_struct_18500_.free_mem_17143 = mem_17143.mem;
    err = futhark_mc_loop_ispc_18501(start, end, &futhark_mc_param_struct_18500_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    {
        free(mem_17080);
        free(mem_17083);
        free(mem_17086);
        free(mem_17120);
        free(mem_17130);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18494_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18494_end - futhark_mc_segmap_parloop_18494_start;
        
        ctx->futhark_mc_segmap_parloop_18494_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_18494_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_18494_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_18492(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18491 *futhark_mc_task_18491 = (struct futhark_mc_task_18491 *) args;
    struct futhark_context *ctx = futhark_mc_task_18491->ctx;
    uint64_t futhark_mc_segmap_task_18492_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_18492_start = get_wall_time();
    
    int64_t n_12333 = futhark_mc_task_18491->free_n_12333;
    int64_t m_12334 = futhark_mc_task_18491->free_m_12334;
    int64_t p_12335 = futhark_mc_task_18491->free_p_12335;
    struct memblock zzinvs_mem_17006 = {.desc ="zinvs_mem_17006", .mem =futhark_mc_task_18491->free_zzinvs_mem_17006, .size =0, .references =NULL};
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_task_18491->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_task_18491->free_expsss_mem_17008, .size =0, .references =NULL};
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_task_18491->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_task_18491->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_task_18491->free_mem_17069, .size =0, .references =NULL};
    int64_t bytes_17076 = futhark_mc_task_18491->free_bytes_17076;
    int64_t bytes_17079 = futhark_mc_task_18491->free_bytes_17079;
    struct memblock mem_17143 = {.desc ="mem_17143", .mem =futhark_mc_task_18491->free_mem_17143, .size =0, .references =NULL};
    int32_t nsubtasks_17184;
    
    nsubtasks_17184 = info.nsubtasks;
    
    struct futhark_mc_segmap_parloop_struct_18493 futhark_mc_segmap_parloop_struct_18493_;
    
    futhark_mc_segmap_parloop_struct_18493_.ctx = ctx;
    futhark_mc_segmap_parloop_struct_18493_.free_n_12333 = n_12333;
    futhark_mc_segmap_parloop_struct_18493_.free_m_12334 = m_12334;
    futhark_mc_segmap_parloop_struct_18493_.free_p_12335 = p_12335;
    futhark_mc_segmap_parloop_struct_18493_.free_zzinvs_mem_17006 = zzinvs_mem_17006.mem;
    futhark_mc_segmap_parloop_struct_18493_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_segmap_parloop_struct_18493_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_segmap_parloop_struct_18493_.free_mem_17061 = mem_17061.mem;
    futhark_mc_segmap_parloop_struct_18493_.free_mem_17065 = mem_17065.mem;
    futhark_mc_segmap_parloop_struct_18493_.free_mem_17069 = mem_17069.mem;
    futhark_mc_segmap_parloop_struct_18493_.free_bytes_17076 = bytes_17076;
    futhark_mc_segmap_parloop_struct_18493_.free_bytes_17079 = bytes_17079;
    futhark_mc_segmap_parloop_struct_18493_.free_mem_17143 = mem_17143.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_18494_task;
    
    futhark_mc_segmap_parloop_18494_task.name = "futhark_mc_segmap_parloop_18494";
    futhark_mc_segmap_parloop_18494_task.fn = futhark_mc_segmap_parloop_18494;
    futhark_mc_segmap_parloop_18494_task.args = &futhark_mc_segmap_parloop_struct_18493_;
    futhark_mc_segmap_parloop_18494_task.iterations = iterations;
    futhark_mc_segmap_parloop_18494_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_18494_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18494_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_18494_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segmap_parloop_18494_task);
    
    if (futhark_mc_segmap_parloop_18494_err != 0) {
        err = futhark_mc_segmap_parloop_18494_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18494_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18494_total_end - futhark_mc_segmap_parloop_18494_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18494_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18494_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18494_total_iter, iterations, __ATOMIC_RELAXED);
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_18492_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_18492_end - futhark_mc_segmap_task_18492_start;
        
        ctx->futhark_mc_segmap_task_18492_runs[tid]++;
        ctx->futhark_mc_segmap_task_18492_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_18492_iter[tid] += iterations;
    }
    if (err == 0) { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_18527 {
    struct futhark_context *ctx;
    int64_t free_n_12333;
    int64_t free_m_12334;
    int64_t free_p_12335;
    unsigned char *free_zzinvs_mem_17006;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    int64_t free_bytes_17076;
    unsigned char *free_mem_17143;
};
char *futhark_mc_strlit_shim_18532()
{
    return "zinvs_mem_17006";
}
char *futhark_mc_strlit_shim_18533()
{
    return "eps_mem_17007";
}
char *futhark_mc_strlit_shim_18534()
{
    return "expsss_mem_17008";
}
char *futhark_mc_strlit_shim_18535()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18536()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18537()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18538()
{
    return "mem_17143";
}
char *futhark_mc_strlit_shim_18539()
{
    return "mem_17077";
}
struct futhark_mc_segmap_parloop_struct_18542 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    int64_t free_gtid_16458;
    int64_t free_defunc_0_f_res_16461;
    int64_t free_defunc_0_f_res_16462;
    int64_t free_defunc_0_f_res_16463;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    unsigned char *free_mem_17077;
};
char *futhark_mc_strlit_shim_18548()
{
    return "eps_mem_17007";
}
char *futhark_mc_strlit_shim_18549()
{
    return "expsss_mem_17008";
}
char *futhark_mc_strlit_shim_18550()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18551()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18552()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18553()
{
    return "mem_17077";
}
char *futhark_mc_strlit_shim_18559()
{
    return "eps_mem_17007";
}
char *futhark_mc_strlit_shim_18560()
{
    return "expsss_mem_17008";
}
char *futhark_mc_strlit_shim_18561()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18562()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18563()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18564()
{
    return "mem_17077";
}
static int futhark_mc_segmap_parloop_18543(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_18542 *futhark_mc_segmap_parloop_struct_18542 = (struct futhark_mc_segmap_parloop_struct_18542 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_18542->ctx;
    uint64_t futhark_mc_segmap_parloop_18543_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18543_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_segmap_parloop_struct_18542->free_m_12334;
    int64_t p_12335 = futhark_mc_segmap_parloop_struct_18542->free_p_12335;
    int64_t gtid_16458 = futhark_mc_segmap_parloop_struct_18542->free_gtid_16458;
    int64_t defunc_0_f_res_16461 = futhark_mc_segmap_parloop_struct_18542->free_defunc_0_f_res_16461;
    int64_t defunc_0_f_res_16462 = futhark_mc_segmap_parloop_struct_18542->free_defunc_0_f_res_16462;
    int64_t defunc_0_f_res_16463 = futhark_mc_segmap_parloop_struct_18542->free_defunc_0_f_res_16463;
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_segmap_parloop_struct_18542->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_segmap_parloop_struct_18542->free_expsss_mem_17008, .size =0, .references =NULL};
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_segmap_parloop_struct_18542->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_segmap_parloop_struct_18542->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_segmap_parloop_struct_18542->free_mem_17069, .size =0, .references =NULL};
    struct memblock mem_17077 = {.desc ="mem_17077", .mem =futhark_mc_segmap_parloop_struct_18542->free_mem_17077, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t mem_17853_cached_sizze_18544 = 0;
    unsigned char *mem_17853 = NULL;
    int64_t flat_tid_17693;
    
    flat_tid_17693 = subtask_id;
    
    struct futhark_mc_param_struct_18545 futhark_mc_param_struct_18545_;
    
    futhark_mc_param_struct_18545_.ctx = ctx;
    futhark_mc_param_struct_18545_.free_m_12334 = m_12334;
    futhark_mc_param_struct_18545_.free_p_12335 = p_12335;
    futhark_mc_param_struct_18545_.free_gtid_16458 = gtid_16458;
    futhark_mc_param_struct_18545_.free_defunc_0_f_res_16461 = defunc_0_f_res_16461;
    futhark_mc_param_struct_18545_.free_defunc_0_f_res_16462 = defunc_0_f_res_16462;
    futhark_mc_param_struct_18545_.free_defunc_0_f_res_16463 = defunc_0_f_res_16463;
    futhark_mc_param_struct_18545_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_param_struct_18545_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_param_struct_18545_.free_mem_17061 = mem_17061.mem;
    futhark_mc_param_struct_18545_.free_mem_17065 = mem_17065.mem;
    futhark_mc_param_struct_18545_.free_mem_17069 = mem_17069.mem;
    futhark_mc_param_struct_18545_.free_mem_17077 = mem_17077.mem;
    err = futhark_mc_loop_ispc_18546(start, end, &futhark_mc_param_struct_18545_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    {
        free(mem_17853);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18543_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18543_end - futhark_mc_segmap_parloop_18543_start;
        
        ctx->futhark_mc_segmap_parloop_18543_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_18543_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_18543_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_18541(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18540 *futhark_mc_task_18540 = (struct futhark_mc_task_18540 *) args;
    struct futhark_context *ctx = futhark_mc_task_18540->ctx;
    uint64_t futhark_mc_segmap_task_18541_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_18541_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_task_18540->free_m_12334;
    int64_t p_12335 = futhark_mc_task_18540->free_p_12335;
    int64_t gtid_16458 = futhark_mc_task_18540->free_gtid_16458;
    int64_t defunc_0_f_res_16461 = futhark_mc_task_18540->free_defunc_0_f_res_16461;
    int64_t defunc_0_f_res_16462 = futhark_mc_task_18540->free_defunc_0_f_res_16462;
    int64_t defunc_0_f_res_16463 = futhark_mc_task_18540->free_defunc_0_f_res_16463;
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_task_18540->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_task_18540->free_expsss_mem_17008, .size =0, .references =NULL};
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_task_18540->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_task_18540->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_task_18540->free_mem_17069, .size =0, .references =NULL};
    struct memblock mem_17077 = {.desc ="mem_17077", .mem =futhark_mc_task_18540->free_mem_17077, .size =0, .references =NULL};
    int32_t nsubtasks_17861;
    
    nsubtasks_17861 = info.nsubtasks;
    
    struct futhark_mc_segmap_parloop_struct_18542 futhark_mc_segmap_parloop_struct_18542_;
    
    futhark_mc_segmap_parloop_struct_18542_.ctx = ctx;
    futhark_mc_segmap_parloop_struct_18542_.free_m_12334 = m_12334;
    futhark_mc_segmap_parloop_struct_18542_.free_p_12335 = p_12335;
    futhark_mc_segmap_parloop_struct_18542_.free_gtid_16458 = gtid_16458;
    futhark_mc_segmap_parloop_struct_18542_.free_defunc_0_f_res_16461 = defunc_0_f_res_16461;
    futhark_mc_segmap_parloop_struct_18542_.free_defunc_0_f_res_16462 = defunc_0_f_res_16462;
    futhark_mc_segmap_parloop_struct_18542_.free_defunc_0_f_res_16463 = defunc_0_f_res_16463;
    futhark_mc_segmap_parloop_struct_18542_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_segmap_parloop_struct_18542_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_segmap_parloop_struct_18542_.free_mem_17061 = mem_17061.mem;
    futhark_mc_segmap_parloop_struct_18542_.free_mem_17065 = mem_17065.mem;
    futhark_mc_segmap_parloop_struct_18542_.free_mem_17069 = mem_17069.mem;
    futhark_mc_segmap_parloop_struct_18542_.free_mem_17077 = mem_17077.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_18543_task;
    
    futhark_mc_segmap_parloop_18543_task.name = "futhark_mc_segmap_parloop_18543";
    futhark_mc_segmap_parloop_18543_task.fn = futhark_mc_segmap_parloop_18543;
    futhark_mc_segmap_parloop_18543_task.args = &futhark_mc_segmap_parloop_struct_18542_;
    futhark_mc_segmap_parloop_18543_task.iterations = iterations;
    futhark_mc_segmap_parloop_18543_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_18543_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18543_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_18543_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segmap_parloop_18543_task);
    
    if (futhark_mc_segmap_parloop_18543_err != 0) {
        err = futhark_mc_segmap_parloop_18543_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18543_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18543_total_end - futhark_mc_segmap_parloop_18543_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18543_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18543_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18543_total_iter, iterations, __ATOMIC_RELAXED);
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_18541_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_18541_end - futhark_mc_segmap_task_18541_start;
        
        ctx->futhark_mc_segmap_task_18541_runs[tid]++;
        ctx->futhark_mc_segmap_task_18541_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_18541_iter[tid] += iterations;
    }
    if (err == 0) { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_18566 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    int64_t free_gtid_16458;
    int64_t free_defunc_0_f_res_16461;
    int64_t free_defunc_0_f_res_16462;
    int64_t free_defunc_0_f_res_16463;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    unsigned char *free_mem_17077;
};
char *futhark_mc_strlit_shim_18572()
{
    return "eps_mem_17007";
}
char *futhark_mc_strlit_shim_18573()
{
    return "expsss_mem_17008";
}
char *futhark_mc_strlit_shim_18574()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18575()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18576()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18577()
{
    return "mem_17077";
}
struct futhark_mc_segred_stage_1_parloop_struct_18583 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    int64_t free_gtid_16458;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    int64_t free_gtid_17383;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18313;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18315;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18317;
};
char *futhark_mc_strlit_shim_18587()
{
    return "eps_mem_17007";
}
char *futhark_mc_strlit_shim_18588()
{
    return "expsss_mem_17008";
}
char *futhark_mc_strlit_shim_18589()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18590()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18591()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18592()
{
    return "reduce_stage_1_tid_res_arr_mem_18313";
}
char *futhark_mc_strlit_shim_18593()
{
    return "reduce_stage_1_tid_res_arr_mem_18315";
}
char *futhark_mc_strlit_shim_18594()
{
    return "reduce_stage_1_tid_res_arr_mem_18317";
}
static int futhark_mc_segred_stage_1_parloop_18584(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_18583 *futhark_mc_segred_stage_1_parloop_struct_18583 = (struct futhark_mc_segred_stage_1_parloop_struct_18583 *) args;
    struct futhark_context *ctx = futhark_mc_segred_stage_1_parloop_struct_18583->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_18584_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_18584_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_segred_stage_1_parloop_struct_18583->free_m_12334;
    int64_t p_12335 = futhark_mc_segred_stage_1_parloop_struct_18583->free_p_12335;
    int64_t gtid_16458 = futhark_mc_segred_stage_1_parloop_struct_18583->free_gtid_16458;
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_segred_stage_1_parloop_struct_18583->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_segred_stage_1_parloop_struct_18583->free_expsss_mem_17008, .size =0, .references =NULL};
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_segred_stage_1_parloop_struct_18583->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_segred_stage_1_parloop_struct_18583->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_segred_stage_1_parloop_struct_18583->free_mem_17069, .size =0, .references =NULL};
    int64_t gtid_17383 = futhark_mc_segred_stage_1_parloop_struct_18583->free_gtid_17383;
    struct memblock reduce_stage_1_tid_res_arr_mem_18313 = {.desc ="reduce_stage_1_tid_res_arr_mem_18313", .mem =futhark_mc_segred_stage_1_parloop_struct_18583->free_reduce_stage_1_tid_res_arr_mem_18313, .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_18315 = {.desc ="reduce_stage_1_tid_res_arr_mem_18315", .mem =futhark_mc_segred_stage_1_parloop_struct_18583->free_reduce_stage_1_tid_res_arr_mem_18315, .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_18317 = {.desc ="reduce_stage_1_tid_res_arr_mem_18317", .mem =futhark_mc_segred_stage_1_parloop_struct_18583->free_reduce_stage_1_tid_res_arr_mem_18317, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t flat_tid_18165;
    
    flat_tid_18165 = subtask_id;
    
    struct futhark_mc_param_struct_18585 futhark_mc_param_struct_18585_;
    
    futhark_mc_param_struct_18585_.ctx = ctx;
    futhark_mc_param_struct_18585_.free_m_12334 = m_12334;
    futhark_mc_param_struct_18585_.free_p_12335 = p_12335;
    futhark_mc_param_struct_18585_.free_gtid_16458 = gtid_16458;
    futhark_mc_param_struct_18585_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_param_struct_18585_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_param_struct_18585_.free_mem_17061 = mem_17061.mem;
    futhark_mc_param_struct_18585_.free_mem_17065 = mem_17065.mem;
    futhark_mc_param_struct_18585_.free_mem_17069 = mem_17069.mem;
    futhark_mc_param_struct_18585_.free_gtid_17383 = gtid_17383;
    futhark_mc_param_struct_18585_.free_flat_tid_18165 = flat_tid_18165;
    futhark_mc_param_struct_18585_.free_reduce_stage_1_tid_res_arr_mem_18313 = reduce_stage_1_tid_res_arr_mem_18313.mem;
    futhark_mc_param_struct_18585_.free_reduce_stage_1_tid_res_arr_mem_18315 = reduce_stage_1_tid_res_arr_mem_18315.mem;
    futhark_mc_param_struct_18585_.free_reduce_stage_1_tid_res_arr_mem_18317 = reduce_stage_1_tid_res_arr_mem_18317.mem;
    err = futhark_mc_loop_ispc_18586(start, end, &futhark_mc_param_struct_18585_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_18584_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_18584_end - futhark_mc_segred_stage_1_parloop_18584_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_18584_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_18584_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_18584_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_18579(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18578 *futhark_mc_task_18578 = (struct futhark_mc_task_18578 *) args;
    struct futhark_context *ctx = futhark_mc_task_18578->ctx;
    uint64_t futhark_mc_segred_task_18579_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_18579_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_task_18578->free_m_12334;
    int64_t p_12335 = futhark_mc_task_18578->free_p_12335;
    int64_t gtid_16458 = futhark_mc_task_18578->free_gtid_16458;
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_task_18578->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_task_18578->free_expsss_mem_17008, .size =0, .references =NULL};
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_task_18578->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_task_18578->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_task_18578->free_mem_17069, .size =0, .references =NULL};
    int64_t gtid_17383 = futhark_mc_task_18578->free_gtid_17383;
    int64_t flat_tid_18020 = futhark_mc_task_18578->free_flat_tid_18020;
    int64_t flat_tid_18165 = futhark_mc_task_18578->free_flat_tid_18165;
    int64_t defunc_0_f_res_17384 = *futhark_mc_task_18578->retval_defunc_0_f_res_17384;
    int64_t defunc_0_f_res_17385 = *futhark_mc_task_18578->retval_defunc_0_f_res_17385;
    int64_t defunc_0_f_res_17386 = *futhark_mc_task_18578->retval_defunc_0_f_res_17386;
    int64_t reduce_stage_1_tid_res_arr_mem_18313_cached_sizze_18580 = 0;
    unsigned char *reduce_stage_1_tid_res_arr_mem_18313 = NULL;
    int64_t reduce_stage_1_tid_res_arr_mem_18315_cached_sizze_18581 = 0;
    unsigned char *reduce_stage_1_tid_res_arr_mem_18315 = NULL;
    int64_t reduce_stage_1_tid_res_arr_mem_18317_cached_sizze_18582 = 0;
    unsigned char *reduce_stage_1_tid_res_arr_mem_18317 = NULL;
    int32_t nsubtasks_18312;
    
    nsubtasks_18312 = info.nsubtasks;
    if (reduce_stage_1_tid_res_arr_mem_18313_cached_sizze_18580 < (int64_t) 8 * nsubtasks_18312) {
        err = lexical_realloc(ctx, &reduce_stage_1_tid_res_arr_mem_18313, &reduce_stage_1_tid_res_arr_mem_18313_cached_sizze_18580, (int64_t) 8 * nsubtasks_18312);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (reduce_stage_1_tid_res_arr_mem_18315_cached_sizze_18581 < (int64_t) 8 * nsubtasks_18312) {
        err = lexical_realloc(ctx, &reduce_stage_1_tid_res_arr_mem_18315, &reduce_stage_1_tid_res_arr_mem_18315_cached_sizze_18581, (int64_t) 8 * nsubtasks_18312);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (reduce_stage_1_tid_res_arr_mem_18317_cached_sizze_18582 < (int64_t) 8 * nsubtasks_18312) {
        err = lexical_realloc(ctx, &reduce_stage_1_tid_res_arr_mem_18317, &reduce_stage_1_tid_res_arr_mem_18317_cached_sizze_18582, (int64_t) 8 * nsubtasks_18312);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    struct futhark_mc_segred_stage_1_parloop_struct_18583 futhark_mc_segred_stage_1_parloop_struct_18583_;
    
    futhark_mc_segred_stage_1_parloop_struct_18583_.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_18583_.free_m_12334 = m_12334;
    futhark_mc_segred_stage_1_parloop_struct_18583_.free_p_12335 = p_12335;
    futhark_mc_segred_stage_1_parloop_struct_18583_.free_gtid_16458 = gtid_16458;
    futhark_mc_segred_stage_1_parloop_struct_18583_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_segred_stage_1_parloop_struct_18583_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_segred_stage_1_parloop_struct_18583_.free_mem_17061 = mem_17061.mem;
    futhark_mc_segred_stage_1_parloop_struct_18583_.free_mem_17065 = mem_17065.mem;
    futhark_mc_segred_stage_1_parloop_struct_18583_.free_mem_17069 = mem_17069.mem;
    futhark_mc_segred_stage_1_parloop_struct_18583_.free_gtid_17383 = gtid_17383;
    futhark_mc_segred_stage_1_parloop_struct_18583_.free_reduce_stage_1_tid_res_arr_mem_18313 = reduce_stage_1_tid_res_arr_mem_18313;
    futhark_mc_segred_stage_1_parloop_struct_18583_.free_reduce_stage_1_tid_res_arr_mem_18315 = reduce_stage_1_tid_res_arr_mem_18315;
    futhark_mc_segred_stage_1_parloop_struct_18583_.free_reduce_stage_1_tid_res_arr_mem_18317 = reduce_stage_1_tid_res_arr_mem_18317;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_18584_task;
    
    futhark_mc_segred_stage_1_parloop_18584_task.name = "futhark_mc_segred_stage_1_parloop_18584";
    futhark_mc_segred_stage_1_parloop_18584_task.fn = futhark_mc_segred_stage_1_parloop_18584;
    futhark_mc_segred_stage_1_parloop_18584_task.args = &futhark_mc_segred_stage_1_parloop_struct_18583_;
    futhark_mc_segred_stage_1_parloop_18584_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_18584_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_18584_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_18584_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_18584_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segred_stage_1_parloop_18584_task);
    
    if (futhark_mc_segred_stage_1_parloop_18584_err != 0) {
        err = futhark_mc_segred_stage_1_parloop_18584_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_18584_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_18584_total_end - futhark_mc_segred_stage_1_parloop_18584_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_18584_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_18584_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_18584_total_iter, iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_0_f_res_17384 = (int64_t) 0;
        defunc_0_f_res_17385 = (int64_t) 0;
        defunc_0_f_res_17386 = (int64_t) 0;
    }
    
    int64_t x_18338;
    int64_t x_18339;
    int64_t x_18340;
    int64_t x_18341;
    int64_t x_18342;
    int64_t x_18343;
    
    for (int32_t i_18350 = 0; i_18350 < nsubtasks_18312; i_18350++) {
        flat_tid_18165 = i_18350;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_18338 = defunc_0_f_res_17384;
                x_18339 = defunc_0_f_res_17385;
                x_18340 = defunc_0_f_res_17386;
            }
            // load next params
            {
                x_18341 = ((int64_t *) reduce_stage_1_tid_res_arr_mem_18313)[flat_tid_18165];
                x_18342 = ((int64_t *) reduce_stage_1_tid_res_arr_mem_18315)[flat_tid_18165];
                x_18343 = ((int64_t *) reduce_stage_1_tid_res_arr_mem_18317)[flat_tid_18165];
            }
            // red body
            {
                int64_t canonicalizze_arg_18344 = add64(x_18338, x_18341);
                int64_t canonicalizze_res_18345 = umod64(canonicalizze_arg_18344, (int64_t) -4294967295);
                int64_t canonicalizze_arg_18346 = add64(x_18339, x_18342);
                int64_t canonicalizze_res_18347 = umod64(canonicalizze_arg_18346, (int64_t) -4294967295);
                int64_t canonicalizze_arg_18348 = add64(x_18340, x_18343);
                int64_t canonicalizze_res_18349 = umod64(canonicalizze_arg_18348, (int64_t) -4294967295);
                
                defunc_0_f_res_17384 = canonicalizze_res_18345;
                defunc_0_f_res_17385 = canonicalizze_res_18347;
                defunc_0_f_res_17386 = canonicalizze_res_18349;
            }
        }
    }
    
  cleanup:
    {
        free(reduce_stage_1_tid_res_arr_mem_18313);
        free(reduce_stage_1_tid_res_arr_mem_18315);
        free(reduce_stage_1_tid_res_arr_mem_18317);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_18579_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_18579_end - futhark_mc_segred_task_18579_start;
        
        ctx->futhark_mc_segred_task_18579_runs[tid]++;
        ctx->futhark_mc_segred_task_18579_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_18579_iter[tid] += iterations;
    }
    if (err == 0) {
        *futhark_mc_task_18578->retval_defunc_0_f_res_17384 = defunc_0_f_res_17384;
        *futhark_mc_task_18578->retval_defunc_0_f_res_17385 = defunc_0_f_res_17385;
        *futhark_mc_task_18578->retval_defunc_0_f_res_17386 = defunc_0_f_res_17386;
    }
    return err;
}
struct futhark_mc_segred_stage_1_parloop_struct_18599 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    int64_t free_gtid_16458;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    unsigned char *free_mem_17061;
    unsigned char *free_mem_17065;
    unsigned char *free_mem_17069;
    int64_t free_gtid_17383;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18352;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18354;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18356;
};
char *futhark_mc_strlit_shim_18603()
{
    return "eps_mem_17007";
}
char *futhark_mc_strlit_shim_18604()
{
    return "expsss_mem_17008";
}
char *futhark_mc_strlit_shim_18605()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18606()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18607()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18608()
{
    return "reduce_stage_1_tid_res_arr_mem_18352";
}
char *futhark_mc_strlit_shim_18609()
{
    return "reduce_stage_1_tid_res_arr_mem_18354";
}
char *futhark_mc_strlit_shim_18610()
{
    return "reduce_stage_1_tid_res_arr_mem_18356";
}
struct futhark_mc_segred_stage_1_parloop_struct_18616 {
    struct futhark_context *ctx;
    int64_t free_m_12334;
    int64_t free_p_12335;
    int64_t free_gtid_16458;
    unsigned char *free_eps_mem_17007;
    unsigned char *free_expsss_mem_17008;
    int64_t free_gtid_17383;
    int64_t free_gtid_18021;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18366;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18368;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_18370;
};
char *futhark_mc_strlit_shim_18620()
{
    return "eps_mem_17007";
}
char *futhark_mc_strlit_shim_18621()
{
    return "expsss_mem_17008";
}
char *futhark_mc_strlit_shim_18622()
{
    return "reduce_stage_1_tid_res_arr_mem_18366";
}
char *futhark_mc_strlit_shim_18623()
{
    return "reduce_stage_1_tid_res_arr_mem_18368";
}
char *futhark_mc_strlit_shim_18624()
{
    return "reduce_stage_1_tid_res_arr_mem_18370";
}
static int futhark_mc_segred_stage_1_parloop_18617(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_18616 *futhark_mc_segred_stage_1_parloop_struct_18616 = (struct futhark_mc_segred_stage_1_parloop_struct_18616 *) args;
    struct futhark_context *ctx = futhark_mc_segred_stage_1_parloop_struct_18616->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_18617_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_18617_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_segred_stage_1_parloop_struct_18616->free_m_12334;
    int64_t p_12335 = futhark_mc_segred_stage_1_parloop_struct_18616->free_p_12335;
    int64_t gtid_16458 = futhark_mc_segred_stage_1_parloop_struct_18616->free_gtid_16458;
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_segred_stage_1_parloop_struct_18616->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_segred_stage_1_parloop_struct_18616->free_expsss_mem_17008, .size =0, .references =NULL};
    int64_t gtid_17383 = futhark_mc_segred_stage_1_parloop_struct_18616->free_gtid_17383;
    int64_t gtid_18021 = futhark_mc_segred_stage_1_parloop_struct_18616->free_gtid_18021;
    struct memblock reduce_stage_1_tid_res_arr_mem_18366 = {.desc ="reduce_stage_1_tid_res_arr_mem_18366", .mem =futhark_mc_segred_stage_1_parloop_struct_18616->free_reduce_stage_1_tid_res_arr_mem_18366, .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_18368 = {.desc ="reduce_stage_1_tid_res_arr_mem_18368", .mem =futhark_mc_segred_stage_1_parloop_struct_18616->free_reduce_stage_1_tid_res_arr_mem_18368, .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_18370 = {.desc ="reduce_stage_1_tid_res_arr_mem_18370", .mem =futhark_mc_segred_stage_1_parloop_struct_18616->free_reduce_stage_1_tid_res_arr_mem_18370, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t flat_tid_18040;
    
    flat_tid_18040 = subtask_id;
    
    struct futhark_mc_param_struct_18618 futhark_mc_param_struct_18618_;
    
    futhark_mc_param_struct_18618_.ctx = ctx;
    futhark_mc_param_struct_18618_.free_m_12334 = m_12334;
    futhark_mc_param_struct_18618_.free_p_12335 = p_12335;
    futhark_mc_param_struct_18618_.free_gtid_16458 = gtid_16458;
    futhark_mc_param_struct_18618_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_param_struct_18618_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_param_struct_18618_.free_gtid_17383 = gtid_17383;
    futhark_mc_param_struct_18618_.free_gtid_18021 = gtid_18021;
    futhark_mc_param_struct_18618_.free_flat_tid_18040 = flat_tid_18040;
    futhark_mc_param_struct_18618_.free_reduce_stage_1_tid_res_arr_mem_18366 = reduce_stage_1_tid_res_arr_mem_18366.mem;
    futhark_mc_param_struct_18618_.free_reduce_stage_1_tid_res_arr_mem_18368 = reduce_stage_1_tid_res_arr_mem_18368.mem;
    futhark_mc_param_struct_18618_.free_reduce_stage_1_tid_res_arr_mem_18370 = reduce_stage_1_tid_res_arr_mem_18370.mem;
    err = futhark_mc_loop_ispc_18619(start, end, &futhark_mc_param_struct_18618_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_18617_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_18617_end - futhark_mc_segred_stage_1_parloop_18617_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_18617_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_18617_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_18617_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_18612(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18611 *futhark_mc_task_18611 = (struct futhark_mc_task_18611 *) args;
    struct futhark_context *ctx = futhark_mc_task_18611->ctx;
    uint64_t futhark_mc_segred_task_18612_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_18612_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_task_18611->free_m_12334;
    int64_t p_12335 = futhark_mc_task_18611->free_p_12335;
    int64_t gtid_16458 = futhark_mc_task_18611->free_gtid_16458;
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_task_18611->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_task_18611->free_expsss_mem_17008, .size =0, .references =NULL};
    int64_t gtid_17383 = futhark_mc_task_18611->free_gtid_17383;
    int64_t gtid_18021 = futhark_mc_task_18611->free_gtid_18021;
    int64_t flat_tid_18040 = futhark_mc_task_18611->free_flat_tid_18040;
    int64_t defunc_0_f_res_18037 = *futhark_mc_task_18611->retval_defunc_0_f_res_18037;
    int64_t defunc_0_f_res_18038 = *futhark_mc_task_18611->retval_defunc_0_f_res_18038;
    int64_t defunc_0_f_res_18039 = *futhark_mc_task_18611->retval_defunc_0_f_res_18039;
    int64_t reduce_stage_1_tid_res_arr_mem_18366_cached_sizze_18613 = 0;
    unsigned char *reduce_stage_1_tid_res_arr_mem_18366 = NULL;
    int64_t reduce_stage_1_tid_res_arr_mem_18368_cached_sizze_18614 = 0;
    unsigned char *reduce_stage_1_tid_res_arr_mem_18368 = NULL;
    int64_t reduce_stage_1_tid_res_arr_mem_18370_cached_sizze_18615 = 0;
    unsigned char *reduce_stage_1_tid_res_arr_mem_18370 = NULL;
    int32_t nsubtasks_18365;
    
    nsubtasks_18365 = info.nsubtasks;
    if (reduce_stage_1_tid_res_arr_mem_18366_cached_sizze_18613 < (int64_t) 8 * nsubtasks_18365) {
        err = lexical_realloc(ctx, &reduce_stage_1_tid_res_arr_mem_18366, &reduce_stage_1_tid_res_arr_mem_18366_cached_sizze_18613, (int64_t) 8 * nsubtasks_18365);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (reduce_stage_1_tid_res_arr_mem_18368_cached_sizze_18614 < (int64_t) 8 * nsubtasks_18365) {
        err = lexical_realloc(ctx, &reduce_stage_1_tid_res_arr_mem_18368, &reduce_stage_1_tid_res_arr_mem_18368_cached_sizze_18614, (int64_t) 8 * nsubtasks_18365);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (reduce_stage_1_tid_res_arr_mem_18370_cached_sizze_18615 < (int64_t) 8 * nsubtasks_18365) {
        err = lexical_realloc(ctx, &reduce_stage_1_tid_res_arr_mem_18370, &reduce_stage_1_tid_res_arr_mem_18370_cached_sizze_18615, (int64_t) 8 * nsubtasks_18365);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    struct futhark_mc_segred_stage_1_parloop_struct_18616 futhark_mc_segred_stage_1_parloop_struct_18616_;
    
    futhark_mc_segred_stage_1_parloop_struct_18616_.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_18616_.free_m_12334 = m_12334;
    futhark_mc_segred_stage_1_parloop_struct_18616_.free_p_12335 = p_12335;
    futhark_mc_segred_stage_1_parloop_struct_18616_.free_gtid_16458 = gtid_16458;
    futhark_mc_segred_stage_1_parloop_struct_18616_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_segred_stage_1_parloop_struct_18616_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_segred_stage_1_parloop_struct_18616_.free_gtid_17383 = gtid_17383;
    futhark_mc_segred_stage_1_parloop_struct_18616_.free_gtid_18021 = gtid_18021;
    futhark_mc_segred_stage_1_parloop_struct_18616_.free_reduce_stage_1_tid_res_arr_mem_18366 = reduce_stage_1_tid_res_arr_mem_18366;
    futhark_mc_segred_stage_1_parloop_struct_18616_.free_reduce_stage_1_tid_res_arr_mem_18368 = reduce_stage_1_tid_res_arr_mem_18368;
    futhark_mc_segred_stage_1_parloop_struct_18616_.free_reduce_stage_1_tid_res_arr_mem_18370 = reduce_stage_1_tid_res_arr_mem_18370;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_18617_task;
    
    futhark_mc_segred_stage_1_parloop_18617_task.name = "futhark_mc_segred_stage_1_parloop_18617";
    futhark_mc_segred_stage_1_parloop_18617_task.fn = futhark_mc_segred_stage_1_parloop_18617;
    futhark_mc_segred_stage_1_parloop_18617_task.args = &futhark_mc_segred_stage_1_parloop_struct_18616_;
    futhark_mc_segred_stage_1_parloop_18617_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_18617_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_18617_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_18617_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_18617_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segred_stage_1_parloop_18617_task);
    
    if (futhark_mc_segred_stage_1_parloop_18617_err != 0) {
        err = futhark_mc_segred_stage_1_parloop_18617_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_18617_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_18617_total_end - futhark_mc_segred_stage_1_parloop_18617_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_18617_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_18617_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_18617_total_iter, iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_0_f_res_18037 = (int64_t) 1;
        defunc_0_f_res_18038 = (int64_t) 0;
        defunc_0_f_res_18039 = (int64_t) 0;
    }
    
    int64_t x_18388;
    int64_t x_18389;
    int64_t x_18390;
    int64_t x_18391;
    int64_t x_18392;
    int64_t x_18393;
    
    for (int32_t i_18412 = 0; i_18412 < nsubtasks_18365; i_18412++) {
        flat_tid_18040 = i_18412;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_18388 = defunc_0_f_res_18037;
                x_18389 = defunc_0_f_res_18038;
                x_18390 = defunc_0_f_res_18039;
            }
            // load next params
            {
                x_18391 = ((int64_t *) reduce_stage_1_tid_res_arr_mem_18366)[flat_tid_18040];
                x_18392 = ((int64_t *) reduce_stage_1_tid_res_arr_mem_18368)[flat_tid_18040];
                x_18393 = ((int64_t *) reduce_stage_1_tid_res_arr_mem_18370)[flat_tid_18040];
            }
            // red body
            {
                int64_t x_18394 = mul64(x_18388, x_18391);
                int64_t y_18395 = mul64(x_18390, x_18392);
                int64_t x_18396 = sub64(x_18394, y_18395);
                int64_t y_18397 = mul64(x_18389, x_18393);
                int64_t defunc_1_op_res_18398 = sub64(x_18396, y_18397);
                int64_t x_18399 = mul64(x_18389, x_18391);
                int64_t y_18400 = mul64(x_18388, x_18392);
                int64_t x_18401 = add64(x_18399, y_18400);
                int64_t y_18402 = mul64(x_18390, x_18393);
                int64_t x_18403 = sub64(x_18401, y_18402);
                int64_t x_18404 = add64(y_18395, x_18403);
                int64_t defunc_1_op_res_18405 = add64(y_18397, x_18404);
                int64_t x_18406 = mul64(x_18390, x_18391);
                int64_t y_18407 = mul64(x_18389, x_18392);
                int64_t x_18408 = add64(x_18406, y_18407);
                int64_t y_18409 = mul64(x_18388, x_18393);
                int64_t x_18410 = add64(x_18408, y_18409);
                int64_t defunc_1_op_res_18411 = add64(y_18402, x_18410);
                
                defunc_0_f_res_18037 = defunc_1_op_res_18398;
                defunc_0_f_res_18038 = defunc_1_op_res_18405;
                defunc_0_f_res_18039 = defunc_1_op_res_18411;
            }
        }
    }
    
  cleanup:
    {
        free(reduce_stage_1_tid_res_arr_mem_18366);
        free(reduce_stage_1_tid_res_arr_mem_18368);
        free(reduce_stage_1_tid_res_arr_mem_18370);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_18612_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_18612_end - futhark_mc_segred_task_18612_start;
        
        ctx->futhark_mc_segred_task_18612_runs[tid]++;
        ctx->futhark_mc_segred_task_18612_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_18612_iter[tid] += iterations;
    }
    if (err == 0) {
        *futhark_mc_task_18611->retval_defunc_0_f_res_18037 = defunc_0_f_res_18037;
        *futhark_mc_task_18611->retval_defunc_0_f_res_18038 = defunc_0_f_res_18038;
        *futhark_mc_task_18611->retval_defunc_0_f_res_18039 = defunc_0_f_res_18039;
    }
    return err;
}
int futhark_mc_schedule_shim_18625(struct futhark_context *ctx, void *args, int64_t iterations)
{
    struct scheduler_segop futhark_mc_task_18611_task;
    
    futhark_mc_task_18611_task.args = args;
    futhark_mc_task_18611_task.top_level_fn = futhark_mc_segred_task_18612;
    futhark_mc_task_18611_task.name = "futhark_mc_segred_task_18612";
    futhark_mc_task_18611_task.iterations = iterations;
    futhark_mc_task_18611_task.task_time = &ctx->futhark_mc_segred_task_18612_total_time;
    futhark_mc_task_18611_task.task_iter = &ctx->futhark_mc_segred_task_18612_total_iter;
    futhark_mc_task_18611_task.sched = STATIC;
    futhark_mc_task_18611_task.nested_fn = NULL;
    return scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_18611_task);
}
char *futhark_mc_strlit_shim_18629()
{
    return "eps_mem_17007";
}
char *futhark_mc_strlit_shim_18630()
{
    return "expsss_mem_17008";
}
char *futhark_mc_strlit_shim_18631()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18632()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18633()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18634()
{
    return "reduce_stage_1_tid_res_arr_mem_18352";
}
char *futhark_mc_strlit_shim_18635()
{
    return "reduce_stage_1_tid_res_arr_mem_18354";
}
char *futhark_mc_strlit_shim_18636()
{
    return "reduce_stage_1_tid_res_arr_mem_18356";
}
static int futhark_mc_segred_stage_1_parloop_18600(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_18599 *futhark_mc_segred_stage_1_parloop_struct_18599 = (struct futhark_mc_segred_stage_1_parloop_struct_18599 *) args;
    struct futhark_context *ctx = futhark_mc_segred_stage_1_parloop_struct_18599->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_18600_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_18600_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_segred_stage_1_parloop_struct_18599->free_m_12334;
    int64_t p_12335 = futhark_mc_segred_stage_1_parloop_struct_18599->free_p_12335;
    int64_t gtid_16458 = futhark_mc_segred_stage_1_parloop_struct_18599->free_gtid_16458;
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_segred_stage_1_parloop_struct_18599->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_segred_stage_1_parloop_struct_18599->free_expsss_mem_17008, .size =0, .references =NULL};
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_segred_stage_1_parloop_struct_18599->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_segred_stage_1_parloop_struct_18599->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_segred_stage_1_parloop_struct_18599->free_mem_17069, .size =0, .references =NULL};
    int64_t gtid_17383 = futhark_mc_segred_stage_1_parloop_struct_18599->free_gtid_17383;
    struct memblock reduce_stage_1_tid_res_arr_mem_18352 = {.desc ="reduce_stage_1_tid_res_arr_mem_18352", .mem =futhark_mc_segred_stage_1_parloop_struct_18599->free_reduce_stage_1_tid_res_arr_mem_18352, .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_18354 = {.desc ="reduce_stage_1_tid_res_arr_mem_18354", .mem =futhark_mc_segred_stage_1_parloop_struct_18599->free_reduce_stage_1_tid_res_arr_mem_18354, .size =0, .references =NULL};
    struct memblock reduce_stage_1_tid_res_arr_mem_18356 = {.desc ="reduce_stage_1_tid_res_arr_mem_18356", .mem =futhark_mc_segred_stage_1_parloop_struct_18599->free_reduce_stage_1_tid_res_arr_mem_18356, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t flat_tid_18020;
    
    flat_tid_18020 = subtask_id;
    
    struct futhark_mc_param_struct_18601 futhark_mc_param_struct_18601_;
    
    futhark_mc_param_struct_18601_.ctx = ctx;
    futhark_mc_param_struct_18601_.free_m_12334 = m_12334;
    futhark_mc_param_struct_18601_.free_p_12335 = p_12335;
    futhark_mc_param_struct_18601_.free_gtid_16458 = gtid_16458;
    futhark_mc_param_struct_18601_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_param_struct_18601_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_param_struct_18601_.free_mem_17061 = mem_17061.mem;
    futhark_mc_param_struct_18601_.free_mem_17065 = mem_17065.mem;
    futhark_mc_param_struct_18601_.free_mem_17069 = mem_17069.mem;
    futhark_mc_param_struct_18601_.free_gtid_17383 = gtid_17383;
    futhark_mc_param_struct_18601_.free_flat_tid_18020 = flat_tid_18020;
    futhark_mc_param_struct_18601_.free_reduce_stage_1_tid_res_arr_mem_18352 = reduce_stage_1_tid_res_arr_mem_18352.mem;
    futhark_mc_param_struct_18601_.free_reduce_stage_1_tid_res_arr_mem_18354 = reduce_stage_1_tid_res_arr_mem_18354.mem;
    futhark_mc_param_struct_18601_.free_reduce_stage_1_tid_res_arr_mem_18356 = reduce_stage_1_tid_res_arr_mem_18356.mem;
    err = futhark_mc_loop_ispc_18602(start, end, &futhark_mc_param_struct_18601_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_18600_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_18600_end - futhark_mc_segred_stage_1_parloop_18600_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_18600_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_18600_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_18600_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_nested_task_18595(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18578 *futhark_mc_task_18578 = (struct futhark_mc_task_18578 *) args;
    struct futhark_context *ctx = futhark_mc_task_18578->ctx;
    uint64_t futhark_mc_segred_nested_task_18595_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_nested_task_18595_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_task_18578->free_m_12334;
    int64_t p_12335 = futhark_mc_task_18578->free_p_12335;
    int64_t gtid_16458 = futhark_mc_task_18578->free_gtid_16458;
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_task_18578->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_task_18578->free_expsss_mem_17008, .size =0, .references =NULL};
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_task_18578->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_task_18578->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_task_18578->free_mem_17069, .size =0, .references =NULL};
    int64_t gtid_17383 = futhark_mc_task_18578->free_gtid_17383;
    int64_t flat_tid_18020 = futhark_mc_task_18578->free_flat_tid_18020;
    int64_t flat_tid_18165 = futhark_mc_task_18578->free_flat_tid_18165;
    int64_t defunc_0_f_res_17384 = *futhark_mc_task_18578->retval_defunc_0_f_res_17384;
    int64_t defunc_0_f_res_17385 = *futhark_mc_task_18578->retval_defunc_0_f_res_17385;
    int64_t defunc_0_f_res_17386 = *futhark_mc_task_18578->retval_defunc_0_f_res_17386;
    int64_t reduce_stage_1_tid_res_arr_mem_18352_cached_sizze_18596 = 0;
    unsigned char *reduce_stage_1_tid_res_arr_mem_18352 = NULL;
    int64_t reduce_stage_1_tid_res_arr_mem_18354_cached_sizze_18597 = 0;
    unsigned char *reduce_stage_1_tid_res_arr_mem_18354 = NULL;
    int64_t reduce_stage_1_tid_res_arr_mem_18356_cached_sizze_18598 = 0;
    unsigned char *reduce_stage_1_tid_res_arr_mem_18356 = NULL;
    int32_t nsubtasks_18351;
    
    nsubtasks_18351 = info.nsubtasks;
    if (reduce_stage_1_tid_res_arr_mem_18352_cached_sizze_18596 < (int64_t) 8 * nsubtasks_18351) {
        err = lexical_realloc(ctx, &reduce_stage_1_tid_res_arr_mem_18352, &reduce_stage_1_tid_res_arr_mem_18352_cached_sizze_18596, (int64_t) 8 * nsubtasks_18351);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (reduce_stage_1_tid_res_arr_mem_18354_cached_sizze_18597 < (int64_t) 8 * nsubtasks_18351) {
        err = lexical_realloc(ctx, &reduce_stage_1_tid_res_arr_mem_18354, &reduce_stage_1_tid_res_arr_mem_18354_cached_sizze_18597, (int64_t) 8 * nsubtasks_18351);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (reduce_stage_1_tid_res_arr_mem_18356_cached_sizze_18598 < (int64_t) 8 * nsubtasks_18351) {
        err = lexical_realloc(ctx, &reduce_stage_1_tid_res_arr_mem_18356, &reduce_stage_1_tid_res_arr_mem_18356_cached_sizze_18598, (int64_t) 8 * nsubtasks_18351);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    struct futhark_mc_segred_stage_1_parloop_struct_18599 futhark_mc_segred_stage_1_parloop_struct_18599_;
    
    futhark_mc_segred_stage_1_parloop_struct_18599_.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_18599_.free_m_12334 = m_12334;
    futhark_mc_segred_stage_1_parloop_struct_18599_.free_p_12335 = p_12335;
    futhark_mc_segred_stage_1_parloop_struct_18599_.free_gtid_16458 = gtid_16458;
    futhark_mc_segred_stage_1_parloop_struct_18599_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_segred_stage_1_parloop_struct_18599_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_segred_stage_1_parloop_struct_18599_.free_mem_17061 = mem_17061.mem;
    futhark_mc_segred_stage_1_parloop_struct_18599_.free_mem_17065 = mem_17065.mem;
    futhark_mc_segred_stage_1_parloop_struct_18599_.free_mem_17069 = mem_17069.mem;
    futhark_mc_segred_stage_1_parloop_struct_18599_.free_gtid_17383 = gtid_17383;
    futhark_mc_segred_stage_1_parloop_struct_18599_.free_reduce_stage_1_tid_res_arr_mem_18352 = reduce_stage_1_tid_res_arr_mem_18352;
    futhark_mc_segred_stage_1_parloop_struct_18599_.free_reduce_stage_1_tid_res_arr_mem_18354 = reduce_stage_1_tid_res_arr_mem_18354;
    futhark_mc_segred_stage_1_parloop_struct_18599_.free_reduce_stage_1_tid_res_arr_mem_18356 = reduce_stage_1_tid_res_arr_mem_18356;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_18600_task;
    
    futhark_mc_segred_stage_1_parloop_18600_task.name = "futhark_mc_segred_stage_1_parloop_18600";
    futhark_mc_segred_stage_1_parloop_18600_task.fn = futhark_mc_segred_stage_1_parloop_18600;
    futhark_mc_segred_stage_1_parloop_18600_task.args = &futhark_mc_segred_stage_1_parloop_struct_18599_;
    futhark_mc_segred_stage_1_parloop_18600_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_18600_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_18600_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_18600_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_18600_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segred_stage_1_parloop_18600_task);
    
    if (futhark_mc_segred_stage_1_parloop_18600_err != 0) {
        err = futhark_mc_segred_stage_1_parloop_18600_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_18600_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_18600_total_end - futhark_mc_segred_stage_1_parloop_18600_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_18600_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_18600_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_18600_total_iter, iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_0_f_res_17384 = (int64_t) 0;
        defunc_0_f_res_17385 = (int64_t) 0;
        defunc_0_f_res_17386 = (int64_t) 0;
    }
    
    int64_t x_18414;
    int64_t x_18415;
    int64_t x_18416;
    int64_t x_18417;
    int64_t x_18418;
    int64_t x_18419;
    
    for (int32_t i_18426 = 0; i_18426 < nsubtasks_18351; i_18426++) {
        flat_tid_18020 = i_18426;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_18414 = defunc_0_f_res_17384;
                x_18415 = defunc_0_f_res_17385;
                x_18416 = defunc_0_f_res_17386;
            }
            // load next params
            {
                x_18417 = ((int64_t *) reduce_stage_1_tid_res_arr_mem_18352)[flat_tid_18020];
                x_18418 = ((int64_t *) reduce_stage_1_tid_res_arr_mem_18354)[flat_tid_18020];
                x_18419 = ((int64_t *) reduce_stage_1_tid_res_arr_mem_18356)[flat_tid_18020];
            }
            // red body
            {
                int64_t canonicalizze_arg_18420 = add64(x_18414, x_18417);
                int64_t canonicalizze_res_18421 = umod64(canonicalizze_arg_18420, (int64_t) -4294967295);
                int64_t canonicalizze_arg_18422 = add64(x_18415, x_18418);
                int64_t canonicalizze_res_18423 = umod64(canonicalizze_arg_18422, (int64_t) -4294967295);
                int64_t canonicalizze_arg_18424 = add64(x_18416, x_18419);
                int64_t canonicalizze_res_18425 = umod64(canonicalizze_arg_18424, (int64_t) -4294967295);
                
                defunc_0_f_res_17384 = canonicalizze_res_18421;
                defunc_0_f_res_17385 = canonicalizze_res_18423;
                defunc_0_f_res_17386 = canonicalizze_res_18425;
            }
        }
    }
    
  cleanup:
    {
        free(reduce_stage_1_tid_res_arr_mem_18352);
        free(reduce_stage_1_tid_res_arr_mem_18354);
        free(reduce_stage_1_tid_res_arr_mem_18356);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_nested_task_18595_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_nested_task_18595_end - futhark_mc_segred_nested_task_18595_start;
        
        ctx->futhark_mc_segred_nested_task_18595_runs[tid]++;
        ctx->futhark_mc_segred_nested_task_18595_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_nested_task_18595_iter[tid] += iterations;
    }
    if (err == 0) {
        *futhark_mc_task_18578->retval_defunc_0_f_res_17384 = defunc_0_f_res_17384;
        *futhark_mc_task_18578->retval_defunc_0_f_res_17385 = defunc_0_f_res_17385;
        *futhark_mc_task_18578->retval_defunc_0_f_res_17386 = defunc_0_f_res_17386;
    }
    return err;
}
int futhark_mc_schedule_shim_18637(struct futhark_context *ctx, void *args, int64_t iterations)
{
    struct scheduler_segop futhark_mc_task_18578_task;
    
    futhark_mc_task_18578_task.args = args;
    futhark_mc_task_18578_task.top_level_fn = futhark_mc_segred_task_18579;
    futhark_mc_task_18578_task.name = "futhark_mc_segred_task_18579";
    futhark_mc_task_18578_task.iterations = iterations;
    futhark_mc_task_18578_task.task_time = &ctx->futhark_mc_segred_task_18579_total_time;
    futhark_mc_task_18578_task.task_iter = &ctx->futhark_mc_segred_task_18579_total_iter;
    futhark_mc_task_18578_task.sched = STATIC;
    futhark_mc_task_18578_task.nested_fn = futhark_mc_segred_nested_task_18595;
    return scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_18578_task);
}
char *futhark_mc_strlit_shim_18644()
{
    return "eps_mem_17007";
}
char *futhark_mc_strlit_shim_18645()
{
    return "expsss_mem_17008";
}
char *futhark_mc_strlit_shim_18646()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18647()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18648()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18649()
{
    return "mem_17077";
}
static int futhark_mc_segmap_parloop_18567(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_18566 *futhark_mc_segmap_parloop_struct_18566 = (struct futhark_mc_segmap_parloop_struct_18566 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_18566->ctx;
    uint64_t futhark_mc_segmap_parloop_18567_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18567_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_segmap_parloop_struct_18566->free_m_12334;
    int64_t p_12335 = futhark_mc_segmap_parloop_struct_18566->free_p_12335;
    int64_t gtid_16458 = futhark_mc_segmap_parloop_struct_18566->free_gtid_16458;
    int64_t defunc_0_f_res_16461 = futhark_mc_segmap_parloop_struct_18566->free_defunc_0_f_res_16461;
    int64_t defunc_0_f_res_16462 = futhark_mc_segmap_parloop_struct_18566->free_defunc_0_f_res_16462;
    int64_t defunc_0_f_res_16463 = futhark_mc_segmap_parloop_struct_18566->free_defunc_0_f_res_16463;
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_segmap_parloop_struct_18566->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_segmap_parloop_struct_18566->free_expsss_mem_17008, .size =0, .references =NULL};
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_segmap_parloop_struct_18566->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_segmap_parloop_struct_18566->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_segmap_parloop_struct_18566->free_mem_17069, .size =0, .references =NULL};
    struct memblock mem_17077 = {.desc ="mem_17077", .mem =futhark_mc_segmap_parloop_struct_18566->free_mem_17077, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t mem_17691_cached_sizze_18568 = 0;
    unsigned char *mem_17691 = NULL;
    int64_t flat_tid_17382;
    
    flat_tid_17382 = subtask_id;
    
    struct futhark_mc_param_struct_18569 futhark_mc_param_struct_18569_;
    
    futhark_mc_param_struct_18569_.ctx = ctx;
    futhark_mc_param_struct_18569_.free_m_12334 = m_12334;
    futhark_mc_param_struct_18569_.free_p_12335 = p_12335;
    futhark_mc_param_struct_18569_.free_gtid_16458 = gtid_16458;
    futhark_mc_param_struct_18569_.free_defunc_0_f_res_16461 = defunc_0_f_res_16461;
    futhark_mc_param_struct_18569_.free_defunc_0_f_res_16462 = defunc_0_f_res_16462;
    futhark_mc_param_struct_18569_.free_defunc_0_f_res_16463 = defunc_0_f_res_16463;
    futhark_mc_param_struct_18569_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_param_struct_18569_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_param_struct_18569_.free_mem_17061 = mem_17061.mem;
    futhark_mc_param_struct_18569_.free_mem_17065 = mem_17065.mem;
    futhark_mc_param_struct_18569_.free_mem_17069 = mem_17069.mem;
    futhark_mc_param_struct_18569_.free_mem_17077 = mem_17077.mem;
    err = futhark_mc_loop_ispc_18570(start, end, &futhark_mc_param_struct_18569_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    {
        free(mem_17691);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18567_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18567_end - futhark_mc_segmap_parloop_18567_start;
        
        ctx->futhark_mc_segmap_parloop_18567_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_18567_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_18567_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_18565(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18540 *futhark_mc_task_18540 = (struct futhark_mc_task_18540 *) args;
    struct futhark_context *ctx = futhark_mc_task_18540->ctx;
    uint64_t futhark_mc_segmap_nested_task_18565_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_18565_start = get_wall_time();
    
    int64_t m_12334 = futhark_mc_task_18540->free_m_12334;
    int64_t p_12335 = futhark_mc_task_18540->free_p_12335;
    int64_t gtid_16458 = futhark_mc_task_18540->free_gtid_16458;
    int64_t defunc_0_f_res_16461 = futhark_mc_task_18540->free_defunc_0_f_res_16461;
    int64_t defunc_0_f_res_16462 = futhark_mc_task_18540->free_defunc_0_f_res_16462;
    int64_t defunc_0_f_res_16463 = futhark_mc_task_18540->free_defunc_0_f_res_16463;
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_task_18540->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_task_18540->free_expsss_mem_17008, .size =0, .references =NULL};
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_task_18540->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_task_18540->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_task_18540->free_mem_17069, .size =0, .references =NULL};
    struct memblock mem_17077 = {.desc ="mem_17077", .mem =futhark_mc_task_18540->free_mem_17077, .size =0, .references =NULL};
    int32_t nsubtasks_18019;
    
    nsubtasks_18019 = info.nsubtasks;
    
    struct futhark_mc_segmap_parloop_struct_18566 futhark_mc_segmap_parloop_struct_18566_;
    
    futhark_mc_segmap_parloop_struct_18566_.ctx = ctx;
    futhark_mc_segmap_parloop_struct_18566_.free_m_12334 = m_12334;
    futhark_mc_segmap_parloop_struct_18566_.free_p_12335 = p_12335;
    futhark_mc_segmap_parloop_struct_18566_.free_gtid_16458 = gtid_16458;
    futhark_mc_segmap_parloop_struct_18566_.free_defunc_0_f_res_16461 = defunc_0_f_res_16461;
    futhark_mc_segmap_parloop_struct_18566_.free_defunc_0_f_res_16462 = defunc_0_f_res_16462;
    futhark_mc_segmap_parloop_struct_18566_.free_defunc_0_f_res_16463 = defunc_0_f_res_16463;
    futhark_mc_segmap_parloop_struct_18566_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_segmap_parloop_struct_18566_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_segmap_parloop_struct_18566_.free_mem_17061 = mem_17061.mem;
    futhark_mc_segmap_parloop_struct_18566_.free_mem_17065 = mem_17065.mem;
    futhark_mc_segmap_parloop_struct_18566_.free_mem_17069 = mem_17069.mem;
    futhark_mc_segmap_parloop_struct_18566_.free_mem_17077 = mem_17077.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_18567_task;
    
    futhark_mc_segmap_parloop_18567_task.name = "futhark_mc_segmap_parloop_18567";
    futhark_mc_segmap_parloop_18567_task.fn = futhark_mc_segmap_parloop_18567;
    futhark_mc_segmap_parloop_18567_task.args = &futhark_mc_segmap_parloop_struct_18566_;
    futhark_mc_segmap_parloop_18567_task.iterations = iterations;
    futhark_mc_segmap_parloop_18567_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_18567_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18567_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_18567_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segmap_parloop_18567_task);
    
    if (futhark_mc_segmap_parloop_18567_err != 0) {
        err = futhark_mc_segmap_parloop_18567_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18567_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18567_total_end - futhark_mc_segmap_parloop_18567_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18567_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18567_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18567_total_iter, iterations, __ATOMIC_RELAXED);
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_18565_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_18565_end - futhark_mc_segmap_nested_task_18565_start;
        
        ctx->futhark_mc_segmap_nested_task_18565_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_18565_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_18565_iter[tid] += iterations;
    }
    if (err == 0) { }
    return err;
}
int futhark_mc_schedule_shim_18650(struct futhark_context *ctx, void *args, int64_t iterations)
{
    struct scheduler_segop futhark_mc_task_18540_task;
    
    futhark_mc_task_18540_task.args = args;
    futhark_mc_task_18540_task.top_level_fn = futhark_mc_segmap_task_18541;
    futhark_mc_task_18540_task.name = "futhark_mc_segmap_task_18541";
    futhark_mc_task_18540_task.iterations = iterations;
    futhark_mc_task_18540_task.task_time = &ctx->futhark_mc_segmap_task_18541_total_time;
    futhark_mc_task_18540_task.task_iter = &ctx->futhark_mc_segmap_task_18541_total_iter;
    futhark_mc_task_18540_task.sched = DYNAMIC;
    futhark_mc_task_18540_task.nested_fn = futhark_mc_segmap_nested_task_18565;
    return scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_18540_task);
}
char *futhark_mc_strlit_shim_18654()
{
    return "zinvs_mem_17006";
}
char *futhark_mc_strlit_shim_18655()
{
    return "eps_mem_17007";
}
char *futhark_mc_strlit_shim_18656()
{
    return "expsss_mem_17008";
}
char *futhark_mc_strlit_shim_18657()
{
    return "mem_17061";
}
char *futhark_mc_strlit_shim_18658()
{
    return "mem_17065";
}
char *futhark_mc_strlit_shim_18659()
{
    return "mem_17069";
}
char *futhark_mc_strlit_shim_18660()
{
    return "mem_17143";
}
char *futhark_mc_strlit_shim_18661()
{
    return "mem_17077";
}
static int futhark_mc_segmap_parloop_18528(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_18527 *futhark_mc_segmap_parloop_struct_18527 = (struct futhark_mc_segmap_parloop_struct_18527 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_18527->ctx;
    uint64_t futhark_mc_segmap_parloop_18528_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18528_start = get_wall_time();
    
    int64_t n_12333 = futhark_mc_segmap_parloop_struct_18527->free_n_12333;
    int64_t m_12334 = futhark_mc_segmap_parloop_struct_18527->free_m_12334;
    int64_t p_12335 = futhark_mc_segmap_parloop_struct_18527->free_p_12335;
    struct memblock zzinvs_mem_17006 = {.desc ="zinvs_mem_17006", .mem =futhark_mc_segmap_parloop_struct_18527->free_zzinvs_mem_17006, .size =0, .references =NULL};
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_segmap_parloop_struct_18527->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_segmap_parloop_struct_18527->free_expsss_mem_17008, .size =0, .references =NULL};
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_segmap_parloop_struct_18527->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_segmap_parloop_struct_18527->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_segmap_parloop_struct_18527->free_mem_17069, .size =0, .references =NULL};
    int64_t bytes_17076 = futhark_mc_segmap_parloop_struct_18527->free_bytes_17076;
    struct memblock mem_17143 = {.desc ="mem_17143", .mem =futhark_mc_segmap_parloop_struct_18527->free_mem_17143, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t mem_17077_cached_sizze_18529 = 0;
    unsigned char *mem_17077 = NULL;
    int64_t flat_tid_16457;
    
    flat_tid_16457 = subtask_id;
    
    struct futhark_mc_param_struct_18530 futhark_mc_param_struct_18530_;
    
    futhark_mc_param_struct_18530_.ctx = ctx;
    futhark_mc_param_struct_18530_.free_n_12333 = n_12333;
    futhark_mc_param_struct_18530_.free_m_12334 = m_12334;
    futhark_mc_param_struct_18530_.free_p_12335 = p_12335;
    futhark_mc_param_struct_18530_.free_zzinvs_mem_17006 = zzinvs_mem_17006.mem;
    futhark_mc_param_struct_18530_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_param_struct_18530_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_param_struct_18530_.free_mem_17061 = mem_17061.mem;
    futhark_mc_param_struct_18530_.free_mem_17065 = mem_17065.mem;
    futhark_mc_param_struct_18530_.free_mem_17069 = mem_17069.mem;
    futhark_mc_param_struct_18530_.free_bytes_17076 = bytes_17076;
    futhark_mc_param_struct_18530_.free_mem_17143 = mem_17143.mem;
    err = futhark_mc_loop_ispc_18531(start, end, &futhark_mc_param_struct_18530_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    {
        free(mem_17077);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18528_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18528_end - futhark_mc_segmap_parloop_18528_start;
        
        ctx->futhark_mc_segmap_parloop_18528_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_18528_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_18528_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_18526(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18491 *futhark_mc_task_18491 = (struct futhark_mc_task_18491 *) args;
    struct futhark_context *ctx = futhark_mc_task_18491->ctx;
    uint64_t futhark_mc_segmap_nested_task_18526_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_18526_start = get_wall_time();
    
    int64_t n_12333 = futhark_mc_task_18491->free_n_12333;
    int64_t m_12334 = futhark_mc_task_18491->free_m_12334;
    int64_t p_12335 = futhark_mc_task_18491->free_p_12335;
    struct memblock zzinvs_mem_17006 = {.desc ="zinvs_mem_17006", .mem =futhark_mc_task_18491->free_zzinvs_mem_17006, .size =0, .references =NULL};
    struct memblock eps_mem_17007 = {.desc ="eps_mem_17007", .mem =futhark_mc_task_18491->free_eps_mem_17007, .size =0, .references =NULL};
    struct memblock expsss_mem_17008 = {.desc ="expsss_mem_17008", .mem =futhark_mc_task_18491->free_expsss_mem_17008, .size =0, .references =NULL};
    struct memblock mem_17061 = {.desc ="mem_17061", .mem =futhark_mc_task_18491->free_mem_17061, .size =0, .references =NULL};
    struct memblock mem_17065 = {.desc ="mem_17065", .mem =futhark_mc_task_18491->free_mem_17065, .size =0, .references =NULL};
    struct memblock mem_17069 = {.desc ="mem_17069", .mem =futhark_mc_task_18491->free_mem_17069, .size =0, .references =NULL};
    int64_t bytes_17076 = futhark_mc_task_18491->free_bytes_17076;
    int64_t bytes_17079 = futhark_mc_task_18491->free_bytes_17079;
    struct memblock mem_17143 = {.desc ="mem_17143", .mem =futhark_mc_task_18491->free_mem_17143, .size =0, .references =NULL};
    int32_t nsubtasks_17381;
    
    nsubtasks_17381 = info.nsubtasks;
    
    struct futhark_mc_segmap_parloop_struct_18527 futhark_mc_segmap_parloop_struct_18527_;
    
    futhark_mc_segmap_parloop_struct_18527_.ctx = ctx;
    futhark_mc_segmap_parloop_struct_18527_.free_n_12333 = n_12333;
    futhark_mc_segmap_parloop_struct_18527_.free_m_12334 = m_12334;
    futhark_mc_segmap_parloop_struct_18527_.free_p_12335 = p_12335;
    futhark_mc_segmap_parloop_struct_18527_.free_zzinvs_mem_17006 = zzinvs_mem_17006.mem;
    futhark_mc_segmap_parloop_struct_18527_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_segmap_parloop_struct_18527_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_segmap_parloop_struct_18527_.free_mem_17061 = mem_17061.mem;
    futhark_mc_segmap_parloop_struct_18527_.free_mem_17065 = mem_17065.mem;
    futhark_mc_segmap_parloop_struct_18527_.free_mem_17069 = mem_17069.mem;
    futhark_mc_segmap_parloop_struct_18527_.free_bytes_17076 = bytes_17076;
    futhark_mc_segmap_parloop_struct_18527_.free_mem_17143 = mem_17143.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_18528_task;
    
    futhark_mc_segmap_parloop_18528_task.name = "futhark_mc_segmap_parloop_18528";
    futhark_mc_segmap_parloop_18528_task.fn = futhark_mc_segmap_parloop_18528;
    futhark_mc_segmap_parloop_18528_task.args = &futhark_mc_segmap_parloop_struct_18527_;
    futhark_mc_segmap_parloop_18528_task.iterations = iterations;
    futhark_mc_segmap_parloop_18528_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_18528_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18528_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_18528_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segmap_parloop_18528_task);
    
    if (futhark_mc_segmap_parloop_18528_err != 0) {
        err = futhark_mc_segmap_parloop_18528_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18528_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18528_total_end - futhark_mc_segmap_parloop_18528_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18528_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18528_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18528_total_iter, iterations, __ATOMIC_RELAXED);
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_18526_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_18526_end - futhark_mc_segmap_nested_task_18526_start;
        
        ctx->futhark_mc_segmap_nested_task_18526_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_18526_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_18526_iter[tid] += iterations;
    }
    if (err == 0) { }
    return err;
}
int futhark_mc_schedule_shim_18662(struct futhark_context *ctx, void *args, int64_t iterations)
{
    struct scheduler_segop futhark_mc_task_18491_task;
    
    futhark_mc_task_18491_task.args = args;
    futhark_mc_task_18491_task.top_level_fn = futhark_mc_segmap_task_18492;
    futhark_mc_task_18491_task.name = "futhark_mc_segmap_task_18492";
    futhark_mc_task_18491_task.iterations = iterations;
    futhark_mc_task_18491_task.task_time = &ctx->futhark_mc_segmap_task_18492_total_time;
    futhark_mc_task_18491_task.task_iter = &ctx->futhark_mc_segmap_task_18492_total_iter;
    futhark_mc_task_18491_task.sched = DYNAMIC;
    futhark_mc_task_18491_task.nested_fn = futhark_mc_segmap_nested_task_18526;
    return scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_18491_task);
}
struct futhark_mc_segmap_parloop_struct_18667 {
    struct futhark_context *ctx;
    int64_t free_nz2080U_9823;
    int64_t free_pz2081U_9824;
    int64_t free_mz2082U_9825;
    unsigned char *free_xss_mem_17006;
    unsigned char *free_yss_mem_17007;
    int64_t free_bytes_17009;
    unsigned char *free_mem_17027;
};
char *futhark_mc_strlit_shim_18673()
{
    return "xss_mem_17006";
}
char *futhark_mc_strlit_shim_18674()
{
    return "yss_mem_17007";
}
char *futhark_mc_strlit_shim_18675()
{
    return "mem_17027";
}
char *futhark_mc_strlit_shim_18678()
{
    return "xss_mem_17006";
}
char *futhark_mc_strlit_shim_18679()
{
    return "yss_mem_17007";
}
char *futhark_mc_strlit_shim_18680()
{
    return "mem_17027";
}
static int futhark_mc_segmap_parloop_18668(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_18667 *futhark_mc_segmap_parloop_struct_18667 = (struct futhark_mc_segmap_parloop_struct_18667 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_18667->ctx;
    uint64_t futhark_mc_segmap_parloop_18668_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18668_start = get_wall_time();
    
    int64_t nz2080U_9823 = futhark_mc_segmap_parloop_struct_18667->free_nz2080U_9823;
    int64_t pz2081U_9824 = futhark_mc_segmap_parloop_struct_18667->free_pz2081U_9824;
    int64_t mz2082U_9825 = futhark_mc_segmap_parloop_struct_18667->free_mz2082U_9825;
    struct memblock xss_mem_17006 = {.desc ="xss_mem_17006", .mem =futhark_mc_segmap_parloop_struct_18667->free_xss_mem_17006, .size =0, .references =NULL};
    struct memblock yss_mem_17007 = {.desc ="yss_mem_17007", .mem =futhark_mc_segmap_parloop_struct_18667->free_yss_mem_17007, .size =0, .references =NULL};
    int64_t bytes_17009 = futhark_mc_segmap_parloop_struct_18667->free_bytes_17009;
    struct memblock mem_17027 = {.desc ="mem_17027", .mem =futhark_mc_segmap_parloop_struct_18667->free_mem_17027, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t mem_17013_cached_sizze_18669 = 0;
    unsigned char *mem_17013 = NULL;
    int64_t flat_tid_15911;
    
    flat_tid_15911 = subtask_id;
    
    struct futhark_mc_param_struct_18670 futhark_mc_param_struct_18670_;
    
    futhark_mc_param_struct_18670_.ctx = ctx;
    futhark_mc_param_struct_18670_.free_nz2080U_9823 = nz2080U_9823;
    futhark_mc_param_struct_18670_.free_pz2081U_9824 = pz2081U_9824;
    futhark_mc_param_struct_18670_.free_mz2082U_9825 = mz2082U_9825;
    futhark_mc_param_struct_18670_.free_xss_mem_17006 = xss_mem_17006.mem;
    futhark_mc_param_struct_18670_.free_yss_mem_17007 = yss_mem_17007.mem;
    futhark_mc_param_struct_18670_.free_bytes_17009 = bytes_17009;
    futhark_mc_param_struct_18670_.free_mem_17027 = mem_17027.mem;
    err = futhark_mc_loop_ispc_18671(start, end, &futhark_mc_param_struct_18670_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    {
        free(mem_17013);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18668_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18668_end - futhark_mc_segmap_parloop_18668_start;
        
        ctx->futhark_mc_segmap_parloop_18668_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_18668_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_18668_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_18666(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18665 *futhark_mc_task_18665 = (struct futhark_mc_task_18665 *) args;
    struct futhark_context *ctx = futhark_mc_task_18665->ctx;
    uint64_t futhark_mc_segmap_task_18666_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_18666_start = get_wall_time();
    
    int64_t nz2080U_9823 = futhark_mc_task_18665->free_nz2080U_9823;
    int64_t pz2081U_9824 = futhark_mc_task_18665->free_pz2081U_9824;
    int64_t mz2082U_9825 = futhark_mc_task_18665->free_mz2082U_9825;
    struct memblock xss_mem_17006 = {.desc ="xss_mem_17006", .mem =futhark_mc_task_18665->free_xss_mem_17006, .size =0, .references =NULL};
    struct memblock yss_mem_17007 = {.desc ="yss_mem_17007", .mem =futhark_mc_task_18665->free_yss_mem_17007, .size =0, .references =NULL};
    int64_t bytes_17009 = futhark_mc_task_18665->free_bytes_17009;
    struct memblock mem_17027 = {.desc ="mem_17027", .mem =futhark_mc_task_18665->free_mem_17027, .size =0, .references =NULL};
    int32_t nsubtasks_17145;
    
    nsubtasks_17145 = info.nsubtasks;
    
    struct futhark_mc_segmap_parloop_struct_18667 futhark_mc_segmap_parloop_struct_18667_;
    
    futhark_mc_segmap_parloop_struct_18667_.ctx = ctx;
    futhark_mc_segmap_parloop_struct_18667_.free_nz2080U_9823 = nz2080U_9823;
    futhark_mc_segmap_parloop_struct_18667_.free_pz2081U_9824 = pz2081U_9824;
    futhark_mc_segmap_parloop_struct_18667_.free_mz2082U_9825 = mz2082U_9825;
    futhark_mc_segmap_parloop_struct_18667_.free_xss_mem_17006 = xss_mem_17006.mem;
    futhark_mc_segmap_parloop_struct_18667_.free_yss_mem_17007 = yss_mem_17007.mem;
    futhark_mc_segmap_parloop_struct_18667_.free_bytes_17009 = bytes_17009;
    futhark_mc_segmap_parloop_struct_18667_.free_mem_17027 = mem_17027.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_18668_task;
    
    futhark_mc_segmap_parloop_18668_task.name = "futhark_mc_segmap_parloop_18668";
    futhark_mc_segmap_parloop_18668_task.fn = futhark_mc_segmap_parloop_18668;
    futhark_mc_segmap_parloop_18668_task.args = &futhark_mc_segmap_parloop_struct_18667_;
    futhark_mc_segmap_parloop_18668_task.iterations = iterations;
    futhark_mc_segmap_parloop_18668_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_18668_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18668_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_18668_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segmap_parloop_18668_task);
    
    if (futhark_mc_segmap_parloop_18668_err != 0) {
        err = futhark_mc_segmap_parloop_18668_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18668_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18668_total_end - futhark_mc_segmap_parloop_18668_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18668_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18668_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18668_total_iter, iterations, __ATOMIC_RELAXED);
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_18666_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_18666_end - futhark_mc_segmap_task_18666_start;
        
        ctx->futhark_mc_segmap_task_18666_runs[tid]++;
        ctx->futhark_mc_segmap_task_18666_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_18666_iter[tid] += iterations;
    }
    if (err == 0) { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_18682 {
    struct futhark_context *ctx;
    int64_t free_nz2080U_9823;
    int64_t free_pz2081U_9824;
    int64_t free_mz2082U_9825;
    unsigned char *free_xss_mem_17006;
    unsigned char *free_yss_mem_17007;
    int64_t free_bytes_17009;
    unsigned char *free_mem_17027;
};
char *futhark_mc_strlit_shim_18687()
{
    return "xss_mem_17006";
}
char *futhark_mc_strlit_shim_18688()
{
    return "yss_mem_17007";
}
char *futhark_mc_strlit_shim_18689()
{
    return "mem_17027";
}
char *futhark_mc_strlit_shim_18690()
{
    return "mem_17010";
}
struct futhark_mc_segmap_parloop_struct_18693 {
    struct futhark_context *ctx;
    int64_t free_pz2081U_9824;
    int64_t free_mz2082U_9825;
    int64_t free_gtid_15934;
    unsigned char *free_xss_mem_17006;
    unsigned char *free_yss_mem_17007;
    unsigned char *free_mem_17010;
};
char *futhark_mc_strlit_shim_18697()
{
    return "xss_mem_17006";
}
char *futhark_mc_strlit_shim_18698()
{
    return "yss_mem_17007";
}
char *futhark_mc_strlit_shim_18699()
{
    return "mem_17010";
}
static int futhark_mc_segmap_parloop_18694(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_18693 *futhark_mc_segmap_parloop_struct_18693 = (struct futhark_mc_segmap_parloop_struct_18693 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_18693->ctx;
    uint64_t futhark_mc_segmap_parloop_18694_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18694_start = get_wall_time();
    
    int64_t pz2081U_9824 = futhark_mc_segmap_parloop_struct_18693->free_pz2081U_9824;
    int64_t mz2082U_9825 = futhark_mc_segmap_parloop_struct_18693->free_mz2082U_9825;
    int64_t gtid_15934 = futhark_mc_segmap_parloop_struct_18693->free_gtid_15934;
    struct memblock xss_mem_17006 = {.desc ="xss_mem_17006", .mem =futhark_mc_segmap_parloop_struct_18693->free_xss_mem_17006, .size =0, .references =NULL};
    struct memblock yss_mem_17007 = {.desc ="yss_mem_17007", .mem =futhark_mc_segmap_parloop_struct_18693->free_yss_mem_17007, .size =0, .references =NULL};
    struct memblock mem_17010 = {.desc ="mem_17010", .mem =futhark_mc_segmap_parloop_struct_18693->free_mem_17010, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t flat_tid_17176;
    
    flat_tid_17176 = subtask_id;
    
    struct futhark_mc_param_struct_18695 futhark_mc_param_struct_18695_;
    
    futhark_mc_param_struct_18695_.ctx = ctx;
    futhark_mc_param_struct_18695_.free_pz2081U_9824 = pz2081U_9824;
    futhark_mc_param_struct_18695_.free_mz2082U_9825 = mz2082U_9825;
    futhark_mc_param_struct_18695_.free_gtid_15934 = gtid_15934;
    futhark_mc_param_struct_18695_.free_xss_mem_17006 = xss_mem_17006.mem;
    futhark_mc_param_struct_18695_.free_yss_mem_17007 = yss_mem_17007.mem;
    futhark_mc_param_struct_18695_.free_mem_17010 = mem_17010.mem;
    err = futhark_mc_loop_ispc_18696(start, end, &futhark_mc_param_struct_18695_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18694_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18694_end - futhark_mc_segmap_parloop_18694_start;
        
        ctx->futhark_mc_segmap_parloop_18694_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_18694_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_18694_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_task_18692(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18691 *futhark_mc_task_18691 = (struct futhark_mc_task_18691 *) args;
    struct futhark_context *ctx = futhark_mc_task_18691->ctx;
    uint64_t futhark_mc_segmap_task_18692_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_task_18692_start = get_wall_time();
    
    int64_t pz2081U_9824 = futhark_mc_task_18691->free_pz2081U_9824;
    int64_t mz2082U_9825 = futhark_mc_task_18691->free_mz2082U_9825;
    int64_t gtid_15934 = futhark_mc_task_18691->free_gtid_15934;
    struct memblock xss_mem_17006 = {.desc ="xss_mem_17006", .mem =futhark_mc_task_18691->free_xss_mem_17006, .size =0, .references =NULL};
    struct memblock yss_mem_17007 = {.desc ="yss_mem_17007", .mem =futhark_mc_task_18691->free_yss_mem_17007, .size =0, .references =NULL};
    struct memblock mem_17010 = {.desc ="mem_17010", .mem =futhark_mc_task_18691->free_mem_17010, .size =0, .references =NULL};
    int32_t nsubtasks_17191;
    
    nsubtasks_17191 = info.nsubtasks;
    
    struct futhark_mc_segmap_parloop_struct_18693 futhark_mc_segmap_parloop_struct_18693_;
    
    futhark_mc_segmap_parloop_struct_18693_.ctx = ctx;
    futhark_mc_segmap_parloop_struct_18693_.free_pz2081U_9824 = pz2081U_9824;
    futhark_mc_segmap_parloop_struct_18693_.free_mz2082U_9825 = mz2082U_9825;
    futhark_mc_segmap_parloop_struct_18693_.free_gtid_15934 = gtid_15934;
    futhark_mc_segmap_parloop_struct_18693_.free_xss_mem_17006 = xss_mem_17006.mem;
    futhark_mc_segmap_parloop_struct_18693_.free_yss_mem_17007 = yss_mem_17007.mem;
    futhark_mc_segmap_parloop_struct_18693_.free_mem_17010 = mem_17010.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_18694_task;
    
    futhark_mc_segmap_parloop_18694_task.name = "futhark_mc_segmap_parloop_18694";
    futhark_mc_segmap_parloop_18694_task.fn = futhark_mc_segmap_parloop_18694;
    futhark_mc_segmap_parloop_18694_task.args = &futhark_mc_segmap_parloop_struct_18693_;
    futhark_mc_segmap_parloop_18694_task.iterations = iterations;
    futhark_mc_segmap_parloop_18694_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_18694_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18694_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_18694_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segmap_parloop_18694_task);
    
    if (futhark_mc_segmap_parloop_18694_err != 0) {
        err = futhark_mc_segmap_parloop_18694_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18694_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18694_total_end - futhark_mc_segmap_parloop_18694_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18694_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18694_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18694_total_iter, iterations, __ATOMIC_RELAXED);
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_task_18692_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_task_18692_end - futhark_mc_segmap_task_18692_start;
        
        ctx->futhark_mc_segmap_task_18692_runs[tid]++;
        ctx->futhark_mc_segmap_task_18692_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_task_18692_iter[tid] += iterations;
    }
    if (err == 0) { }
    return err;
}
struct futhark_mc_segmap_parloop_struct_18701 {
    struct futhark_context *ctx;
    int64_t free_pz2081U_9824;
    int64_t free_mz2082U_9825;
    int64_t free_gtid_15934;
    unsigned char *free_xss_mem_17006;
    unsigned char *free_yss_mem_17007;
    unsigned char *free_mem_17010;
};
char *futhark_mc_strlit_shim_18705()
{
    return "xss_mem_17006";
}
char *futhark_mc_strlit_shim_18706()
{
    return "yss_mem_17007";
}
char *futhark_mc_strlit_shim_18707()
{
    return "mem_17010";
}
struct futhark_mc_segred_stage_1_parloop_struct_18711 {
    struct futhark_context *ctx;
    int64_t free_pz2081U_9824;
    int64_t free_mz2082U_9825;
    int64_t free_gtid_15934;
    unsigned char *free_xss_mem_17006;
    unsigned char *free_yss_mem_17007;
    int64_t free_gtid_17166;
    unsigned char *free_reduce_stage_1_tid_res_arr_mem_17221;
};
char *futhark_mc_strlit_shim_18715()
{
    return "xss_mem_17006";
}
char *futhark_mc_strlit_shim_18716()
{
    return "yss_mem_17007";
}
char *futhark_mc_strlit_shim_18717()
{
    return "reduce_stage_1_tid_res_arr_mem_17221";
}
static int futhark_mc_segred_stage_1_parloop_18712(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segred_stage_1_parloop_struct_18711 *futhark_mc_segred_stage_1_parloop_struct_18711 = (struct futhark_mc_segred_stage_1_parloop_struct_18711 *) args;
    struct futhark_context *ctx = futhark_mc_segred_stage_1_parloop_struct_18711->ctx;
    uint64_t futhark_mc_segred_stage_1_parloop_18712_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_18712_start = get_wall_time();
    
    int64_t pz2081U_9824 = futhark_mc_segred_stage_1_parloop_struct_18711->free_pz2081U_9824;
    int64_t mz2082U_9825 = futhark_mc_segred_stage_1_parloop_struct_18711->free_mz2082U_9825;
    int64_t gtid_15934 = futhark_mc_segred_stage_1_parloop_struct_18711->free_gtid_15934;
    struct memblock xss_mem_17006 = {.desc ="xss_mem_17006", .mem =futhark_mc_segred_stage_1_parloop_struct_18711->free_xss_mem_17006, .size =0, .references =NULL};
    struct memblock yss_mem_17007 = {.desc ="yss_mem_17007", .mem =futhark_mc_segred_stage_1_parloop_struct_18711->free_yss_mem_17007, .size =0, .references =NULL};
    int64_t gtid_17166 = futhark_mc_segred_stage_1_parloop_struct_18711->free_gtid_17166;
    struct memblock reduce_stage_1_tid_res_arr_mem_17221 = {.desc ="reduce_stage_1_tid_res_arr_mem_17221", .mem =futhark_mc_segred_stage_1_parloop_struct_18711->free_reduce_stage_1_tid_res_arr_mem_17221, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t flat_tid_17206;
    
    flat_tid_17206 = subtask_id;
    
    struct futhark_mc_param_struct_18713 futhark_mc_param_struct_18713_;
    
    futhark_mc_param_struct_18713_.ctx = ctx;
    futhark_mc_param_struct_18713_.free_pz2081U_9824 = pz2081U_9824;
    futhark_mc_param_struct_18713_.free_mz2082U_9825 = mz2082U_9825;
    futhark_mc_param_struct_18713_.free_gtid_15934 = gtid_15934;
    futhark_mc_param_struct_18713_.free_xss_mem_17006 = xss_mem_17006.mem;
    futhark_mc_param_struct_18713_.free_yss_mem_17007 = yss_mem_17007.mem;
    futhark_mc_param_struct_18713_.free_gtid_17166 = gtid_17166;
    futhark_mc_param_struct_18713_.free_flat_tid_17206 = flat_tid_17206;
    futhark_mc_param_struct_18713_.free_reduce_stage_1_tid_res_arr_mem_17221 = reduce_stage_1_tid_res_arr_mem_17221.mem;
    err = futhark_mc_loop_ispc_18714(start, end, &futhark_mc_param_struct_18713_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_18712_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_18712_end - futhark_mc_segred_stage_1_parloop_18712_start;
        
        ctx->futhark_mc_segred_stage_1_parloop_18712_runs[tid]++;
        ctx->futhark_mc_segred_stage_1_parloop_18712_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_stage_1_parloop_18712_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segred_task_18709(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18708 *futhark_mc_task_18708 = (struct futhark_mc_task_18708 *) args;
    struct futhark_context *ctx = futhark_mc_task_18708->ctx;
    uint64_t futhark_mc_segred_task_18709_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_task_18709_start = get_wall_time();
    
    int64_t pz2081U_9824 = futhark_mc_task_18708->free_pz2081U_9824;
    int64_t mz2082U_9825 = futhark_mc_task_18708->free_mz2082U_9825;
    int64_t gtid_15934 = futhark_mc_task_18708->free_gtid_15934;
    struct memblock xss_mem_17006 = {.desc ="xss_mem_17006", .mem =futhark_mc_task_18708->free_xss_mem_17006, .size =0, .references =NULL};
    struct memblock yss_mem_17007 = {.desc ="yss_mem_17007", .mem =futhark_mc_task_18708->free_yss_mem_17007, .size =0, .references =NULL};
    int64_t gtid_17166 = futhark_mc_task_18708->free_gtid_17166;
    int64_t flat_tid_17206 = futhark_mc_task_18708->free_flat_tid_17206;
    int32_t defunc_2_reduce_res_17167 = *futhark_mc_task_18708->retval_defunc_2_reduce_res_17167;
    int64_t reduce_stage_1_tid_res_arr_mem_17221_cached_sizze_18710 = 0;
    unsigned char *reduce_stage_1_tid_res_arr_mem_17221 = NULL;
    int32_t nsubtasks_17220;
    
    nsubtasks_17220 = info.nsubtasks;
    if (reduce_stage_1_tid_res_arr_mem_17221_cached_sizze_18710 < (int64_t) 4 * nsubtasks_17220) {
        err = lexical_realloc(ctx, &reduce_stage_1_tid_res_arr_mem_17221, &reduce_stage_1_tid_res_arr_mem_17221_cached_sizze_18710, (int64_t) 4 * nsubtasks_17220);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    
    struct futhark_mc_segred_stage_1_parloop_struct_18711 futhark_mc_segred_stage_1_parloop_struct_18711_;
    
    futhark_mc_segred_stage_1_parloop_struct_18711_.ctx = ctx;
    futhark_mc_segred_stage_1_parloop_struct_18711_.free_pz2081U_9824 = pz2081U_9824;
    futhark_mc_segred_stage_1_parloop_struct_18711_.free_mz2082U_9825 = mz2082U_9825;
    futhark_mc_segred_stage_1_parloop_struct_18711_.free_gtid_15934 = gtid_15934;
    futhark_mc_segred_stage_1_parloop_struct_18711_.free_xss_mem_17006 = xss_mem_17006.mem;
    futhark_mc_segred_stage_1_parloop_struct_18711_.free_yss_mem_17007 = yss_mem_17007.mem;
    futhark_mc_segred_stage_1_parloop_struct_18711_.free_gtid_17166 = gtid_17166;
    futhark_mc_segred_stage_1_parloop_struct_18711_.free_reduce_stage_1_tid_res_arr_mem_17221 = reduce_stage_1_tid_res_arr_mem_17221;
    
    struct scheduler_parloop futhark_mc_segred_stage_1_parloop_18712_task;
    
    futhark_mc_segred_stage_1_parloop_18712_task.name = "futhark_mc_segred_stage_1_parloop_18712";
    futhark_mc_segred_stage_1_parloop_18712_task.fn = futhark_mc_segred_stage_1_parloop_18712;
    futhark_mc_segred_stage_1_parloop_18712_task.args = &futhark_mc_segred_stage_1_parloop_struct_18711_;
    futhark_mc_segred_stage_1_parloop_18712_task.iterations = iterations;
    futhark_mc_segred_stage_1_parloop_18712_task.info = info;
    
    uint64_t futhark_mc_segred_stage_1_parloop_18712_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segred_stage_1_parloop_18712_total_start = get_wall_time();
    
    int futhark_mc_segred_stage_1_parloop_18712_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segred_stage_1_parloop_18712_task);
    
    if (futhark_mc_segred_stage_1_parloop_18712_err != 0) {
        err = futhark_mc_segred_stage_1_parloop_18712_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_stage_1_parloop_18712_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_stage_1_parloop_18712_total_end - futhark_mc_segred_stage_1_parloop_18712_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_18712_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_18712_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segred_stage_1_parloop_18712_total_iter, iterations, __ATOMIC_RELAXED);
    }
    // neutral-initialise the output
    {
        defunc_2_reduce_res_17167 = 0;
    }
    
    int32_t x_17233;
    int32_t x_17234;
    
    for (int32_t i_17236 = 0; i_17236 < nsubtasks_17220; i_17236++) {
        flat_tid_17206 = i_17236;
        // Apply main thread reduction
        {
            // load acc params
            {
                x_17233 = defunc_2_reduce_res_17167;
            }
            // load next params
            {
                x_17234 = ((int32_t *) reduce_stage_1_tid_res_arr_mem_17221)[flat_tid_17206];
            }
            // red body
            {
                int32_t defunc_1_op_res_17235 = add32(x_17233, x_17234);
                
                defunc_2_reduce_res_17167 = defunc_1_op_res_17235;
            }
        }
    }
    
  cleanup:
    {
        free(reduce_stage_1_tid_res_arr_mem_17221);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segred_task_18709_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segred_task_18709_end - futhark_mc_segred_task_18709_start;
        
        ctx->futhark_mc_segred_task_18709_runs[tid]++;
        ctx->futhark_mc_segred_task_18709_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segred_task_18709_iter[tid] += iterations;
    }
    if (err == 0) {
        *futhark_mc_task_18708->retval_defunc_2_reduce_res_17167 = defunc_2_reduce_res_17167;
    }
    return err;
}
int futhark_mc_schedule_shim_18718(struct futhark_context *ctx, void *args, int64_t iterations)
{
    struct scheduler_segop futhark_mc_task_18708_task;
    
    futhark_mc_task_18708_task.args = args;
    futhark_mc_task_18708_task.top_level_fn = futhark_mc_segred_task_18709;
    futhark_mc_task_18708_task.name = "futhark_mc_segred_task_18709";
    futhark_mc_task_18708_task.iterations = iterations;
    futhark_mc_task_18708_task.task_time = &ctx->futhark_mc_segred_task_18709_total_time;
    futhark_mc_task_18708_task.task_iter = &ctx->futhark_mc_segred_task_18709_total_iter;
    futhark_mc_task_18708_task.sched = STATIC;
    futhark_mc_task_18708_task.nested_fn = NULL;
    return scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_18708_task);
}
char *futhark_mc_strlit_shim_18722()
{
    return "xss_mem_17006";
}
char *futhark_mc_strlit_shim_18723()
{
    return "yss_mem_17007";
}
char *futhark_mc_strlit_shim_18724()
{
    return "mem_17010";
}
static int futhark_mc_segmap_parloop_18702(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_18701 *futhark_mc_segmap_parloop_struct_18701 = (struct futhark_mc_segmap_parloop_struct_18701 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_18701->ctx;
    uint64_t futhark_mc_segmap_parloop_18702_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18702_start = get_wall_time();
    
    int64_t pz2081U_9824 = futhark_mc_segmap_parloop_struct_18701->free_pz2081U_9824;
    int64_t mz2082U_9825 = futhark_mc_segmap_parloop_struct_18701->free_mz2082U_9825;
    int64_t gtid_15934 = futhark_mc_segmap_parloop_struct_18701->free_gtid_15934;
    struct memblock xss_mem_17006 = {.desc ="xss_mem_17006", .mem =futhark_mc_segmap_parloop_struct_18701->free_xss_mem_17006, .size =0, .references =NULL};
    struct memblock yss_mem_17007 = {.desc ="yss_mem_17007", .mem =futhark_mc_segmap_parloop_struct_18701->free_yss_mem_17007, .size =0, .references =NULL};
    struct memblock mem_17010 = {.desc ="mem_17010", .mem =futhark_mc_segmap_parloop_struct_18701->free_mem_17010, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t flat_tid_17165;
    
    flat_tid_17165 = subtask_id;
    
    struct futhark_mc_param_struct_18703 futhark_mc_param_struct_18703_;
    
    futhark_mc_param_struct_18703_.ctx = ctx;
    futhark_mc_param_struct_18703_.free_pz2081U_9824 = pz2081U_9824;
    futhark_mc_param_struct_18703_.free_mz2082U_9825 = mz2082U_9825;
    futhark_mc_param_struct_18703_.free_gtid_15934 = gtid_15934;
    futhark_mc_param_struct_18703_.free_xss_mem_17006 = xss_mem_17006.mem;
    futhark_mc_param_struct_18703_.free_yss_mem_17007 = yss_mem_17007.mem;
    futhark_mc_param_struct_18703_.free_mem_17010 = mem_17010.mem;
    err = futhark_mc_loop_ispc_18704(start, end, &futhark_mc_param_struct_18703_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18702_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18702_end - futhark_mc_segmap_parloop_18702_start;
        
        ctx->futhark_mc_segmap_parloop_18702_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_18702_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_18702_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_18700(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18691 *futhark_mc_task_18691 = (struct futhark_mc_task_18691 *) args;
    struct futhark_context *ctx = futhark_mc_task_18691->ctx;
    uint64_t futhark_mc_segmap_nested_task_18700_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_18700_start = get_wall_time();
    
    int64_t pz2081U_9824 = futhark_mc_task_18691->free_pz2081U_9824;
    int64_t mz2082U_9825 = futhark_mc_task_18691->free_mz2082U_9825;
    int64_t gtid_15934 = futhark_mc_task_18691->free_gtid_15934;
    struct memblock xss_mem_17006 = {.desc ="xss_mem_17006", .mem =futhark_mc_task_18691->free_xss_mem_17006, .size =0, .references =NULL};
    struct memblock yss_mem_17007 = {.desc ="yss_mem_17007", .mem =futhark_mc_task_18691->free_yss_mem_17007, .size =0, .references =NULL};
    struct memblock mem_17010 = {.desc ="mem_17010", .mem =futhark_mc_task_18691->free_mem_17010, .size =0, .references =NULL};
    int32_t nsubtasks_17205;
    
    nsubtasks_17205 = info.nsubtasks;
    
    struct futhark_mc_segmap_parloop_struct_18701 futhark_mc_segmap_parloop_struct_18701_;
    
    futhark_mc_segmap_parloop_struct_18701_.ctx = ctx;
    futhark_mc_segmap_parloop_struct_18701_.free_pz2081U_9824 = pz2081U_9824;
    futhark_mc_segmap_parloop_struct_18701_.free_mz2082U_9825 = mz2082U_9825;
    futhark_mc_segmap_parloop_struct_18701_.free_gtid_15934 = gtid_15934;
    futhark_mc_segmap_parloop_struct_18701_.free_xss_mem_17006 = xss_mem_17006.mem;
    futhark_mc_segmap_parloop_struct_18701_.free_yss_mem_17007 = yss_mem_17007.mem;
    futhark_mc_segmap_parloop_struct_18701_.free_mem_17010 = mem_17010.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_18702_task;
    
    futhark_mc_segmap_parloop_18702_task.name = "futhark_mc_segmap_parloop_18702";
    futhark_mc_segmap_parloop_18702_task.fn = futhark_mc_segmap_parloop_18702;
    futhark_mc_segmap_parloop_18702_task.args = &futhark_mc_segmap_parloop_struct_18701_;
    futhark_mc_segmap_parloop_18702_task.iterations = iterations;
    futhark_mc_segmap_parloop_18702_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_18702_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18702_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_18702_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segmap_parloop_18702_task);
    
    if (futhark_mc_segmap_parloop_18702_err != 0) {
        err = futhark_mc_segmap_parloop_18702_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18702_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18702_total_end - futhark_mc_segmap_parloop_18702_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18702_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18702_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18702_total_iter, iterations, __ATOMIC_RELAXED);
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_18700_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_18700_end - futhark_mc_segmap_nested_task_18700_start;
        
        ctx->futhark_mc_segmap_nested_task_18700_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_18700_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_18700_iter[tid] += iterations;
    }
    if (err == 0) { }
    return err;
}
int futhark_mc_schedule_shim_18725(struct futhark_context *ctx, void *args, int64_t iterations)
{
    struct scheduler_segop futhark_mc_task_18691_task;
    
    futhark_mc_task_18691_task.args = args;
    futhark_mc_task_18691_task.top_level_fn = futhark_mc_segmap_task_18692;
    futhark_mc_task_18691_task.name = "futhark_mc_segmap_task_18692";
    futhark_mc_task_18691_task.iterations = iterations;
    futhark_mc_task_18691_task.task_time = &ctx->futhark_mc_segmap_task_18692_total_time;
    futhark_mc_task_18691_task.task_iter = &ctx->futhark_mc_segmap_task_18692_total_iter;
    futhark_mc_task_18691_task.sched = STATIC;
    futhark_mc_task_18691_task.nested_fn = futhark_mc_segmap_nested_task_18700;
    return scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_18691_task);
}
char *futhark_mc_strlit_shim_18729()
{
    return "xss_mem_17006";
}
char *futhark_mc_strlit_shim_18730()
{
    return "yss_mem_17007";
}
char *futhark_mc_strlit_shim_18731()
{
    return "mem_17027";
}
char *futhark_mc_strlit_shim_18732()
{
    return "mem_17010";
}
static int futhark_mc_segmap_parloop_18683(void *args, int64_t start, int64_t end, int subtask_id, int tid)
{
    int err = 0;
    struct futhark_mc_segmap_parloop_struct_18682 *futhark_mc_segmap_parloop_struct_18682 = (struct futhark_mc_segmap_parloop_struct_18682 *) args;
    struct futhark_context *ctx = futhark_mc_segmap_parloop_struct_18682->ctx;
    uint64_t futhark_mc_segmap_parloop_18683_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18683_start = get_wall_time();
    
    int64_t nz2080U_9823 = futhark_mc_segmap_parloop_struct_18682->free_nz2080U_9823;
    int64_t pz2081U_9824 = futhark_mc_segmap_parloop_struct_18682->free_pz2081U_9824;
    int64_t mz2082U_9825 = futhark_mc_segmap_parloop_struct_18682->free_mz2082U_9825;
    struct memblock xss_mem_17006 = {.desc ="xss_mem_17006", .mem =futhark_mc_segmap_parloop_struct_18682->free_xss_mem_17006, .size =0, .references =NULL};
    struct memblock yss_mem_17007 = {.desc ="yss_mem_17007", .mem =futhark_mc_segmap_parloop_struct_18682->free_yss_mem_17007, .size =0, .references =NULL};
    int64_t bytes_17009 = futhark_mc_segmap_parloop_struct_18682->free_bytes_17009;
    struct memblock mem_17027 = {.desc ="mem_17027", .mem =futhark_mc_segmap_parloop_struct_18682->free_mem_17027, .size =0, .references =NULL};
    int64_t iterations = end - start;
    int64_t mem_17010_cached_sizze_18684 = 0;
    unsigned char *mem_17010 = NULL;
    int64_t flat_tid_15933;
    
    flat_tid_15933 = subtask_id;
    
    struct futhark_mc_param_struct_18685 futhark_mc_param_struct_18685_;
    
    futhark_mc_param_struct_18685_.ctx = ctx;
    futhark_mc_param_struct_18685_.free_nz2080U_9823 = nz2080U_9823;
    futhark_mc_param_struct_18685_.free_pz2081U_9824 = pz2081U_9824;
    futhark_mc_param_struct_18685_.free_mz2082U_9825 = mz2082U_9825;
    futhark_mc_param_struct_18685_.free_xss_mem_17006 = xss_mem_17006.mem;
    futhark_mc_param_struct_18685_.free_yss_mem_17007 = yss_mem_17007.mem;
    futhark_mc_param_struct_18685_.free_bytes_17009 = bytes_17009;
    futhark_mc_param_struct_18685_.free_mem_17027 = mem_17027.mem;
    err = futhark_mc_loop_ispc_18686(start, end, &futhark_mc_param_struct_18685_);
    if (err != 0)
        goto cleanup;
    
  cleanup:
    {
        free(mem_17010);
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18683_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18683_end - futhark_mc_segmap_parloop_18683_start;
        
        ctx->futhark_mc_segmap_parloop_18683_runs[tid]++;
        ctx->futhark_mc_segmap_parloop_18683_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_parloop_18683_iter[tid] += iterations;
    }
    return err;
}
int futhark_mc_segmap_nested_task_18681(void *args, int64_t iterations, int tid, struct scheduler_info info)
{
    int err = 0;
    int subtask_id = tid;
    struct futhark_mc_task_18665 *futhark_mc_task_18665 = (struct futhark_mc_task_18665 *) args;
    struct futhark_context *ctx = futhark_mc_task_18665->ctx;
    uint64_t futhark_mc_segmap_nested_task_18681_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_nested_task_18681_start = get_wall_time();
    
    int64_t nz2080U_9823 = futhark_mc_task_18665->free_nz2080U_9823;
    int64_t pz2081U_9824 = futhark_mc_task_18665->free_pz2081U_9824;
    int64_t mz2082U_9825 = futhark_mc_task_18665->free_mz2082U_9825;
    struct memblock xss_mem_17006 = {.desc ="xss_mem_17006", .mem =futhark_mc_task_18665->free_xss_mem_17006, .size =0, .references =NULL};
    struct memblock yss_mem_17007 = {.desc ="yss_mem_17007", .mem =futhark_mc_task_18665->free_yss_mem_17007, .size =0, .references =NULL};
    int64_t bytes_17009 = futhark_mc_task_18665->free_bytes_17009;
    struct memblock mem_17027 = {.desc ="mem_17027", .mem =futhark_mc_task_18665->free_mem_17027, .size =0, .references =NULL};
    int32_t nsubtasks_17164;
    
    nsubtasks_17164 = info.nsubtasks;
    
    struct futhark_mc_segmap_parloop_struct_18682 futhark_mc_segmap_parloop_struct_18682_;
    
    futhark_mc_segmap_parloop_struct_18682_.ctx = ctx;
    futhark_mc_segmap_parloop_struct_18682_.free_nz2080U_9823 = nz2080U_9823;
    futhark_mc_segmap_parloop_struct_18682_.free_pz2081U_9824 = pz2081U_9824;
    futhark_mc_segmap_parloop_struct_18682_.free_mz2082U_9825 = mz2082U_9825;
    futhark_mc_segmap_parloop_struct_18682_.free_xss_mem_17006 = xss_mem_17006.mem;
    futhark_mc_segmap_parloop_struct_18682_.free_yss_mem_17007 = yss_mem_17007.mem;
    futhark_mc_segmap_parloop_struct_18682_.free_bytes_17009 = bytes_17009;
    futhark_mc_segmap_parloop_struct_18682_.free_mem_17027 = mem_17027.mem;
    
    struct scheduler_parloop futhark_mc_segmap_parloop_18683_task;
    
    futhark_mc_segmap_parloop_18683_task.name = "futhark_mc_segmap_parloop_18683";
    futhark_mc_segmap_parloop_18683_task.fn = futhark_mc_segmap_parloop_18683;
    futhark_mc_segmap_parloop_18683_task.args = &futhark_mc_segmap_parloop_struct_18682_;
    futhark_mc_segmap_parloop_18683_task.iterations = iterations;
    futhark_mc_segmap_parloop_18683_task.info = info;
    
    uint64_t futhark_mc_segmap_parloop_18683_total_start = 0;
    
    if (ctx->profiling && !ctx->profiling_paused)
        futhark_mc_segmap_parloop_18683_total_start = get_wall_time();
    
    int futhark_mc_segmap_parloop_18683_err = scheduler_execute_task(&ctx->scheduler, &futhark_mc_segmap_parloop_18683_task);
    
    if (futhark_mc_segmap_parloop_18683_err != 0) {
        err = futhark_mc_segmap_parloop_18683_err;
        goto cleanup;
    }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_parloop_18683_total_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_parloop_18683_total_end - futhark_mc_segmap_parloop_18683_total_start;
        
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18683_total_runs, 1, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18683_total_total_runtime, elapsed, __ATOMIC_RELAXED);
        __atomic_fetch_add(&ctx->futhark_mc_segmap_parloop_18683_total_iter, iterations, __ATOMIC_RELAXED);
    }
    
  cleanup:
    { }
    if (ctx->profiling && !ctx->profiling_paused) {
        uint64_t futhark_mc_segmap_nested_task_18681_end = get_wall_time();
        uint64_t elapsed = futhark_mc_segmap_nested_task_18681_end - futhark_mc_segmap_nested_task_18681_start;
        
        ctx->futhark_mc_segmap_nested_task_18681_runs[tid]++;
        ctx->futhark_mc_segmap_nested_task_18681_total_runtime[tid] += elapsed;
        ctx->futhark_mc_segmap_nested_task_18681_iter[tid] += iterations;
    }
    if (err == 0) { }
    return err;
}
int futhark_mc_schedule_shim_18733(struct futhark_context *ctx, void *args, int64_t iterations)
{
    struct scheduler_segop futhark_mc_task_18665_task;
    
    futhark_mc_task_18665_task.args = args;
    futhark_mc_task_18665_task.top_level_fn = futhark_mc_segmap_task_18666;
    futhark_mc_task_18665_task.name = "futhark_mc_segmap_task_18666";
    futhark_mc_task_18665_task.iterations = iterations;
    futhark_mc_task_18665_task.task_time = &ctx->futhark_mc_segmap_task_18666_total_time;
    futhark_mc_task_18665_task.task_iter = &ctx->futhark_mc_segmap_task_18666_total_iter;
    futhark_mc_task_18665_task.sched = STATIC;
    futhark_mc_task_18665_task.nested_fn = futhark_mc_segmap_nested_task_18681;
    return scheduler_prepare_task(&ctx->scheduler, &futhark_mc_task_18665_task);
}
struct futhark_u64_2d {
    struct memblock mem;
    int64_t shape[2];
};
struct futhark_u64_2d *futhark_new_u64_2d(struct futhark_context *ctx, const uint64_t *data, int64_t dim0, int64_t dim1)
{
    struct futhark_u64_2d *bad = NULL;
    struct futhark_u64_2d *arr = (struct futhark_u64_2d *) malloc(sizeof(struct futhark_u64_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * 8, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 8 > 0)
        memmove(arr->mem.mem + 0, data + 0, (size_t) (dim0 * dim1) * 8);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_u64_2d *futhark_new_raw_u64_2d(struct futhark_context *ctx, const unsigned char *data, int64_t offset, int64_t dim0, int64_t dim1)
{
    struct futhark_u64_2d *bad = NULL;
    struct futhark_u64_2d *arr = (struct futhark_u64_2d *) malloc(sizeof(struct futhark_u64_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * 8, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 8 > 0)
        memmove(arr->mem.mem + 0, data + offset, (size_t) (dim0 * dim1) * 8);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_u64_2d(struct futhark_context *ctx, struct futhark_u64_2d *arr)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_u64_2d(struct futhark_context *ctx, struct futhark_u64_2d *arr, uint64_t *data)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    if ((size_t) (arr->shape[0] * arr->shape[1]) * 8 > 0)
        memmove(data + 0, arr->mem.mem + 0, (size_t) (arr->shape[0] * arr->shape[1]) * 8);
    lock_unlock(&ctx->lock);
    return 0;
}
unsigned char *futhark_values_raw_u64_2d(struct futhark_context *ctx, struct futhark_u64_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_u64_2d(struct futhark_context *ctx, struct futhark_u64_2d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_u64_3d {
    struct memblock mem;
    int64_t shape[3];
};
struct futhark_u64_3d *futhark_new_u64_3d(struct futhark_context *ctx, const uint64_t *data, int64_t dim0, int64_t dim1, int64_t dim2)
{
    struct futhark_u64_3d *bad = NULL;
    struct futhark_u64_3d *arr = (struct futhark_u64_3d *) malloc(sizeof(struct futhark_u64_3d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * dim2 * 8, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    arr->shape[2] = dim2;
    if ((size_t) (dim0 * dim1 * dim2) * 8 > 0)
        memmove(arr->mem.mem + 0, data + 0, (size_t) (dim0 * dim1 * dim2) * 8);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_u64_3d *futhark_new_raw_u64_3d(struct futhark_context *ctx, const unsigned char *data, int64_t offset, int64_t dim0, int64_t dim1, int64_t dim2)
{
    struct futhark_u64_3d *bad = NULL;
    struct futhark_u64_3d *arr = (struct futhark_u64_3d *) malloc(sizeof(struct futhark_u64_3d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * dim2 * 8, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    arr->shape[2] = dim2;
    if ((size_t) (dim0 * dim1 * dim2) * 8 > 0)
        memmove(arr->mem.mem + 0, data + offset, (size_t) (dim0 * dim1 * dim2) * 8);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_u64_3d(struct futhark_context *ctx, struct futhark_u64_3d *arr)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_u64_3d(struct futhark_context *ctx, struct futhark_u64_3d *arr, uint64_t *data)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    if ((size_t) (arr->shape[0] * arr->shape[1] * arr->shape[2]) * 8 > 0)
        memmove(data + 0, arr->mem.mem + 0, (size_t) (arr->shape[0] * arr->shape[1] * arr->shape[2]) * 8);
    lock_unlock(&ctx->lock);
    return 0;
}
unsigned char *futhark_values_raw_u64_3d(struct futhark_context *ctx, struct futhark_u64_3d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_u64_3d(struct futhark_context *ctx, struct futhark_u64_3d *arr)
{
    (void) ctx;
    return arr->shape;
}
struct futhark_i32_2d {
    struct memblock mem;
    int64_t shape[2];
};
struct futhark_i32_2d *futhark_new_i32_2d(struct futhark_context *ctx, const int32_t *data, int64_t dim0, int64_t dim1)
{
    struct futhark_i32_2d *bad = NULL;
    struct futhark_i32_2d *arr = (struct futhark_i32_2d *) malloc(sizeof(struct futhark_i32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 4 > 0)
        memmove(arr->mem.mem + 0, data + 0, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
struct futhark_i32_2d *futhark_new_raw_i32_2d(struct futhark_context *ctx, const unsigned char *data, int64_t offset, int64_t dim0, int64_t dim1)
{
    struct futhark_i32_2d *bad = NULL;
    struct futhark_i32_2d *arr = (struct futhark_i32_2d *) malloc(sizeof(struct futhark_i32_2d));
    
    if (arr == NULL)
        return bad;
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    arr->mem.references = NULL;
    if (memblock_alloc(ctx, &arr->mem, dim0 * dim1 * 4, "arr->mem"))
        return NULL;
    arr->shape[0] = dim0;
    arr->shape[1] = dim1;
    if ((size_t) (dim0 * dim1) * 4 > 0)
        memmove(arr->mem.mem + 0, data + offset, (size_t) (dim0 * dim1) * 4);
    lock_unlock(&ctx->lock);
    return arr;
}
int futhark_free_i32_2d(struct futhark_context *ctx, struct futhark_i32_2d *arr)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    if (memblock_unref(ctx, &arr->mem, "arr->mem") != 0)
        return 1;
    lock_unlock(&ctx->lock);
    free(arr);
    return 0;
}
int futhark_values_i32_2d(struct futhark_context *ctx, struct futhark_i32_2d *arr, int32_t *data)
{
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    if ((size_t) (arr->shape[0] * arr->shape[1]) * 4 > 0)
        memmove(data + 0, arr->mem.mem + 0, (size_t) (arr->shape[0] * arr->shape[1]) * 4);
    lock_unlock(&ctx->lock);
    return 0;
}
unsigned char *futhark_values_raw_i32_2d(struct futhark_context *ctx, struct futhark_i32_2d *arr)
{
    (void) ctx;
    return arr->mem.mem;
}
const int64_t *futhark_shape_i32_2d(struct futhark_context *ctx, struct futhark_i32_2d *arr)
{
    (void) ctx;
    return arr->shape;
}

static int futrts_entry_make_transposed_quotient_codewords_non_opaque(struct futhark_context *ctx, struct memblock *mem_out_p_18427, struct memblock zzinvs_mem_17006, struct memblock eps_mem_17007, struct memblock expsss_mem_17008, struct memblock coefficientss_mem_17009, int64_t n_12333, int64_t m_12334, int64_t p_12335)
{
    (void) ctx;
    
    int err = 0;
    int64_t mem_17061_cached_sizze_18428 = 0;
    unsigned char *mem_17061 = NULL;
    int64_t mem_17065_cached_sizze_18429 = 0;
    unsigned char *mem_17065 = NULL;
    int64_t mem_17069_cached_sizze_18430 = 0;
    unsigned char *mem_17069 = NULL;
    struct memblock mem_17143;
    
<<<<<<< HEAD
    if (!(num_arrays_4 == 0 || (x_elems_5 == 0 || y_elems_6 == 0))) {
        int32_t muly_8 = squot32(16, x_elems_5);
        int32_t mulx_7 = squot32(16, y_elems_6);
        
        if (num_arrays_4 == 1 && (x_elems_5 == 1 || y_elems_6 == 1)) {
            if (sext_i32_i64(x_elems_5 * y_elems_6 * 4) > 0) {
                OPENCL_SUCCEED_OR_RETURN(clEnqueueCopyBuffer(ctx->opencl.queue, srcmem_2.mem, destmem_0.mem, (size_t) sext_i32_i64(srcoffset_3), (size_t) sext_i32_i64(destoffset_1), (size_t) sext_i32_i64(x_elems_5 * y_elems_6 * 4), 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->copy_dev_to_dev_runs, &ctx->copy_dev_to_dev_total_runtime)));
                if (ctx->debugging)
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
            }
        } else if (sle32(x_elems_5, 8) && slt32(16, y_elems_6)) {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 0, (size_t) (int64_t) 1088, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(x_elems_5, 16) * (size_t) 16) * ((size_t) sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) * (size_t) 16) * ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                const size_t global_work_sizze_21000[3] = {(size_t) sdiv_up32(x_elems_5, 16) * (size_t) 16, (size_t) sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) * (size_t) 16, (size_t) num_arrays_4 * (size_t) 1};
                const size_t local_work_sizze_21004[3] = {(size_t) 16, (size_t) 16, (size_t) 1};
                int64_t time_start_21001 = 0, time_end_21002 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n", "gpu_map_transpose_i32_low_width", global_work_sizze_21000[0], global_work_sizze_21000[1], global_work_sizze_21000[2], local_work_sizze_21004[0], local_work_sizze_21004[1], local_work_sizze_21004[2], (int) (0 + (int64_t) 1088));
                    time_start_21001 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i32_low_width, 3, NULL, global_work_sizze_21000, local_work_sizze_21004, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i32_low_width_runs, &ctx->gpu_map_transpose_i32_low_width_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21002 = get_wall_time();
                    
                    long time_diff_21003 = time_end_21002 - time_start_21001;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i32_low_width", time_diff_21003);
                }
            }
        } else if (sle32(y_elems_6, 8) && slt32(16, x_elems_5)) {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 0, (size_t) (int64_t) 1088, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16) * (size_t) 16) * ((size_t) sdiv_up32(y_elems_6, 16) * (size_t) 16) * ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                const size_t global_work_sizze_21005[3] = {(size_t) sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16) * (size_t) 16, (size_t) sdiv_up32(y_elems_6, 16) * (size_t) 16, (size_t) num_arrays_4 * (size_t) 1};
                const size_t local_work_sizze_21009[3] = {(size_t) 16, (size_t) 16, (size_t) 1};
                int64_t time_start_21006 = 0, time_end_21007 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n", "gpu_map_transpose_i32_low_height", global_work_sizze_21005[0], global_work_sizze_21005[1], global_work_sizze_21005[2], local_work_sizze_21009[0], local_work_sizze_21009[1], local_work_sizze_21009[2], (int) (0 + (int64_t) 1088));
                    time_start_21006 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i32_low_height, 3, NULL, global_work_sizze_21005, local_work_sizze_21009, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i32_low_height_runs, &ctx->gpu_map_transpose_i32_low_height_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21007 = get_wall_time();
                    
                    long time_diff_21008 = time_end_21007 - time_start_21006;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i32_low_height", time_diff_21008);
                }
            }
        } else if (sle32(x_elems_5, 8) && sle32(y_elems_6, 8)) {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 0, (size_t) (int64_t) 1, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256) * (size_t) 256) != 0) {
                const size_t global_work_sizze_21010[1] = {(size_t) sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256) * (size_t) 256};
                const size_t local_work_sizze_21014[1] = {(size_t) 256};
                int64_t time_start_21011 = 0, time_end_21012 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "gpu_map_transpose_i32_small", global_work_sizze_21010[0], local_work_sizze_21014[0], (int) (0 + (int64_t) 1));
                    time_start_21011 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i32_small, 1, NULL, global_work_sizze_21010, local_work_sizze_21014, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i32_small_runs, &ctx->gpu_map_transpose_i32_small_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21012 = get_wall_time();
                    
                    long time_diff_21013 = time_end_21012 - time_start_21011;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i32_small", time_diff_21013);
                }
            }
        } else {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 0, (size_t) (int64_t) 4224, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(x_elems_5, 32) * (size_t) 32) * ((size_t) sdiv_up32(y_elems_6, 32) * (size_t) 8) * ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                const size_t global_work_sizze_21015[3] = {(size_t) sdiv_up32(x_elems_5, 32) * (size_t) 32, (size_t) sdiv_up32(y_elems_6, 32) * (size_t) 8, (size_t) num_arrays_4 * (size_t) 1};
                const size_t local_work_sizze_21019[3] = {(size_t) 32, (size_t) 8, (size_t) 1};
                int64_t time_start_21016 = 0, time_end_21017 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n", "gpu_map_transpose_i32", global_work_sizze_21015[0], global_work_sizze_21015[1], global_work_sizze_21015[2], local_work_sizze_21019[0], local_work_sizze_21019[1], local_work_sizze_21019[2], (int) (0 + (int64_t) 4224));
                    time_start_21016 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i32, 3, NULL, global_work_sizze_21015, local_work_sizze_21019, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i32_runs, &ctx->gpu_map_transpose_i32_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21017 = get_wall_time();
                    
                    long time_diff_21018 = time_end_21017 - time_start_21016;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i32", time_diff_21018);
                }
            }
        }
||||||| parent of d23c9a2 (ispc)
    if (!(num_arrays_4 == 0 || (x_elems_5 == 0 || y_elems_6 == 0))) {
        int32_t muly_8 = squot32(16, x_elems_5);
        int32_t mulx_7 = squot32(16, y_elems_6);
        
        if (num_arrays_4 == 1 && (x_elems_5 == 1 || y_elems_6 == 1)) {
            if (sext_i32_i64(x_elems_5 * y_elems_6 * 4) > 0) {
                OPENCL_SUCCEED_OR_RETURN(clEnqueueCopyBuffer(ctx->opencl.queue, srcmem_2.mem, destmem_0.mem, (size_t) sext_i32_i64(srcoffset_3), (size_t) sext_i32_i64(destoffset_1), (size_t) sext_i32_i64(x_elems_5 * y_elems_6 * 4), 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->copy_dev_to_dev_runs, &ctx->copy_dev_to_dev_total_runtime)));
                if (ctx->debugging)
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
            }
        } else if (sle32(x_elems_5, 8) && slt32(16, y_elems_6)) {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 0, (size_t) (int64_t) 1088, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_width, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(x_elems_5, 16) * (size_t) 16) * ((size_t) sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) * (size_t) 16) * ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                const size_t global_work_sizze_20981[3] = {(size_t) sdiv_up32(x_elems_5, 16) * (size_t) 16, (size_t) sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) * (size_t) 16, (size_t) num_arrays_4 * (size_t) 1};
                const size_t local_work_sizze_20985[3] = {(size_t) 16, (size_t) 16, (size_t) 1};
                int64_t time_start_20982 = 0, time_end_20983 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n", "gpu_map_transpose_i32_low_width", global_work_sizze_20981[0], global_work_sizze_20981[1], global_work_sizze_20981[2], local_work_sizze_20985[0], local_work_sizze_20985[1], local_work_sizze_20985[2], (int) (0 + (int64_t) 1088));
                    time_start_20982 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i32_low_width, 3, NULL, global_work_sizze_20981, local_work_sizze_20985, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i32_low_width_runs, &ctx->gpu_map_transpose_i32_low_width_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_20983 = get_wall_time();
                    
                    long time_diff_20984 = time_end_20983 - time_start_20982;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i32_low_width", time_diff_20984);
                }
            }
        } else if (sle32(y_elems_6, 8) && slt32(16, x_elems_5)) {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 0, (size_t) (int64_t) 1088, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_low_height, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16) * (size_t) 16) * ((size_t) sdiv_up32(y_elems_6, 16) * (size_t) 16) * ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                const size_t global_work_sizze_20986[3] = {(size_t) sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16) * (size_t) 16, (size_t) sdiv_up32(y_elems_6, 16) * (size_t) 16, (size_t) num_arrays_4 * (size_t) 1};
                const size_t local_work_sizze_20990[3] = {(size_t) 16, (size_t) 16, (size_t) 1};
                int64_t time_start_20987 = 0, time_end_20988 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n", "gpu_map_transpose_i32_low_height", global_work_sizze_20986[0], global_work_sizze_20986[1], global_work_sizze_20986[2], local_work_sizze_20990[0], local_work_sizze_20990[1], local_work_sizze_20990[2], (int) (0 + (int64_t) 1088));
                    time_start_20987 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i32_low_height, 3, NULL, global_work_sizze_20986, local_work_sizze_20990, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i32_low_height_runs, &ctx->gpu_map_transpose_i32_low_height_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_20988 = get_wall_time();
                    
                    long time_diff_20989 = time_end_20988 - time_start_20987;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i32_low_height", time_diff_20989);
                }
            }
        } else if (sle32(x_elems_5, 8) && sle32(y_elems_6, 8)) {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 0, (size_t) (int64_t) 1, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32_small, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256) * (size_t) 256) != 0) {
                const size_t global_work_sizze_20991[1] = {(size_t) sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256) * (size_t) 256};
                const size_t local_work_sizze_20995[1] = {(size_t) 256};
                int64_t time_start_20992 = 0, time_end_20993 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "gpu_map_transpose_i32_small", global_work_sizze_20991[0], local_work_sizze_20995[0], (int) (0 + (int64_t) 1));
                    time_start_20992 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i32_small, 1, NULL, global_work_sizze_20991, local_work_sizze_20995, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i32_small_runs, &ctx->gpu_map_transpose_i32_small_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_20993 = get_wall_time();
                    
                    long time_diff_20994 = time_end_20993 - time_start_20992;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i32_small", time_diff_20994);
                }
            }
        } else {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 0, (size_t) (int64_t) 4224, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i32, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(x_elems_5, 32) * (size_t) 32) * ((size_t) sdiv_up32(y_elems_6, 32) * (size_t) 8) * ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                const size_t global_work_sizze_20996[3] = {(size_t) sdiv_up32(x_elems_5, 32) * (size_t) 32, (size_t) sdiv_up32(y_elems_6, 32) * (size_t) 8, (size_t) num_arrays_4 * (size_t) 1};
                const size_t local_work_sizze_21000[3] = {(size_t) 32, (size_t) 8, (size_t) 1};
                int64_t time_start_20997 = 0, time_end_20998 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n", "gpu_map_transpose_i32", global_work_sizze_20996[0], global_work_sizze_20996[1], global_work_sizze_20996[2], local_work_sizze_21000[0], local_work_sizze_21000[1], local_work_sizze_21000[2], (int) (0 + (int64_t) 4224));
                    time_start_20997 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i32, 3, NULL, global_work_sizze_20996, local_work_sizze_21000, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i32_runs, &ctx->gpu_map_transpose_i32_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_20998 = get_wall_time();
                    
                    long time_diff_20999 = time_end_20998 - time_start_20997;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i32", time_diff_20999);
                }
            }
        }
=======
    mem_17143.references = NULL;
    
    struct memblock mem_out_17144;
    
    mem_out_17144.references = NULL;
    
    int64_t binop_x_17058 = m_12334 * p_12335;
    int64_t binop_y_17059 = (int64_t) 8 * binop_x_17058;
    int64_t bytes_17060 = smax64((int64_t) 0, binop_y_17059);
    
    if (mem_17061_cached_sizze_18428 < bytes_17060) {
        err = lexical_realloc(ctx, &mem_17061, &mem_17061_cached_sizze_18428, bytes_17060);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17065_cached_sizze_18429 < bytes_17060) {
        err = lexical_realloc(ctx, &mem_17065, &mem_17065_cached_sizze_18429, bytes_17060);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
    }
    if (mem_17069_cached_sizze_18430 < bytes_17060) {
        err = lexical_realloc(ctx, &mem_17069, &mem_17069_cached_sizze_18430, bytes_17060);
        if (err != FUTHARK_SUCCESS)
            goto cleanup;
>>>>>>> d23c9a2 (ispc)
    }
    
<<<<<<< HEAD
  cleanup:
    { }
    return err;
}
static int futrts_builtinzhgpu_map_transpose_i64(struct futhark_context *ctx, struct memblock_device destmem_0, int32_t destoffset_1, struct memblock_device srcmem_2, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6)
{
    (void) ctx;
    
    int err = 0;
    
    if (!(num_arrays_4 == 0 || (x_elems_5 == 0 || y_elems_6 == 0))) {
        int32_t muly_8 = squot32(16, x_elems_5);
        int32_t mulx_7 = squot32(16, y_elems_6);
        
        if (num_arrays_4 == 1 && (x_elems_5 == 1 || y_elems_6 == 1)) {
            if (sext_i32_i64(x_elems_5 * y_elems_6 * 8) > 0) {
                OPENCL_SUCCEED_OR_RETURN(clEnqueueCopyBuffer(ctx->opencl.queue, srcmem_2.mem, destmem_0.mem, (size_t) sext_i32_i64(srcoffset_3), (size_t) sext_i32_i64(destoffset_1), (size_t) sext_i32_i64(x_elems_5 * y_elems_6 * 8), 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->copy_dev_to_dev_runs, &ctx->copy_dev_to_dev_total_runtime)));
                if (ctx->debugging)
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
            }
        } else if (sle32(x_elems_5, 8) && slt32(16, y_elems_6)) {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 0, (size_t) (int64_t) 2176, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(x_elems_5, 16) * (size_t) 16) * ((size_t) sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) * (size_t) 16) * ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                const size_t global_work_sizze_21020[3] = {(size_t) sdiv_up32(x_elems_5, 16) * (size_t) 16, (size_t) sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) * (size_t) 16, (size_t) num_arrays_4 * (size_t) 1};
                const size_t local_work_sizze_21024[3] = {(size_t) 16, (size_t) 16, (size_t) 1};
                int64_t time_start_21021 = 0, time_end_21022 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n", "gpu_map_transpose_i64_low_width", global_work_sizze_21020[0], global_work_sizze_21020[1], global_work_sizze_21020[2], local_work_sizze_21024[0], local_work_sizze_21024[1], local_work_sizze_21024[2], (int) (0 + (int64_t) 2176));
                    time_start_21021 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i64_low_width, 3, NULL, global_work_sizze_21020, local_work_sizze_21024, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i64_low_width_runs, &ctx->gpu_map_transpose_i64_low_width_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21022 = get_wall_time();
                    
                    long time_diff_21023 = time_end_21022 - time_start_21021;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i64_low_width", time_diff_21023);
                }
            }
        } else if (sle32(y_elems_6, 8) && slt32(16, x_elems_5)) {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 0, (size_t) (int64_t) 2176, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16) * (size_t) 16) * ((size_t) sdiv_up32(y_elems_6, 16) * (size_t) 16) * ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                const size_t global_work_sizze_21025[3] = {(size_t) sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16) * (size_t) 16, (size_t) sdiv_up32(y_elems_6, 16) * (size_t) 16, (size_t) num_arrays_4 * (size_t) 1};
                const size_t local_work_sizze_21029[3] = {(size_t) 16, (size_t) 16, (size_t) 1};
                int64_t time_start_21026 = 0, time_end_21027 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n", "gpu_map_transpose_i64_low_height", global_work_sizze_21025[0], global_work_sizze_21025[1], global_work_sizze_21025[2], local_work_sizze_21029[0], local_work_sizze_21029[1], local_work_sizze_21029[2], (int) (0 + (int64_t) 2176));
                    time_start_21026 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i64_low_height, 3, NULL, global_work_sizze_21025, local_work_sizze_21029, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i64_low_height_runs, &ctx->gpu_map_transpose_i64_low_height_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21027 = get_wall_time();
                    
                    long time_diff_21028 = time_end_21027 - time_start_21026;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i64_low_height", time_diff_21028);
                }
            }
        } else if (sle32(x_elems_5, 8) && sle32(y_elems_6, 8)) {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 0, (size_t) (int64_t) 1, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256) * (size_t) 256) != 0) {
                const size_t global_work_sizze_21030[1] = {(size_t) sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256) * (size_t) 256};
                const size_t local_work_sizze_21034[1] = {(size_t) 256};
                int64_t time_start_21031 = 0, time_end_21032 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "gpu_map_transpose_i64_small", global_work_sizze_21030[0], local_work_sizze_21034[0], (int) (0 + (int64_t) 1));
                    time_start_21031 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i64_small, 1, NULL, global_work_sizze_21030, local_work_sizze_21034, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i64_small_runs, &ctx->gpu_map_transpose_i64_small_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21032 = get_wall_time();
                    
                    long time_diff_21033 = time_end_21032 - time_start_21031;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i64_small", time_diff_21033);
                }
            }
        } else {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 0, (size_t) (int64_t) 8448, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(x_elems_5, 32) * (size_t) 32) * ((size_t) sdiv_up32(y_elems_6, 32) * (size_t) 8) * ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                const size_t global_work_sizze_21035[3] = {(size_t) sdiv_up32(x_elems_5, 32) * (size_t) 32, (size_t) sdiv_up32(y_elems_6, 32) * (size_t) 8, (size_t) num_arrays_4 * (size_t) 1};
                const size_t local_work_sizze_21039[3] = {(size_t) 32, (size_t) 8, (size_t) 1};
                int64_t time_start_21036 = 0, time_end_21037 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n", "gpu_map_transpose_i64", global_work_sizze_21035[0], global_work_sizze_21035[1], global_work_sizze_21035[2], local_work_sizze_21039[0], local_work_sizze_21039[1], local_work_sizze_21039[2], (int) (0 + (int64_t) 8448));
                    time_start_21036 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i64, 3, NULL, global_work_sizze_21035, local_work_sizze_21039, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i64_runs, &ctx->gpu_map_transpose_i64_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21037 = get_wall_time();
                    
                    long time_diff_21038 = time_end_21037 - time_start_21036;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i64", time_diff_21038);
                }
            }
        }
    }
    
  cleanup:
    { }
    return err;
}
static int futrts_entry_make_transposed_quotient_codewords_non_opaque(struct futhark_context *ctx, struct memblock_device *mem_out_p_21040, struct memblock_device zzinvs_mem_19945, struct memblock_device eps_mem_19946, struct memblock_device expsss_mem_19947, struct memblock_device coefficientss_mem_19948, int64_t n_12351, int64_t m_12352, int64_t p_12353, int64_t q_12354)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_20260;
    
    mem_20260.references = NULL;
    
    struct memblock_device mem_20098;
    
    mem_20098.references = NULL;
    
    struct memblock_device mem_20084;
    
    mem_20084.references = NULL;
    
    struct memblock_device segred_tmp_mem_20923;
    
    segred_tmp_mem_20923.references = NULL;
    
    struct memblock_device segred_tmp_mem_20921;
    
    segred_tmp_mem_20921.references = NULL;
    
    struct memblock_device segred_tmp_mem_20919;
    
    segred_tmp_mem_20919.references = NULL;
    
    struct memblock_device mem_20078;
    
    mem_20078.references = NULL;
    
    struct memblock_device mem_20074;
    
    mem_20074.references = NULL;
    
    struct memblock_device mem_20070;
    
    mem_20070.references = NULL;
    
    struct memblock_device mem_19980;
    
    mem_19980.references = NULL;
    
    struct memblock_device mem_19975;
    
    mem_19975.references = NULL;
    
    struct memblock_device mem_19970;
    
    mem_19970.references = NULL;
    
    struct memblock_device segred_tmp_mem_20777;
    
    segred_tmp_mem_20777.references = NULL;
    
    struct memblock_device segred_tmp_mem_20775;
    
    segred_tmp_mem_20775.references = NULL;
    
    struct memblock_device segred_tmp_mem_20773;
    
    segred_tmp_mem_20773.references = NULL;
    
    struct memblock_device mem_19964;
    
    mem_19964.references = NULL;
    
    struct memblock_device mem_19959;
    
    mem_19959.references = NULL;
    
    struct memblock_device mem_19954;
    
    mem_19954.references = NULL;
    
    struct memblock_device mem_20053;
    
    mem_20053.references = NULL;
    
    struct memblock_device mem_20048;
    
    mem_20048.references = NULL;
    
    struct memblock_device mem_20043;
    
    mem_20043.references = NULL;
    
    struct memblock_device ext_mem_20061;
    
    ext_mem_20061.references = NULL;
    
    struct memblock_device ext_mem_20063;
    
    ext_mem_20063.references = NULL;
    
    struct memblock_device ext_mem_20065;
    
    ext_mem_20065.references = NULL;
    
    struct memblock_device mem_20093;
    
    mem_20093.references = NULL;
    
    struct memblock_device ext_mem_20103;
    
    ext_mem_20103.references = NULL;
    
    struct memblock_device mem_20122;
    
    mem_20122.references = NULL;
    
    struct memblock_device mem_20117;
    
    mem_20117.references = NULL;
    
    struct memblock_device mem_20111;
    
    mem_20111.references = NULL;
    
    struct memblock_device mem_20107;
    
    mem_20107.references = NULL;
    
    struct memblock_device ext_mem_20126;
    
    ext_mem_20126.references = NULL;
    
    struct memblock_device mem_20174;
    
    mem_20174.references = NULL;
    
    struct memblock_device ext_mem_20177;
    
    ext_mem_20177.references = NULL;
    
    struct memblock_device mem_20251;
    
    mem_20251.references = NULL;
    
    struct memblock_device color_20316;
    
    color_20316.references = NULL;
    
    struct memblock_device color_20315;
    
    color_20315.references = NULL;
    
    struct memblock_device color_20314;
    
    color_20314.references = NULL;
    
    struct memblock_device color_20313;
    
    color_20313.references = NULL;
    
    struct memblock_device mem_20246;
    
    mem_20246.references = NULL;
    
    struct memblock_device mem_20181;
    
    mem_20181.references = NULL;
    
    struct memblock_device ext_mem_20255;
    
    ext_mem_20255.references = NULL;
    
    struct memblock_device mem_out_20349;
    
    mem_out_20349.references = NULL;
    
    bool suff_outer_par_16378;
    
    suff_outer_par_16378 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_outer_par_0 <= n_12351;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "make_transposed_quotient_codewords_non_opaque.suff_outer_par_0", (long) n_12351, suff_outer_par_16378 ? "true" : "false");
    
    int64_t y_16359 = m_12352 * q_12354;
    int64_t one_intra_par_min_16360 = p_12353 * y_16359;
    int64_t one_intra_par_min_16361 = p_12353 * q_12354;
    int64_t y_16367 = smin64(m_12352, one_intra_par_min_16361);
    int64_t y_16368 = smin64(one_intra_par_min_16361, y_16367);
    int64_t y_16369 = smin64(p_12353, y_16368);
    int64_t intra_avail_par_16370 = smin64(one_intra_par_min_16360, y_16369);
    int64_t y_16372 = smax64(m_12352, one_intra_par_min_16361);
    int64_t y_16373 = smax64(p_12353, y_16372);
    int64_t computed_group_sizze_16137 = smax64(one_intra_par_min_16360, y_16373);
    int64_t max_group_sizze_16760;
    
    max_group_sizze_16760 = ctx->opencl.max_group_size;
    
    bool fits_16761 = sle64(computed_group_sizze_16137, max_group_sizze_16760);
    bool suff_intra_par_16759;
    
    suff_intra_par_16759 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_intra_par_1 <= intra_avail_par_16370;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "make_transposed_quotient_codewords_non_opaque.suff_intra_par_1", (long) intra_avail_par_16370, suff_intra_par_16759 ? "true" : "false");
    
    bool intra_suff_and_fits_16762 = suff_intra_par_16759 && fits_16761;
    int64_t nest_sizze_18435 = n_12351 * p_12353;
    int64_t segmap_group_sizze_18436;
    
    segmap_group_sizze_18436 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16986;
    
    int64_t num_groups_18437;
    int32_t max_num_groups_20350;
    
    max_num_groups_20350 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16988;
    num_groups_18437 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_18435, segmap_group_sizze_18436), sext_i32_i64(max_num_groups_20350))));
    
    bool suff_outer_par_18441;
    
    suff_outer_par_18441 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_outer_par_2 <= nest_sizze_18435;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "make_transposed_quotient_codewords_non_opaque.suff_outer_par_2", (long) nest_sizze_18435, suff_outer_par_18441 ? "true" : "false");
    
    bool fits_18446 = sle64(q_12354, max_group_sizze_16760);
    bool suff_intra_par_18448;
    
    suff_intra_par_18448 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_intra_par_3 <= q_12354;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "make_transposed_quotient_codewords_non_opaque.suff_intra_par_3", (long) q_12354, suff_intra_par_18448 ? "true" : "false");
    
    bool intra_suff_and_fits_18449 = fits_18446 && suff_intra_par_18448;
    int64_t segmap_group_sizze_18820;
    
    segmap_group_sizze_18820 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17479;
    
    int64_t comparatee_18824 = n_12351 * one_intra_par_min_16361;
    bool suff_outer_par_18825;
    
    suff_outer_par_18825 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_outer_par_4 <= comparatee_18824;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "make_transposed_quotient_codewords_non_opaque.suff_outer_par_4", (long) comparatee_18824, suff_outer_par_18825 ? "true" : "false");
    
    int64_t nest_sizze_18972 = m_12352 * comparatee_18824;
    int64_t segred_group_sizze_18973;
    
    segred_group_sizze_18973 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17680;
    
    int64_t num_groups_18974;
    int32_t max_num_groups_20351;
    
    max_num_groups_20351 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17682;
    num_groups_18974 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_18972, segred_group_sizze_18973), sext_i32_i64(max_num_groups_20351))));
    
    int64_t segmap_group_sizze_19097;
    
    segmap_group_sizze_19097 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17642;
    
    int64_t nest_sizze_19135 = q_12354 * nest_sizze_18435;
    int64_t segred_group_sizze_19136;
    
    segred_group_sizze_19136 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17440;
    
    int64_t num_groups_19137;
    int32_t max_num_groups_20352;
    
    max_num_groups_20352 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17442;
    num_groups_19137 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_19135, segred_group_sizze_19136), sext_i32_i64(max_num_groups_20352))));
    
    int64_t segmap_group_sizze_19169;
    
    segmap_group_sizze_19169 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17396;
    
    int64_t num_groups_19170;
    int32_t max_num_groups_20353;
    
    max_num_groups_20353 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_17398;
    num_groups_19170 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_18435, segmap_group_sizze_19169), sext_i32_i64(max_num_groups_20353))));
    
    int64_t segmap_group_sizze_16571;
    
    segmap_group_sizze_16571 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16382;
    
    int64_t num_groups_16572;
    int32_t max_num_groups_20354;
    
    max_num_groups_20354 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16384;
    num_groups_16572 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_12351, segmap_group_sizze_16571), sext_i32_i64(max_num_groups_20354))));
    
    int64_t computed_group_sizze_19206 = smin64(q_12354, segmap_group_sizze_18820);
    int64_t binop_y_19952 = (int64_t) 8 * nest_sizze_19135;
    int64_t bytes_19953 = smax64((int64_t) 0, binop_y_19952);
    int64_t num_whole_tiles_19217 = squot_safe64(m_12352, computed_group_sizze_19206);
    int64_t residual_input_19654 = srem_safe64(m_12352, computed_group_sizze_19206);
    bool cond_19655 = residual_input_19654 == (int64_t) 0;
    int64_t binop_x_19671 = computed_group_sizze_19206 * num_whole_tiles_19217;
    int64_t slice_offset_19713 = num_whole_tiles_19217 * residual_input_19654;
    int64_t bytes_19983 = (int64_t) 8 * computed_group_sizze_19206;
    int64_t bytes_19994 = smax64((int64_t) 0, bytes_19983);
    int64_t binop_y_20068 = (int64_t) 8 * nest_sizze_18435;
    int64_t bytes_20069 = smax64((int64_t) 0, binop_y_20068);
    int64_t binop_x_20081 = (int64_t) 3 * n_12351;
    int64_t binop_x_20082 = p_12353 * binop_x_20081;
    int64_t bytes_20083 = (int64_t) 8 * binop_x_20082;
    int64_t binop_y_20096 = (int64_t) 24 * nest_sizze_18435;
    int64_t bytes_20097 = smax64((int64_t) 0, binop_y_20096);
    int64_t ixfun_ext_20100 = (int64_t) 3 * p_12353;
    int64_t bytes_20106 = (int64_t) 8 * one_intra_par_min_16360;
    int64_t binop_x_20108 = (int64_t) 3 * q_12354;
    int64_t binop_x_20109 = p_12353 * binop_x_20108;
    int64_t bytes_20110 = (int64_t) 8 * binop_x_20109;
    int64_t binop_y_20130 = (int64_t) 8 * one_intra_par_min_16361;
    int64_t bytes_20131 = smax64((int64_t) 0, binop_y_20130);
    int64_t binop_y_20155 = (int64_t) 8 * p_12353;
    int64_t bytes_20156 = smax64((int64_t) 0, binop_y_20155);
    int64_t binop_y_20167 = (int64_t) 24 * p_12353;
    int64_t bytes_20168 = smax64((int64_t) 0, binop_y_20167);
    int64_t binop_x_20178 = (int64_t) 3 * m_12352;
    int64_t binop_x_20179 = n_12351 * binop_x_20178;
    int64_t bytes_20180 = (int64_t) 8 * binop_x_20179;
    int64_t binop_x_20244 = n_12351 * ixfun_ext_20100;
    int64_t bytes_20245 = (int64_t) 8 * binop_x_20244;
    int64_t binop_y_20183 = (int64_t) 8 * m_12352;
    int64_t bytes_20184 = smax64((int64_t) 0, binop_y_20183);
    int64_t num_bytes_20297 = (int64_t) 8 * computed_group_sizze_19206;
    int64_t num_bytes_20301 = (int64_t) 8 * computed_group_sizze_19206;
    int64_t num_bytes_20305 = (int64_t) 8 * computed_group_sizze_19206;
    int64_t maxSubHelper_20317 = umax64(bytes_20131, bytes_20168);
    int64_t maxSubHelper_20318 = umax64(bytes_20131, bytes_20156);
    int64_t maxSubHelper_20319 = umax64(bytes_20131, bytes_20156);
    int64_t maxSubHelper_20320 = umax64(bytes_20131, bytes_20156);
    int64_t num_threads_20336 = segmap_group_sizze_16571 * num_groups_16572;
    int64_t total_sizze_20337 = bytes_20168 * num_threads_20336;
    int64_t total_sizze_20338 = bytes_20184 * num_threads_20336;
    int64_t total_sizze_20339 = bytes_20184 * num_threads_20336;
    int64_t total_sizze_20340 = bytes_20184 * num_threads_20336;
    int32_t local_memory_capacity_20999;
    
    local_memory_capacity_20999 = ctx->opencl.max_local_memory;
    if (suff_outer_par_16378 == 1 && sle64((int64_t) 0, sext_i32_i64(local_memory_capacity_20999))) {
        if (memblock_alloc_device(ctx, &mem_20181, bytes_20180, "mem_20181")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_20181, (int64_t) 0, eps_mem_19946, (int64_t) 0, (int64_t) 1, m_12352 * (int64_t) 3, n_12351) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_20246, bytes_20245, "mem_20246")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &color_20313, total_sizze_20337, "color_20313")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &color_20314, total_sizze_20338, "color_20314")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &color_20315, total_sizze_20339, "color_20315")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &color_20316, total_sizze_20340, "color_20316")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_groups_20355 = sext_i64_i32(sdiv_up64(n_12351, segmap_group_sizze_16571));
        
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 1, sizeof(n_12351), &n_12351));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 2, sizeof(m_12352), &m_12352));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 3, sizeof(p_12353), &p_12353));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 4, sizeof(q_12354), &q_12354));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 5, sizeof(num_groups_16572), &num_groups_16572));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 6, sizeof(num_threads_20336), &num_threads_20336));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 7, sizeof(virt_num_groups_20355), &virt_num_groups_20355));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 8, sizeof(zzinvs_mem_19945.mem), &zzinvs_mem_19945.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 9, sizeof(expsss_mem_19947.mem), &expsss_mem_19947.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 10, sizeof(coefficientss_mem_19948.mem), &coefficientss_mem_19948.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 11, sizeof(mem_20181.mem), &mem_20181.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 12, sizeof(mem_20246.mem), &mem_20246.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 13, sizeof(color_20313.mem), &color_20313.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 14, sizeof(color_20314.mem), &color_20314.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 15, sizeof(color_20315.mem), &color_20315.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 16, sizeof(color_20316.mem), &color_20316.mem));
        if (1 * ((size_t) num_groups_16572 * (size_t) segmap_group_sizze_16571) != 0) {
            const size_t global_work_sizze_21041[1] = {(size_t) num_groups_16572 * (size_t) segmap_group_sizze_16571};
            const size_t local_work_sizze_21045[1] = {(size_t) segmap_group_sizze_16571};
            int64_t time_start_21042 = 0, time_end_21043 = 0;
            
            if (ctx->debugging) {
                fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_16576", global_work_sizze_21041[0], local_work_sizze_21045[0], (int) 0);
                time_start_21042 = get_wall_time();
            }
            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576, 1, NULL, global_work_sizze_21041, local_work_sizze_21045, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16576_total_runtime)));
            if (ctx->debugging) {
                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                time_end_21043 = get_wall_time();
                
                long time_diff_21044 = time_end_21043 - time_start_21042;
                
                fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_16576", time_diff_21044);
            }
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_20181, "mem_20181") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20313, "color_20313") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20314, "color_20314") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20315, "color_20315") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20316, "color_20316") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_20251, bytes_20097, "mem_20251")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_20251, (int64_t) 0, mem_20246, (int64_t) 0, (int64_t) 1, n_12351, p_12353 * (int64_t) 3) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_unref_device(ctx, &mem_20246, "mem_20246") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_20255, &mem_20251, "mem_20251") != 0)
            return 1;
    } else {
        int32_t local_memory_capacity_20998;
        
        local_memory_capacity_20998 = ctx->opencl.max_local_memory;
        if (intra_suff_and_fits_16762 == 1 && sle64(maxSubHelper_20317 + srem64((int64_t) 8 - srem64(maxSubHelper_20317, (int64_t) 8), (int64_t) 8) + (maxSubHelper_20318 + srem64((int64_t) 8 - srem64(maxSubHelper_20318, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_20319 + srem64((int64_t) 8 - srem64(maxSubHelper_20319, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_20320 + srem64((int64_t) 8 - srem64(maxSubHelper_20320, (int64_t) 8), (int64_t) 8)) + (bytes_20131 + srem64((int64_t) 8 - srem64(bytes_20131, (int64_t) 8), (int64_t) 8)) + (bytes_20131 + srem64((int64_t) 8 - srem64(bytes_20131, (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * (p_12353 * q_12354 * m_12352) + srem64((int64_t) 8 - srem64((int64_t) 8 * (p_12353 * q_12354 * m_12352), (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * (p_12353 * q_12354 * m_12352) + srem64((int64_t) 8 - srem64((int64_t) 8 * (p_12353 * q_12354 * m_12352), (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * (p_12353 * q_12354 * m_12352) + srem64((int64_t) 8 - srem64((int64_t) 8 * (p_12353 * q_12354 * m_12352), (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * (p_12353 * q_12354) + srem64((int64_t) 8 - srem64((int64_t) 8 * (p_12353 * q_12354), (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * (p_12353 * q_12354) + srem64((int64_t) 8 - srem64((int64_t) 8 * (p_12353 * q_12354), (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * (p_12353 * q_12354) + srem64((int64_t) 8 - srem64((int64_t) 8 * (p_12353 * q_12354), (int64_t) 8), (int64_t) 8)), sext_i32_i64(local_memory_capacity_20998))) {
            if (memblock_alloc_device(ctx, &mem_20174, bytes_20097, "mem_20174")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t num_chunks_20397 = sext_i64_i32(sdiv_up64(p_12353, computed_group_sizze_16137));
            int32_t num_chunks_20398 = sext_i64_i32(sdiv_up64(p_12353 * q_12354, computed_group_sizze_16137));
            int32_t num_chunks_20399 = sext_i64_i32(sdiv_up64(p_12353 * q_12354 * m_12352, computed_group_sizze_16137));
            int32_t virt_num_groups_20400 = sext_i64_i32(n_12351);
            
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 1, (size_t) ((int64_t) 8 * (p_12353 * q_12354)), NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 2, (size_t) ((int64_t) 8 * (p_12353 * q_12354)), NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 3, (size_t) ((int64_t) 8 * (p_12353 * q_12354)), NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 4, (size_t) ((int64_t) 8 * (p_12353 * q_12354 * m_12352)), NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 5, (size_t) ((int64_t) 8 * (p_12353 * q_12354 * m_12352)), NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 6, (size_t) ((int64_t) 8 * (p_12353 * q_12354 * m_12352)), NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 7, (size_t) bytes_20131, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 8, (size_t) bytes_20131, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 9, (size_t) maxSubHelper_20320, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 10, (size_t) maxSubHelper_20319, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 11, (size_t) maxSubHelper_20318, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 12, (size_t) maxSubHelper_20317, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 13, sizeof(n_12351), &n_12351));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 14, sizeof(m_12352), &m_12352));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 15, sizeof(p_12353), &p_12353));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 16, sizeof(q_12354), &q_12354));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 17, sizeof(computed_group_sizze_16137), &computed_group_sizze_16137));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 18, sizeof(zzinvs_mem_19945.mem), &zzinvs_mem_19945.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 19, sizeof(eps_mem_19946.mem), &eps_mem_19946.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 20, sizeof(expsss_mem_19947.mem), &expsss_mem_19947.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 21, sizeof(coefficientss_mem_19948.mem), &coefficientss_mem_19948.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 22, sizeof(mem_20174.mem), &mem_20174.mem));
            if (1 * ((size_t) n_12351 * (size_t) computed_group_sizze_16137) != 0) {
                const size_t global_work_sizze_21046[1] = {(size_t) n_12351 * (size_t) computed_group_sizze_16137};
                const size_t local_work_sizze_21050[1] = {(size_t) computed_group_sizze_16137};
                int64_t time_start_21047 = 0, time_end_21048 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_16765", global_work_sizze_21046[0], local_work_sizze_21050[0], (int) (0 + (int64_t) 8 * (p_12353 * q_12354) + (int64_t) 8 * (p_12353 * q_12354) + (int64_t) 8 * (p_12353 * q_12354) + (int64_t) 8 * (p_12353 * q_12354 * m_12352) + (int64_t) 8 * (p_12353 * q_12354 * m_12352) + (int64_t) 8 * (p_12353 * q_12354 * m_12352) + bytes_20131 + bytes_20131 + maxSubHelper_20320 + maxSubHelper_20319 + maxSubHelper_20318 + maxSubHelper_20317));
                    time_start_21047 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765, 1, NULL, global_work_sizze_21046, local_work_sizze_21050, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16765_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21048 = get_wall_time();
                    
                    long time_diff_21049 = time_end_21048 - time_start_21047;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_16765", time_diff_21049);
                }
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &ext_mem_20177, &mem_20174, "mem_20174") != 0)
                return 1;
        } else {
            int32_t local_memory_capacity_20997;
            
            local_memory_capacity_20997 = ctx->opencl.max_local_memory;
            if (suff_outer_par_18441 == 1 && sle64((int64_t) 0, sext_i32_i64(local_memory_capacity_20997))) {
                if (memblock_alloc_device(ctx, &mem_20107, bytes_20106, "mem_20107")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_20107, (int64_t) 0, expsss_mem_19947, (int64_t) 0, (int64_t) 1, q_12354 * m_12352, p_12353) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_20111, bytes_20110, "mem_20111")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_20111, (int64_t) 0, coefficientss_mem_19948, (int64_t) 0, (int64_t) 1, q_12354 * (int64_t) 3, p_12353) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_20117, bytes_20083, "mem_20117")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_groups_20538 = sext_i64_i32(sdiv_up64(n_12351 * p_12353, segmap_group_sizze_18436));
                
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454, 1, sizeof(n_12351), &n_12351));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454, 2, sizeof(m_12352), &m_12352));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454, 3, sizeof(p_12353), &p_12353));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454, 4, sizeof(q_12354), &q_12354));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454, 5, sizeof(num_groups_18437), &num_groups_18437));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454, 6, sizeof(virt_num_groups_20538), &virt_num_groups_20538));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454, 7, sizeof(zzinvs_mem_19945.mem), &zzinvs_mem_19945.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454, 8, sizeof(eps_mem_19946.mem), &eps_mem_19946.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454, 9, sizeof(mem_20107.mem), &mem_20107.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454, 10, sizeof(mem_20111.mem), &mem_20111.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454, 11, sizeof(mem_20117.mem), &mem_20117.mem));
                if (1 * ((size_t) num_groups_18437 * (size_t) segmap_group_sizze_18436) != 0) {
                    const size_t global_work_sizze_21051[1] = {(size_t) num_groups_18437 * (size_t) segmap_group_sizze_18436};
                    const size_t local_work_sizze_21055[1] = {(size_t) segmap_group_sizze_18436};
                    int64_t time_start_21052 = 0, time_end_21053 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_18454", global_work_sizze_21051[0], local_work_sizze_21055[0], (int) 0);
                        time_start_21052 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454, 1, NULL, global_work_sizze_21051, local_work_sizze_21055, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18454_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_21053 = get_wall_time();
                        
                        long time_diff_21054 = time_end_21053 - time_start_21052;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_18454", time_diff_21054);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_20107, "mem_20107") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_20111, "mem_20111") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_20122, bytes_20097, "mem_20122")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_20122, (int64_t) 0, mem_20117, (int64_t) 0, (int64_t) 1, n_12351 * p_12353, (int64_t) 3) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_20117, "mem_20117") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_20126, &mem_20122, "mem_20122") != 0)
                    return 1;
            } else {
                int32_t local_memory_capacity_20996;
                
                local_memory_capacity_20996 = ctx->opencl.max_local_memory;
                if (intra_suff_and_fits_18449 == 1 && sle64((int64_t) 24 + ((int64_t) 8 * q_12354 + srem64((int64_t) 8 - srem64((int64_t) 8 * q_12354, (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * q_12354 + srem64((int64_t) 8 - srem64((int64_t) 8 * q_12354, (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * q_12354 + srem64((int64_t) 8 - srem64((int64_t) 8 * q_12354, (int64_t) 8), (int64_t) 8)), sext_i32_i64(local_memory_capacity_20996))) {
                    if (memblock_alloc_device(ctx, &mem_20093, bytes_20097, "mem_20093")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t num_chunks_20569 = sext_i64_i32(sdiv_up64(q_12354, q_12354));
                    int32_t virt_num_groups_20570 = sext_i64_i32(n_12351 * p_12353);
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 1, (size_t) ((int64_t) 8 * q_12354), NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 2, (size_t) ((int64_t) 8 * q_12354), NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 3, (size_t) ((int64_t) 8 * q_12354), NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 4, (size_t) (int64_t) 24, NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 5, sizeof(n_12351), &n_12351));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 6, sizeof(m_12352), &m_12352));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 7, sizeof(p_12353), &p_12353));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 8, sizeof(q_12354), &q_12354));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 9, sizeof(zzinvs_mem_19945.mem), &zzinvs_mem_19945.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 10, sizeof(eps_mem_19946.mem), &eps_mem_19946.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 11, sizeof(expsss_mem_19947.mem), &expsss_mem_19947.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 12, sizeof(coefficientss_mem_19948.mem), &coefficientss_mem_19948.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 13, sizeof(mem_20093.mem), &mem_20093.mem));
                    if (1 * ((size_t) nest_sizze_18435 * (size_t) q_12354) != 0) {
                        const size_t global_work_sizze_21056[1] = {(size_t) nest_sizze_18435 * (size_t) q_12354};
                        const size_t local_work_sizze_21060[1] = {(size_t) q_12354};
                        int64_t time_start_21057 = 0, time_end_21058 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_18633", global_work_sizze_21056[0], local_work_sizze_21060[0], (int) (0 + (int64_t) 8 * q_12354 + (int64_t) 8 * q_12354 + (int64_t) 8 * q_12354 + (int64_t) 24));
                            time_start_21057 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633, 1, NULL, global_work_sizze_21056, local_work_sizze_21060, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18633_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_21058 = get_wall_time();
                            
                            long time_diff_21059 = time_end_21058 - time_start_21057;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_18633", time_diff_21059);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_20103, &mem_20093, "mem_20093") != 0)
                        return 1;
                } else {
                    int32_t local_memory_capacity_20868;
                    
                    local_memory_capacity_20868 = ctx->opencl.max_local_memory;
                    if (suff_outer_par_18825 == 1 && sle64(bytes_19994 + srem64((int64_t) 8 - srem64(bytes_19994, (int64_t) 8), (int64_t) 8) + (bytes_19994 + srem64((int64_t) 8 - srem64(bytes_19994, (int64_t) 8), (int64_t) 8)) + (bytes_19994 + srem64((int64_t) 8 - srem64(bytes_19994, (int64_t) 8), (int64_t) 8)) + (bytes_19994 + srem64((int64_t) 8 - srem64(bytes_19994, (int64_t) 8), (int64_t) 8)), sext_i32_i64(local_memory_capacity_20868))) {
                        int64_t ldim_19207 = sdiv_up64(q_12354, computed_group_sizze_19206);
                        int64_t y_19208 = p_12353 * ldim_19207;
                        int64_t computed_num_groups_19209 = n_12351 * y_19208;
                        
                        if (memblock_alloc_device(ctx, &mem_20043, bytes_19953, "mem_20043")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_20048, bytes_19953, "mem_20048")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_20053, bytes_19953, "mem_20053")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t num_chunks_20606 = sext_i64_i32(sdiv_up64(computed_group_sizze_19206, computed_group_sizze_19206));
                        int32_t virt_num_groups_20607 = sext_i64_i32(n_12351 * p_12353 * ldim_19207);
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 1, (size_t) bytes_19994, NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 2, (size_t) bytes_19994, NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 3, (size_t) bytes_19994, NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 4, (size_t) bytes_19994, NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 5, sizeof(n_12351), &n_12351));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 6, sizeof(m_12352), &m_12352));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 7, sizeof(p_12353), &p_12353));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 8, sizeof(q_12354), &q_12354));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 9, sizeof(computed_group_sizze_19206), &computed_group_sizze_19206));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 10, sizeof(ldim_19207), &ldim_19207));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 11, sizeof(num_whole_tiles_19217), &num_whole_tiles_19217));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 12, sizeof(residual_input_19654), &residual_input_19654));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 13, sizeof(cond_19655), &cond_19655));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 14, sizeof(binop_x_19671), &binop_x_19671));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 15, sizeof(slice_offset_19713), &slice_offset_19713));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 16, sizeof(eps_mem_19946.mem), &eps_mem_19946.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 17, sizeof(expsss_mem_19947.mem), &expsss_mem_19947.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 18, sizeof(coefficientss_mem_19948.mem), &coefficientss_mem_19948.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 19, sizeof(mem_20043.mem), &mem_20043.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 20, sizeof(mem_20048.mem), &mem_20048.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 21, sizeof(mem_20053.mem), &mem_20053.mem));
                        if (1 * ((size_t) computed_num_groups_19209 * (size_t) computed_group_sizze_19206) != 0) {
                            const size_t global_work_sizze_21061[1] = {(size_t) computed_num_groups_19209 * (size_t) computed_group_sizze_19206};
                            const size_t local_work_sizze_21065[1] = {(size_t) computed_group_sizze_19206};
                            int64_t time_start_21062 = 0, time_end_21063 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_19205", global_work_sizze_21061[0], local_work_sizze_21065[0], (int) (0 + bytes_19994 + bytes_19994 + bytes_19994 + bytes_19994));
                                time_start_21062 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205, 1, NULL, global_work_sizze_21061, local_work_sizze_21065, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19205_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_21063 = get_wall_time();
                                
                                long time_diff_21064 = time_end_21063 - time_start_21062;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_19205", time_diff_21064);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_set_device(ctx, &ext_mem_20065, &mem_20043, "mem_20043") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_20063, &mem_20048, "mem_20048") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_20061, &mem_20053, "mem_20053") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_19954, bytes_19953, "mem_19954")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_19959, bytes_19953, "mem_19959")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_19964, bytes_19953, "mem_19964")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (slt64(m_12352 * (int64_t) 2, segred_group_sizze_18973)) {
                            int64_t segment_sizze_nonzzero_20701 = smax64((int64_t) 1, m_12352);
                            int64_t num_threads_20702 = num_groups_18974 * segred_group_sizze_18973;
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (n_12351 * p_12353 * q_12354), '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) m_12352, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segments_per_group", (long long) squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701), '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "required_groups", (long long) sext_i64_i32(sdiv_up64(n_12351 * p_12353 * q_12354, squot64(segred_group_sizze_18973, segment_sizze_nonzzero_20701))), '\n');
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 1, (size_t) ((int64_t) 8 * segred_group_sizze_18973), NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 2, (size_t) ((int64_t) 8 * segred_group_sizze_18973), NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 3, (size_t) ((int64_t) 8 * segred_group_sizze_18973), NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 4, sizeof(n_12351), &n_12351));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 5, sizeof(m_12352), &m_12352));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 6, sizeof(p_12353), &p_12353));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 7, sizeof(q_12354), &q_12354));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 8, sizeof(num_groups_18974), &num_groups_18974));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 9, sizeof(segment_sizze_nonzzero_20701), &segment_sizze_nonzzero_20701));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 10, sizeof(eps_mem_19946.mem), &eps_mem_19946.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 11, sizeof(expsss_mem_19947.mem), &expsss_mem_19947.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 12, sizeof(mem_19954.mem), &mem_19954.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 13, sizeof(mem_19959.mem), &mem_19959.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 14, sizeof(mem_19964.mem), &mem_19964.mem));
                            if (1 * ((size_t) num_groups_18974 * (size_t) segred_group_sizze_18973) != 0) {
                                const size_t global_work_sizze_21066[1] = {(size_t) num_groups_18974 * (size_t) segred_group_sizze_18973};
                                const size_t local_work_sizze_21070[1] = {(size_t) segred_group_sizze_18973};
                                int64_t time_start_21067 = 0, time_end_21068 = 0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segred_small_18983", global_work_sizze_21066[0], local_work_sizze_21070[0], (int) (0 + (int64_t) 8 * segred_group_sizze_18973 + (int64_t) 8 * segred_group_sizze_18973 + (int64_t) 8 * segred_group_sizze_18973));
                                    time_start_21067 = get_wall_time();
                                }
                                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983, 1, NULL, global_work_sizze_21066, local_work_sizze_21070, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18983_total_runtime)));
                                if (ctx->debugging) {
                                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                    time_end_21068 = get_wall_time();
                                    
                                    long time_diff_21069 = time_end_21068 - time_start_21067;
                                    
                                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segred_small_18983", time_diff_21069);
                                }
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                        } else {
                            int64_t groups_per_segment_20768 = sdiv_up64(num_groups_18974, smax64((int64_t) 1, n_12351 * p_12353 * q_12354));
                            int64_t elements_per_thread_20769 = sdiv_up64(m_12352, segred_group_sizze_18973 * groups_per_segment_20768);
                            int64_t virt_num_groups_20770 = groups_per_segment_20768 * (n_12351 * p_12353 * q_12354);
                            int64_t num_threads_20771 = num_groups_18974 * segred_group_sizze_18973;
                            int64_t threads_per_segment_20772 = groups_per_segment_20768 * segred_group_sizze_18973;
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (n_12351 * p_12353 * q_12354), '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) m_12352, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "virt_num_groups", (long long) virt_num_groups_20770, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_groups", (long long) num_groups_18974, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "group_size", (long long) segred_group_sizze_18973, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "elems_per_thread", (long long) elements_per_thread_20769, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "groups_per_segment", (long long) groups_per_segment_20768, '\n');
                            if (memblock_alloc_device(ctx, &segred_tmp_mem_20773, (int64_t) 8 * virt_num_groups_20770, "segred_tmp_mem_20773")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &segred_tmp_mem_20775, (int64_t) 8 * virt_num_groups_20770, "segred_tmp_mem_20775")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &segred_tmp_mem_20777, (int64_t) 8 * virt_num_groups_20770, "segred_tmp_mem_20777")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device make_transposed_quotient_codewords_non_opaquezicounter_mem_20779 = ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20779;
                            
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 1, (size_t) 1, NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 2, (size_t) ((int64_t) 8 * segred_group_sizze_18973), NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 3, (size_t) ((int64_t) 8 * segred_group_sizze_18973), NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 4, (size_t) ((int64_t) 8 * segred_group_sizze_18973), NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 5, sizeof(n_12351), &n_12351));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 6, sizeof(m_12352), &m_12352));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 7, sizeof(p_12353), &p_12353));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 8, sizeof(q_12354), &q_12354));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 9, sizeof(num_groups_18974), &num_groups_18974));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 10, sizeof(groups_per_segment_20768), &groups_per_segment_20768));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 11, sizeof(elements_per_thread_20769), &elements_per_thread_20769));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 12, sizeof(virt_num_groups_20770), &virt_num_groups_20770));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 13, sizeof(eps_mem_19946.mem), &eps_mem_19946.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 14, sizeof(expsss_mem_19947.mem), &expsss_mem_19947.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 15, sizeof(mem_19954.mem), &mem_19954.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 16, sizeof(mem_19959.mem), &mem_19959.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 17, sizeof(mem_19964.mem), &mem_19964.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 18, sizeof(segred_tmp_mem_20773.mem), &segred_tmp_mem_20773.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 19, sizeof(segred_tmp_mem_20775.mem), &segred_tmp_mem_20775.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 20, sizeof(segred_tmp_mem_20777.mem), &segred_tmp_mem_20777.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 21, sizeof(make_transposed_quotient_codewords_non_opaquezicounter_mem_20779.mem), &make_transposed_quotient_codewords_non_opaquezicounter_mem_20779.mem));
                            if (1 * ((size_t) num_groups_18974 * (size_t) segred_group_sizze_18973) != 0) {
                                const size_t global_work_sizze_21072[1] = {(size_t) num_groups_18974 * (size_t) segred_group_sizze_18973};
                                const size_t local_work_sizze_21076[1] = {(size_t) segred_group_sizze_18973};
                                int64_t time_start_21073 = 0, time_end_21074 = 0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segred_large_18983", global_work_sizze_21072[0], local_work_sizze_21076[0], (int) (0 + 1 + (int64_t) 8 * segred_group_sizze_18973 + (int64_t) 8 * segred_group_sizze_18973 + (int64_t) 8 * segred_group_sizze_18973));
                                    time_start_21073 = get_wall_time();
                                }
                                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983, 1, NULL, global_work_sizze_21072, local_work_sizze_21076, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18983_total_runtime)));
                                if (ctx->debugging) {
                                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                    time_end_21074 = get_wall_time();
                                    
                                    long time_diff_21075 = time_end_21074 - time_start_21073;
                                    
                                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segred_large_18983", time_diff_21075);
                                }
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                        }
                        
                        int64_t segmap_usable_groups_19098 = sdiv_up64(comparatee_18824, segmap_group_sizze_19097);
                        
                        if (memblock_alloc_device(ctx, &mem_19970, bytes_19953, "mem_19970")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_19975, bytes_19953, "mem_19975")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_19980, bytes_19953, "mem_19980")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_groups_20855 = sext_i64_i32(sdiv_up64(n_12351 * p_12353 * q_12354, segmap_group_sizze_19097));
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105, 1, sizeof(n_12351), &n_12351));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105, 2, sizeof(p_12353), &p_12353));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105, 3, sizeof(q_12354), &q_12354));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105, 4, sizeof(coefficientss_mem_19948.mem), &coefficientss_mem_19948.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105, 5, sizeof(mem_19954.mem), &mem_19954.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105, 6, sizeof(mem_19959.mem), &mem_19959.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105, 7, sizeof(mem_19964.mem), &mem_19964.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105, 8, sizeof(mem_19970.mem), &mem_19970.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105, 9, sizeof(mem_19975.mem), &mem_19975.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105, 10, sizeof(mem_19980.mem), &mem_19980.mem));
                        if (1 * ((size_t) segmap_usable_groups_19098 * (size_t) segmap_group_sizze_19097) != 0) {
                            const size_t global_work_sizze_21077[1] = {(size_t) segmap_usable_groups_19098 * (size_t) segmap_group_sizze_19097};
                            const size_t local_work_sizze_21081[1] = {(size_t) segmap_group_sizze_19097};
                            int64_t time_start_21078 = 0, time_end_21079 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_19105", global_work_sizze_21077[0], local_work_sizze_21081[0], (int) 0);
                                time_start_21078 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105, 1, NULL, global_work_sizze_21077, local_work_sizze_21081, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19105_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_21079 = get_wall_time();
                                
                                long time_diff_21080 = time_end_21079 - time_start_21078;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_19105", time_diff_21080);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_19954, "mem_19954") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_19959, "mem_19959") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_19964, "mem_19964") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_20065, &mem_19970, "mem_19970") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_20063, &mem_19975, "mem_19975") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_20061, &mem_19980, "mem_19980") != 0)
                            return 1;
                    }
                    if (memblock_alloc_device(ctx, &mem_20070, bytes_20069, "mem_20070")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_20074, bytes_20069, "mem_20074")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_20078, bytes_20069, "mem_20078")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64(q_12354 * (int64_t) 2, segred_group_sizze_19136)) {
                        int64_t segment_sizze_nonzzero_20869 = smax64((int64_t) 1, q_12354);
                        int64_t num_threads_20870 = num_groups_19137 * segred_group_sizze_19136;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (n_12351 * p_12353), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) q_12354, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segments_per_group", (long long) squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "required_groups", (long long) sext_i64_i32(sdiv_up64(n_12351 * p_12353, squot64(segred_group_sizze_19136, segment_sizze_nonzzero_20869))), '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 1, (size_t) ((int64_t) 8 * segred_group_sizze_19136), NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 2, (size_t) ((int64_t) 8 * segred_group_sizze_19136), NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 3, (size_t) ((int64_t) 8 * segred_group_sizze_19136), NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 4, sizeof(n_12351), &n_12351));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 5, sizeof(p_12353), &p_12353));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 6, sizeof(q_12354), &q_12354));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 7, sizeof(one_intra_par_min_16361), &one_intra_par_min_16361));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 8, sizeof(num_groups_19137), &num_groups_19137));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 9, sizeof(segment_sizze_nonzzero_20869), &segment_sizze_nonzzero_20869));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 10, sizeof(ext_mem_20061.mem), &ext_mem_20061.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 11, sizeof(ext_mem_20063.mem), &ext_mem_20063.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 12, sizeof(ext_mem_20065.mem), &ext_mem_20065.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 13, sizeof(mem_20070.mem), &mem_20070.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 14, sizeof(mem_20074.mem), &mem_20074.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 15, sizeof(mem_20078.mem), &mem_20078.mem));
                        if (1 * ((size_t) num_groups_19137 * (size_t) segred_group_sizze_19136) != 0) {
                            const size_t global_work_sizze_21082[1] = {(size_t) num_groups_19137 * (size_t) segred_group_sizze_19136};
                            const size_t local_work_sizze_21086[1] = {(size_t) segred_group_sizze_19136};
                            int64_t time_start_21083 = 0, time_end_21084 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segred_small_19145", global_work_sizze_21082[0], local_work_sizze_21086[0], (int) (0 + (int64_t) 8 * segred_group_sizze_19136 + (int64_t) 8 * segred_group_sizze_19136 + (int64_t) 8 * segred_group_sizze_19136));
                                time_start_21083 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145, 1, NULL, global_work_sizze_21082, local_work_sizze_21086, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19145_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_21084 = get_wall_time();
                                
                                long time_diff_21085 = time_end_21084 - time_start_21083;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segred_small_19145", time_diff_21085);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                    } else {
                        int64_t groups_per_segment_20914 = sdiv_up64(num_groups_19137, smax64((int64_t) 1, n_12351 * p_12353));
                        int64_t elements_per_thread_20915 = sdiv_up64(q_12354, segred_group_sizze_19136 * groups_per_segment_20914);
                        int64_t virt_num_groups_20916 = groups_per_segment_20914 * (n_12351 * p_12353);
                        int64_t num_threads_20917 = num_groups_19137 * segred_group_sizze_19136;
                        int64_t threads_per_segment_20918 = groups_per_segment_20914 * segred_group_sizze_19136;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (n_12351 * p_12353), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) q_12354, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "virt_num_groups", (long long) virt_num_groups_20916, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_groups", (long long) num_groups_19137, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "group_size", (long long) segred_group_sizze_19136, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_thread", (long long) elements_per_thread_20915, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "groups_per_segment", (long long) groups_per_segment_20914, '\n');
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_20919, (int64_t) 8 * virt_num_groups_20916, "segred_tmp_mem_20919")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_20921, (int64_t) 8 * virt_num_groups_20916, "segred_tmp_mem_20921")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_20923, (int64_t) 8 * virt_num_groups_20916, "segred_tmp_mem_20923")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device make_transposed_quotient_codewords_non_opaquezicounter_mem_20925 = ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20925;
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 1, (size_t) 1, NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 2, (size_t) ((int64_t) 8 * segred_group_sizze_19136), NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 3, (size_t) ((int64_t) 8 * segred_group_sizze_19136), NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 4, (size_t) ((int64_t) 8 * segred_group_sizze_19136), NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 5, sizeof(n_12351), &n_12351));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 6, sizeof(p_12353), &p_12353));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 7, sizeof(q_12354), &q_12354));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 8, sizeof(one_intra_par_min_16361), &one_intra_par_min_16361));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 9, sizeof(num_groups_19137), &num_groups_19137));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 10, sizeof(groups_per_segment_20914), &groups_per_segment_20914));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 11, sizeof(elements_per_thread_20915), &elements_per_thread_20915));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 12, sizeof(virt_num_groups_20916), &virt_num_groups_20916));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 13, sizeof(ext_mem_20061.mem), &ext_mem_20061.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 14, sizeof(ext_mem_20063.mem), &ext_mem_20063.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 15, sizeof(ext_mem_20065.mem), &ext_mem_20065.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 16, sizeof(mem_20070.mem), &mem_20070.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 17, sizeof(mem_20074.mem), &mem_20074.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 18, sizeof(mem_20078.mem), &mem_20078.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 19, sizeof(segred_tmp_mem_20919.mem), &segred_tmp_mem_20919.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 20, sizeof(segred_tmp_mem_20921.mem), &segred_tmp_mem_20921.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 21, sizeof(segred_tmp_mem_20923.mem), &segred_tmp_mem_20923.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 22, sizeof(make_transposed_quotient_codewords_non_opaquezicounter_mem_20925.mem), &make_transposed_quotient_codewords_non_opaquezicounter_mem_20925.mem));
                        if (1 * ((size_t) num_groups_19137 * (size_t) segred_group_sizze_19136) != 0) {
                            const size_t global_work_sizze_21088[1] = {(size_t) num_groups_19137 * (size_t) segred_group_sizze_19136};
                            const size_t local_work_sizze_21092[1] = {(size_t) segred_group_sizze_19136};
                            int64_t time_start_21089 = 0, time_end_21090 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segred_large_19145", global_work_sizze_21088[0], local_work_sizze_21092[0], (int) (0 + 1 + (int64_t) 8 * segred_group_sizze_19136 + (int64_t) 8 * segred_group_sizze_19136 + (int64_t) 8 * segred_group_sizze_19136));
                                time_start_21089 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145, 1, NULL, global_work_sizze_21088, local_work_sizze_21092, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19145_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_21090 = get_wall_time();
                                
                                long time_diff_21091 = time_end_21090 - time_start_21089;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segred_large_19145", time_diff_21091);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                    }
                    if (memblock_unref_device(ctx, &ext_mem_20061, "ext_mem_20061") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_20063, "ext_mem_20063") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_20065, "ext_mem_20065") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_20084, bytes_20083, "mem_20084")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_groups_20979 = sext_i64_i32(sdiv_up64(n_12351 * p_12353, segmap_group_sizze_19169));
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175, 1, sizeof(n_12351), &n_12351));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175, 2, sizeof(p_12353), &p_12353));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175, 3, sizeof(num_groups_19170), &num_groups_19170));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175, 4, sizeof(virt_num_groups_20979), &virt_num_groups_20979));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175, 5, sizeof(zzinvs_mem_19945.mem), &zzinvs_mem_19945.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175, 6, sizeof(mem_20070.mem), &mem_20070.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175, 7, sizeof(mem_20074.mem), &mem_20074.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175, 8, sizeof(mem_20078.mem), &mem_20078.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175, 9, sizeof(mem_20084.mem), &mem_20084.mem));
                    if (1 * ((size_t) num_groups_19170 * (size_t) segmap_group_sizze_19169) != 0) {
                        const size_t global_work_sizze_21093[1] = {(size_t) num_groups_19170 * (size_t) segmap_group_sizze_19169};
                        const size_t local_work_sizze_21097[1] = {(size_t) segmap_group_sizze_19169};
                        int64_t time_start_21094 = 0, time_end_21095 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_19175", global_work_sizze_21093[0], local_work_sizze_21097[0], (int) 0);
                            time_start_21094 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175, 1, NULL, global_work_sizze_21093, local_work_sizze_21097, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19175_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_21095 = get_wall_time();
                            
                            long time_diff_21096 = time_end_21095 - time_start_21094;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_19175", time_diff_21096);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_20070, "mem_20070") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_20074, "mem_20074") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_20078, "mem_20078") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_20098, bytes_20097, "mem_20098")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_20098, (int64_t) 0, mem_20084, (int64_t) 0, (int64_t) 1, n_12351 * p_12353, (int64_t) 3) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_20084, "mem_20084") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_20103, &mem_20098, "mem_20098") != 0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_20126, &ext_mem_20103, "ext_mem_20103") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_20177, &ext_mem_20126, "ext_mem_20126") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_20255, &ext_mem_20177, "ext_mem_20177") != 0)
            return 1;
    }
    if (memblock_alloc_device(ctx, &mem_20260, bytes_20097, "mem_20260")) {
||||||| parent of d23c9a2 (ispc)
  cleanup:
    { }
    return err;
}
static int futrts_builtinzhgpu_map_transpose_i64(struct futhark_context *ctx, struct memblock_device destmem_0, int32_t destoffset_1, struct memblock_device srcmem_2, int32_t srcoffset_3, int32_t num_arrays_4, int32_t x_elems_5, int32_t y_elems_6)
{
    (void) ctx;
    
    int err = 0;
    
    if (!(num_arrays_4 == 0 || (x_elems_5 == 0 || y_elems_6 == 0))) {
        int32_t muly_8 = squot32(16, x_elems_5);
        int32_t mulx_7 = squot32(16, y_elems_6);
        
        if (num_arrays_4 == 1 && (x_elems_5 == 1 || y_elems_6 == 1)) {
            if (sext_i32_i64(x_elems_5 * y_elems_6 * 8) > 0) {
                OPENCL_SUCCEED_OR_RETURN(clEnqueueCopyBuffer(ctx->opencl.queue, srcmem_2.mem, destmem_0.mem, (size_t) sext_i32_i64(srcoffset_3), (size_t) sext_i32_i64(destoffset_1), (size_t) sext_i32_i64(x_elems_5 * y_elems_6 * 8), 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->copy_dev_to_dev_runs, &ctx->copy_dev_to_dev_total_runtime)));
                if (ctx->debugging)
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
            }
        } else if (sle32(x_elems_5, 8) && slt32(16, y_elems_6)) {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 0, (size_t) (int64_t) 2176, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_width, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(x_elems_5, 16) * (size_t) 16) * ((size_t) sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) * (size_t) 16) * ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                const size_t global_work_sizze_21001[3] = {(size_t) sdiv_up32(x_elems_5, 16) * (size_t) 16, (size_t) sdiv_up32(sdiv_up32(y_elems_6, muly_8), 16) * (size_t) 16, (size_t) num_arrays_4 * (size_t) 1};
                const size_t local_work_sizze_21005[3] = {(size_t) 16, (size_t) 16, (size_t) 1};
                int64_t time_start_21002 = 0, time_end_21003 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n", "gpu_map_transpose_i64_low_width", global_work_sizze_21001[0], global_work_sizze_21001[1], global_work_sizze_21001[2], local_work_sizze_21005[0], local_work_sizze_21005[1], local_work_sizze_21005[2], (int) (0 + (int64_t) 2176));
                    time_start_21002 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i64_low_width, 3, NULL, global_work_sizze_21001, local_work_sizze_21005, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i64_low_width_runs, &ctx->gpu_map_transpose_i64_low_width_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21003 = get_wall_time();
                    
                    long time_diff_21004 = time_end_21003 - time_start_21002;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i64_low_width", time_diff_21004);
                }
            }
        } else if (sle32(y_elems_6, 8) && slt32(16, x_elems_5)) {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 0, (size_t) (int64_t) 2176, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_low_height, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16) * (size_t) 16) * ((size_t) sdiv_up32(y_elems_6, 16) * (size_t) 16) * ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                const size_t global_work_sizze_21006[3] = {(size_t) sdiv_up32(sdiv_up32(x_elems_5, mulx_7), 16) * (size_t) 16, (size_t) sdiv_up32(y_elems_6, 16) * (size_t) 16, (size_t) num_arrays_4 * (size_t) 1};
                const size_t local_work_sizze_21010[3] = {(size_t) 16, (size_t) 16, (size_t) 1};
                int64_t time_start_21007 = 0, time_end_21008 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n", "gpu_map_transpose_i64_low_height", global_work_sizze_21006[0], global_work_sizze_21006[1], global_work_sizze_21006[2], local_work_sizze_21010[0], local_work_sizze_21010[1], local_work_sizze_21010[2], (int) (0 + (int64_t) 2176));
                    time_start_21007 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i64_low_height, 3, NULL, global_work_sizze_21006, local_work_sizze_21010, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i64_low_height_runs, &ctx->gpu_map_transpose_i64_low_height_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21008 = get_wall_time();
                    
                    long time_diff_21009 = time_end_21008 - time_start_21007;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i64_low_height", time_diff_21009);
                }
            }
        } else if (sle32(x_elems_5, 8) && sle32(y_elems_6, 8)) {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 0, (size_t) (int64_t) 1, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64_small, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256) * (size_t) 256) != 0) {
                const size_t global_work_sizze_21011[1] = {(size_t) sdiv_up32(num_arrays_4 * x_elems_5 * y_elems_6, 256) * (size_t) 256};
                const size_t local_work_sizze_21015[1] = {(size_t) 256};
                int64_t time_start_21012 = 0, time_end_21013 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "gpu_map_transpose_i64_small", global_work_sizze_21011[0], local_work_sizze_21015[0], (int) (0 + (int64_t) 1));
                    time_start_21012 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i64_small, 1, NULL, global_work_sizze_21011, local_work_sizze_21015, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i64_small_runs, &ctx->gpu_map_transpose_i64_small_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21013 = get_wall_time();
                    
                    long time_diff_21014 = time_end_21013 - time_start_21012;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i64_small", time_diff_21014);
                }
            }
        } else {
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 0, (size_t) (int64_t) 8448, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 1, sizeof(destoffset_1), &destoffset_1));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 2, sizeof(srcoffset_3), &srcoffset_3));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 3, sizeof(num_arrays_4), &num_arrays_4));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 4, sizeof(x_elems_5), &x_elems_5));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 5, sizeof(y_elems_6), &y_elems_6));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 6, sizeof(mulx_7), &mulx_7));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 7, sizeof(muly_8), &muly_8));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 8, sizeof(destmem_0.mem), &destmem_0.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->gpu_map_transpose_i64, 9, sizeof(srcmem_2.mem), &srcmem_2.mem));
            if (1 * ((size_t) sdiv_up32(x_elems_5, 32) * (size_t) 32) * ((size_t) sdiv_up32(y_elems_6, 32) * (size_t) 8) * ((size_t) num_arrays_4 * (size_t) 1) != 0) {
                const size_t global_work_sizze_21016[3] = {(size_t) sdiv_up32(x_elems_5, 32) * (size_t) 32, (size_t) sdiv_up32(y_elems_6, 32) * (size_t) 8, (size_t) num_arrays_4 * (size_t) 1};
                const size_t local_work_sizze_21020[3] = {(size_t) 32, (size_t) 8, (size_t) 1};
                int64_t time_start_21017 = 0, time_end_21018 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu, %zu, %zu] and local work size [%zu, %zu, %zu]; local memory: %d bytes.\n", "gpu_map_transpose_i64", global_work_sizze_21016[0], global_work_sizze_21016[1], global_work_sizze_21016[2], local_work_sizze_21020[0], local_work_sizze_21020[1], local_work_sizze_21020[2], (int) (0 + (int64_t) 8448));
                    time_start_21017 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->gpu_map_transpose_i64, 3, NULL, global_work_sizze_21016, local_work_sizze_21020, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->gpu_map_transpose_i64_runs, &ctx->gpu_map_transpose_i64_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21018 = get_wall_time();
                    
                    long time_diff_21019 = time_end_21018 - time_start_21017;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "gpu_map_transpose_i64", time_diff_21019);
                }
            }
        }
    }
    
  cleanup:
    { }
    return err;
}
static int futrts_entry_make_transposed_quotient_codewords_non_opaque(struct futhark_context *ctx, struct memblock_device *mem_out_p_21021, struct memblock_device zzinvs_mem_19926, struct memblock_device eps_mem_19927, struct memblock_device expsss_mem_19928, struct memblock_device coefficientss_mem_19929, int64_t n_12333, int64_t m_12334, int64_t p_12335)
{
    (void) ctx;
    
    int err = 0;
    struct memblock_device mem_20241;
    
    mem_20241.references = NULL;
    
    struct memblock_device mem_20079;
    
    mem_20079.references = NULL;
    
    struct memblock_device mem_20065;
    
    mem_20065.references = NULL;
    
    struct memblock_device segred_tmp_mem_20904;
    
    segred_tmp_mem_20904.references = NULL;
    
    struct memblock_device segred_tmp_mem_20902;
    
    segred_tmp_mem_20902.references = NULL;
    
    struct memblock_device segred_tmp_mem_20900;
    
    segred_tmp_mem_20900.references = NULL;
    
    struct memblock_device mem_20059;
    
    mem_20059.references = NULL;
    
    struct memblock_device mem_20055;
    
    mem_20055.references = NULL;
    
    struct memblock_device mem_20051;
    
    mem_20051.references = NULL;
    
    struct memblock_device mem_19961;
    
    mem_19961.references = NULL;
    
    struct memblock_device mem_19956;
    
    mem_19956.references = NULL;
    
    struct memblock_device mem_19951;
    
    mem_19951.references = NULL;
    
    struct memblock_device segred_tmp_mem_20758;
    
    segred_tmp_mem_20758.references = NULL;
    
    struct memblock_device segred_tmp_mem_20756;
    
    segred_tmp_mem_20756.references = NULL;
    
    struct memblock_device segred_tmp_mem_20754;
    
    segred_tmp_mem_20754.references = NULL;
    
    struct memblock_device mem_19945;
    
    mem_19945.references = NULL;
    
    struct memblock_device mem_19940;
    
    mem_19940.references = NULL;
    
    struct memblock_device mem_19935;
    
    mem_19935.references = NULL;
    
    struct memblock_device mem_20034;
    
    mem_20034.references = NULL;
    
    struct memblock_device mem_20029;
    
    mem_20029.references = NULL;
    
    struct memblock_device mem_20024;
    
    mem_20024.references = NULL;
    
    struct memblock_device ext_mem_20042;
    
    ext_mem_20042.references = NULL;
    
    struct memblock_device ext_mem_20044;
    
    ext_mem_20044.references = NULL;
    
    struct memblock_device ext_mem_20046;
    
    ext_mem_20046.references = NULL;
    
    struct memblock_device mem_20074;
    
    mem_20074.references = NULL;
    
    struct memblock_device ext_mem_20084;
    
    ext_mem_20084.references = NULL;
    
    struct memblock_device mem_20103;
    
    mem_20103.references = NULL;
    
    struct memblock_device mem_20098;
    
    mem_20098.references = NULL;
    
    struct memblock_device mem_20092;
    
    mem_20092.references = NULL;
    
    struct memblock_device mem_20088;
    
    mem_20088.references = NULL;
    
    struct memblock_device ext_mem_20107;
    
    ext_mem_20107.references = NULL;
    
    struct memblock_device mem_20155;
    
    mem_20155.references = NULL;
    
    struct memblock_device ext_mem_20158;
    
    ext_mem_20158.references = NULL;
    
    struct memblock_device mem_20232;
    
    mem_20232.references = NULL;
    
    struct memblock_device color_20297;
    
    color_20297.references = NULL;
    
    struct memblock_device color_20296;
    
    color_20296.references = NULL;
    
    struct memblock_device color_20295;
    
    color_20295.references = NULL;
    
    struct memblock_device color_20294;
    
    color_20294.references = NULL;
    
    struct memblock_device mem_20227;
    
    mem_20227.references = NULL;
    
    struct memblock_device mem_20162;
    
    mem_20162.references = NULL;
    
    struct memblock_device ext_mem_20236;
    
    ext_mem_20236.references = NULL;
    
    struct memblock_device mem_out_20330;
    
    mem_out_20330.references = NULL;
    
    bool suff_outer_par_16359;
    
    suff_outer_par_16359 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_outer_par_0 <= n_12333;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "make_transposed_quotient_codewords_non_opaque.suff_outer_par_0", (long) n_12333, suff_outer_par_16359 ? "true" : "false");
    
    int64_t y_16342 = m_12334 * p_12335;
    int64_t one_intra_par_min_16343 = m_12334 * y_16342;
    int64_t y_16350 = smin64(m_12334, y_16342);
    int64_t y_16351 = smin64(y_16342, y_16350);
    int64_t intra_avail_par_16352 = smin64(one_intra_par_min_16343, y_16351);
    int64_t y_16354 = smax64(m_12334, y_16342);
    int64_t computed_group_sizze_16120 = smax64(one_intra_par_min_16343, y_16354);
    int64_t max_group_sizze_16741;
    
    max_group_sizze_16741 = ctx->opencl.max_group_size;
    
    bool fits_16742 = sle64(computed_group_sizze_16120, max_group_sizze_16741);
    bool suff_intra_par_16740;
    
    suff_intra_par_16740 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_intra_par_1 <= intra_avail_par_16352;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "make_transposed_quotient_codewords_non_opaque.suff_intra_par_1", (long) intra_avail_par_16352, suff_intra_par_16740 ? "true" : "false");
    
    bool intra_suff_and_fits_16743 = suff_intra_par_16740 && fits_16742;
    int64_t nest_sizze_18416 = n_12333 * m_12334;
    int64_t segmap_group_sizze_18417;
    
    segmap_group_sizze_18417 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16967;
    
    int64_t num_groups_18418;
    int32_t max_num_groups_20331;
    
    max_num_groups_20331 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16969;
    num_groups_18418 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_18416, segmap_group_sizze_18417), sext_i32_i64(max_num_groups_20331))));
    
    bool suff_outer_par_18422;
    
    suff_outer_par_18422 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_outer_par_2 <= nest_sizze_18416;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "make_transposed_quotient_codewords_non_opaque.suff_outer_par_2", (long) nest_sizze_18416, suff_outer_par_18422 ? "true" : "false");
    
    bool fits_18427 = sle64(p_12335, max_group_sizze_16741);
    bool suff_intra_par_18429;
    
    suff_intra_par_18429 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_intra_par_3 <= p_12335;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "make_transposed_quotient_codewords_non_opaque.suff_intra_par_3", (long) p_12335, suff_intra_par_18429 ? "true" : "false");
    
    bool intra_suff_and_fits_18430 = fits_18427 && suff_intra_par_18429;
    int64_t segmap_group_sizze_18801;
    
    segmap_group_sizze_18801 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17460;
    
    int64_t comparatee_18805 = n_12333 * y_16342;
    bool suff_outer_par_18806;
    
    suff_outer_par_18806 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisuff_outer_par_4 <= comparatee_18805;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "make_transposed_quotient_codewords_non_opaque.suff_outer_par_4", (long) comparatee_18805, suff_outer_par_18806 ? "true" : "false");
    
    int64_t nest_sizze_18953 = m_12334 * comparatee_18805;
    int64_t segred_group_sizze_18954;
    
    segred_group_sizze_18954 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17661;
    
    int64_t num_groups_18955;
    int32_t max_num_groups_20332;
    
    max_num_groups_20332 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17663;
    num_groups_18955 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_18953, segred_group_sizze_18954), sext_i32_i64(max_num_groups_20332))));
    
    int64_t segmap_group_sizze_19078;
    
    segmap_group_sizze_19078 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17623;
    
    int64_t nest_sizze_19116 = p_12335 * nest_sizze_18416;
    int64_t segred_group_sizze_19117;
    
    segred_group_sizze_19117 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_group_sizze_17421;
    
    int64_t num_groups_19118;
    int32_t max_num_groups_20333;
    
    max_num_groups_20333 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegred_num_groups_17423;
    num_groups_19118 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_19116, segred_group_sizze_19117), sext_i32_i64(max_num_groups_20333))));
    
    int64_t segmap_group_sizze_19150;
    
    segmap_group_sizze_19150 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_17377;
    
    int64_t num_groups_19151;
    int32_t max_num_groups_20334;
    
    max_num_groups_20334 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_17379;
    num_groups_19151 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_18416, segmap_group_sizze_19150), sext_i32_i64(max_num_groups_20334))));
    
    int64_t segmap_group_sizze_16552;
    
    segmap_group_sizze_16552 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_group_sizze_16363;
    
    int64_t num_groups_16553;
    int32_t max_num_groups_20335;
    
    max_num_groups_20335 = *ctx->tuning_params.make_transposed_quotient_codewords_non_opaquezisegmap_num_groups_16365;
    num_groups_16553 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(n_12333, segmap_group_sizze_16552), sext_i32_i64(max_num_groups_20335))));
    
    int64_t computed_group_sizze_19187 = smin64(p_12335, segmap_group_sizze_18801);
    int64_t binop_y_19933 = (int64_t) 8 * nest_sizze_19116;
    int64_t bytes_19934 = smax64((int64_t) 0, binop_y_19933);
    int64_t num_whole_tiles_19198 = squot_safe64(m_12334, computed_group_sizze_19187);
    int64_t residual_input_19635 = srem_safe64(m_12334, computed_group_sizze_19187);
    bool cond_19636 = residual_input_19635 == (int64_t) 0;
    int64_t binop_x_19652 = computed_group_sizze_19187 * num_whole_tiles_19198;
    int64_t slice_offset_19694 = num_whole_tiles_19198 * residual_input_19635;
    int64_t bytes_19964 = (int64_t) 8 * computed_group_sizze_19187;
    int64_t bytes_19975 = smax64((int64_t) 0, bytes_19964);
    int64_t binop_y_20049 = (int64_t) 8 * nest_sizze_18416;
    int64_t bytes_20050 = smax64((int64_t) 0, binop_y_20049);
    int64_t binop_x_20062 = (int64_t) 3 * n_12333;
    int64_t binop_x_20063 = m_12334 * binop_x_20062;
    int64_t bytes_20064 = (int64_t) 8 * binop_x_20063;
    int64_t binop_y_20077 = (int64_t) 24 * nest_sizze_18416;
    int64_t bytes_20078 = smax64((int64_t) 0, binop_y_20077);
    int64_t ixfun_ext_20081 = (int64_t) 3 * m_12334;
    int64_t bytes_20087 = (int64_t) 8 * one_intra_par_min_16343;
    int64_t binop_x_20089 = (int64_t) 3 * p_12335;
    int64_t binop_x_20090 = m_12334 * binop_x_20089;
    int64_t bytes_20091 = (int64_t) 8 * binop_x_20090;
    int64_t binop_y_20111 = (int64_t) 8 * y_16342;
    int64_t bytes_20112 = smax64((int64_t) 0, binop_y_20111);
    int64_t binop_y_20136 = (int64_t) 8 * m_12334;
    int64_t bytes_20137 = smax64((int64_t) 0, binop_y_20136);
    int64_t binop_y_20148 = (int64_t) 24 * m_12334;
    int64_t bytes_20149 = smax64((int64_t) 0, binop_y_20148);
    int64_t binop_x_20160 = n_12333 * ixfun_ext_20081;
    int64_t bytes_20161 = (int64_t) 8 * binop_x_20160;
    int64_t num_bytes_20278 = (int64_t) 8 * computed_group_sizze_19187;
    int64_t num_bytes_20282 = (int64_t) 8 * computed_group_sizze_19187;
    int64_t num_bytes_20286 = (int64_t) 8 * computed_group_sizze_19187;
    int64_t maxSubHelper_20298 = umax64(bytes_20112, bytes_20149);
    int64_t maxSubHelper_20299 = umax64(bytes_20112, bytes_20137);
    int64_t maxSubHelper_20300 = umax64(bytes_20112, bytes_20137);
    int64_t maxSubHelper_20301 = umax64(bytes_20112, bytes_20137);
    int64_t num_threads_20317 = segmap_group_sizze_16552 * num_groups_16553;
    int64_t total_sizze_20318 = bytes_20149 * num_threads_20317;
    int64_t total_sizze_20319 = bytes_20137 * num_threads_20317;
    int64_t total_sizze_20320 = bytes_20137 * num_threads_20317;
    int64_t total_sizze_20321 = bytes_20137 * num_threads_20317;
    int32_t local_memory_capacity_20980;
    
    local_memory_capacity_20980 = ctx->opencl.max_local_memory;
    if (suff_outer_par_16359 == 1 && sle64((int64_t) 0, sext_i32_i64(local_memory_capacity_20980))) {
        if (memblock_alloc_device(ctx, &mem_20162, bytes_20161, "mem_20162")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_20162, (int64_t) 0, eps_mem_19927, (int64_t) 0, (int64_t) 1, m_12334 * (int64_t) 3, n_12333) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_20227, bytes_20161, "mem_20227")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &color_20294, total_sizze_20318, "color_20294")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &color_20295, total_sizze_20319, "color_20295")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &color_20296, total_sizze_20320, "color_20296")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &color_20297, total_sizze_20321, "color_20297")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_groups_20336 = sext_i64_i32(sdiv_up64(n_12333, segmap_group_sizze_16552));
        
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 1, sizeof(n_12333), &n_12333));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 2, sizeof(m_12334), &m_12334));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 3, sizeof(p_12335), &p_12335));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 4, sizeof(num_groups_16553), &num_groups_16553));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 5, sizeof(num_threads_20317), &num_threads_20317));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 6, sizeof(virt_num_groups_20336), &virt_num_groups_20336));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 7, sizeof(zzinvs_mem_19926.mem), &zzinvs_mem_19926.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 8, sizeof(expsss_mem_19928.mem), &expsss_mem_19928.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 9, sizeof(coefficientss_mem_19929.mem), &coefficientss_mem_19929.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 10, sizeof(mem_20162.mem), &mem_20162.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 11, sizeof(mem_20227.mem), &mem_20227.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 12, sizeof(color_20294.mem), &color_20294.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 13, sizeof(color_20295.mem), &color_20295.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 14, sizeof(color_20296.mem), &color_20296.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 15, sizeof(color_20297.mem), &color_20297.mem));
        if (1 * ((size_t) num_groups_16553 * (size_t) segmap_group_sizze_16552) != 0) {
            const size_t global_work_sizze_21022[1] = {(size_t) num_groups_16553 * (size_t) segmap_group_sizze_16552};
            const size_t local_work_sizze_21026[1] = {(size_t) segmap_group_sizze_16552};
            int64_t time_start_21023 = 0, time_end_21024 = 0;
            
            if (ctx->debugging) {
                fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_16557", global_work_sizze_21022[0], local_work_sizze_21026[0], (int) 0);
                time_start_21023 = get_wall_time();
            }
            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557, 1, NULL, global_work_sizze_21022, local_work_sizze_21026, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_16557_total_runtime)));
            if (ctx->debugging) {
                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                time_end_21024 = get_wall_time();
                
                long time_diff_21025 = time_end_21024 - time_start_21023;
                
                fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_16557", time_diff_21025);
            }
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_20162, "mem_20162") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20294, "color_20294") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20295, "color_20295") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20296, "color_20296") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20297, "color_20297") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_20232, bytes_20078, "mem_20232")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_20232, (int64_t) 0, mem_20227, (int64_t) 0, (int64_t) 1, n_12333, m_12334 * (int64_t) 3) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_unref_device(ctx, &mem_20227, "mem_20227") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_20236, &mem_20232, "mem_20232") != 0)
            return 1;
    } else {
        int32_t local_memory_capacity_20979;
        
        local_memory_capacity_20979 = ctx->opencl.max_local_memory;
        if (intra_suff_and_fits_16743 == 1 && sle64(maxSubHelper_20298 + srem64((int64_t) 8 - srem64(maxSubHelper_20298, (int64_t) 8), (int64_t) 8) + (maxSubHelper_20299 + srem64((int64_t) 8 - srem64(maxSubHelper_20299, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_20300 + srem64((int64_t) 8 - srem64(maxSubHelper_20300, (int64_t) 8), (int64_t) 8)) + (maxSubHelper_20301 + srem64((int64_t) 8 - srem64(maxSubHelper_20301, (int64_t) 8), (int64_t) 8)) + (bytes_20112 + srem64((int64_t) 8 - srem64(bytes_20112, (int64_t) 8), (int64_t) 8)) + (bytes_20112 + srem64((int64_t) 8 - srem64(bytes_20112, (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * (m_12334 * p_12335 * m_12334) + srem64((int64_t) 8 - srem64((int64_t) 8 * (m_12334 * p_12335 * m_12334), (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * (m_12334 * p_12335 * m_12334) + srem64((int64_t) 8 - srem64((int64_t) 8 * (m_12334 * p_12335 * m_12334), (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * (m_12334 * p_12335 * m_12334) + srem64((int64_t) 8 - srem64((int64_t) 8 * (m_12334 * p_12335 * m_12334), (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * (m_12334 * p_12335) + srem64((int64_t) 8 - srem64((int64_t) 8 * (m_12334 * p_12335), (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * (m_12334 * p_12335) + srem64((int64_t) 8 - srem64((int64_t) 8 * (m_12334 * p_12335), (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * (m_12334 * p_12335) + srem64((int64_t) 8 - srem64((int64_t) 8 * (m_12334 * p_12335), (int64_t) 8), (int64_t) 8)), sext_i32_i64(local_memory_capacity_20979))) {
            if (memblock_alloc_device(ctx, &mem_20155, bytes_20078, "mem_20155")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t num_chunks_20378 = sext_i64_i32(sdiv_up64(m_12334, computed_group_sizze_16120));
            int32_t num_chunks_20379 = sext_i64_i32(sdiv_up64(m_12334 * p_12335, computed_group_sizze_16120));
            int32_t num_chunks_20380 = sext_i64_i32(sdiv_up64(m_12334 * p_12335 * m_12334, computed_group_sizze_16120));
            int32_t virt_num_groups_20381 = sext_i64_i32(n_12333);
            
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 1, (size_t) ((int64_t) 8 * (m_12334 * p_12335)), NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 2, (size_t) ((int64_t) 8 * (m_12334 * p_12335)), NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 3, (size_t) ((int64_t) 8 * (m_12334 * p_12335)), NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 4, (size_t) ((int64_t) 8 * (m_12334 * p_12335 * m_12334)), NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 5, (size_t) ((int64_t) 8 * (m_12334 * p_12335 * m_12334)), NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 6, (size_t) ((int64_t) 8 * (m_12334 * p_12335 * m_12334)), NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 7, (size_t) bytes_20112, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 8, (size_t) bytes_20112, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 9, (size_t) maxSubHelper_20301, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 10, (size_t) maxSubHelper_20300, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 11, (size_t) maxSubHelper_20299, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 12, (size_t) maxSubHelper_20298, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 13, sizeof(n_12333), &n_12333));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 14, sizeof(m_12334), &m_12334));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 15, sizeof(p_12335), &p_12335));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 16, sizeof(computed_group_sizze_16120), &computed_group_sizze_16120));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 17, sizeof(zzinvs_mem_19926.mem), &zzinvs_mem_19926.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 18, sizeof(eps_mem_19927.mem), &eps_mem_19927.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 19, sizeof(expsss_mem_19928.mem), &expsss_mem_19928.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 20, sizeof(coefficientss_mem_19929.mem), &coefficientss_mem_19929.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 21, sizeof(mem_20155.mem), &mem_20155.mem));
            if (1 * ((size_t) n_12333 * (size_t) computed_group_sizze_16120) != 0) {
                const size_t global_work_sizze_21027[1] = {(size_t) n_12333 * (size_t) computed_group_sizze_16120};
                const size_t local_work_sizze_21031[1] = {(size_t) computed_group_sizze_16120};
                int64_t time_start_21028 = 0, time_end_21029 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_16746", global_work_sizze_21027[0], local_work_sizze_21031[0], (int) (0 + (int64_t) 8 * (m_12334 * p_12335) + (int64_t) 8 * (m_12334 * p_12335) + (int64_t) 8 * (m_12334 * p_12335) + (int64_t) 8 * (m_12334 * p_12335 * m_12334) + (int64_t) 8 * (m_12334 * p_12335 * m_12334) + (int64_t) 8 * (m_12334 * p_12335 * m_12334) + bytes_20112 + bytes_20112 + maxSubHelper_20301 + maxSubHelper_20300 + maxSubHelper_20299 + maxSubHelper_20298));
                    time_start_21028 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746, 1, NULL, global_work_sizze_21027, local_work_sizze_21031, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_16746_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21029 = get_wall_time();
                    
                    long time_diff_21030 = time_end_21029 - time_start_21028;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_16746", time_diff_21030);
                }
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &ext_mem_20158, &mem_20155, "mem_20155") != 0)
                return 1;
        } else {
            int32_t local_memory_capacity_20978;
            
            local_memory_capacity_20978 = ctx->opencl.max_local_memory;
            if (suff_outer_par_18422 == 1 && sle64((int64_t) 0, sext_i32_i64(local_memory_capacity_20978))) {
                if (memblock_alloc_device(ctx, &mem_20088, bytes_20087, "mem_20088")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_20088, (int64_t) 0, expsss_mem_19928, (int64_t) 0, (int64_t) 1, p_12335 * m_12334, m_12334) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_20092, bytes_20091, "mem_20092")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_20092, (int64_t) 0, coefficientss_mem_19929, (int64_t) 0, (int64_t) 1, p_12335 * (int64_t) 3, m_12334) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_alloc_device(ctx, &mem_20098, bytes_20064, "mem_20098")) {
                    err = 1;
                    goto cleanup;
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegMap");
                
                int32_t virt_num_groups_20519 = sext_i64_i32(sdiv_up64(n_12333 * m_12334, segmap_group_sizze_18417));
                
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435, 1, sizeof(n_12333), &n_12333));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435, 2, sizeof(m_12334), &m_12334));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435, 3, sizeof(p_12335), &p_12335));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435, 4, sizeof(num_groups_18418), &num_groups_18418));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435, 5, sizeof(virt_num_groups_20519), &virt_num_groups_20519));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435, 6, sizeof(zzinvs_mem_19926.mem), &zzinvs_mem_19926.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435, 7, sizeof(eps_mem_19927.mem), &eps_mem_19927.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435, 8, sizeof(mem_20088.mem), &mem_20088.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435, 9, sizeof(mem_20092.mem), &mem_20092.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435, 10, sizeof(mem_20098.mem), &mem_20098.mem));
                if (1 * ((size_t) num_groups_18418 * (size_t) segmap_group_sizze_18417) != 0) {
                    const size_t global_work_sizze_21032[1] = {(size_t) num_groups_18418 * (size_t) segmap_group_sizze_18417};
                    const size_t local_work_sizze_21036[1] = {(size_t) segmap_group_sizze_18417};
                    int64_t time_start_21033 = 0, time_end_21034 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_18435", global_work_sizze_21032[0], local_work_sizze_21036[0], (int) 0);
                        time_start_21033 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435, 1, NULL, global_work_sizze_21032, local_work_sizze_21036, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_18435_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_21034 = get_wall_time();
                        
                        long time_diff_21035 = time_end_21034 - time_start_21033;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_18435", time_diff_21035);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
                if (memblock_unref_device(ctx, &mem_20088, "mem_20088") != 0)
                    return 1;
                if (memblock_unref_device(ctx, &mem_20092, "mem_20092") != 0)
                    return 1;
                if (memblock_alloc_device(ctx, &mem_20103, bytes_20078, "mem_20103")) {
                    err = 1;
                    goto cleanup;
                }
                if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_20103, (int64_t) 0, mem_20098, (int64_t) 0, (int64_t) 1, n_12333 * m_12334, (int64_t) 3) != 0) {
                    err = 1;
                    goto cleanup;
                }
                if (memblock_unref_device(ctx, &mem_20098, "mem_20098") != 0)
                    return 1;
                if (memblock_set_device(ctx, &ext_mem_20107, &mem_20103, "mem_20103") != 0)
                    return 1;
            } else {
                int32_t local_memory_capacity_20977;
                
                local_memory_capacity_20977 = ctx->opencl.max_local_memory;
                if (intra_suff_and_fits_18430 == 1 && sle64((int64_t) 24 + ((int64_t) 8 * p_12335 + srem64((int64_t) 8 - srem64((int64_t) 8 * p_12335, (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * p_12335 + srem64((int64_t) 8 - srem64((int64_t) 8 * p_12335, (int64_t) 8), (int64_t) 8)) + ((int64_t) 8 * p_12335 + srem64((int64_t) 8 - srem64((int64_t) 8 * p_12335, (int64_t) 8), (int64_t) 8)), sext_i32_i64(local_memory_capacity_20977))) {
                    if (memblock_alloc_device(ctx, &mem_20074, bytes_20078, "mem_20074")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t num_chunks_20550 = sext_i64_i32(sdiv_up64(p_12335, p_12335));
                    int32_t virt_num_groups_20551 = sext_i64_i32(n_12333 * m_12334);
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 1, (size_t) ((int64_t) 8 * p_12335), NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 2, (size_t) ((int64_t) 8 * p_12335), NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 3, (size_t) ((int64_t) 8 * p_12335), NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 4, (size_t) (int64_t) 24, NULL));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 5, sizeof(n_12333), &n_12333));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 6, sizeof(m_12334), &m_12334));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 7, sizeof(p_12335), &p_12335));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 8, sizeof(zzinvs_mem_19926.mem), &zzinvs_mem_19926.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 9, sizeof(eps_mem_19927.mem), &eps_mem_19927.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 10, sizeof(expsss_mem_19928.mem), &expsss_mem_19928.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 11, sizeof(coefficientss_mem_19929.mem), &coefficientss_mem_19929.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 12, sizeof(mem_20074.mem), &mem_20074.mem));
                    if (1 * ((size_t) nest_sizze_18416 * (size_t) p_12335) != 0) {
                        const size_t global_work_sizze_21037[1] = {(size_t) nest_sizze_18416 * (size_t) p_12335};
                        const size_t local_work_sizze_21041[1] = {(size_t) p_12335};
                        int64_t time_start_21038 = 0, time_end_21039 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_18614", global_work_sizze_21037[0], local_work_sizze_21041[0], (int) (0 + (int64_t) 8 * p_12335 + (int64_t) 8 * p_12335 + (int64_t) 8 * p_12335 + (int64_t) 24));
                            time_start_21038 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614, 1, NULL, global_work_sizze_21037, local_work_sizze_21041, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_18614_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_21039 = get_wall_time();
                            
                            long time_diff_21040 = time_end_21039 - time_start_21038;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_18614", time_diff_21040);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_set_device(ctx, &ext_mem_20084, &mem_20074, "mem_20074") != 0)
                        return 1;
                } else {
                    int32_t local_memory_capacity_20849;
                    
                    local_memory_capacity_20849 = ctx->opencl.max_local_memory;
                    if (suff_outer_par_18806 == 1 && sle64(bytes_19975 + srem64((int64_t) 8 - srem64(bytes_19975, (int64_t) 8), (int64_t) 8) + (bytes_19975 + srem64((int64_t) 8 - srem64(bytes_19975, (int64_t) 8), (int64_t) 8)) + (bytes_19975 + srem64((int64_t) 8 - srem64(bytes_19975, (int64_t) 8), (int64_t) 8)) + (bytes_19975 + srem64((int64_t) 8 - srem64(bytes_19975, (int64_t) 8), (int64_t) 8)), sext_i32_i64(local_memory_capacity_20849))) {
                        int64_t ldim_19188 = sdiv_up64(p_12335, computed_group_sizze_19187);
                        int64_t y_19189 = m_12334 * ldim_19188;
                        int64_t computed_num_groups_19190 = n_12333 * y_19189;
                        
                        if (memblock_alloc_device(ctx, &mem_20024, bytes_19934, "mem_20024")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_20029, bytes_19934, "mem_20029")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_20034, bytes_19934, "mem_20034")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t num_chunks_20587 = sext_i64_i32(sdiv_up64(computed_group_sizze_19187, computed_group_sizze_19187));
                        int32_t virt_num_groups_20588 = sext_i64_i32(n_12333 * m_12334 * ldim_19188);
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 1, (size_t) bytes_19975, NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 2, (size_t) bytes_19975, NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 3, (size_t) bytes_19975, NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 4, (size_t) bytes_19975, NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 5, sizeof(n_12333), &n_12333));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 6, sizeof(m_12334), &m_12334));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 7, sizeof(p_12335), &p_12335));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 8, sizeof(computed_group_sizze_19187), &computed_group_sizze_19187));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 9, sizeof(ldim_19188), &ldim_19188));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 10, sizeof(num_whole_tiles_19198), &num_whole_tiles_19198));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 11, sizeof(residual_input_19635), &residual_input_19635));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 12, sizeof(cond_19636), &cond_19636));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 13, sizeof(binop_x_19652), &binop_x_19652));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 14, sizeof(slice_offset_19694), &slice_offset_19694));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 15, sizeof(eps_mem_19927.mem), &eps_mem_19927.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 16, sizeof(expsss_mem_19928.mem), &expsss_mem_19928.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 17, sizeof(coefficientss_mem_19929.mem), &coefficientss_mem_19929.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 18, sizeof(mem_20024.mem), &mem_20024.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 19, sizeof(mem_20029.mem), &mem_20029.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 20, sizeof(mem_20034.mem), &mem_20034.mem));
                        if (1 * ((size_t) computed_num_groups_19190 * (size_t) computed_group_sizze_19187) != 0) {
                            const size_t global_work_sizze_21042[1] = {(size_t) computed_num_groups_19190 * (size_t) computed_group_sizze_19187};
                            const size_t local_work_sizze_21046[1] = {(size_t) computed_group_sizze_19187};
                            int64_t time_start_21043 = 0, time_end_21044 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_19186", global_work_sizze_21042[0], local_work_sizze_21046[0], (int) (0 + bytes_19975 + bytes_19975 + bytes_19975 + bytes_19975));
                                time_start_21043 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186, 1, NULL, global_work_sizze_21042, local_work_sizze_21046, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_intragroup_19186_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_21044 = get_wall_time();
                                
                                long time_diff_21045 = time_end_21044 - time_start_21043;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_intragroup_19186", time_diff_21045);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_set_device(ctx, &ext_mem_20046, &mem_20024, "mem_20024") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_20044, &mem_20029, "mem_20029") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_20042, &mem_20034, "mem_20034") != 0)
                            return 1;
                    } else {
                        if (memblock_alloc_device(ctx, &mem_19935, bytes_19934, "mem_19935")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_19940, bytes_19934, "mem_19940")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_19945, bytes_19934, "mem_19945")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (slt64(m_12334 * (int64_t) 2, segred_group_sizze_18954)) {
                            int64_t segment_sizze_nonzzero_20682 = smax64((int64_t) 1, m_12334);
                            int64_t num_threads_20683 = num_groups_18955 * segred_group_sizze_18954;
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (n_12333 * m_12334 * p_12335), '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) m_12334, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segments_per_group", (long long) squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682), '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "required_groups", (long long) sext_i64_i32(sdiv_up64(n_12333 * m_12334 * p_12335, squot64(segred_group_sizze_18954, segment_sizze_nonzzero_20682))), '\n');
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 1, (size_t) ((int64_t) 8 * segred_group_sizze_18954), NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 2, (size_t) ((int64_t) 8 * segred_group_sizze_18954), NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 3, (size_t) ((int64_t) 8 * segred_group_sizze_18954), NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 4, sizeof(n_12333), &n_12333));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 5, sizeof(m_12334), &m_12334));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 6, sizeof(p_12335), &p_12335));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 7, sizeof(num_groups_18955), &num_groups_18955));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 8, sizeof(segment_sizze_nonzzero_20682), &segment_sizze_nonzzero_20682));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 9, sizeof(eps_mem_19927.mem), &eps_mem_19927.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 10, sizeof(expsss_mem_19928.mem), &expsss_mem_19928.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 11, sizeof(mem_19935.mem), &mem_19935.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 12, sizeof(mem_19940.mem), &mem_19940.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 13, sizeof(mem_19945.mem), &mem_19945.mem));
                            if (1 * ((size_t) num_groups_18955 * (size_t) segred_group_sizze_18954) != 0) {
                                const size_t global_work_sizze_21047[1] = {(size_t) num_groups_18955 * (size_t) segred_group_sizze_18954};
                                const size_t local_work_sizze_21051[1] = {(size_t) segred_group_sizze_18954};
                                int64_t time_start_21048 = 0, time_end_21049 = 0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segred_small_18964", global_work_sizze_21047[0], local_work_sizze_21051[0], (int) (0 + (int64_t) 8 * segred_group_sizze_18954 + (int64_t) 8 * segred_group_sizze_18954 + (int64_t) 8 * segred_group_sizze_18954));
                                    time_start_21048 = get_wall_time();
                                }
                                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964, 1, NULL, global_work_sizze_21047, local_work_sizze_21051, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_18964_total_runtime)));
                                if (ctx->debugging) {
                                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                    time_end_21049 = get_wall_time();
                                    
                                    long time_diff_21050 = time_end_21049 - time_start_21048;
                                    
                                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segred_small_18964", time_diff_21050);
                                }
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                        } else {
                            int64_t groups_per_segment_20749 = sdiv_up64(num_groups_18955, smax64((int64_t) 1, n_12333 * m_12334 * p_12335));
                            int64_t elements_per_thread_20750 = sdiv_up64(m_12334, segred_group_sizze_18954 * groups_per_segment_20749);
                            int64_t virt_num_groups_20751 = groups_per_segment_20749 * (n_12333 * m_12334 * p_12335);
                            int64_t num_threads_20752 = num_groups_18955 * segred_group_sizze_18954;
                            int64_t threads_per_segment_20753 = groups_per_segment_20749 * segred_group_sizze_18954;
                            
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (n_12333 * m_12334 * p_12335), '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) m_12334, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "virt_num_groups", (long long) virt_num_groups_20751, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "num_groups", (long long) num_groups_18955, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "group_size", (long long) segred_group_sizze_18954, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "elems_per_thread", (long long) elements_per_thread_20750, '\n');
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s: %llu%c", "groups_per_segment", (long long) groups_per_segment_20749, '\n');
                            if (memblock_alloc_device(ctx, &segred_tmp_mem_20754, (int64_t) 8 * virt_num_groups_20751, "segred_tmp_mem_20754")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &segred_tmp_mem_20756, (int64_t) 8 * virt_num_groups_20751, "segred_tmp_mem_20756")) {
                                err = 1;
                                goto cleanup;
                            }
                            if (memblock_alloc_device(ctx, &segred_tmp_mem_20758, (int64_t) 8 * virt_num_groups_20751, "segred_tmp_mem_20758")) {
                                err = 1;
                                goto cleanup;
                            }
                            
                            struct memblock_device make_transposed_quotient_codewords_non_opaquezicounter_mem_20760 = ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20760;
                            
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 1, (size_t) 1, NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 2, (size_t) ((int64_t) 8 * segred_group_sizze_18954), NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 3, (size_t) ((int64_t) 8 * segred_group_sizze_18954), NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 4, (size_t) ((int64_t) 8 * segred_group_sizze_18954), NULL));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 5, sizeof(n_12333), &n_12333));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 6, sizeof(m_12334), &m_12334));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 7, sizeof(p_12335), &p_12335));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 8, sizeof(num_groups_18955), &num_groups_18955));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 9, sizeof(groups_per_segment_20749), &groups_per_segment_20749));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 10, sizeof(elements_per_thread_20750), &elements_per_thread_20750));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 11, sizeof(virt_num_groups_20751), &virt_num_groups_20751));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 12, sizeof(eps_mem_19927.mem), &eps_mem_19927.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 13, sizeof(expsss_mem_19928.mem), &expsss_mem_19928.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 14, sizeof(mem_19935.mem), &mem_19935.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 15, sizeof(mem_19940.mem), &mem_19940.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 16, sizeof(mem_19945.mem), &mem_19945.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 17, sizeof(segred_tmp_mem_20754.mem), &segred_tmp_mem_20754.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 18, sizeof(segred_tmp_mem_20756.mem), &segred_tmp_mem_20756.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 19, sizeof(segred_tmp_mem_20758.mem), &segred_tmp_mem_20758.mem));
                            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 20, sizeof(make_transposed_quotient_codewords_non_opaquezicounter_mem_20760.mem), &make_transposed_quotient_codewords_non_opaquezicounter_mem_20760.mem));
                            if (1 * ((size_t) num_groups_18955 * (size_t) segred_group_sizze_18954) != 0) {
                                const size_t global_work_sizze_21053[1] = {(size_t) num_groups_18955 * (size_t) segred_group_sizze_18954};
                                const size_t local_work_sizze_21057[1] = {(size_t) segred_group_sizze_18954};
                                int64_t time_start_21054 = 0, time_end_21055 = 0;
                                
                                if (ctx->debugging) {
                                    fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segred_large_18964", global_work_sizze_21053[0], local_work_sizze_21057[0], (int) (0 + 1 + (int64_t) 8 * segred_group_sizze_18954 + (int64_t) 8 * segred_group_sizze_18954 + (int64_t) 8 * segred_group_sizze_18954));
                                    time_start_21054 = get_wall_time();
                                }
                                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964, 1, NULL, global_work_sizze_21053, local_work_sizze_21057, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_18964_total_runtime)));
                                if (ctx->debugging) {
                                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                    time_end_21055 = get_wall_time();
                                    
                                    long time_diff_21056 = time_end_21055 - time_start_21054;
                                    
                                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segred_large_18964", time_diff_21056);
                                }
                            }
                            if (ctx->debugging)
                                fprintf(ctx->log, "%s\n", "");
                        }
                        
                        int64_t segmap_usable_groups_19079 = sdiv_up64(comparatee_18805, segmap_group_sizze_19078);
                        
                        if (memblock_alloc_device(ctx, &mem_19951, bytes_19934, "mem_19951")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_19956, bytes_19934, "mem_19956")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &mem_19961, bytes_19934, "mem_19961")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegMap");
                        
                        int32_t virt_num_groups_20836 = sext_i64_i32(sdiv_up64(n_12333 * m_12334 * p_12335, segmap_group_sizze_19078));
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086, 1, sizeof(n_12333), &n_12333));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086, 2, sizeof(m_12334), &m_12334));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086, 3, sizeof(p_12335), &p_12335));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086, 4, sizeof(coefficientss_mem_19929.mem), &coefficientss_mem_19929.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086, 5, sizeof(mem_19935.mem), &mem_19935.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086, 6, sizeof(mem_19940.mem), &mem_19940.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086, 7, sizeof(mem_19945.mem), &mem_19945.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086, 8, sizeof(mem_19951.mem), &mem_19951.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086, 9, sizeof(mem_19956.mem), &mem_19956.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086, 10, sizeof(mem_19961.mem), &mem_19961.mem));
                        if (1 * ((size_t) segmap_usable_groups_19079 * (size_t) segmap_group_sizze_19078) != 0) {
                            const size_t global_work_sizze_21058[1] = {(size_t) segmap_usable_groups_19079 * (size_t) segmap_group_sizze_19078};
                            const size_t local_work_sizze_21062[1] = {(size_t) segmap_group_sizze_19078};
                            int64_t time_start_21059 = 0, time_end_21060 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_19086", global_work_sizze_21058[0], local_work_sizze_21062[0], (int) 0);
                                time_start_21059 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086, 1, NULL, global_work_sizze_21058, local_work_sizze_21062, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19086_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_21060 = get_wall_time();
                                
                                long time_diff_21061 = time_end_21060 - time_start_21059;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_19086", time_diff_21061);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                        if (memblock_unref_device(ctx, &mem_19935, "mem_19935") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_19940, "mem_19940") != 0)
                            return 1;
                        if (memblock_unref_device(ctx, &mem_19945, "mem_19945") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_20046, &mem_19951, "mem_19951") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_20044, &mem_19956, "mem_19956") != 0)
                            return 1;
                        if (memblock_set_device(ctx, &ext_mem_20042, &mem_19961, "mem_19961") != 0)
                            return 1;
                    }
                    if (memblock_alloc_device(ctx, &mem_20051, bytes_20050, "mem_20051")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_20055, bytes_20050, "mem_20055")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_alloc_device(ctx, &mem_20059, bytes_20050, "mem_20059")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (slt64(p_12335 * (int64_t) 2, segred_group_sizze_19117)) {
                        int64_t segment_sizze_nonzzero_20850 = smax64((int64_t) 1, p_12335);
                        int64_t num_threads_20851 = num_groups_19118 * segred_group_sizze_19117;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (n_12333 * m_12334), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) p_12335, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segments_per_group", (long long) squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "required_groups", (long long) sext_i64_i32(sdiv_up64(n_12333 * m_12334, squot64(segred_group_sizze_19117, segment_sizze_nonzzero_20850))), '\n');
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 1, (size_t) ((int64_t) 8 * segred_group_sizze_19117), NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 2, (size_t) ((int64_t) 8 * segred_group_sizze_19117), NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 3, (size_t) ((int64_t) 8 * segred_group_sizze_19117), NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 4, sizeof(n_12333), &n_12333));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 5, sizeof(m_12334), &m_12334));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 6, sizeof(p_12335), &p_12335));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 7, sizeof(y_16342), &y_16342));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 8, sizeof(num_groups_19118), &num_groups_19118));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 9, sizeof(segment_sizze_nonzzero_20850), &segment_sizze_nonzzero_20850));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 10, sizeof(ext_mem_20042.mem), &ext_mem_20042.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 11, sizeof(ext_mem_20044.mem), &ext_mem_20044.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 12, sizeof(ext_mem_20046.mem), &ext_mem_20046.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 13, sizeof(mem_20051.mem), &mem_20051.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 14, sizeof(mem_20055.mem), &mem_20055.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 15, sizeof(mem_20059.mem), &mem_20059.mem));
                        if (1 * ((size_t) num_groups_19118 * (size_t) segred_group_sizze_19117) != 0) {
                            const size_t global_work_sizze_21063[1] = {(size_t) num_groups_19118 * (size_t) segred_group_sizze_19117};
                            const size_t local_work_sizze_21067[1] = {(size_t) segred_group_sizze_19117};
                            int64_t time_start_21064 = 0, time_end_21065 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segred_small_19126", global_work_sizze_21063[0], local_work_sizze_21067[0], (int) (0 + (int64_t) 8 * segred_group_sizze_19117 + (int64_t) 8 * segred_group_sizze_19117 + (int64_t) 8 * segred_group_sizze_19117));
                                time_start_21064 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126, 1, NULL, global_work_sizze_21063, local_work_sizze_21067, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_small_19126_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_21065 = get_wall_time();
                                
                                long time_diff_21066 = time_end_21065 - time_start_21064;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segred_small_19126", time_diff_21066);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                    } else {
                        int64_t groups_per_segment_20895 = sdiv_up64(num_groups_19118, smax64((int64_t) 1, n_12333 * m_12334));
                        int64_t elements_per_thread_20896 = sdiv_up64(p_12335, segred_group_sizze_19117 * groups_per_segment_20895);
                        int64_t virt_num_groups_20897 = groups_per_segment_20895 * (n_12333 * m_12334);
                        int64_t num_threads_20898 = num_groups_19118 * segred_group_sizze_19117;
                        int64_t threads_per_segment_20899 = groups_per_segment_20895 * segred_group_sizze_19117;
                        
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (n_12333 * m_12334), '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) p_12335, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "virt_num_groups", (long long) virt_num_groups_20897, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "num_groups", (long long) num_groups_19118, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "group_size", (long long) segred_group_sizze_19117, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "elems_per_thread", (long long) elements_per_thread_20896, '\n');
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s: %llu%c", "groups_per_segment", (long long) groups_per_segment_20895, '\n');
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_20900, (int64_t) 8 * virt_num_groups_20897, "segred_tmp_mem_20900")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_20902, (int64_t) 8 * virt_num_groups_20897, "segred_tmp_mem_20902")) {
                            err = 1;
                            goto cleanup;
                        }
                        if (memblock_alloc_device(ctx, &segred_tmp_mem_20904, (int64_t) 8 * virt_num_groups_20897, "segred_tmp_mem_20904")) {
                            err = 1;
                            goto cleanup;
                        }
                        
                        struct memblock_device make_transposed_quotient_codewords_non_opaquezicounter_mem_20906 = ctx->make_transposed_quotient_codewords_non_opaquezicounter_mem_20906;
                        
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 1, (size_t) 1, NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 2, (size_t) ((int64_t) 8 * segred_group_sizze_19117), NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 3, (size_t) ((int64_t) 8 * segred_group_sizze_19117), NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 4, (size_t) ((int64_t) 8 * segred_group_sizze_19117), NULL));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 5, sizeof(n_12333), &n_12333));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 6, sizeof(m_12334), &m_12334));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 7, sizeof(p_12335), &p_12335));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 8, sizeof(y_16342), &y_16342));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 9, sizeof(num_groups_19118), &num_groups_19118));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 10, sizeof(groups_per_segment_20895), &groups_per_segment_20895));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 11, sizeof(elements_per_thread_20896), &elements_per_thread_20896));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 12, sizeof(virt_num_groups_20897), &virt_num_groups_20897));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 13, sizeof(ext_mem_20042.mem), &ext_mem_20042.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 14, sizeof(ext_mem_20044.mem), &ext_mem_20044.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 15, sizeof(ext_mem_20046.mem), &ext_mem_20046.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 16, sizeof(mem_20051.mem), &mem_20051.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 17, sizeof(mem_20055.mem), &mem_20055.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 18, sizeof(mem_20059.mem), &mem_20059.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 19, sizeof(segred_tmp_mem_20900.mem), &segred_tmp_mem_20900.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 20, sizeof(segred_tmp_mem_20902.mem), &segred_tmp_mem_20902.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 21, sizeof(segred_tmp_mem_20904.mem), &segred_tmp_mem_20904.mem));
                        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 22, sizeof(make_transposed_quotient_codewords_non_opaquezicounter_mem_20906.mem), &make_transposed_quotient_codewords_non_opaquezicounter_mem_20906.mem));
                        if (1 * ((size_t) num_groups_19118 * (size_t) segred_group_sizze_19117) != 0) {
                            const size_t global_work_sizze_21069[1] = {(size_t) num_groups_19118 * (size_t) segred_group_sizze_19117};
                            const size_t local_work_sizze_21073[1] = {(size_t) segred_group_sizze_19117};
                            int64_t time_start_21070 = 0, time_end_21071 = 0;
                            
                            if (ctx->debugging) {
                                fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segred_large_19126", global_work_sizze_21069[0], local_work_sizze_21073[0], (int) (0 + 1 + (int64_t) 8 * segred_group_sizze_19117 + (int64_t) 8 * segred_group_sizze_19117 + (int64_t) 8 * segred_group_sizze_19117));
                                time_start_21070 = get_wall_time();
                            }
                            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126, 1, NULL, global_work_sizze_21069, local_work_sizze_21073, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegred_large_19126_total_runtime)));
                            if (ctx->debugging) {
                                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                                time_end_21071 = get_wall_time();
                                
                                long time_diff_21072 = time_end_21071 - time_start_21070;
                                
                                fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segred_large_19126", time_diff_21072);
                            }
                        }
                        if (ctx->debugging)
                            fprintf(ctx->log, "%s\n", "");
                    }
                    if (memblock_unref_device(ctx, &ext_mem_20042, "ext_mem_20042") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_20044, "ext_mem_20044") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &ext_mem_20046, "ext_mem_20046") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_20065, bytes_20064, "mem_20065")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "\n# SegMap");
                    
                    int32_t virt_num_groups_20960 = sext_i64_i32(sdiv_up64(n_12333 * m_12334, segmap_group_sizze_19150));
                    
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156, 1, sizeof(n_12333), &n_12333));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156, 2, sizeof(m_12334), &m_12334));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156, 3, sizeof(num_groups_19151), &num_groups_19151));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156, 4, sizeof(virt_num_groups_20960), &virt_num_groups_20960));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156, 5, sizeof(zzinvs_mem_19926.mem), &zzinvs_mem_19926.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156, 6, sizeof(mem_20051.mem), &mem_20051.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156, 7, sizeof(mem_20055.mem), &mem_20055.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156, 8, sizeof(mem_20059.mem), &mem_20059.mem));
                    OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156, 9, sizeof(mem_20065.mem), &mem_20065.mem));
                    if (1 * ((size_t) num_groups_19151 * (size_t) segmap_group_sizze_19150) != 0) {
                        const size_t global_work_sizze_21074[1] = {(size_t) num_groups_19151 * (size_t) segmap_group_sizze_19150};
                        const size_t local_work_sizze_21078[1] = {(size_t) segmap_group_sizze_19150};
                        int64_t time_start_21075 = 0, time_end_21076 = 0;
                        
                        if (ctx->debugging) {
                            fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "make_transposed_quotient_codewords_non_opaque.segmap_19156", global_work_sizze_21074[0], local_work_sizze_21078[0], (int) 0);
                            time_start_21075 = get_wall_time();
                        }
                        OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156, 1, NULL, global_work_sizze_21074, local_work_sizze_21078, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156_runs, &ctx->make_transposed_quotient_codewords_non_opaquezisegmap_19156_total_runtime)));
                        if (ctx->debugging) {
                            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                            time_end_21076 = get_wall_time();
                            
                            long time_diff_21077 = time_end_21076 - time_start_21075;
                            
                            fprintf(ctx->log, "kernel %s runtime: %ldus\n", "make_transposed_quotient_codewords_non_opaque.segmap_19156", time_diff_21077);
                        }
                    }
                    if (ctx->debugging)
                        fprintf(ctx->log, "%s\n", "");
                    if (memblock_unref_device(ctx, &mem_20051, "mem_20051") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_20055, "mem_20055") != 0)
                        return 1;
                    if (memblock_unref_device(ctx, &mem_20059, "mem_20059") != 0)
                        return 1;
                    if (memblock_alloc_device(ctx, &mem_20079, bytes_20078, "mem_20079")) {
                        err = 1;
                        goto cleanup;
                    }
                    if (futrts_builtinzhgpu_map_transpose_i64(ctx, mem_20079, (int64_t) 0, mem_20065, (int64_t) 0, (int64_t) 1, n_12333 * m_12334, (int64_t) 3) != 0) {
                        err = 1;
                        goto cleanup;
                    }
                    if (memblock_unref_device(ctx, &mem_20065, "mem_20065") != 0)
                        return 1;
                    if (memblock_set_device(ctx, &ext_mem_20084, &mem_20079, "mem_20079") != 0)
                        return 1;
                }
                if (memblock_set_device(ctx, &ext_mem_20107, &ext_mem_20084, "ext_mem_20084") != 0)
                    return 1;
            }
            if (memblock_set_device(ctx, &ext_mem_20158, &ext_mem_20107, "ext_mem_20107") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_20236, &ext_mem_20158, "ext_mem_20158") != 0)
            return 1;
    }
    if (memblock_alloc_device(ctx, &mem_20241, bytes_20078, "mem_20241")) {
=======
    int64_t binop_y_17010 = (int64_t) 8 * p_12335;
    int64_t bytes_17011 = smax64((int64_t) 0, binop_y_17010);
    int64_t flat_tid_15959 = (int64_t) 0;
    int64_t flat_tid_15965 = (int64_t) 0;
    struct futhark_mc_task_18431 futhark_mc_task_18431_;
    
    futhark_mc_task_18431_.ctx = ctx;
    futhark_mc_task_18431_.free_m_12334 = m_12334;
    futhark_mc_task_18431_.free_p_12335 = p_12335;
    futhark_mc_task_18431_.free_coefficientss_mem_17009 = coefficientss_mem_17009.mem;
    futhark_mc_task_18431_.free_bytes_17011 = bytes_17011;
    futhark_mc_task_18431_.free_mem_17061 = mem_17061;
    futhark_mc_task_18431_.free_mem_17065 = mem_17065;
    futhark_mc_task_18431_.free_mem_17069 = mem_17069;
    #if ISPC
    
    uniform struct futhark_mc_task_18431 aos_18490[programCount];
    
    aos_18490[programIndex] = futhark_mc_task_18431_;
    foreach_active (i)
    if (err == 0)
        err = futhark_mc_schedule_shim_18489(ctx, &aos_18490[i], extract(m_12334, i));
    if (err != 0)
        unmasked { return err; }
    #else
    err = futhark_mc_schedule_shim_18489(ctx, &futhark_mc_task_18431_, m_12334);
    if (err != 0)
        goto cleanup;
    #endif
    
    int64_t binop_x_17139 = n_12333 * m_12334;
    int64_t binop_y_17141 = (int64_t) 24 * binop_x_17139;
    int64_t bytes_17142 = smax64((int64_t) 0, binop_y_17141);
    
    if (memblock_alloc(ctx, &mem_17143, bytes_17142, "mem_17143")) {
>>>>>>> d23c9a2 (ispc)
        err = 1;
        goto cleanup;
    }
<<<<<<< HEAD
    if (n_12351 * p_12353 * (int64_t) 3 * (int64_t) 8 > 0) {
        OPENCL_SUCCEED_OR_RETURN(clEnqueueCopyBuffer(ctx->opencl.queue, ext_mem_20255.mem, mem_20260.mem, (size_t) (int64_t) 0, (size_t) (int64_t) 0, (size_t) (n_12351 * p_12353 * (int64_t) 3 * (int64_t) 8), 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->copy_dev_to_dev_runs, &ctx->copy_dev_to_dev_total_runtime)));
        if (ctx->debugging)
            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
    }
    if (memblock_unref_device(ctx, &ext_mem_20255, "ext_mem_20255") != 0)
||||||| parent of d23c9a2 (ispc)
    if (n_12333 * m_12334 * (int64_t) 3 * (int64_t) 8 > 0) {
        OPENCL_SUCCEED_OR_RETURN(clEnqueueCopyBuffer(ctx->opencl.queue, ext_mem_20236.mem, mem_20241.mem, (size_t) (int64_t) 0, (size_t) (int64_t) 0, (size_t) (n_12333 * m_12334 * (int64_t) 3 * (int64_t) 8), 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->copy_dev_to_dev_runs, &ctx->copy_dev_to_dev_total_runtime)));
        if (ctx->debugging)
            OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
    }
    if (memblock_unref_device(ctx, &ext_mem_20236, "ext_mem_20236") != 0)
=======
    
    int64_t binop_y_17075 = (int64_t) 24 * m_12334;
    int64_t bytes_17076 = smax64((int64_t) 0, binop_y_17075);
    int64_t binop_y_17078 = (int64_t) 8 * m_12334;
    int64_t bytes_17079 = smax64((int64_t) 0, binop_y_17078);
    int64_t flat_tid_15977 = (int64_t) 0;
    int64_t flat_tid_16457 = (int64_t) 0;
    struct futhark_mc_task_18491 futhark_mc_task_18491_;
    
    futhark_mc_task_18491_.ctx = ctx;
    futhark_mc_task_18491_.free_n_12333 = n_12333;
    futhark_mc_task_18491_.free_m_12334 = m_12334;
    futhark_mc_task_18491_.free_p_12335 = p_12335;
    futhark_mc_task_18491_.free_zzinvs_mem_17006 = zzinvs_mem_17006.mem;
    futhark_mc_task_18491_.free_eps_mem_17007 = eps_mem_17007.mem;
    futhark_mc_task_18491_.free_expsss_mem_17008 = expsss_mem_17008.mem;
    futhark_mc_task_18491_.free_mem_17061 = mem_17061;
    futhark_mc_task_18491_.free_mem_17065 = mem_17065;
    futhark_mc_task_18491_.free_mem_17069 = mem_17069;
    futhark_mc_task_18491_.free_bytes_17076 = bytes_17076;
    futhark_mc_task_18491_.free_bytes_17079 = bytes_17079;
    futhark_mc_task_18491_.free_mem_17143 = mem_17143.mem;
    #if ISPC
    
    uniform struct futhark_mc_task_18491 aos_18663[programCount];
    
    aos_18663[programIndex] = futhark_mc_task_18491_;
    foreach_active (i)
    if (err == 0)
        err = futhark_mc_schedule_shim_18662(ctx, &aos_18663[i], extract(n_12333, i));
    if (err != 0)
        unmasked { return err; }
    #else
    err = futhark_mc_schedule_shim_18662(ctx, &futhark_mc_task_18491_, n_12333);
    if (err != 0)
        goto cleanup;
    #endif
    if (memblock_set(ctx, &mem_out_17144, &mem_17143, "mem_17143") != 0)
>>>>>>> d23c9a2 (ispc)
        return 1;
<<<<<<< HEAD
    if (memblock_set_device(ctx, &mem_out_20349, &mem_20260, "mem_20260") != 0)
        return 1;
    (*mem_out_p_21040).references = NULL;
    if (memblock_set_device(ctx, &*mem_out_p_21040, &mem_out_20349, "mem_out_20349") != 0)
||||||| parent of d23c9a2 (ispc)
    if (memblock_set_device(ctx, &mem_out_20330, &mem_20241, "mem_20241") != 0)
        return 1;
    (*mem_out_p_21021).references = NULL;
    if (memblock_set_device(ctx, &*mem_out_p_21021, &mem_out_20330, "mem_out_20330") != 0)
=======
    (*mem_out_p_18427).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_18427, &mem_out_17144, "mem_out_17144") != 0)
>>>>>>> d23c9a2 (ispc)
        return 1;
    
  cleanup:
    {
<<<<<<< HEAD
        if (memblock_unref_device(ctx, &mem_20260, "mem_20260") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20098, "mem_20098") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20084, "mem_20084") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_20923, "segred_tmp_mem_20923") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_20921, "segred_tmp_mem_20921") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_20919, "segred_tmp_mem_20919") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20078, "mem_20078") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20074, "mem_20074") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20070, "mem_20070") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19980, "mem_19980") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19975, "mem_19975") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19970, "mem_19970") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_20777, "segred_tmp_mem_20777") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_20775, "segred_tmp_mem_20775") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_20773, "segred_tmp_mem_20773") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19964, "mem_19964") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19959, "mem_19959") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19954, "mem_19954") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20053, "mem_20053") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20048, "mem_20048") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20043, "mem_20043") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20061, "ext_mem_20061") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20063, "ext_mem_20063") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20065, "ext_mem_20065") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20093, "mem_20093") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20103, "ext_mem_20103") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20122, "mem_20122") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20117, "mem_20117") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20111, "mem_20111") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20107, "mem_20107") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20126, "ext_mem_20126") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20174, "mem_20174") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20177, "ext_mem_20177") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20251, "mem_20251") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20316, "color_20316") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20315, "color_20315") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20314, "color_20314") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20313, "color_20313") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20246, "mem_20246") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20181, "mem_20181") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20255, "ext_mem_20255") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_20349, "mem_out_20349") != 0)
||||||| parent of d23c9a2 (ispc)
        if (memblock_unref_device(ctx, &mem_20241, "mem_20241") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20079, "mem_20079") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20065, "mem_20065") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_20904, "segred_tmp_mem_20904") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_20902, "segred_tmp_mem_20902") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_20900, "segred_tmp_mem_20900") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20059, "mem_20059") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20055, "mem_20055") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20051, "mem_20051") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19961, "mem_19961") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19956, "mem_19956") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19951, "mem_19951") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_20758, "segred_tmp_mem_20758") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_20756, "segred_tmp_mem_20756") != 0)
            return 1;
        if (memblock_unref_device(ctx, &segred_tmp_mem_20754, "segred_tmp_mem_20754") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19945, "mem_19945") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19940, "mem_19940") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19935, "mem_19935") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20034, "mem_20034") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20029, "mem_20029") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20024, "mem_20024") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20042, "ext_mem_20042") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20044, "ext_mem_20044") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20046, "ext_mem_20046") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20074, "mem_20074") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20084, "ext_mem_20084") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20103, "mem_20103") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20098, "mem_20098") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20092, "mem_20092") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20088, "mem_20088") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20107, "ext_mem_20107") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20155, "mem_20155") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20158, "ext_mem_20158") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20232, "mem_20232") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20297, "color_20297") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20296, "color_20296") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20295, "color_20295") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20294, "color_20294") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20227, "mem_20227") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20162, "mem_20162") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20236, "ext_mem_20236") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_20330, "mem_out_20330") != 0)
=======
        free(mem_17061);
        free(mem_17065);
        free(mem_17069);
        if (memblock_unref(ctx, &mem_17143, "mem_17143") != 0)
            return 1;
        if (memblock_unref(ctx, &mem_out_17144, "mem_out_17144") != 0)
>>>>>>> d23c9a2 (ispc)
            return 1;
    }
    return err;
}
<<<<<<< HEAD
static int futrts_entry_matmul(struct futhark_context *ctx, struct memblock_device *mem_out_p_21098, struct memblock_device xss_mem_19945, struct memblock_device yss_mem_19946, int64_t nz2080U_9828, int64_t pz2081U_9829, int64_t mz2082U_9830)
||||||| parent of d23c9a2 (ispc)
static int futrts_entry_matmul(struct futhark_context *ctx, struct memblock_device *mem_out_p_21079, struct memblock_device xss_mem_19926, struct memblock_device yss_mem_19927, int64_t nz2080U_9823, int64_t pz2081U_9824, int64_t mz2082U_9825)
=======
static int futrts_entry_matmul(struct futhark_context *ctx, struct memblock *mem_out_p_18664, struct memblock xss_mem_17006, struct memblock yss_mem_17007, int64_t nz2080U_9823, int64_t pz2081U_9824, int64_t mz2082U_9825)
>>>>>>> d23c9a2 (ispc)
{
    (void) ctx;
    
    int err = 0;
<<<<<<< HEAD
    struct memblock_device segred_tmp_mem_20504;
||||||| parent of d23c9a2 (ispc)
    struct memblock_device segred_tmp_mem_20485;
=======
    struct memblock mem_17027;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    segred_tmp_mem_20504.references = NULL;
||||||| parent of d23c9a2 (ispc)
    segred_tmp_mem_20485.references = NULL;
=======
    mem_17027.references = NULL;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    struct memblock_device mem_19954;
||||||| parent of d23c9a2 (ispc)
    struct memblock_device mem_19935;
=======
    struct memblock mem_out_17144;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    mem_19954.references = NULL;
||||||| parent of d23c9a2 (ispc)
    mem_19935.references = NULL;
=======
    mem_out_17144.references = NULL;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    struct memblock_device mem_19949;
||||||| parent of d23c9a2 (ispc)
    struct memblock_device mem_19930;
=======
    int64_t binop_x_17024 = nz2080U_9823 * mz2082U_9825;
    int64_t binop_y_17025 = (int64_t) 4 * binop_x_17024;
    int64_t bytes_17026 = smax64((int64_t) 0, binop_y_17025);
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    mem_19949.references = NULL;
    
    struct memblock_device mem_20063;
    
    mem_20063.references = NULL;
    
    struct memblock_device ext_mem_20064;
    
    ext_mem_20064.references = NULL;
    
    struct memblock_device mem_20088;
    
    mem_20088.references = NULL;
    
    struct memblock_device color_20313;
    
    color_20313.references = NULL;
    
    struct memblock_device mem_20084;
    
    mem_20084.references = NULL;
    
    struct memblock_device mem_20067;
    
    mem_20067.references = NULL;
    
    struct memblock_device ext_mem_20090;
    
    ext_mem_20090.references = NULL;
    
    struct memblock_device mem_out_20349;
    
    mem_out_20349.references = NULL;
    
    bool suff_outer_par_15929;
    
    suff_outer_par_15929 = *ctx->tuning_params.matmulzisuff_outer_par_0 <= nz2080U_9828;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "matmul.suff_outer_par_0", (long) nz2080U_9828, suff_outer_par_15929 ? "true" : "false");
    
    int64_t comparatee_16040 = nz2080U_9828 * mz2082U_9830;
    bool suff_outer_par_16041;
    
    suff_outer_par_16041 = *ctx->tuning_params.matmulzisuff_outer_par_1 <= comparatee_16040;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "matmul.suff_outer_par_1", (long) comparatee_16040, suff_outer_par_16041 ? "true" : "false");
    
    int64_t nest_sizze_16058 = pz2081U_9829 * comparatee_16040;
    int64_t segred_group_sizze_16059;
    
    segred_group_sizze_16059 = *ctx->tuning_params.matmulzisegred_group_sizze_15996;
    
    int64_t num_groups_16060;
    int32_t max_num_groups_20350;
    
    max_num_groups_20350 = *ctx->tuning_params.matmulzisegred_num_groups_15998;
    num_groups_16060 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_16058, segred_group_sizze_16059), sext_i32_i64(max_num_groups_20350))));
    
    int64_t segmap_group_sizze_15951;
    
    segmap_group_sizze_15951 = *ctx->tuning_params.matmulzisegmap_group_sizze_15933;
    
    int64_t num_groups_15952;
    int32_t max_num_groups_20351;
    
    max_num_groups_20351 = *ctx->tuning_params.matmulzisegmap_num_groups_15935;
    num_groups_15952 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nz2080U_9828, segmap_group_sizze_15951), sext_i32_i64(max_num_groups_20351))));
    
    int64_t Ty_19209;
    
    Ty_19209 = *ctx->tuning_params.matmulziTy_19206;
    
    int64_t Ry_19210;
    
    Ry_19210 = *ctx->tuning_params.matmulziRy_19208;
    
    int64_t Tx_19211;
    
    Tx_19211 = *ctx->tuning_params.matmulziTx_19205;
    
    int64_t Rx_19212;
    
    Rx_19212 = *ctx->tuning_params.matmulziRx_19207;
    
    int64_t Tk_19213;
    
    Tk_19213 = *ctx->tuning_params.matmulziTk_19204;
    
    int64_t TxRx_19216 = Tx_19211 * Rx_19212;
    int64_t TyRy_19217 = Ty_19209 * Ry_19210;
    int64_t binop_x_19219 = Tk_19213 * TyRy_19217;
    int64_t binop_y_19221 = smax64(Tk_19213, TyRy_19217);
    int64_t a_loc_szz_19222 = binop_x_19219 + binop_y_19221;
    int64_t binop_x_19224 = Tk_19213 * TxRx_19216;
    int64_t b_loc_szz_19227 = binop_y_19221 + binop_x_19224;
    int64_t group_sizze_19231 = Ty_19209 * Tx_19211;
    int64_t binop_y_19390 = (int64_t) 1 + Tk_19213;
    int64_t binop_y_19401 = (int64_t) 1 + TxRx_19216;
    bool loop_nonempty_19888 = slt64((int64_t) 0, Rx_19212);
    int64_t binop_x_19947 = pz2081U_9829 * mz2082U_9830;
    int64_t bytes_19948 = (int64_t) 4 * binop_x_19947;
    int64_t binop_y_19952 = (int64_t) 4 * comparatee_16040;
    int64_t bytes_19953 = smax64((int64_t) 0, binop_y_19952);
    int64_t full_tiles_19262 = squot_safe64(pz2081U_9829, Tk_19213);
    int64_t kk_19460 = Tk_19213 * full_tiles_19262;
    int64_t binop_x_19965 = Ry_19210 * group_sizze_19231;
    int64_t binop_x_19966 = Rx_19212 * binop_x_19965;
    int64_t bytes_19967 = (int64_t) 4 * binop_x_19966;
    int64_t binop_x_19957 = Ry_19210 * Rx_19212;
    int64_t bytes_19958 = (int64_t) 4 * binop_x_19957;
    int64_t binop_y_19969 = (int64_t) 4 * a_loc_szz_19222;
    int64_t bytes_19970 = smax64((int64_t) 0, binop_y_19969);
    int64_t binop_y_19972 = (int64_t) 4 * b_loc_szz_19227;
    int64_t bytes_19973 = smax64((int64_t) 0, binop_y_19972);
    int64_t binop_x_19999 = Rx_19212 * group_sizze_19231;
    int64_t bytes_20000 = (int64_t) 4 * binop_x_19999;
    int64_t bytes_19990 = (int64_t) 4 * Rx_19212;
    int64_t binop_x_20262 = (int64_t) 4 * Ty_19209;
    int64_t binop_x_20263 = Tx_19211 * binop_x_20262;
    int64_t binop_x_20264 = Ry_19210 * binop_x_20263;
    int64_t sizze_20265 = Rx_19212 * binop_x_20264;
    int64_t binop_x_20065 = nz2080U_9828 * pz2081U_9829;
    int64_t bytes_20066 = (int64_t) 4 * binop_x_20065;
    int64_t binop_y_20069 = (int64_t) 4 * mz2082U_9830;
    int64_t bytes_20070 = smax64((int64_t) 0, binop_y_20069);
    int64_t binop_x_20297 = (int64_t) 4 * Ty_19209;
    int64_t binop_x_20298 = Tx_19211 * binop_x_20297;
    int64_t binop_x_20299 = Ry_19210 * binop_x_20298;
    int64_t num_bytes_20300 = Rx_19212 * binop_x_20299;
    int64_t binop_x_20305 = (int64_t) 4 * Ty_19209;
    int64_t binop_x_20306 = Tx_19211 * binop_x_20305;
    int64_t binop_x_20307 = Ry_19210 * binop_x_20306;
    int64_t num_bytes_20308 = Rx_19212 * binop_x_20307;
    int64_t num_threads_20332 = segmap_group_sizze_15951 * num_groups_15952;
    int64_t total_sizze_20333 = bytes_20070 * num_threads_20332;
    int32_t local_memory_capacity_20544;
    
    local_memory_capacity_20544 = ctx->opencl.max_local_memory;
    if (suff_outer_par_15929 == 1 && sle64((int64_t) 0, sext_i32_i64(local_memory_capacity_20544))) {
        if (memblock_alloc_device(ctx, &mem_20067, bytes_20066, "mem_20067")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhgpu_map_transpose_i32(ctx, mem_20067, (int64_t) 0, xss_mem_19945, (int64_t) 0, (int64_t) 1, pz2081U_9829, nz2080U_9828) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_20084, binop_y_19952, "mem_20084")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &color_20313, total_sizze_20333, "color_20313")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_groups_20352 = sext_i64_i32(sdiv_up64(nz2080U_9828, segmap_group_sizze_15951));
        
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15956, 1, sizeof(nz2080U_9828), &nz2080U_9828));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15956, 2, sizeof(pz2081U_9829), &pz2081U_9829));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15956, 3, sizeof(mz2082U_9830), &mz2082U_9830));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15956, 4, sizeof(num_groups_15952), &num_groups_15952));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15956, 5, sizeof(num_threads_20332), &num_threads_20332));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15956, 6, sizeof(virt_num_groups_20352), &virt_num_groups_20352));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15956, 7, sizeof(yss_mem_19946.mem), &yss_mem_19946.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15956, 8, sizeof(mem_20067.mem), &mem_20067.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15956, 9, sizeof(mem_20084.mem), &mem_20084.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15956, 10, sizeof(color_20313.mem), &color_20313.mem));
        if (1 * ((size_t) num_groups_15952 * (size_t) segmap_group_sizze_15951) != 0) {
            const size_t global_work_sizze_21099[1] = {(size_t) num_groups_15952 * (size_t) segmap_group_sizze_15951};
            const size_t local_work_sizze_21103[1] = {(size_t) segmap_group_sizze_15951};
            int64_t time_start_21100 = 0, time_end_21101 = 0;
            
            if (ctx->debugging) {
                fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "matmul.segmap_15956", global_work_sizze_21099[0], local_work_sizze_21103[0], (int) 0);
                time_start_21100 = get_wall_time();
            }
            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->matmulzisegmap_15956, 1, NULL, global_work_sizze_21099, local_work_sizze_21103, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->matmulzisegmap_15956_runs, &ctx->matmulzisegmap_15956_total_runtime)));
            if (ctx->debugging) {
                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                time_end_21101 = get_wall_time();
                
                long time_diff_21102 = time_end_21101 - time_start_21100;
                
                fprintf(ctx->log, "kernel %s runtime: %ldus\n", "matmul.segmap_15956", time_diff_21102);
            }
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_20067, "mem_20067") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20313, "color_20313") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_20088, bytes_19953, "mem_20088")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhgpu_map_transpose_i32(ctx, mem_20088, (int64_t) 0, mem_20084, (int64_t) 0, (int64_t) 1, nz2080U_9828, mz2082U_9830) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_unref_device(ctx, &mem_20084, "mem_20084") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_20090, &mem_20088, "mem_20088") != 0)
            return 1;
    } else {
        int32_t local_memory_capacity_20543;
        
        local_memory_capacity_20543 = ctx->opencl.max_local_memory;
        if (suff_outer_par_16041 == 1 && sle64(bytes_19973 + srem64((int64_t) 8 - srem64(bytes_19973, (int64_t) 8), (int64_t) 8) + (bytes_19970 + srem64((int64_t) 8 - srem64(bytes_19970, (int64_t) 8), (int64_t) 8)), sext_i32_i64(local_memory_capacity_20543))) {
            int64_t tk_div_tx_19214 = sdiv_up64(Tk_19213, Tx_19211);
            int64_t gridDim_x_19228 = sdiv_up64(mz2082U_9830, TxRx_19216);
            int64_t gridDim_y_19229 = sdiv_up64(nz2080U_9828, TyRy_19217);
            int64_t grid_sizze_19230 = gridDim_x_19228 * gridDim_y_19229;
            
            if (memblock_alloc_device(ctx, &mem_20063, bytes_19953, "mem_20063")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t num_chunks_20369 = sext_i64_i32(sdiv_up64(Ty_19209 * Tx_19211, group_sizze_19231));
            int32_t num_chunks_20370 = sext_i64_i32(sdiv_up64(Tx_19211 * Tx_19211, group_sizze_19231));
            int32_t virt_num_groups_20371 = sext_i64_i32(gridDim_y_19229 * gridDim_x_19228);
            
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19234, 1, (size_t) bytes_19970, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19234, 2, (size_t) bytes_19973, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19234, 3, sizeof(nz2080U_9828), &nz2080U_9828));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19234, 4, sizeof(pz2081U_9829), &pz2081U_9829));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19234, 5, sizeof(mz2082U_9830), &mz2082U_9830));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19234, 6, sizeof(gridDim_x_19228), &gridDim_x_19228));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19234, 7, sizeof(gridDim_y_19229), &gridDim_y_19229));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19234, 8, sizeof(full_tiles_19262), &full_tiles_19262));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19234, 9, sizeof(kk_19460), &kk_19460));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19234, 10, sizeof(xss_mem_19945.mem), &xss_mem_19945.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19234, 11, sizeof(yss_mem_19946.mem), &yss_mem_19946.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19234, 12, sizeof(mem_20063.mem), &mem_20063.mem));
            if (1 * ((size_t) grid_sizze_19230 * (size_t) group_sizze_19231) != 0) {
                const size_t global_work_sizze_21104[1] = {(size_t) grid_sizze_19230 * (size_t) group_sizze_19231};
                const size_t local_work_sizze_21108[1] = {(size_t) group_sizze_19231};
                int64_t time_start_21105 = 0, time_end_21106 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "matmul.segmap_intragroup_19234", global_work_sizze_21104[0], local_work_sizze_21108[0], (int) (0 + bytes_19970 + bytes_19973));
                    time_start_21105 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->matmulzisegmap_intragroup_19234, 1, NULL, global_work_sizze_21104, local_work_sizze_21108, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->matmulzisegmap_intragroup_19234_runs, &ctx->matmulzisegmap_intragroup_19234_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21106 = get_wall_time();
                    
                    long time_diff_21107 = time_end_21106 - time_start_21105;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "matmul.segmap_intragroup_19234", time_diff_21107);
                }
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &ext_mem_20064, &mem_20063, "mem_20063") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_19949, bytes_19948, "mem_19949")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhgpu_map_transpose_i32(ctx, mem_19949, (int64_t) 0, yss_mem_19946, (int64_t) 0, (int64_t) 1, mz2082U_9830, pz2081U_9829) != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_19954, bytes_19953, "mem_19954")) {
                err = 1;
                goto cleanup;
            }
            if (slt64(pz2081U_9829 * (int64_t) 2, segred_group_sizze_16059)) {
                int64_t segment_sizze_nonzzero_20469 = smax64((int64_t) 1, pz2081U_9829);
                int64_t num_threads_20470 = num_groups_16060 * segred_group_sizze_16059;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (nz2080U_9828 * mz2082U_9830), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) pz2081U_9829, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segments_per_group", (long long) squot64(segred_group_sizze_16059, segment_sizze_nonzzero_20469), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "required_groups", (long long) sext_i64_i32(sdiv_up64(nz2080U_9828 * mz2082U_9830, squot64(segred_group_sizze_16059, segment_sizze_nonzzero_20469))), '\n');
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16066, 1, (size_t) ((int64_t) 4 * segred_group_sizze_16059), NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16066, 2, sizeof(nz2080U_9828), &nz2080U_9828));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16066, 3, sizeof(pz2081U_9829), &pz2081U_9829));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16066, 4, sizeof(mz2082U_9830), &mz2082U_9830));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16066, 5, sizeof(num_groups_16060), &num_groups_16060));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16066, 6, sizeof(segment_sizze_nonzzero_20469), &segment_sizze_nonzzero_20469));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16066, 7, sizeof(xss_mem_19945.mem), &xss_mem_19945.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16066, 8, sizeof(mem_19949.mem), &mem_19949.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16066, 9, sizeof(mem_19954.mem), &mem_19954.mem));
                if (1 * ((size_t) num_groups_16060 * (size_t) segred_group_sizze_16059) != 0) {
                    const size_t global_work_sizze_21109[1] = {(size_t) num_groups_16060 * (size_t) segred_group_sizze_16059};
                    const size_t local_work_sizze_21113[1] = {(size_t) segred_group_sizze_16059};
                    int64_t time_start_21110 = 0, time_end_21111 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "matmul.segred_small_16066", global_work_sizze_21109[0], local_work_sizze_21113[0], (int) (0 + (int64_t) 4 * segred_group_sizze_16059));
                        time_start_21110 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->matmulzisegred_small_16066, 1, NULL, global_work_sizze_21109, local_work_sizze_21113, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->matmulzisegred_small_16066_runs, &ctx->matmulzisegred_small_16066_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_21111 = get_wall_time();
                        
                        long time_diff_21112 = time_end_21111 - time_start_21110;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n", "matmul.segred_small_16066", time_diff_21112);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
            } else {
                int64_t groups_per_segment_20499 = sdiv_up64(num_groups_16060, smax64((int64_t) 1, nz2080U_9828 * mz2082U_9830));
                int64_t elements_per_thread_20500 = sdiv_up64(pz2081U_9829, segred_group_sizze_16059 * groups_per_segment_20499);
                int64_t virt_num_groups_20501 = groups_per_segment_20499 * (nz2080U_9828 * mz2082U_9830);
                int64_t num_threads_20502 = num_groups_16060 * segred_group_sizze_16059;
                int64_t threads_per_segment_20503 = groups_per_segment_20499 * segred_group_sizze_16059;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (nz2080U_9828 * mz2082U_9830), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) pz2081U_9829, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "virt_num_groups", (long long) virt_num_groups_20501, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_groups", (long long) num_groups_16060, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "group_size", (long long) segred_group_sizze_16059, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "elems_per_thread", (long long) elements_per_thread_20500, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "groups_per_segment", (long long) groups_per_segment_20499, '\n');
                if (memblock_alloc_device(ctx, &segred_tmp_mem_20504, (int64_t) 4 * virt_num_groups_20501, "segred_tmp_mem_20504")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device matmulzicounter_mem_20506 = ctx->matmulzicounter_mem_20506;
                
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 1, (size_t) 1, NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 2, (size_t) ((int64_t) 4 * segred_group_sizze_16059), NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 3, sizeof(nz2080U_9828), &nz2080U_9828));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 4, sizeof(pz2081U_9829), &pz2081U_9829));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 5, sizeof(mz2082U_9830), &mz2082U_9830));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 6, sizeof(num_groups_16060), &num_groups_16060));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 7, sizeof(groups_per_segment_20499), &groups_per_segment_20499));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 8, sizeof(elements_per_thread_20500), &elements_per_thread_20500));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 9, sizeof(virt_num_groups_20501), &virt_num_groups_20501));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 10, sizeof(threads_per_segment_20503), &threads_per_segment_20503));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 11, sizeof(xss_mem_19945.mem), &xss_mem_19945.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 12, sizeof(mem_19949.mem), &mem_19949.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 13, sizeof(mem_19954.mem), &mem_19954.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 14, sizeof(segred_tmp_mem_20504.mem), &segred_tmp_mem_20504.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16066, 15, sizeof(matmulzicounter_mem_20506.mem), &matmulzicounter_mem_20506.mem));
                if (1 * ((size_t) num_groups_16060 * (size_t) segred_group_sizze_16059) != 0) {
                    const size_t global_work_sizze_21115[1] = {(size_t) num_groups_16060 * (size_t) segred_group_sizze_16059};
                    const size_t local_work_sizze_21119[1] = {(size_t) segred_group_sizze_16059};
                    int64_t time_start_21116 = 0, time_end_21117 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "matmul.segred_large_16066", global_work_sizze_21115[0], local_work_sizze_21119[0], (int) (0 + 1 + (int64_t) 4 * segred_group_sizze_16059));
                        time_start_21116 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->matmulzisegred_large_16066, 1, NULL, global_work_sizze_21115, local_work_sizze_21119, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->matmulzisegred_large_16066_runs, &ctx->matmulzisegred_large_16066_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_21117 = get_wall_time();
                        
                        long time_diff_21118 = time_end_21117 - time_start_21116;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n", "matmul.segred_large_16066", time_diff_21118);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
            }
            if (memblock_unref_device(ctx, &mem_19949, "mem_19949") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_20064, &mem_19954, "mem_19954") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_20090, &ext_mem_20064, "ext_mem_20064") != 0)
            return 1;
||||||| parent of d23c9a2 (ispc)
    mem_19930.references = NULL;
    
    struct memblock_device mem_20044;
    
    mem_20044.references = NULL;
    
    struct memblock_device ext_mem_20045;
    
    ext_mem_20045.references = NULL;
    
    struct memblock_device mem_20069;
    
    mem_20069.references = NULL;
    
    struct memblock_device color_20294;
    
    color_20294.references = NULL;
    
    struct memblock_device mem_20065;
    
    mem_20065.references = NULL;
    
    struct memblock_device mem_20048;
    
    mem_20048.references = NULL;
    
    struct memblock_device ext_mem_20071;
    
    ext_mem_20071.references = NULL;
    
    struct memblock_device mem_out_20330;
    
    mem_out_20330.references = NULL;
    
    bool suff_outer_par_15912;
    
    suff_outer_par_15912 = *ctx->tuning_params.matmulzisuff_outer_par_0 <= nz2080U_9823;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "matmul.suff_outer_par_0", (long) nz2080U_9823, suff_outer_par_15912 ? "true" : "false");
    
    int64_t comparatee_16023 = nz2080U_9823 * mz2082U_9825;
    bool suff_outer_par_16024;
    
    suff_outer_par_16024 = *ctx->tuning_params.matmulzisuff_outer_par_1 <= comparatee_16023;
    if (ctx->logging)
        fprintf(ctx->log, "Compared %s <= %ld: %s.\n", "matmul.suff_outer_par_1", (long) comparatee_16023, suff_outer_par_16024 ? "true" : "false");
    
    int64_t nest_sizze_16041 = pz2081U_9824 * comparatee_16023;
    int64_t segred_group_sizze_16042;
    
    segred_group_sizze_16042 = *ctx->tuning_params.matmulzisegred_group_sizze_15979;
    
    int64_t num_groups_16043;
    int32_t max_num_groups_20331;
    
    max_num_groups_20331 = *ctx->tuning_params.matmulzisegred_num_groups_15981;
    num_groups_16043 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nest_sizze_16041, segred_group_sizze_16042), sext_i32_i64(max_num_groups_20331))));
    
    int64_t segmap_group_sizze_15934;
    
    segmap_group_sizze_15934 = *ctx->tuning_params.matmulzisegmap_group_sizze_15916;
    
    int64_t num_groups_15935;
    int32_t max_num_groups_20332;
    
    max_num_groups_20332 = *ctx->tuning_params.matmulzisegmap_num_groups_15918;
    num_groups_15935 = sext_i64_i32(smax64((int64_t) 1, smin64(sdiv_up64(nz2080U_9823, segmap_group_sizze_15934), sext_i32_i64(max_num_groups_20332))));
    
    int64_t Ty_19190;
    
    Ty_19190 = *ctx->tuning_params.matmulziTy_19187;
    
    int64_t Ry_19191;
    
    Ry_19191 = *ctx->tuning_params.matmulziRy_19189;
    
    int64_t Tx_19192;
    
    Tx_19192 = *ctx->tuning_params.matmulziTx_19186;
    
    int64_t Rx_19193;
    
    Rx_19193 = *ctx->tuning_params.matmulziRx_19188;
    
    int64_t Tk_19194;
    
    Tk_19194 = *ctx->tuning_params.matmulziTk_19185;
    
    int64_t TxRx_19197 = Tx_19192 * Rx_19193;
    int64_t TyRy_19198 = Ty_19190 * Ry_19191;
    int64_t binop_x_19200 = Tk_19194 * TyRy_19198;
    int64_t binop_y_19202 = smax64(Tk_19194, TyRy_19198);
    int64_t a_loc_szz_19203 = binop_x_19200 + binop_y_19202;
    int64_t binop_x_19205 = Tk_19194 * TxRx_19197;
    int64_t b_loc_szz_19208 = binop_y_19202 + binop_x_19205;
    int64_t group_sizze_19212 = Ty_19190 * Tx_19192;
    int64_t binop_y_19371 = (int64_t) 1 + Tk_19194;
    int64_t binop_y_19382 = (int64_t) 1 + TxRx_19197;
    bool loop_nonempty_19869 = slt64((int64_t) 0, Rx_19193);
    int64_t binop_x_19928 = pz2081U_9824 * mz2082U_9825;
    int64_t bytes_19929 = (int64_t) 4 * binop_x_19928;
    int64_t binop_y_19933 = (int64_t) 4 * comparatee_16023;
    int64_t bytes_19934 = smax64((int64_t) 0, binop_y_19933);
    int64_t full_tiles_19243 = squot_safe64(pz2081U_9824, Tk_19194);
    int64_t kk_19441 = Tk_19194 * full_tiles_19243;
    int64_t binop_x_19946 = Ry_19191 * group_sizze_19212;
    int64_t binop_x_19947 = Rx_19193 * binop_x_19946;
    int64_t bytes_19948 = (int64_t) 4 * binop_x_19947;
    int64_t binop_x_19938 = Ry_19191 * Rx_19193;
    int64_t bytes_19939 = (int64_t) 4 * binop_x_19938;
    int64_t binop_y_19950 = (int64_t) 4 * a_loc_szz_19203;
    int64_t bytes_19951 = smax64((int64_t) 0, binop_y_19950);
    int64_t binop_y_19953 = (int64_t) 4 * b_loc_szz_19208;
    int64_t bytes_19954 = smax64((int64_t) 0, binop_y_19953);
    int64_t binop_x_19980 = Rx_19193 * group_sizze_19212;
    int64_t bytes_19981 = (int64_t) 4 * binop_x_19980;
    int64_t bytes_19971 = (int64_t) 4 * Rx_19193;
    int64_t binop_x_20243 = (int64_t) 4 * Ty_19190;
    int64_t binop_x_20244 = Tx_19192 * binop_x_20243;
    int64_t binop_x_20245 = Ry_19191 * binop_x_20244;
    int64_t sizze_20246 = Rx_19193 * binop_x_20245;
    int64_t binop_x_20046 = nz2080U_9823 * pz2081U_9824;
    int64_t bytes_20047 = (int64_t) 4 * binop_x_20046;
    int64_t binop_y_20050 = (int64_t) 4 * mz2082U_9825;
    int64_t bytes_20051 = smax64((int64_t) 0, binop_y_20050);
    int64_t binop_x_20278 = (int64_t) 4 * Ty_19190;
    int64_t binop_x_20279 = Tx_19192 * binop_x_20278;
    int64_t binop_x_20280 = Ry_19191 * binop_x_20279;
    int64_t num_bytes_20281 = Rx_19193 * binop_x_20280;
    int64_t binop_x_20286 = (int64_t) 4 * Ty_19190;
    int64_t binop_x_20287 = Tx_19192 * binop_x_20286;
    int64_t binop_x_20288 = Ry_19191 * binop_x_20287;
    int64_t num_bytes_20289 = Rx_19193 * binop_x_20288;
    int64_t num_threads_20313 = segmap_group_sizze_15934 * num_groups_15935;
    int64_t total_sizze_20314 = bytes_20051 * num_threads_20313;
    int32_t local_memory_capacity_20525;
    
    local_memory_capacity_20525 = ctx->opencl.max_local_memory;
    if (suff_outer_par_15912 == 1 && sle64((int64_t) 0, sext_i32_i64(local_memory_capacity_20525))) {
        if (memblock_alloc_device(ctx, &mem_20048, bytes_20047, "mem_20048")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhgpu_map_transpose_i32(ctx, mem_20048, (int64_t) 0, xss_mem_19926, (int64_t) 0, (int64_t) 1, pz2081U_9824, nz2080U_9823) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &mem_20065, binop_y_19933, "mem_20065")) {
            err = 1;
            goto cleanup;
        }
        if (memblock_alloc_device(ctx, &color_20294, total_sizze_20314, "color_20294")) {
            err = 1;
            goto cleanup;
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "\n# SegMap");
        
        int32_t virt_num_groups_20333 = sext_i64_i32(sdiv_up64(nz2080U_9823, segmap_group_sizze_15934));
        
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15939, 1, sizeof(nz2080U_9823), &nz2080U_9823));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15939, 2, sizeof(pz2081U_9824), &pz2081U_9824));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15939, 3, sizeof(mz2082U_9825), &mz2082U_9825));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15939, 4, sizeof(num_groups_15935), &num_groups_15935));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15939, 5, sizeof(num_threads_20313), &num_threads_20313));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15939, 6, sizeof(virt_num_groups_20333), &virt_num_groups_20333));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15939, 7, sizeof(yss_mem_19927.mem), &yss_mem_19927.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15939, 8, sizeof(mem_20048.mem), &mem_20048.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15939, 9, sizeof(mem_20065.mem), &mem_20065.mem));
        OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_15939, 10, sizeof(color_20294.mem), &color_20294.mem));
        if (1 * ((size_t) num_groups_15935 * (size_t) segmap_group_sizze_15934) != 0) {
            const size_t global_work_sizze_21080[1] = {(size_t) num_groups_15935 * (size_t) segmap_group_sizze_15934};
            const size_t local_work_sizze_21084[1] = {(size_t) segmap_group_sizze_15934};
            int64_t time_start_21081 = 0, time_end_21082 = 0;
            
            if (ctx->debugging) {
                fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "matmul.segmap_15939", global_work_sizze_21080[0], local_work_sizze_21084[0], (int) 0);
                time_start_21081 = get_wall_time();
            }
            OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->matmulzisegmap_15939, 1, NULL, global_work_sizze_21080, local_work_sizze_21084, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->matmulzisegmap_15939_runs, &ctx->matmulzisegmap_15939_total_runtime)));
            if (ctx->debugging) {
                OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                time_end_21082 = get_wall_time();
                
                long time_diff_21083 = time_end_21082 - time_start_21081;
                
                fprintf(ctx->log, "kernel %s runtime: %ldus\n", "matmul.segmap_15939", time_diff_21083);
            }
        }
        if (ctx->debugging)
            fprintf(ctx->log, "%s\n", "");
        if (memblock_unref_device(ctx, &mem_20048, "mem_20048") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20294, "color_20294") != 0)
            return 1;
        if (memblock_alloc_device(ctx, &mem_20069, bytes_19934, "mem_20069")) {
            err = 1;
            goto cleanup;
        }
        if (futrts_builtinzhgpu_map_transpose_i32(ctx, mem_20069, (int64_t) 0, mem_20065, (int64_t) 0, (int64_t) 1, nz2080U_9823, mz2082U_9825) != 0) {
            err = 1;
            goto cleanup;
        }
        if (memblock_unref_device(ctx, &mem_20065, "mem_20065") != 0)
            return 1;
        if (memblock_set_device(ctx, &ext_mem_20071, &mem_20069, "mem_20069") != 0)
            return 1;
    } else {
        int32_t local_memory_capacity_20524;
        
        local_memory_capacity_20524 = ctx->opencl.max_local_memory;
        if (suff_outer_par_16024 == 1 && sle64(bytes_19954 + srem64((int64_t) 8 - srem64(bytes_19954, (int64_t) 8), (int64_t) 8) + (bytes_19951 + srem64((int64_t) 8 - srem64(bytes_19951, (int64_t) 8), (int64_t) 8)), sext_i32_i64(local_memory_capacity_20524))) {
            int64_t tk_div_tx_19195 = sdiv_up64(Tk_19194, Tx_19192);
            int64_t gridDim_x_19209 = sdiv_up64(mz2082U_9825, TxRx_19197);
            int64_t gridDim_y_19210 = sdiv_up64(nz2080U_9823, TyRy_19198);
            int64_t grid_sizze_19211 = gridDim_x_19209 * gridDim_y_19210;
            
            if (memblock_alloc_device(ctx, &mem_20044, bytes_19934, "mem_20044")) {
                err = 1;
                goto cleanup;
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "\n# SegMap");
            
            int32_t num_chunks_20350 = sext_i64_i32(sdiv_up64(Ty_19190 * Tx_19192, group_sizze_19212));
            int32_t num_chunks_20351 = sext_i64_i32(sdiv_up64(Tx_19192 * Tx_19192, group_sizze_19212));
            int32_t virt_num_groups_20352 = sext_i64_i32(gridDim_y_19210 * gridDim_x_19209);
            
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19215, 1, (size_t) bytes_19951, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19215, 2, (size_t) bytes_19954, NULL));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19215, 3, sizeof(nz2080U_9823), &nz2080U_9823));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19215, 4, sizeof(pz2081U_9824), &pz2081U_9824));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19215, 5, sizeof(mz2082U_9825), &mz2082U_9825));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19215, 6, sizeof(gridDim_x_19209), &gridDim_x_19209));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19215, 7, sizeof(gridDim_y_19210), &gridDim_y_19210));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19215, 8, sizeof(full_tiles_19243), &full_tiles_19243));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19215, 9, sizeof(kk_19441), &kk_19441));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19215, 10, sizeof(xss_mem_19926.mem), &xss_mem_19926.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19215, 11, sizeof(yss_mem_19927.mem), &yss_mem_19927.mem));
            OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegmap_intragroup_19215, 12, sizeof(mem_20044.mem), &mem_20044.mem));
            if (1 * ((size_t) grid_sizze_19211 * (size_t) group_sizze_19212) != 0) {
                const size_t global_work_sizze_21085[1] = {(size_t) grid_sizze_19211 * (size_t) group_sizze_19212};
                const size_t local_work_sizze_21089[1] = {(size_t) group_sizze_19212};
                int64_t time_start_21086 = 0, time_end_21087 = 0;
                
                if (ctx->debugging) {
                    fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "matmul.segmap_intragroup_19215", global_work_sizze_21085[0], local_work_sizze_21089[0], (int) (0 + bytes_19951 + bytes_19954));
                    time_start_21086 = get_wall_time();
                }
                OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->matmulzisegmap_intragroup_19215, 1, NULL, global_work_sizze_21085, local_work_sizze_21089, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->matmulzisegmap_intragroup_19215_runs, &ctx->matmulzisegmap_intragroup_19215_total_runtime)));
                if (ctx->debugging) {
                    OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                    time_end_21087 = get_wall_time();
                    
                    long time_diff_21088 = time_end_21087 - time_start_21086;
                    
                    fprintf(ctx->log, "kernel %s runtime: %ldus\n", "matmul.segmap_intragroup_19215", time_diff_21088);
                }
            }
            if (ctx->debugging)
                fprintf(ctx->log, "%s\n", "");
            if (memblock_set_device(ctx, &ext_mem_20045, &mem_20044, "mem_20044") != 0)
                return 1;
        } else {
            if (memblock_alloc_device(ctx, &mem_19930, bytes_19929, "mem_19930")) {
                err = 1;
                goto cleanup;
            }
            if (futrts_builtinzhgpu_map_transpose_i32(ctx, mem_19930, (int64_t) 0, yss_mem_19927, (int64_t) 0, (int64_t) 1, mz2082U_9825, pz2081U_9824) != 0) {
                err = 1;
                goto cleanup;
            }
            if (memblock_alloc_device(ctx, &mem_19935, bytes_19934, "mem_19935")) {
                err = 1;
                goto cleanup;
            }
            if (slt64(pz2081U_9824 * (int64_t) 2, segred_group_sizze_16042)) {
                int64_t segment_sizze_nonzzero_20450 = smax64((int64_t) 1, pz2081U_9824);
                int64_t num_threads_20451 = num_groups_16043 * segred_group_sizze_16042;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegRed-small");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (nz2080U_9823 * mz2082U_9825), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) pz2081U_9824, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segments_per_group", (long long) squot64(segred_group_sizze_16042, segment_sizze_nonzzero_20450), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "required_groups", (long long) sext_i64_i32(sdiv_up64(nz2080U_9823 * mz2082U_9825, squot64(segred_group_sizze_16042, segment_sizze_nonzzero_20450))), '\n');
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16049, 1, (size_t) ((int64_t) 4 * segred_group_sizze_16042), NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16049, 2, sizeof(nz2080U_9823), &nz2080U_9823));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16049, 3, sizeof(pz2081U_9824), &pz2081U_9824));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16049, 4, sizeof(mz2082U_9825), &mz2082U_9825));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16049, 5, sizeof(num_groups_16043), &num_groups_16043));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16049, 6, sizeof(segment_sizze_nonzzero_20450), &segment_sizze_nonzzero_20450));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16049, 7, sizeof(xss_mem_19926.mem), &xss_mem_19926.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16049, 8, sizeof(mem_19930.mem), &mem_19930.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_small_16049, 9, sizeof(mem_19935.mem), &mem_19935.mem));
                if (1 * ((size_t) num_groups_16043 * (size_t) segred_group_sizze_16042) != 0) {
                    const size_t global_work_sizze_21090[1] = {(size_t) num_groups_16043 * (size_t) segred_group_sizze_16042};
                    const size_t local_work_sizze_21094[1] = {(size_t) segred_group_sizze_16042};
                    int64_t time_start_21091 = 0, time_end_21092 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "matmul.segred_small_16049", global_work_sizze_21090[0], local_work_sizze_21094[0], (int) (0 + (int64_t) 4 * segred_group_sizze_16042));
                        time_start_21091 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->matmulzisegred_small_16049, 1, NULL, global_work_sizze_21090, local_work_sizze_21094, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->matmulzisegred_small_16049_runs, &ctx->matmulzisegred_small_16049_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_21092 = get_wall_time();
                        
                        long time_diff_21093 = time_end_21092 - time_start_21091;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n", "matmul.segred_small_16049", time_diff_21093);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
            } else {
                int64_t groups_per_segment_20480 = sdiv_up64(num_groups_16043, smax64((int64_t) 1, nz2080U_9823 * mz2082U_9825));
                int64_t elements_per_thread_20481 = sdiv_up64(pz2081U_9824, segred_group_sizze_16042 * groups_per_segment_20480);
                int64_t virt_num_groups_20482 = groups_per_segment_20480 * (nz2080U_9823 * mz2082U_9825);
                int64_t num_threads_20483 = num_groups_16043 * segred_group_sizze_16042;
                int64_t threads_per_segment_20484 = groups_per_segment_20480 * segred_group_sizze_16042;
                
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "\n# SegRed-large");
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_segments", (long long) (nz2080U_9823 * mz2082U_9825), '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "segment_size", (long long) pz2081U_9824, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "virt_num_groups", (long long) virt_num_groups_20482, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "num_groups", (long long) num_groups_16043, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "group_size", (long long) segred_group_sizze_16042, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "elems_per_thread", (long long) elements_per_thread_20481, '\n');
                if (ctx->debugging)
                    fprintf(ctx->log, "%s: %llu%c", "groups_per_segment", (long long) groups_per_segment_20480, '\n');
                if (memblock_alloc_device(ctx, &segred_tmp_mem_20485, (int64_t) 4 * virt_num_groups_20482, "segred_tmp_mem_20485")) {
                    err = 1;
                    goto cleanup;
                }
                
                struct memblock_device matmulzicounter_mem_20487 = ctx->matmulzicounter_mem_20487;
                
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 1, (size_t) 1, NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 2, (size_t) ((int64_t) 4 * segred_group_sizze_16042), NULL));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 3, sizeof(nz2080U_9823), &nz2080U_9823));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 4, sizeof(pz2081U_9824), &pz2081U_9824));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 5, sizeof(mz2082U_9825), &mz2082U_9825));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 6, sizeof(num_groups_16043), &num_groups_16043));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 7, sizeof(groups_per_segment_20480), &groups_per_segment_20480));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 8, sizeof(elements_per_thread_20481), &elements_per_thread_20481));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 9, sizeof(virt_num_groups_20482), &virt_num_groups_20482));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 10, sizeof(threads_per_segment_20484), &threads_per_segment_20484));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 11, sizeof(xss_mem_19926.mem), &xss_mem_19926.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 12, sizeof(mem_19930.mem), &mem_19930.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 13, sizeof(mem_19935.mem), &mem_19935.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 14, sizeof(segred_tmp_mem_20485.mem), &segred_tmp_mem_20485.mem));
                OPENCL_SUCCEED_OR_RETURN(clSetKernelArg(ctx->matmulzisegred_large_16049, 15, sizeof(matmulzicounter_mem_20487.mem), &matmulzicounter_mem_20487.mem));
                if (1 * ((size_t) num_groups_16043 * (size_t) segred_group_sizze_16042) != 0) {
                    const size_t global_work_sizze_21096[1] = {(size_t) num_groups_16043 * (size_t) segred_group_sizze_16042};
                    const size_t local_work_sizze_21100[1] = {(size_t) segred_group_sizze_16042};
                    int64_t time_start_21097 = 0, time_end_21098 = 0;
                    
                    if (ctx->debugging) {
                        fprintf(ctx->log, "Launching %s with global work size [%zu] and local work size [%zu]; local memory: %d bytes.\n", "matmul.segred_large_16049", global_work_sizze_21096[0], local_work_sizze_21100[0], (int) (0 + 1 + (int64_t) 4 * segred_group_sizze_16042));
                        time_start_21097 = get_wall_time();
                    }
                    OPENCL_SUCCEED_OR_RETURN(clEnqueueNDRangeKernel(ctx->opencl.queue, ctx->matmulzisegred_large_16049, 1, NULL, global_work_sizze_21096, local_work_sizze_21100, 0, NULL, ctx->profiling_paused || !ctx->profiling ? NULL : opencl_get_event(&ctx->opencl, &ctx->matmulzisegred_large_16049_runs, &ctx->matmulzisegred_large_16049_total_runtime)));
                    if (ctx->debugging) {
                        OPENCL_SUCCEED_FATAL(clFinish(ctx->opencl.queue));
                        time_end_21098 = get_wall_time();
                        
                        long time_diff_21099 = time_end_21098 - time_start_21097;
                        
                        fprintf(ctx->log, "kernel %s runtime: %ldus\n", "matmul.segred_large_16049", time_diff_21099);
                    }
                }
                if (ctx->debugging)
                    fprintf(ctx->log, "%s\n", "");
            }
            if (memblock_unref_device(ctx, &mem_19930, "mem_19930") != 0)
                return 1;
            if (memblock_set_device(ctx, &ext_mem_20045, &mem_19935, "mem_19935") != 0)
                return 1;
        }
        if (memblock_set_device(ctx, &ext_mem_20071, &ext_mem_20045, "ext_mem_20045") != 0)
            return 1;
=======
    if (memblock_alloc(ctx, &mem_17027, bytes_17026, "mem_17027")) {
        err = 1;
        goto cleanup;
>>>>>>> d23c9a2 (ispc)
    }
<<<<<<< HEAD
    if (memblock_set_device(ctx, &mem_out_20349, &ext_mem_20090, "ext_mem_20090") != 0)
||||||| parent of d23c9a2 (ispc)
    if (memblock_set_device(ctx, &mem_out_20330, &ext_mem_20071, "ext_mem_20071") != 0)
=======
    
    int64_t binop_y_17008 = (int64_t) 4 * mz2082U_9825;
    int64_t bytes_17009 = smax64((int64_t) 0, binop_y_17008);
    int64_t flat_tid_15911 = (int64_t) 0;
    int64_t flat_tid_15933 = (int64_t) 0;
    struct futhark_mc_task_18665 futhark_mc_task_18665_;
    
    futhark_mc_task_18665_.ctx = ctx;
    futhark_mc_task_18665_.free_nz2080U_9823 = nz2080U_9823;
    futhark_mc_task_18665_.free_pz2081U_9824 = pz2081U_9824;
    futhark_mc_task_18665_.free_mz2082U_9825 = mz2082U_9825;
    futhark_mc_task_18665_.free_xss_mem_17006 = xss_mem_17006.mem;
    futhark_mc_task_18665_.free_yss_mem_17007 = yss_mem_17007.mem;
    futhark_mc_task_18665_.free_bytes_17009 = bytes_17009;
    futhark_mc_task_18665_.free_mem_17027 = mem_17027.mem;
    #if ISPC
    
    uniform struct futhark_mc_task_18665 aos_18734[programCount];
    
    aos_18734[programIndex] = futhark_mc_task_18665_;
    foreach_active (i)
    if (err == 0)
        err = futhark_mc_schedule_shim_18733(ctx, &aos_18734[i], extract(nz2080U_9823, i));
    if (err != 0)
        unmasked { return err; }
    #else
    err = futhark_mc_schedule_shim_18733(ctx, &futhark_mc_task_18665_, nz2080U_9823);
    if (err != 0)
        goto cleanup;
    #endif
    if (memblock_set(ctx, &mem_out_17144, &mem_17027, "mem_17027") != 0)
>>>>>>> d23c9a2 (ispc)
        return 1;
<<<<<<< HEAD
    (*mem_out_p_21098).references = NULL;
    if (memblock_set_device(ctx, &*mem_out_p_21098, &mem_out_20349, "mem_out_20349") != 0)
||||||| parent of d23c9a2 (ispc)
    (*mem_out_p_21079).references = NULL;
    if (memblock_set_device(ctx, &*mem_out_p_21079, &mem_out_20330, "mem_out_20330") != 0)
=======
    (*mem_out_p_18664).references = NULL;
    if (memblock_set(ctx, &*mem_out_p_18664, &mem_out_17144, "mem_out_17144") != 0)
>>>>>>> d23c9a2 (ispc)
        return 1;
    
  cleanup:
    {
<<<<<<< HEAD
        if (memblock_unref_device(ctx, &segred_tmp_mem_20504, "segred_tmp_mem_20504") != 0)
||||||| parent of d23c9a2 (ispc)
        if (memblock_unref_device(ctx, &segred_tmp_mem_20485, "segred_tmp_mem_20485") != 0)
=======
        if (memblock_unref(ctx, &mem_17027, "mem_17027") != 0)
>>>>>>> d23c9a2 (ispc)
            return 1;
<<<<<<< HEAD
        if (memblock_unref_device(ctx, &mem_19954, "mem_19954") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19949, "mem_19949") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20063, "mem_20063") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20064, "ext_mem_20064") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20088, "mem_20088") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20313, "color_20313") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20084, "mem_20084") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20067, "mem_20067") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20090, "ext_mem_20090") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_20349, "mem_out_20349") != 0)
||||||| parent of d23c9a2 (ispc)
        if (memblock_unref_device(ctx, &mem_19935, "mem_19935") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_19930, "mem_19930") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20044, "mem_20044") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20045, "ext_mem_20045") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20069, "mem_20069") != 0)
            return 1;
        if (memblock_unref_device(ctx, &color_20294, "color_20294") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20065, "mem_20065") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_20048, "mem_20048") != 0)
            return 1;
        if (memblock_unref_device(ctx, &ext_mem_20071, "ext_mem_20071") != 0)
            return 1;
        if (memblock_unref_device(ctx, &mem_out_20330, "mem_out_20330") != 0)
=======
        if (memblock_unref(ctx, &mem_out_17144, "mem_out_17144") != 0)
>>>>>>> d23c9a2 (ispc)
            return 1;
    }
    return err;
}

int futhark_entry_make_transposed_quotient_codewords_non_opaque(struct futhark_context *ctx, struct futhark_u64_3d **out0, const struct futhark_u64_2d *in0, const struct futhark_u64_3d *in1, const struct futhark_u64_3d *in2, const struct futhark_u64_3d *in3)
{
    int64_t n_12351;
    int64_t m_12352;
    int64_t p_12353;
    int64_t q_12354;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    
<<<<<<< HEAD
    struct memblock_device mem_out_20349;
||||||| parent of d23c9a2 (ispc)
    struct memblock_device mem_out_20330;
=======
    struct memblock mem_out_17144;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    mem_out_20349.references = NULL;
||||||| parent of d23c9a2 (ispc)
    mem_out_20330.references = NULL;
=======
    mem_out_17144.references = NULL;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    struct memblock_device coefficientss_mem_19948;
||||||| parent of d23c9a2 (ispc)
    struct memblock_device coefficientss_mem_19929;
=======
    struct memblock coefficientss_mem_17009;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    coefficientss_mem_19948.references = NULL;
||||||| parent of d23c9a2 (ispc)
    coefficientss_mem_19929.references = NULL;
=======
    coefficientss_mem_17009.references = NULL;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    struct memblock_device expsss_mem_19947;
||||||| parent of d23c9a2 (ispc)
    struct memblock_device expsss_mem_19928;
=======
    struct memblock expsss_mem_17008;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    expsss_mem_19947.references = NULL;
||||||| parent of d23c9a2 (ispc)
    expsss_mem_19928.references = NULL;
=======
    expsss_mem_17008.references = NULL;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    struct memblock_device eps_mem_19946;
||||||| parent of d23c9a2 (ispc)
    struct memblock_device eps_mem_19927;
=======
    struct memblock eps_mem_17007;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    eps_mem_19946.references = NULL;
||||||| parent of d23c9a2 (ispc)
    eps_mem_19927.references = NULL;
=======
    eps_mem_17007.references = NULL;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    struct memblock_device zzinvs_mem_19945;
||||||| parent of d23c9a2 (ispc)
    struct memblock_device zzinvs_mem_19926;
=======
    struct memblock zzinvs_mem_17006;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    zzinvs_mem_19945.references = NULL;
    zzinvs_mem_19945 = in0->mem;
    n_12351 = in0->shape[0];
    eps_mem_19946 = in1->mem;
    n_12351 = in1->shape[0];
    m_12352 = in1->shape[1];
    expsss_mem_19947 = in2->mem;
    p_12353 = in2->shape[0];
    q_12354 = in2->shape[1];
    m_12352 = in2->shape[2];
    coefficientss_mem_19948 = in3->mem;
    p_12353 = in3->shape[0];
    q_12354 = in3->shape[1];
    if (!((n_12351 == in0->shape[0] && (int64_t) 3 == in0->shape[1]) && ((n_12351 == in1->shape[0] && (m_12352 == in1->shape[1] && (int64_t) 3 == in1->shape[2])) && ((p_12353 == in2->shape[0] && (q_12354 == in2->shape[1] && m_12352 == in2->shape[2])) && (p_12353 == in3->shape[0] && (q_12354 == in3->shape[1] && (int64_t) 3 == in3->shape[2])))))) {
||||||| parent of d23c9a2 (ispc)
    zzinvs_mem_19926.references = NULL;
    zzinvs_mem_19926 = in0->mem;
    n_12333 = in0->shape[0];
    eps_mem_19927 = in1->mem;
    n_12333 = in1->shape[0];
    m_12334 = in1->shape[1];
    expsss_mem_19928 = in2->mem;
    m_12334 = in2->shape[0];
    p_12335 = in2->shape[1];
    m_12334 = in2->shape[2];
    coefficientss_mem_19929 = in3->mem;
    m_12334 = in3->shape[0];
    p_12335 = in3->shape[1];
    if (!((n_12333 == in0->shape[0] && (int64_t) 3 == in0->shape[1]) && ((n_12333 == in1->shape[0] && (m_12334 == in1->shape[1] && (int64_t) 3 == in1->shape[2])) && ((m_12334 == in2->shape[0] && (p_12335 == in2->shape[1] && m_12334 == in2->shape[2])) && (m_12334 == in3->shape[0] && (p_12335 == in3->shape[1] && (int64_t) 3 == in3->shape[2])))))) {
=======
    zzinvs_mem_17006.references = NULL;
    zzinvs_mem_17006 = in0->mem;
    n_12333 = in0->shape[0];
    eps_mem_17007 = in1->mem;
    n_12333 = in1->shape[0];
    m_12334 = in1->shape[1];
    expsss_mem_17008 = in2->mem;
    m_12334 = in2->shape[0];
    p_12335 = in2->shape[1];
    m_12334 = in2->shape[2];
    coefficientss_mem_17009 = in3->mem;
    m_12334 = in3->shape[0];
    p_12335 = in3->shape[1];
    if (!((n_12333 == in0->shape[0] && (int64_t) 3 == in0->shape[1]) && ((n_12333 == in1->shape[0] && (m_12334 == in1->shape[1] && (int64_t) 3 == in1->shape[2])) && ((m_12334 == in2->shape[0] && (p_12335 == in2->shape[1] && m_12334 == in2->shape[2])) && (m_12334 == in3->shape[0] && (p_12335 == in3->shape[1] && (int64_t) 3 == in3->shape[2])))))) {
>>>>>>> d23c9a2 (ispc)
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
<<<<<<< HEAD
        ret = futrts_entry_make_transposed_quotient_codewords_non_opaque(ctx, &mem_out_20349, zzinvs_mem_19945, eps_mem_19946, expsss_mem_19947, coefficientss_mem_19948, n_12351, m_12352, p_12353, q_12354);
||||||| parent of d23c9a2 (ispc)
        ret = futrts_entry_make_transposed_quotient_codewords_non_opaque(ctx, &mem_out_20330, zzinvs_mem_19926, eps_mem_19927, expsss_mem_19928, coefficientss_mem_19929, n_12333, m_12334, p_12335);
=======
        ret = futrts_entry_make_transposed_quotient_codewords_non_opaque(ctx, &mem_out_17144, zzinvs_mem_17006, eps_mem_17007, expsss_mem_17008, coefficientss_mem_17009, n_12333, m_12334, p_12335);
>>>>>>> d23c9a2 (ispc)
        if (ret == 0) {
            assert((*out0 = (struct futhark_u64_3d *) malloc(sizeof(struct futhark_u64_3d))) != NULL);
<<<<<<< HEAD
            (*out0)->mem = mem_out_20349;
            (*out0)->shape[0] = n_12351;
            (*out0)->shape[1] = p_12353;
||||||| parent of d23c9a2 (ispc)
            (*out0)->mem = mem_out_20330;
            (*out0)->shape[0] = n_12333;
            (*out0)->shape[1] = m_12334;
=======
            (*out0)->mem = mem_out_17144;
            (*out0)->shape[0] = n_12333;
            (*out0)->shape[1] = m_12334;
>>>>>>> d23c9a2 (ispc)
            (*out0)->shape[2] = (int64_t) 3;
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
int futhark_entry_matmul(struct futhark_context *ctx, struct futhark_i32_2d **out0, const struct futhark_i32_2d *in0, const struct futhark_i32_2d *in1)
{
    int64_t nz2080U_9828;
    int64_t pz2081U_9829;
    int64_t mz2082U_9830;
    int ret = 0;
    
    lock_lock(&ctx->lock);
    worker_local = &ctx->scheduler.workers[0];
    
<<<<<<< HEAD
    struct memblock_device mem_out_20349;
||||||| parent of d23c9a2 (ispc)
    struct memblock_device mem_out_20330;
=======
    struct memblock mem_out_17144;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    mem_out_20349.references = NULL;
||||||| parent of d23c9a2 (ispc)
    mem_out_20330.references = NULL;
=======
    mem_out_17144.references = NULL;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    struct memblock_device yss_mem_19946;
||||||| parent of d23c9a2 (ispc)
    struct memblock_device yss_mem_19927;
=======
    struct memblock yss_mem_17007;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    yss_mem_19946.references = NULL;
||||||| parent of d23c9a2 (ispc)
    yss_mem_19927.references = NULL;
=======
    yss_mem_17007.references = NULL;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    struct memblock_device xss_mem_19945;
||||||| parent of d23c9a2 (ispc)
    struct memblock_device xss_mem_19926;
=======
    struct memblock xss_mem_17006;
>>>>>>> d23c9a2 (ispc)
    
<<<<<<< HEAD
    xss_mem_19945.references = NULL;
    xss_mem_19945 = in0->mem;
    nz2080U_9828 = in0->shape[0];
    pz2081U_9829 = in0->shape[1];
    yss_mem_19946 = in1->mem;
    pz2081U_9829 = in1->shape[0];
    mz2082U_9830 = in1->shape[1];
    if (!((nz2080U_9828 == in0->shape[0] && pz2081U_9829 == in0->shape[1]) && (pz2081U_9829 == in1->shape[0] && mz2082U_9830 == in1->shape[1]))) {
||||||| parent of d23c9a2 (ispc)
    xss_mem_19926.references = NULL;
    xss_mem_19926 = in0->mem;
    nz2080U_9823 = in0->shape[0];
    pz2081U_9824 = in0->shape[1];
    yss_mem_19927 = in1->mem;
    pz2081U_9824 = in1->shape[0];
    mz2082U_9825 = in1->shape[1];
    if (!((nz2080U_9823 == in0->shape[0] && pz2081U_9824 == in0->shape[1]) && (pz2081U_9824 == in1->shape[0] && mz2082U_9825 == in1->shape[1]))) {
=======
    xss_mem_17006.references = NULL;
    xss_mem_17006 = in0->mem;
    nz2080U_9823 = in0->shape[0];
    pz2081U_9824 = in0->shape[1];
    yss_mem_17007 = in1->mem;
    pz2081U_9824 = in1->shape[0];
    mz2082U_9825 = in1->shape[1];
    if (!((nz2080U_9823 == in0->shape[0] && pz2081U_9824 == in0->shape[1]) && (pz2081U_9824 == in1->shape[0] && mz2082U_9825 == in1->shape[1]))) {
>>>>>>> d23c9a2 (ispc)
        ret = 1;
        set_error(ctx, msgprintf("Error: entry point arguments have invalid sizes.\n"));
    }
    if (ret == 0) {
<<<<<<< HEAD
        ret = futrts_entry_matmul(ctx, &mem_out_20349, xss_mem_19945, yss_mem_19946, nz2080U_9828, pz2081U_9829, mz2082U_9830);
||||||| parent of d23c9a2 (ispc)
        ret = futrts_entry_matmul(ctx, &mem_out_20330, xss_mem_19926, yss_mem_19927, nz2080U_9823, pz2081U_9824, mz2082U_9825);
=======
        ret = futrts_entry_matmul(ctx, &mem_out_17144, xss_mem_17006, yss_mem_17007, nz2080U_9823, pz2081U_9824, mz2082U_9825);
>>>>>>> d23c9a2 (ispc)
        if (ret == 0) {
            assert((*out0 = (struct futhark_i32_2d *) malloc(sizeof(struct futhark_i32_2d))) != NULL);
<<<<<<< HEAD
            (*out0)->mem = mem_out_20349;
            (*out0)->shape[0] = nz2080U_9828;
            (*out0)->shape[1] = mz2082U_9830;
||||||| parent of d23c9a2 (ispc)
            (*out0)->mem = mem_out_20330;
            (*out0)->shape[0] = nz2080U_9823;
            (*out0)->shape[1] = mz2082U_9825;
=======
            (*out0)->mem = mem_out_17144;
            (*out0)->shape[0] = nz2080U_9823;
            (*out0)->shape[1] = mz2082U_9825;
>>>>>>> d23c9a2 (ispc)
        }
    }
    lock_unlock(&ctx->lock);
    return ret;
}
  
